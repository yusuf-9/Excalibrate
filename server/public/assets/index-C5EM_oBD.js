var $E=Object.defineProperty;var KE=(e,t,n)=>t in e?$E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ps=(e,t,n)=>(KE(e,typeof t!="symbol"?t+"":t,n),n);var yl=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function a3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s3={exports:{}},V0={},l3={exports:{}},Rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),GE=Symbol.for("react.portal"),YE=Symbol.for("react.fragment"),XE=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),JE=Symbol.for("react.provider"),QE=Symbol.for("react.context"),e8=Symbol.for("react.forward_ref"),t8=Symbol.for("react.suspense"),n8=Symbol.for("react.memo"),r8=Symbol.for("react.lazy"),jb=Symbol.iterator;function o8(e){return e===null||typeof e!="object"?null:(e=jb&&e[jb]||e["@@iterator"],typeof e=="function"?e:null)}var c3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u3=Object.assign,d3={};function cu(e,t,n){this.props=e,this.context=t,this.refs=d3,this.updater=n||c3}cu.prototype.isReactComponent={};cu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f3(){}f3.prototype=cu.prototype;function Sv(e,t,n){this.props=e,this.context=t,this.refs=d3,this.updater=n||c3}var Ev=Sv.prototype=new f3;Ev.constructor=Sv;u3(Ev,cu.prototype);Ev.isPureReactComponent=!0;var Mb=Array.isArray,h3=Object.prototype.hasOwnProperty,_v={current:null},p3={key:!0,ref:!0,__self:!0,__source:!0};function m3(e,t,n){var r,i={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)h3.call(t,r)&&!p3.hasOwnProperty(r)&&(i[r]=t[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var w=Array(g),K=0;K<g;K++)w[K]=arguments[K+2];i.children=w}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:qd,type:e,key:a,ref:c,props:i,_owner:_v.current}}function i8(e,t){return{$$typeof:qd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cv(e){return typeof e=="object"&&e!==null&&e.$$typeof===qd}function a8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ib=/\/+/g;function Em(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a8(""+e.key):t.toString(36)}function _h(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case qd:case GE:c=!0}}if(c)return c=e,i=i(c),e=r===""?"."+Em(c,0):r,Mb(i)?(n="",e!=null&&(n=e.replace(Ib,"$&/")+"/"),_h(i,t,n,"",function(K){return K})):i!=null&&(Cv(i)&&(i=i8(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Ib,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=r===""?".":r+":",Mb(e))for(var g=0;g<e.length;g++){a=e[g];var w=r+Em(a,g);c+=_h(a,t,n,w,i)}else if(w=o8(e),typeof w=="function")for(e=w.call(e),g=0;!(a=e.next()).done;)a=a.value,w=r+Em(a,g++),c+=_h(a,t,n,w,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Kf(e,t,n){if(e==null)return e;var r=[],i=0;return _h(e,r,"","",function(a){return t.call(n,a,i++)}),r}function s8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _i={current:null},Ch={transition:null},l8={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:_v};Rr.Children={map:Kf,forEach:function(e,t,n){Kf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kf(e,function(){t++}),t},toArray:function(e){return Kf(e,function(t){return t})||[]},only:function(e){if(!Cv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rr.Component=cu;Rr.Fragment=YE;Rr.Profiler=qE;Rr.PureComponent=Sv;Rr.StrictMode=XE;Rr.Suspense=t8;Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l8;Rr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=u3({},e.props),i=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=_v.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(w in t)h3.call(t,w)&&!p3.hasOwnProperty(w)&&(r[w]=t[w]===void 0&&g!==void 0?g[w]:t[w])}var w=arguments.length-2;if(w===1)r.children=n;else if(1<w){g=Array(w);for(var K=0;K<w;K++)g[K]=arguments[K+2];r.children=g}return{$$typeof:qd,type:e.type,key:i,ref:a,props:r,_owner:c}};Rr.createContext=function(e){return e={$$typeof:QE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JE,_context:e},e.Consumer=e};Rr.createElement=m3;Rr.createFactory=function(e){var t=m3.bind(null,e);return t.type=e,t};Rr.createRef=function(){return{current:null}};Rr.forwardRef=function(e){return{$$typeof:e8,render:e}};Rr.isValidElement=Cv;Rr.lazy=function(e){return{$$typeof:r8,_payload:{_status:-1,_result:e},_init:s8}};Rr.memo=function(e,t){return{$$typeof:n8,type:e,compare:t===void 0?null:t}};Rr.startTransition=function(e){var t=Ch.transition;Ch.transition={};try{e()}finally{Ch.transition=t}};Rr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Rr.useCallback=function(e,t){return _i.current.useCallback(e,t)};Rr.useContext=function(e){return _i.current.useContext(e)};Rr.useDebugValue=function(){};Rr.useDeferredValue=function(e){return _i.current.useDeferredValue(e)};Rr.useEffect=function(e,t){return _i.current.useEffect(e,t)};Rr.useId=function(){return _i.current.useId()};Rr.useImperativeHandle=function(e,t,n){return _i.current.useImperativeHandle(e,t,n)};Rr.useInsertionEffect=function(e,t){return _i.current.useInsertionEffect(e,t)};Rr.useLayoutEffect=function(e,t){return _i.current.useLayoutEffect(e,t)};Rr.useMemo=function(e,t){return _i.current.useMemo(e,t)};Rr.useReducer=function(e,t,n){return _i.current.useReducer(e,t,n)};Rr.useRef=function(e){return _i.current.useRef(e)};Rr.useState=function(e){return _i.current.useState(e)};Rr.useSyncExternalStore=function(e,t,n){return _i.current.useSyncExternalStore(e,t,n)};Rr.useTransition=function(){return _i.current.useTransition()};Rr.version="18.2.0";l3.exports=Rr;var Tt=l3.exports;const zr=kv(Tt),c8=a3({__proto__:null,default:zr},[Tt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u8=Tt,d8=Symbol.for("react.element"),f8=Symbol.for("react.fragment"),h8=Object.prototype.hasOwnProperty,p8=u8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m8={key:!0,ref:!0,__self:!0,__source:!0};function g3(e,t,n){var r,i={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)h8.call(t,r)&&!m8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:d8,type:e,key:a,ref:c,props:i,_owner:p8.current}}V0.Fragment=f8;V0.jsx=g3;V0.jsxs=g3;s3.exports=V0;var xn=s3.exports,Pg={},v3={exports:{}},Ji={},y3={exports:{}},b3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(le,N){var oe=le.length;le.push(N);e:for(;0<oe;){var O=oe-1>>>1,I=le[O];if(0<i(I,N))le[O]=N,le[oe]=I,oe=O;else break e}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var N=le[0],oe=le.pop();if(oe!==N){le[0]=oe;e:for(var O=0,I=le.length,A=I>>>1;O<A;){var C=2*(O+1)-1,U=le[C],y=C+1,T=le[y];if(0>i(U,oe))y<I&&0>i(T,U)?(le[O]=T,le[y]=oe,O=y):(le[O]=U,le[C]=oe,O=C);else if(y<I&&0>i(T,oe))le[O]=T,le[y]=oe,O=y;else break e}}return N}function i(le,N){var oe=le.sortIndex-N.sortIndex;return oe!==0?oe:le.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,g=c.now();e.unstable_now=function(){return c.now()-g}}var w=[],K=[],se=1,fe=null,Re=3,Q=!1,z=!1,o=!1,M=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(le){for(var N=n(K);N!==null;){if(N.callback===null)r(K);else if(N.startTime<=le)r(K),N.sortIndex=N.expirationTime,t(w,N);else break;N=n(K)}}function E(le){if(o=!1,u(le),!z)if(n(w)!==null)z=!0,ve(R);else{var N=n(K);N!==null&&me(E,N.startTime-le)}}function R(le,N){z=!1,o&&(o=!1,p(L),L=-1),Q=!0;var oe=Re;try{for(u(N),fe=n(w);fe!==null&&(!(fe.expirationTime>N)||le&&!ee());){var O=fe.callback;if(typeof O=="function"){fe.callback=null,Re=fe.priorityLevel;var I=O(fe.expirationTime<=N);N=e.unstable_now(),typeof I=="function"?fe.callback=I:fe===n(w)&&r(w),u(N)}else r(w);fe=n(w)}if(fe!==null)var A=!0;else{var C=n(K);C!==null&&me(E,C.startTime-N),A=!1}return A}finally{fe=null,Re=oe,Q=!1}}var k=!1,d=null,L=-1,W=5,Y=-1;function ee(){return!(e.unstable_now()-Y<W)}function S(){if(d!==null){var le=e.unstable_now();Y=le;var N=!0;try{N=d(!0,le)}finally{N?B():(k=!1,d=null)}}else k=!1}var B;if(typeof f=="function")B=function(){f(S)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ge=he.port2;he.port1.onmessage=S,B=function(){ge.postMessage(null)}}else B=function(){M(S,0)};function ve(le){d=le,k||(k=!0,B())}function me(le,N){L=M(function(){le(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){z||Q||(z=!0,ve(R))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return Re},e.unstable_getFirstCallbackNode=function(){return n(w)},e.unstable_next=function(le){switch(Re){case 1:case 2:case 3:var N=3;break;default:N=Re}var oe=Re;Re=N;try{return le()}finally{Re=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,N){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var oe=Re;Re=le;try{return N()}finally{Re=oe}},e.unstable_scheduleCallback=function(le,N,oe){var O=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,le){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=oe+I,le={id:se++,callback:N,priorityLevel:le,startTime:oe,expirationTime:I,sortIndex:-1},oe>O?(le.sortIndex=oe,t(K,le),n(w)===null&&le===n(K)&&(o?(p(L),L=-1):o=!0,me(E,oe-O))):(le.sortIndex=I,t(w,le),z||Q||(z=!0,ve(R))),le},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(le){var N=Re;return function(){var oe=Re;Re=N;try{return le.apply(this,arguments)}finally{Re=oe}}}})(b3);y3.exports=b3;var g8=y3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3=Tt,Xi=g8;function Tn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w3=new Set,wd={};function Kl(e,t){Yc(e,t),Yc(e+"Capture",t)}function Yc(e,t){for(wd[e]=t,e=0;e<t.length;e++)w3.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jg=Object.prototype.hasOwnProperty,v8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rb={},Ab={};function y8(e){return jg.call(Ab,e)?!0:jg.call(Rb,e)?!1:v8.test(e)?Ab[e]=!0:(Rb[e]=!0,!1)}function b8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x8(e,t,n,r){if(t===null||typeof t>"u"||b8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ci(e,t,n,r,i,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ci[e]=new Ci(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ci[t]=new Ci(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ci[e]=new Ci(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ci[e]=new Ci(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ci[e]=new Ci(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ci[e]=new Ci(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ci[e]=new Ci(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ci[e]=new Ci(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ci[e]=new Ci(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function Ov(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tv,Ov);ci[t]=new Ci(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tv,Ov);ci[t]=new Ci(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tv,Ov);ci[t]=new Ci(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ci[e]=new Ci(e,1,!1,e.toLowerCase(),null,!1,!1)});ci.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ci[e]=new Ci(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pv(e,t,n,r){var i=ci.hasOwnProperty(t)?ci[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x8(t,n,i,r)&&(n=null),r||i===null?y8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vs=x3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),Ec=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),k3=Symbol.for("react.provider"),S3=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),Iv=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),E3=Symbol.for("react.offscreen"),Db=Symbol.iterator;function Pu(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var To=Object.assign,_m;function Gu(e){if(_m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_m=t&&t[1]||""}return`
`+_m+e}var Cm=!1;function Tm(e,t){if(!e||Cm)return"";Cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(K){var r=K}Reflect.construct(e,[],t)}else{try{t.call()}catch(K){r=K}e.call(t.prototype)}else{try{throw Error()}catch(K){r=K}e()}}catch(K){if(K&&r&&typeof K.stack=="string"){for(var i=K.stack.split(`
`),a=r.stack.split(`
`),c=i.length-1,g=a.length-1;1<=c&&0<=g&&i[c]!==a[g];)g--;for(;1<=c&&0<=g;c--,g--)if(i[c]!==a[g]){if(c!==1||g!==1)do if(c--,g--,0>g||i[c]!==a[g]){var w=`
`+i[c].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=c&&0<=g);break}}}finally{Cm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gu(e):""}function w8(e){switch(e.tag){case 5:return Gu(e.type);case 16:return Gu("Lazy");case 13:return Gu("Suspense");case 19:return Gu("SuspenseList");case 0:case 2:case 15:return e=Tm(e.type,!1),e;case 11:return e=Tm(e.type.render,!1),e;case 1:return e=Tm(e.type,!0),e;default:return""}}function Ag(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _c:return"Fragment";case Ec:return"Portal";case Mg:return"Profiler";case jv:return"StrictMode";case Ig:return"Suspense";case Rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S3:return(e.displayName||"Context")+".Consumer";case k3:return(e._context.displayName||"Context")+".Provider";case Mv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iv:return t=e.displayName||null,t!==null?t:Ag(e.type)||"Memo";case Ds:t=e._payload,e=e._init;try{return Ag(e(t))}catch{}}return null}function k8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(t);case 8:return t===jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S8(e){var t=_3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yf(e){e._valueTracker||(e._valueTracker=S8(e))}function C3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dg(e,t){var n=t.checked;return To({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T3(e,t){t=t.checked,t!=null&&Pv(e,"checked",t,!1)}function Lg(e,t){T3(e,t);var n=Qs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ng(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ng(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ng(e,t,n){(t!=="number"||Qh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yu=Array.isArray;function Fc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Tn(91));return To({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Tn(92));if(Yu(n)){if(1<n.length)throw Error(Tn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function O3(e,t){var n=Qs(t.value),r=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xf,j3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xf=Xf||document.createElement("div"),Xf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E8=["Webkit","ms","Moz","O"];Object.keys(nd).forEach(function(e){E8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nd[t]=nd[e]})});function M3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nd.hasOwnProperty(e)&&nd[e]?(""+t).trim():t+"px"}function I3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _8=To({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(e,t){if(t){if(_8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Tn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Tn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Tn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Tn(62))}}function Fg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=null;function Rv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vg=null,Uc=null,Vc=null;function Zb(e){if(e=ef(e)){if(typeof Vg!="function")throw Error(Tn(280));var t=e.stateNode;t&&(t=G0(t),Vg(e.stateNode,e.type,t))}}function R3(e){Uc?Vc?Vc.push(e):Vc=[e]:Uc=e}function A3(){if(Uc){var e=Uc,t=Vc;if(Vc=Uc=null,Zb(e),t)for(e=0;e<t.length;e++)Zb(t[e])}}function D3(e,t){return e(t)}function L3(){}var Om=!1;function N3(e,t,n){if(Om)return e(t,n);Om=!0;try{return D3(e,t,n)}finally{Om=!1,(Uc!==null||Vc!==null)&&(L3(),A3())}}function Sd(e,t){var n=e.stateNode;if(n===null)return null;var r=G0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Tn(231,t,typeof n));return n}var Wg=!1;if(hs)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{Wg=!1}function C8(e,t,n,r,i,a,c,g,w){var K=Array.prototype.slice.call(arguments,3);try{t.apply(n,K)}catch(se){this.onError(se)}}var rd=!1,e0=null,t0=!1,Hg=null,T8={onError:function(e){rd=!0,e0=e}};function O8(e,t,n,r,i,a,c,g,w){rd=!1,e0=null,C8.apply(T8,arguments)}function P8(e,t,n,r,i,a,c,g,w){if(O8.apply(this,arguments),rd){if(rd){var K=e0;rd=!1,e0=null}else throw Error(Tn(198));t0||(t0=!0,Hg=K)}}function Gl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fb(e){if(Gl(e)!==e)throw Error(Tn(188))}function j8(e){var t=e.alternate;if(!t){if(t=Gl(e),t===null)throw Error(Tn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Fb(i),e;if(a===r)return Fb(i),t;a=a.sibling}throw Error(Tn(188))}if(n.return!==r.return)n=i,r=a;else{for(var c=!1,g=i.child;g;){if(g===n){c=!0,n=i,r=a;break}if(g===r){c=!0,r=i,n=a;break}g=g.sibling}if(!c){for(g=a.child;g;){if(g===n){c=!0,n=a,r=i;break}if(g===r){c=!0,r=a,n=i;break}g=g.sibling}if(!c)throw Error(Tn(189))}}if(n.alternate!==r)throw Error(Tn(190))}if(n.tag!==3)throw Error(Tn(188));return n.stateNode.current===n?e:t}function B3(e){return e=j8(e),e!==null?Z3(e):null}function Z3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Z3(e);if(t!==null)return t;e=e.sibling}return null}var F3=Xi.unstable_scheduleCallback,Ub=Xi.unstable_cancelCallback,M8=Xi.unstable_shouldYield,I8=Xi.unstable_requestPaint,Do=Xi.unstable_now,R8=Xi.unstable_getCurrentPriorityLevel,Av=Xi.unstable_ImmediatePriority,U3=Xi.unstable_UserBlockingPriority,n0=Xi.unstable_NormalPriority,A8=Xi.unstable_LowPriority,V3=Xi.unstable_IdlePriority,W0=null,Va=null;function D8(e){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var Oa=Math.clz32?Math.clz32:z8,L8=Math.log,N8=Math.LN2;function z8(e){return e>>>=0,e===0?32:31-(L8(e)/N8|0)|0}var qf=64,Jf=4194304;function Xu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function r0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var g=c&~i;g!==0?r=Xu(g):(a&=c,a!==0&&(r=Xu(a)))}else c=n&~i,c!==0?r=Xu(c):a!==0&&(r=Xu(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Oa(t),i=1<<n,r|=e[n],t&=~i;return r}function B8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Oa(a),g=1<<c,w=i[c];w===-1?(!(g&n)||g&r)&&(i[c]=B8(g,t)):w<=t&&(e.expiredLanes|=g),a&=~g}}function $g(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W3(){var e=qf;return qf<<=1,!(qf&4194240)&&(qf=64),e}function Pm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oa(t),e[t]=n}function F8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Oa(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Dv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Qr=0;function H3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $3,Lv,K3,G3,Y3,Kg=!1,Qf=[],Ws=null,Hs=null,$s=null,Ed=new Map,_d=new Map,Bs=[],U8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vb(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Ed.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(t.pointerId)}}function Mu(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ef(t),t!==null&&Lv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function V8(e,t,n,r,i){switch(t){case"focusin":return Ws=Mu(Ws,e,t,n,r,i),!0;case"dragenter":return Hs=Mu(Hs,e,t,n,r,i),!0;case"mouseover":return $s=Mu($s,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ed.set(a,Mu(Ed.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_d.set(a,Mu(_d.get(a)||null,e,t,n,r,i)),!0}return!1}function X3(e){var t=Ol(e.target);if(t!==null){var n=Gl(t);if(n!==null){if(t=n.tag,t===13){if(t=z3(n),t!==null){e.blockedOn=t,Y3(e.priority,function(){K3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Th(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ug=r,n.target.dispatchEvent(r),Ug=null}else return t=ef(n),t!==null&&Lv(t),e.blockedOn=n,!1;t.shift()}return!0}function Wb(e,t,n){Th(e)&&n.delete(t)}function W8(){Kg=!1,Ws!==null&&Th(Ws)&&(Ws=null),Hs!==null&&Th(Hs)&&(Hs=null),$s!==null&&Th($s)&&($s=null),Ed.forEach(Wb),_d.forEach(Wb)}function Iu(e,t){e.blockedOn===t&&(e.blockedOn=null,Kg||(Kg=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,W8)))}function Cd(e){function t(i){return Iu(i,e)}if(0<Qf.length){Iu(Qf[0],e);for(var n=1;n<Qf.length;n++){var r=Qf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ws!==null&&Iu(Ws,e),Hs!==null&&Iu(Hs,e),$s!==null&&Iu($s,e),Ed.forEach(t),_d.forEach(t),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)X3(n),n.blockedOn===null&&Bs.shift()}var Wc=vs.ReactCurrentBatchConfig,o0=!0;function H8(e,t,n,r){var i=Qr,a=Wc.transition;Wc.transition=null;try{Qr=1,Nv(e,t,n,r)}finally{Qr=i,Wc.transition=a}}function $8(e,t,n,r){var i=Qr,a=Wc.transition;Wc.transition=null;try{Qr=4,Nv(e,t,n,r)}finally{Qr=i,Wc.transition=a}}function Nv(e,t,n,r){if(o0){var i=Gg(e,t,n,r);if(i===null)Bm(e,t,r,i0,n),Vb(e,r);else if(V8(i,e,t,n,r))r.stopPropagation();else if(Vb(e,r),t&4&&-1<U8.indexOf(e)){for(;i!==null;){var a=ef(i);if(a!==null&&$3(a),a=Gg(e,t,n,r),a===null&&Bm(e,t,r,i0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bm(e,t,r,null,n)}}var i0=null;function Gg(e,t,n,r){if(i0=null,e=Rv(r),e=Ol(e),e!==null)if(t=Gl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=z3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return i0=e,null}function q3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R8()){case Av:return 1;case U3:return 4;case n0:case A8:return 16;case V3:return 536870912;default:return 16}default:return 16}}var Fs=null,zv=null,Oh=null;function J3(){if(Oh)return Oh;var e,t=zv,n=t.length,r,i="value"in Fs?Fs.value:Fs.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===i[a-r];r++);return Oh=i.slice(e,1<r?1-r:void 0)}function Ph(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eh(){return!0}function Hb(){return!1}function Qi(e){function t(n,r,i,a,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?eh:Hb,this.isPropagationStopped=Hb,this}return To(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),t}var uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=Qi(uu),Qd=To({},uu,{view:0,detail:0}),K8=Qi(Qd),jm,Mm,Ru,H0=To({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ru&&(Ru&&e.type==="mousemove"?(jm=e.screenX-Ru.screenX,Mm=e.screenY-Ru.screenY):Mm=jm=0,Ru=e),jm)},movementY:function(e){return"movementY"in e?e.movementY:Mm}}),$b=Qi(H0),G8=To({},H0,{dataTransfer:0}),Y8=Qi(G8),X8=To({},Qd,{relatedTarget:0}),Im=Qi(X8),q8=To({},uu,{animationName:0,elapsedTime:0,pseudoElement:0}),J8=Qi(q8),Q8=To({},uu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e_=Qi(Q8),t_=To({},uu,{data:0}),Kb=Qi(t_),n_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o_[e])?!!t[e]:!1}function Zv(){return i_}var a_=To({},Qd,{key:function(e){if(e.key){var t=n_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ph(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(e){return e.type==="keypress"?Ph(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ph(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s_=Qi(a_),l_=To({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gb=Qi(l_),c_=To({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),u_=Qi(c_),d_=To({},uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=Qi(d_),h_=To({},H0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p_=Qi(h_),m_=[9,13,27,32],Fv=hs&&"CompositionEvent"in window,od=null;hs&&"documentMode"in document&&(od=document.documentMode);var g_=hs&&"TextEvent"in window&&!od,Q3=hs&&(!Fv||od&&8<od&&11>=od),Yb=" ",Xb=!1;function e5(e,t){switch(e){case"keyup":return m_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cc=!1;function v_(e,t){switch(e){case"compositionend":return t5(t);case"keypress":return t.which!==32?null:(Xb=!0,Yb);case"textInput":return e=t.data,e===Yb&&Xb?null:e;default:return null}}function y_(e,t){if(Cc)return e==="compositionend"||!Fv&&e5(e,t)?(e=J3(),Oh=zv=Fs=null,Cc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q3&&t.locale!=="ko"?null:t.data;default:return null}}var b_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b_[e.type]:t==="textarea"}function n5(e,t,n,r){R3(r),t=a0(t,"onChange"),0<t.length&&(n=new Bv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var id=null,Td=null;function x_(e){h5(e,0)}function $0(e){var t=Pc(e);if(C3(t))return e}function w_(e,t){if(e==="change")return t}var r5=!1;if(hs){var Rm;if(hs){var Am="oninput"in document;if(!Am){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),Am=typeof Jb.oninput=="function"}Rm=Am}else Rm=!1;r5=Rm&&(!document.documentMode||9<document.documentMode)}function Qb(){id&&(id.detachEvent("onpropertychange",o5),Td=id=null)}function o5(e){if(e.propertyName==="value"&&$0(Td)){var t=[];n5(t,Td,e,Rv(e)),N3(x_,t)}}function k_(e,t,n){e==="focusin"?(Qb(),id=t,Td=n,id.attachEvent("onpropertychange",o5)):e==="focusout"&&Qb()}function S_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $0(Td)}function E_(e,t){if(e==="click")return $0(t)}function __(e,t){if(e==="input"||e==="change")return $0(t)}function C_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:C_;function Od(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jg.call(t,i)||!ja(e[i],t[i]))return!1}return!0}function e2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t2(e,t){var n=e2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e2(n)}}function i5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a5(){for(var e=window,t=Qh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qh(e.document)}return t}function Uv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T_(e){var t=a5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i5(n.ownerDocument.documentElement,n)){if(r!==null&&Uv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=t2(n,a);var c=t2(n,r);i&&c&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O_=hs&&"documentMode"in document&&11>=document.documentMode,Tc=null,Yg=null,ad=null,Xg=!1;function n2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xg||Tc==null||Tc!==Qh(r)||(r=Tc,"selectionStart"in r&&Uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ad&&Od(ad,r)||(ad=r,r=a0(Yg,"onSelect"),0<r.length&&(t=new Bv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tc)))}function th(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oc={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},Dm={},s5={};hs&&(s5=document.createElement("div").style,"AnimationEvent"in window||(delete Oc.animationend.animation,delete Oc.animationiteration.animation,delete Oc.animationstart.animation),"TransitionEvent"in window||delete Oc.transitionend.transition);function K0(e){if(Dm[e])return Dm[e];if(!Oc[e])return e;var t=Oc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s5)return Dm[e]=t[n];return e}var l5=K0("animationend"),c5=K0("animationiteration"),u5=K0("animationstart"),d5=K0("transitionend"),f5=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){f5.set(e,t),Kl(t,[e])}for(var Lm=0;Lm<r2.length;Lm++){var Nm=r2[Lm],P_=Nm.toLowerCase(),j_=Nm[0].toUpperCase()+Nm.slice(1);rl(P_,"on"+j_)}rl(l5,"onAnimationEnd");rl(c5,"onAnimationIteration");rl(u5,"onAnimationStart");rl("dblclick","onDoubleClick");rl("focusin","onFocus");rl("focusout","onBlur");rl(d5,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function o2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P8(r,t,void 0,e),e.currentTarget=null}function h5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var g=r[c],w=g.instance,K=g.currentTarget;if(g=g.listener,w!==a&&i.isPropagationStopped())break e;o2(i,g,K),a=w}else for(c=0;c<r.length;c++){if(g=r[c],w=g.instance,K=g.currentTarget,g=g.listener,w!==a&&i.isPropagationStopped())break e;o2(i,g,K),a=w}}}if(t0)throw e=Hg,t0=!1,Hg=null,e}function fo(e,t){var n=t[t1];n===void 0&&(n=t[t1]=new Set);var r=e+"__bubble";n.has(r)||(p5(t,e,2,!1),n.add(r))}function zm(e,t,n){var r=0;t&&(r|=4),p5(n,e,r,t)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[nh]){e[nh]=!0,w3.forEach(function(n){n!=="selectionchange"&&(M_.has(n)||zm(n,!1,e),zm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nh]||(t[nh]=!0,zm("selectionchange",!1,t))}}function p5(e,t,n,r){switch(q3(t)){case 1:var i=H8;break;case 4:i=$8;break;default:i=Nv}n=i.bind(null,t,n,e),i=void 0,!Wg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bm(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var w=c.tag;if((w===3||w===4)&&(w=c.stateNode.containerInfo,w===i||w.nodeType===8&&w.parentNode===i))return;c=c.return}for(;g!==null;){if(c=Ol(g),c===null)return;if(w=c.tag,w===5||w===6){r=a=c;continue e}g=g.parentNode}}r=r.return}N3(function(){var K=a,se=Rv(n),fe=[];e:{var Re=f5.get(e);if(Re!==void 0){var Q=Bv,z=e;switch(e){case"keypress":if(Ph(n)===0)break e;case"keydown":case"keyup":Q=s_;break;case"focusin":z="focus",Q=Im;break;case"focusout":z="blur",Q=Im;break;case"beforeblur":case"afterblur":Q=Im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Y8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=u_;break;case l5:case c5:case u5:Q=J8;break;case d5:Q=f_;break;case"scroll":Q=K8;break;case"wheel":Q=p_;break;case"copy":case"cut":case"paste":Q=e_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Gb}var o=(t&4)!==0,M=!o&&e==="scroll",p=o?Re!==null?Re+"Capture":null:Re;o=[];for(var f=K,u;f!==null;){u=f;var E=u.stateNode;if(u.tag===5&&E!==null&&(u=E,p!==null&&(E=Sd(f,p),E!=null&&o.push(jd(f,E,u)))),M)break;f=f.return}0<o.length&&(Re=new Q(Re,z,null,n,se),fe.push({event:Re,listeners:o}))}}if(!(t&7)){e:{if(Re=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",Re&&n!==Ug&&(z=n.relatedTarget||n.fromElement)&&(Ol(z)||z[ps]))break e;if((Q||Re)&&(Re=se.window===se?se:(Re=se.ownerDocument)?Re.defaultView||Re.parentWindow:window,Q?(z=n.relatedTarget||n.toElement,Q=K,z=z?Ol(z):null,z!==null&&(M=Gl(z),z!==M||z.tag!==5&&z.tag!==6)&&(z=null)):(Q=null,z=K),Q!==z)){if(o=$b,E="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(o=Gb,E="onPointerLeave",p="onPointerEnter",f="pointer"),M=Q==null?Re:Pc(Q),u=z==null?Re:Pc(z),Re=new o(E,f+"leave",Q,n,se),Re.target=M,Re.relatedTarget=u,E=null,Ol(se)===K&&(o=new o(p,f+"enter",z,n,se),o.target=u,o.relatedTarget=M,E=o),M=E,Q&&z)t:{for(o=Q,p=z,f=0,u=o;u;u=yc(u))f++;for(u=0,E=p;E;E=yc(E))u++;for(;0<f-u;)o=yc(o),f--;for(;0<u-f;)p=yc(p),u--;for(;f--;){if(o===p||p!==null&&o===p.alternate)break t;o=yc(o),p=yc(p)}o=null}else o=null;Q!==null&&i2(fe,Re,Q,o,!1),z!==null&&M!==null&&i2(fe,M,z,o,!0)}}e:{if(Re=K?Pc(K):window,Q=Re.nodeName&&Re.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Re.type==="file")var R=w_;else if(qb(Re))if(r5)R=__;else{R=S_;var k=k_}else(Q=Re.nodeName)&&Q.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(R=E_);if(R&&(R=R(e,K))){n5(fe,R,n,se);break e}k&&k(e,Re,K),e==="focusout"&&(k=Re._wrapperState)&&k.controlled&&Re.type==="number"&&Ng(Re,"number",Re.value)}switch(k=K?Pc(K):window,e){case"focusin":(qb(k)||k.contentEditable==="true")&&(Tc=k,Yg=K,ad=null);break;case"focusout":ad=Yg=Tc=null;break;case"mousedown":Xg=!0;break;case"contextmenu":case"mouseup":case"dragend":Xg=!1,n2(fe,n,se);break;case"selectionchange":if(O_)break;case"keydown":case"keyup":n2(fe,n,se)}var d;if(Fv)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Cc?e5(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Q3&&n.locale!=="ko"&&(Cc||L!=="onCompositionStart"?L==="onCompositionEnd"&&Cc&&(d=J3()):(Fs=se,zv="value"in Fs?Fs.value:Fs.textContent,Cc=!0)),k=a0(K,L),0<k.length&&(L=new Kb(L,e,null,n,se),fe.push({event:L,listeners:k}),d?L.data=d:(d=t5(n),d!==null&&(L.data=d)))),(d=g_?v_(e,n):y_(e,n))&&(K=a0(K,"onBeforeInput"),0<K.length&&(se=new Kb("onBeforeInput","beforeinput",null,n,se),fe.push({event:se,listeners:K}),se.data=d))}h5(fe,t)})}function jd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sd(e,n),a!=null&&r.unshift(jd(e,a,i)),a=Sd(e,t),a!=null&&r.push(jd(e,a,i))),e=e.return}return r}function yc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function i2(e,t,n,r,i){for(var a=t._reactName,c=[];n!==null&&n!==r;){var g=n,w=g.alternate,K=g.stateNode;if(w!==null&&w===r)break;g.tag===5&&K!==null&&(g=K,i?(w=Sd(n,a),w!=null&&c.unshift(jd(n,w,g))):i||(w=Sd(n,a),w!=null&&c.push(jd(n,w,g)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var I_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function a2(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(R_,"")}function rh(e,t,n){if(t=a2(t),a2(e)!==t&&n)throw Error(Tn(425))}function s0(){}var qg=null,Jg=null;function Qg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var e1=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,D_=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(e){return s2.resolve(null).then(e).catch(L_)}:e1;function L_(e){setTimeout(function(){throw e})}function Zm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cd(t)}function Ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var du=Math.random().toString(36).slice(2),Fa="__reactFiber$"+du,Md="__reactProps$"+du,ps="__reactContainer$"+du,t1="__reactEvents$"+du,N_="__reactListeners$"+du,z_="__reactHandles$"+du;function Ol(e){var t=e[Fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[Fa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=l2(e);e!==null;){if(n=e[Fa])return n;e=l2(e)}return t}e=n,n=e.parentNode}return null}function ef(e){return e=e[Fa]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Tn(33))}function G0(e){return e[Md]||null}var n1=[],jc=-1;function ol(e){return{current:e}}function mo(e){0>jc||(e.current=n1[jc],n1[jc]=null,jc--)}function ao(e,t){jc++,n1[jc]=e.current,e.current=t}var el={},mi=ol(el),Ai=ol(!1),Nl=el;function Xc(e,t){var n=e.type.contextTypes;if(!n)return el;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Di(e){return e=e.childContextTypes,e!=null}function l0(){mo(Ai),mo(mi)}function c2(e,t,n){if(mi.current!==el)throw Error(Tn(168));ao(mi,t),ao(Ai,n)}function m5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Tn(108,k8(e)||"Unknown",i));return To({},n,r)}function c0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||el,Nl=mi.current,ao(mi,e),ao(Ai,Ai.current),!0}function u2(e,t,n){var r=e.stateNode;if(!r)throw Error(Tn(169));n?(e=m5(e,t,Nl),r.__reactInternalMemoizedMergedChildContext=e,mo(Ai),mo(mi),ao(mi,e)):mo(Ai),ao(Ai,n)}var as=null,Y0=!1,Fm=!1;function g5(e){as===null?as=[e]:as.push(e)}function B_(e){Y0=!0,g5(e)}function il(){if(!Fm&&as!==null){Fm=!0;var e=0,t=Qr;try{var n=as;for(Qr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}as=null,Y0=!1}catch(i){throw as!==null&&(as=as.slice(e+1)),F3(Av,il),i}finally{Qr=t,Fm=!1}}return null}var Mc=[],Ic=0,u0=null,d0=0,sa=[],la=0,zl=null,ss=1,ls="";function xl(e,t){Mc[Ic++]=d0,Mc[Ic++]=u0,u0=e,d0=t}function v5(e,t,n){sa[la++]=ss,sa[la++]=ls,sa[la++]=zl,zl=e;var r=ss;e=ls;var i=32-Oa(r)-1;r&=~(1<<i),n+=1;var a=32-Oa(t)+i;if(30<a){var c=i-i%5;a=(r&(1<<c)-1).toString(32),r>>=c,i-=c,ss=1<<32-Oa(t)+i|n<<i|r,ls=a+e}else ss=1<<a|n<<i|r,ls=e}function Vv(e){e.return!==null&&(xl(e,1),v5(e,1,0))}function Wv(e){for(;e===u0;)u0=Mc[--Ic],Mc[Ic]=null,d0=Mc[--Ic],Mc[Ic]=null;for(;e===zl;)zl=sa[--la],sa[la]=null,ls=sa[--la],sa[la]=null,ss=sa[--la],sa[la]=null}var Yi=null,Gi=null,wo=!1,Ca=null;function y5(e,t){var n=da(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function d2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,Gi=Ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,Gi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zl!==null?{id:ss,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=da(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Yi=e,Gi=null,!0):!1;default:return!1}}function r1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function o1(e){if(wo){var t=Gi;if(t){var n=t;if(!d2(e,t)){if(r1(e))throw Error(Tn(418));t=Ks(n.nextSibling);var r=Yi;t&&d2(e,t)?y5(r,n):(e.flags=e.flags&-4097|2,wo=!1,Yi=e)}}else{if(r1(e))throw Error(Tn(418));e.flags=e.flags&-4097|2,wo=!1,Yi=e}}}function f2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function oh(e){if(e!==Yi)return!1;if(!wo)return f2(e),wo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qg(e.type,e.memoizedProps)),t&&(t=Gi)){if(r1(e))throw b5(),Error(Tn(418));for(;t;)y5(e,t),t=Ks(t.nextSibling)}if(f2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Tn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Gi=Ks(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Gi=null}}else Gi=Yi?Ks(e.stateNode.nextSibling):null;return!0}function b5(){for(var e=Gi;e;)e=Ks(e.nextSibling)}function qc(){Gi=Yi=null,wo=!1}function Hv(e){Ca===null?Ca=[e]:Ca.push(e)}var Z_=vs.ReactCurrentBatchConfig;function Sa(e,t){if(e&&e.defaultProps){t=To({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var f0=ol(null),h0=null,Rc=null,$v=null;function Kv(){$v=Rc=h0=null}function Gv(e){var t=f0.current;mo(f0),e._currentValue=t}function i1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hc(e,t){h0=e,$v=Rc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ri=!0),e.firstContext=null)}function pa(e){var t=e._currentValue;if($v!==e)if(e={context:e,memoizedValue:t,next:null},Rc===null){if(h0===null)throw Error(Tn(308));Rc=e,h0.dependencies={lanes:0,firstContext:e}}else Rc=Rc.next=e;return t}var Pl=null;function Yv(e){Pl===null?Pl=[e]:Pl.push(e)}function x5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yv(t)):(n.next=i.next,i.next=n),t.interleaved=n,ms(e,r)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ls=!1;function Xv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Vr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ms(e,n)}return i=r.interleaved,i===null?(t.next=t,Yv(r)):(t.next=i.next,i.next=t),r.interleaved=t,ms(e,n)}function jh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dv(e,n)}}function h2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function p0(e,t,n,r){var i=e.updateQueue;Ls=!1;var a=i.firstBaseUpdate,c=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var w=g,K=w.next;w.next=null,c===null?a=K:c.next=K,c=w;var se=e.alternate;se!==null&&(se=se.updateQueue,g=se.lastBaseUpdate,g!==c&&(g===null?se.firstBaseUpdate=K:g.next=K,se.lastBaseUpdate=w))}if(a!==null){var fe=i.baseState;c=0,se=K=w=null,g=a;do{var Re=g.lane,Q=g.eventTime;if((r&Re)===Re){se!==null&&(se=se.next={eventTime:Q,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var z=e,o=g;switch(Re=t,Q=n,o.tag){case 1:if(z=o.payload,typeof z=="function"){fe=z.call(Q,fe,Re);break e}fe=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=o.payload,Re=typeof z=="function"?z.call(Q,fe,Re):z,Re==null)break e;fe=To({},fe,Re);break e;case 2:Ls=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,Re=i.effects,Re===null?i.effects=[g]:Re.push(g))}else Q={eventTime:Q,lane:Re,tag:g.tag,payload:g.payload,callback:g.callback,next:null},se===null?(K=se=Q,w=fe):se=se.next=Q,c|=Re;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;Re=g,g=Re.next,Re.next=null,i.lastBaseUpdate=Re,i.shared.pending=null}}while(!0);if(se===null&&(w=fe),i.baseState=w,i.firstBaseUpdate=K,i.lastBaseUpdate=se,t=i.shared.interleaved,t!==null){i=t;do c|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Zl|=c,e.lanes=c,e.memoizedState=fe}}function p2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Tn(191,i));i.call(r)}}}var k5=new x3.Component().refs;function a1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:To({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X0={isMounted:function(e){return(e=e._reactInternals)?Gl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Si(),i=Xs(e),a=us(r,i);a.payload=t,n!=null&&(a.callback=n),t=Gs(e,a,i),t!==null&&(Pa(t,e,i,r),jh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Si(),i=Xs(e),a=us(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Gs(e,a,i),t!==null&&(Pa(t,e,i,r),jh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Si(),r=Xs(e),i=us(n,r);i.tag=2,t!=null&&(i.callback=t),t=Gs(e,i,r),t!==null&&(Pa(t,e,r,n),jh(t,e,r))}};function m2(e,t,n,r,i,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Od(n,r)||!Od(i,a):!0}function S5(e,t,n){var r=!1,i=el,a=t.contextType;return typeof a=="object"&&a!==null?a=pa(a):(i=Di(t)?Nl:mi.current,r=t.contextTypes,a=(r=r!=null)?Xc(e,i):el),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function g2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X0.enqueueReplaceState(t,t.state,null)}function s1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=k5,Xv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=pa(a):(a=Di(t)?Nl:mi.current,i.context=Xc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(a1(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&X0.enqueueReplaceState(i,i.state,null),p0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Au(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Tn(309));var r=n.stateNode}if(!r)throw Error(Tn(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var g=i.refs;g===k5&&(g=i.refs={}),c===null?delete g[a]:g[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(Tn(284));if(!n._owner)throw Error(Tn(290,e))}return e}function ih(e,t){throw e=Object.prototype.toString.call(t),Error(Tn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v2(e){var t=e._init;return t(e._payload)}function E5(e){function t(p,f){if(e){var u=p.deletions;u===null?(p.deletions=[f],p.flags|=16):u.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=qs(p,f),p.index=0,p.sibling=null,p}function a(p,f,u){return p.index=u,e?(u=p.alternate,u!==null?(u=u.index,u<f?(p.flags|=2,f):u):(p.flags|=2,f)):(p.flags|=1048576,f)}function c(p){return e&&p.alternate===null&&(p.flags|=2),p}function g(p,f,u,E){return f===null||f.tag!==6?(f=Gm(u,p.mode,E),f.return=p,f):(f=i(f,u),f.return=p,f)}function w(p,f,u,E){var R=u.type;return R===_c?se(p,f,u.props.children,E,u.key):f!==null&&(f.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ds&&v2(R)===f.type)?(E=i(f,u.props),E.ref=Au(p,f,u),E.return=p,E):(E=Lh(u.type,u.key,u.props,null,p.mode,E),E.ref=Au(p,f,u),E.return=p,E)}function K(p,f,u,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==u.containerInfo||f.stateNode.implementation!==u.implementation?(f=Ym(u,p.mode,E),f.return=p,f):(f=i(f,u.children||[]),f.return=p,f)}function se(p,f,u,E,R){return f===null||f.tag!==7?(f=Rl(u,p.mode,E,R),f.return=p,f):(f=i(f,u),f.return=p,f)}function fe(p,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Gm(""+f,p.mode,u),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gf:return u=Lh(f.type,f.key,f.props,null,p.mode,u),u.ref=Au(p,null,f),u.return=p,u;case Ec:return f=Ym(f,p.mode,u),f.return=p,f;case Ds:var E=f._init;return fe(p,E(f._payload),u)}if(Yu(f)||Pu(f))return f=Rl(f,p.mode,u,null),f.return=p,f;ih(p,f)}return null}function Re(p,f,u,E){var R=f!==null?f.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return R!==null?null:g(p,f,""+u,E);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Gf:return u.key===R?w(p,f,u,E):null;case Ec:return u.key===R?K(p,f,u,E):null;case Ds:return R=u._init,Re(p,f,R(u._payload),E)}if(Yu(u)||Pu(u))return R!==null?null:se(p,f,u,E,null);ih(p,u)}return null}function Q(p,f,u,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(u)||null,g(f,p,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gf:return p=p.get(E.key===null?u:E.key)||null,w(f,p,E,R);case Ec:return p=p.get(E.key===null?u:E.key)||null,K(f,p,E,R);case Ds:var k=E._init;return Q(p,f,u,k(E._payload),R)}if(Yu(E)||Pu(E))return p=p.get(u)||null,se(f,p,E,R,null);ih(f,E)}return null}function z(p,f,u,E){for(var R=null,k=null,d=f,L=f=0,W=null;d!==null&&L<u.length;L++){d.index>L?(W=d,d=null):W=d.sibling;var Y=Re(p,d,u[L],E);if(Y===null){d===null&&(d=W);break}e&&d&&Y.alternate===null&&t(p,d),f=a(Y,f,L),k===null?R=Y:k.sibling=Y,k=Y,d=W}if(L===u.length)return n(p,d),wo&&xl(p,L),R;if(d===null){for(;L<u.length;L++)d=fe(p,u[L],E),d!==null&&(f=a(d,f,L),k===null?R=d:k.sibling=d,k=d);return wo&&xl(p,L),R}for(d=r(p,d);L<u.length;L++)W=Q(d,p,L,u[L],E),W!==null&&(e&&W.alternate!==null&&d.delete(W.key===null?L:W.key),f=a(W,f,L),k===null?R=W:k.sibling=W,k=W);return e&&d.forEach(function(ee){return t(p,ee)}),wo&&xl(p,L),R}function o(p,f,u,E){var R=Pu(u);if(typeof R!="function")throw Error(Tn(150));if(u=R.call(u),u==null)throw Error(Tn(151));for(var k=R=null,d=f,L=f=0,W=null,Y=u.next();d!==null&&!Y.done;L++,Y=u.next()){d.index>L?(W=d,d=null):W=d.sibling;var ee=Re(p,d,Y.value,E);if(ee===null){d===null&&(d=W);break}e&&d&&ee.alternate===null&&t(p,d),f=a(ee,f,L),k===null?R=ee:k.sibling=ee,k=ee,d=W}if(Y.done)return n(p,d),wo&&xl(p,L),R;if(d===null){for(;!Y.done;L++,Y=u.next())Y=fe(p,Y.value,E),Y!==null&&(f=a(Y,f,L),k===null?R=Y:k.sibling=Y,k=Y);return wo&&xl(p,L),R}for(d=r(p,d);!Y.done;L++,Y=u.next())Y=Q(d,p,L,Y.value,E),Y!==null&&(e&&Y.alternate!==null&&d.delete(Y.key===null?L:Y.key),f=a(Y,f,L),k===null?R=Y:k.sibling=Y,k=Y);return e&&d.forEach(function(S){return t(p,S)}),wo&&xl(p,L),R}function M(p,f,u,E){if(typeof u=="object"&&u!==null&&u.type===_c&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case Gf:e:{for(var R=u.key,k=f;k!==null;){if(k.key===R){if(R=u.type,R===_c){if(k.tag===7){n(p,k.sibling),f=i(k,u.props.children),f.return=p,p=f;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ds&&v2(R)===k.type){n(p,k.sibling),f=i(k,u.props),f.ref=Au(p,k,u),f.return=p,p=f;break e}n(p,k);break}else t(p,k);k=k.sibling}u.type===_c?(f=Rl(u.props.children,p.mode,E,u.key),f.return=p,p=f):(E=Lh(u.type,u.key,u.props,null,p.mode,E),E.ref=Au(p,f,u),E.return=p,p=E)}return c(p);case Ec:e:{for(k=u.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===u.containerInfo&&f.stateNode.implementation===u.implementation){n(p,f.sibling),f=i(f,u.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ym(u,p.mode,E),f.return=p,p=f}return c(p);case Ds:return k=u._init,M(p,f,k(u._payload),E)}if(Yu(u))return z(p,f,u,E);if(Pu(u))return o(p,f,u,E);ih(p,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,u),f.return=p,p=f):(n(p,f),f=Gm(u,p.mode,E),f.return=p,p=f),c(p)):n(p,f)}return M}var Jc=E5(!0),_5=E5(!1),tf={},Wa=ol(tf),Id=ol(tf),Rd=ol(tf);function jl(e){if(e===tf)throw Error(Tn(174));return e}function qv(e,t){switch(ao(Rd,t),ao(Id,e),ao(Wa,tf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bg(t,e)}mo(Wa),ao(Wa,t)}function Qc(){mo(Wa),mo(Id),mo(Rd)}function C5(e){jl(Rd.current);var t=jl(Wa.current),n=Bg(t,e.type);t!==n&&(ao(Id,e),ao(Wa,n))}function Jv(e){Id.current===e&&(mo(Wa),mo(Id))}var Eo=ol(0);function m0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Um=[];function Qv(){for(var e=0;e<Um.length;e++)Um[e]._workInProgressVersionPrimary=null;Um.length=0}var Mh=vs.ReactCurrentDispatcher,Vm=vs.ReactCurrentBatchConfig,Bl=0,Co=null,$o=null,ni=null,g0=!1,sd=!1,Ad=0,F_=0;function di(){throw Error(Tn(321))}function ey(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ja(e[n],t[n]))return!1;return!0}function ty(e,t,n,r,i,a){if(Bl=a,Co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mh.current=e===null||e.memoizedState===null?H_:$_,e=n(r,i),sd){a=0;do{if(sd=!1,Ad=0,25<=a)throw Error(Tn(301));a+=1,ni=$o=null,t.updateQueue=null,Mh.current=K_,e=n(r,i)}while(sd)}if(Mh.current=v0,t=$o!==null&&$o.next!==null,Bl=0,ni=$o=Co=null,g0=!1,t)throw Error(Tn(300));return e}function ny(){var e=Ad!==0;return Ad=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?Co.memoizedState=ni=e:ni=ni.next=e,ni}function ma(){if($o===null){var e=Co.alternate;e=e!==null?e.memoizedState:null}else e=$o.next;var t=ni===null?Co.memoizedState:ni.next;if(t!==null)ni=t,$o=e;else{if(e===null)throw Error(Tn(310));$o=e,e={memoizedState:$o.memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},ni===null?Co.memoizedState=ni=e:ni=ni.next=e}return ni}function Dd(e,t){return typeof t=="function"?t(e):t}function Wm(e){var t=ma(),n=t.queue;if(n===null)throw Error(Tn(311));n.lastRenderedReducer=e;var r=$o,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var c=i.next;i.next=a.next,a.next=c}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var g=c=null,w=null,K=a;do{var se=K.lane;if((Bl&se)===se)w!==null&&(w=w.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),r=K.hasEagerState?K.eagerState:e(r,K.action);else{var fe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};w===null?(g=w=fe,c=r):w=w.next=fe,Co.lanes|=se,Zl|=se}K=K.next}while(K!==null&&K!==a);w===null?c=r:w.next=g,ja(r,t.memoizedState)||(Ri=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=w,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Co.lanes|=a,Zl|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hm(e){var t=ma(),n=t.queue;if(n===null)throw Error(Tn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do a=e(a,c.action),c=c.next;while(c!==i);ja(a,t.memoizedState)||(Ri=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function T5(){}function O5(e,t){var n=Co,r=ma(),i=t(),a=!ja(r.memoizedState,i);if(a&&(r.memoizedState=i,Ri=!0),r=r.queue,ry(M5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ni!==null&&ni.memoizedState.tag&1){if(n.flags|=2048,Ld(9,j5.bind(null,n,r,i,t),void 0,null),oi===null)throw Error(Tn(349));Bl&30||P5(n,t,i)}return i}function P5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Co.updateQueue,t===null?(t={lastEffect:null,stores:null},Co.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function j5(e,t,n,r){t.value=n,t.getSnapshot=r,I5(t)&&R5(e)}function M5(e,t,n){return n(function(){I5(t)&&R5(e)})}function I5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ja(e,n)}catch{return!0}}function R5(e){var t=ms(e,1);t!==null&&Pa(t,e,1,-1)}function y2(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:e},t.queue=e,e=e.dispatch=W_.bind(null,Co,e),[t.memoizedState,e]}function Ld(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Co.updateQueue,t===null?(t={lastEffect:null,stores:null},Co.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function A5(){return ma().memoizedState}function Ih(e,t,n,r){var i=Ba();Co.flags|=e,i.memoizedState=Ld(1|t,n,void 0,r===void 0?null:r)}function q0(e,t,n,r){var i=ma();r=r===void 0?null:r;var a=void 0;if($o!==null){var c=$o.memoizedState;if(a=c.destroy,r!==null&&ey(r,c.deps)){i.memoizedState=Ld(t,n,a,r);return}}Co.flags|=e,i.memoizedState=Ld(1|t,n,a,r)}function b2(e,t){return Ih(8390656,8,e,t)}function ry(e,t){return q0(2048,8,e,t)}function D5(e,t){return q0(4,2,e,t)}function L5(e,t){return q0(4,4,e,t)}function N5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z5(e,t,n){return n=n!=null?n.concat([e]):null,q0(4,4,N5.bind(null,t,e),n)}function oy(){}function B5(e,t){var n=ma();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ey(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Z5(e,t){var n=ma();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ey(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F5(e,t,n){return Bl&21?(ja(n,t)||(n=W3(),Co.lanes|=n,Zl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ri=!0),e.memoizedState=n)}function U_(e,t){var n=Qr;Qr=n!==0&&4>n?n:4,e(!0);var r=Vm.transition;Vm.transition={};try{e(!1),t()}finally{Qr=n,Vm.transition=r}}function U5(){return ma().memoizedState}function V_(e,t,n){var r=Xs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V5(e))W5(t,n);else if(n=x5(e,t,n,r),n!==null){var i=Si();Pa(n,e,r,i),H5(n,t,r)}}function W_(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V5(e))W5(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,g=a(c,n);if(i.hasEagerState=!0,i.eagerState=g,ja(g,c)){var w=t.interleaved;w===null?(i.next=i,Yv(t)):(i.next=w.next,w.next=i),t.interleaved=i;return}}catch{}finally{}n=x5(e,t,i,r),n!==null&&(i=Si(),Pa(n,e,r,i),H5(n,t,r))}}function V5(e){var t=e.alternate;return e===Co||t!==null&&t===Co}function W5(e,t){sd=g0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function H5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dv(e,n)}}var v0={readContext:pa,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},H_={readContext:pa,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:pa,useEffect:b2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ih(4194308,4,N5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ih(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ih(4,2,e,t)},useMemo:function(e,t){var n=Ba();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ba();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V_.bind(null,Co,e),[r.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:y2,useDebugValue:oy,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=y2(!1),t=e[0];return e=U_.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Co,i=Ba();if(wo){if(n===void 0)throw Error(Tn(407));n=n()}else{if(n=t(),oi===null)throw Error(Tn(349));Bl&30||P5(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,b2(M5.bind(null,r,a,e),[e]),r.flags|=2048,Ld(9,j5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ba(),t=oi.identifierPrefix;if(wo){var n=ls,r=ss;n=(r&~(1<<32-Oa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ad++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=F_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$_={readContext:pa,useCallback:B5,useContext:pa,useEffect:ry,useImperativeHandle:z5,useInsertionEffect:D5,useLayoutEffect:L5,useMemo:Z5,useReducer:Wm,useRef:A5,useState:function(){return Wm(Dd)},useDebugValue:oy,useDeferredValue:function(e){var t=ma();return F5(t,$o.memoizedState,e)},useTransition:function(){var e=Wm(Dd)[0],t=ma().memoizedState;return[e,t]},useMutableSource:T5,useSyncExternalStore:O5,useId:U5,unstable_isNewReconciler:!1},K_={readContext:pa,useCallback:B5,useContext:pa,useEffect:ry,useImperativeHandle:z5,useInsertionEffect:D5,useLayoutEffect:L5,useMemo:Z5,useReducer:Hm,useRef:A5,useState:function(){return Hm(Dd)},useDebugValue:oy,useDeferredValue:function(e){var t=ma();return $o===null?t.memoizedState=e:F5(t,$o.memoizedState,e)},useTransition:function(){var e=Hm(Dd)[0],t=ma().memoizedState;return[e,t]},useMutableSource:T5,useSyncExternalStore:O5,useId:U5,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do n+=w8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $m(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function l1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G_=typeof WeakMap=="function"?WeakMap:Map;function $5(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){b0||(b0=!0,y1=r),l1(e,t)},n}function K5(e,t,n){n=us(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){l1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){l1(e,t),typeof r!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function x2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lC.bind(null,e,t,n),t.then(e,e))}function w2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,Gs(n,t,1))),n.lanes|=1),e)}var Y_=vs.ReactCurrentOwner,Ri=!1;function wi(e,t,n,r){t.child=e===null?_5(t,null,n,r):Jc(t,e.child,n,r)}function S2(e,t,n,r,i){n=n.render;var a=t.ref;return Hc(t,i),r=ty(e,t,n,r,a,i),n=ny(),e!==null&&!Ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gs(e,t,i)):(wo&&n&&Vv(t),t.flags|=1,wi(e,t,r,i),t.child)}function E2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!fy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,G5(e,t,a,r,i)):(e=Lh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Od,n(c,r)&&e.ref===t.ref)return gs(e,t,i)}return t.flags|=1,e=qs(a,r),e.ref=t.ref,e.return=t,t.child=e}function G5(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Od(a,r)&&e.ref===t.ref)if(Ri=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ri=!0);else return t.lanes=e.lanes,gs(e,t,i)}return c1(e,t,n,r,i)}function Y5(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ao(Dc,Ki),Ki|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ao(Dc,Ki),Ki|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ao(Dc,Ki),Ki|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ao(Dc,Ki),Ki|=r;return wi(e,t,i,n),t.child}function X5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function c1(e,t,n,r,i){var a=Di(n)?Nl:mi.current;return a=Xc(t,a),Hc(t,i),n=ty(e,t,n,r,a,i),r=ny(),e!==null&&!Ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gs(e,t,i)):(wo&&r&&Vv(t),t.flags|=1,wi(e,t,n,i),t.child)}function _2(e,t,n,r,i){if(Di(n)){var a=!0;c0(t)}else a=!1;if(Hc(t,i),t.stateNode===null)Rh(e,t),S5(t,n,r),s1(t,n,r,i),r=!0;else if(e===null){var c=t.stateNode,g=t.memoizedProps;c.props=g;var w=c.context,K=n.contextType;typeof K=="object"&&K!==null?K=pa(K):(K=Di(n)?Nl:mi.current,K=Xc(t,K));var se=n.getDerivedStateFromProps,fe=typeof se=="function"||typeof c.getSnapshotBeforeUpdate=="function";fe||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==r||w!==K)&&g2(t,c,r,K),Ls=!1;var Re=t.memoizedState;c.state=Re,p0(t,r,c,i),w=t.memoizedState,g!==r||Re!==w||Ai.current||Ls?(typeof se=="function"&&(a1(t,n,se,r),w=t.memoizedState),(g=Ls||m2(t,n,g,r,Re,w,K))?(fe||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=w),c.props=r,c.state=w,c.context=K,r=g):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,w5(e,t),g=t.memoizedProps,K=t.type===t.elementType?g:Sa(t.type,g),c.props=K,fe=t.pendingProps,Re=c.context,w=n.contextType,typeof w=="object"&&w!==null?w=pa(w):(w=Di(n)?Nl:mi.current,w=Xc(t,w));var Q=n.getDerivedStateFromProps;(se=typeof Q=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==fe||Re!==w)&&g2(t,c,r,w),Ls=!1,Re=t.memoizedState,c.state=Re,p0(t,r,c,i);var z=t.memoizedState;g!==fe||Re!==z||Ai.current||Ls?(typeof Q=="function"&&(a1(t,n,Q,r),z=t.memoizedState),(K=Ls||m2(t,n,K,r,Re,z,w)||!1)?(se||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,z,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,z,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Re===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Re===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=z),c.props=r,c.state=z,c.context=w,r=K):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Re===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Re===e.memoizedState||(t.flags|=1024),r=!1)}return u1(e,t,n,r,a,i)}function u1(e,t,n,r,i,a){X5(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return i&&u2(t,n,!1),gs(e,t,a);r=t.stateNode,Y_.current=t;var g=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Jc(t,e.child,null,a),t.child=Jc(t,null,g,a)):wi(e,t,g,a),t.memoizedState=r.state,i&&u2(t,n,!0),t.child}function q5(e){var t=e.stateNode;t.pendingContext?c2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c2(e,t.context,!1),qv(e,t.containerInfo)}function C2(e,t,n,r,i){return qc(),Hv(i),t.flags|=256,wi(e,t,n,r),t.child}var d1={dehydrated:null,treeContext:null,retryLane:0};function f1(e){return{baseLanes:e,cachePool:null,transitions:null}}function J5(e,t,n){var r=t.pendingProps,i=Eo.current,a=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(i&2)!==0),g?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ao(Eo,i&1),e===null)return o1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=ep(c,r,0,null),e=Rl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=f1(n),t.memoizedState=d1,e):iy(t,c));if(i=e.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return X_(e,t,c,r,g,i,n);if(a){a=r.fallback,c=t.mode,i=e.child,g=i.sibling;var w={mode:"hidden",children:r.children};return!(c&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=w,t.deletions=null):(r=qs(i,w),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?a=qs(g,a):(a=Rl(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?f1(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=d1,r}return a=e.child,e=a.sibling,r=qs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iy(e,t){return t=ep({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ah(e,t,n,r){return r!==null&&Hv(r),Jc(t,e.child,null,n),e=iy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X_(e,t,n,r,i,a,c){if(n)return t.flags&256?(t.flags&=-257,r=$m(Error(Tn(422))),ah(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ep({mode:"visible",children:r.children},i,0,null),a=Rl(a,i,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Jc(t,e.child,null,c),t.child.memoizedState=f1(c),t.memoizedState=d1,a);if(!(t.mode&1))return ah(e,t,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,a=Error(Tn(419)),r=$m(a,r,void 0),ah(e,t,c,r)}if(g=(c&e.childLanes)!==0,Ri||g){if(r=oi,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ms(e,i),Pa(r,e,i,-1))}return dy(),r=$m(Error(Tn(421))),ah(e,t,c,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cC.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Gi=Ks(i.nextSibling),Yi=t,wo=!0,Ca=null,e!==null&&(sa[la++]=ss,sa[la++]=ls,sa[la++]=zl,ss=e.id,ls=e.overflow,zl=t),t=iy(t,r.children),t.flags|=4096,t)}function T2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),i1(e.return,t,n)}function Km(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Q5(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wi(e,t,r.children,n),r=Eo.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T2(e,n,t);else if(e.tag===19)T2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ao(Eo,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&m0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Km(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&m0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Km(t,!0,n,null,a);break;case"together":Km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Tn(153));if(t.child!==null){for(e=t.child,n=qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q_(e,t,n){switch(t.tag){case 3:q5(t),qc();break;case 5:C5(t);break;case 1:Di(t.type)&&c0(t);break;case 4:qv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ao(f0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ao(Eo,Eo.current&1),t.flags|=128,null):n&t.child.childLanes?J5(e,t,n):(ao(Eo,Eo.current&1),e=gs(e,t,n),e!==null?e.sibling:null);ao(Eo,Eo.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Q5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ao(Eo,Eo.current),r)break;return null;case 22:case 23:return t.lanes=0,Y5(e,t,n)}return gs(e,t,n)}var e6,h1,t6,n6;e6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h1=function(){};t6=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,jl(Wa.current);var a=null;switch(n){case"input":i=Dg(e,i),r=Dg(e,r),a=[];break;case"select":i=To({},i,{value:void 0}),r=To({},r,{value:void 0}),a=[];break;case"textarea":i=zg(e,i),r=zg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=s0)}Zg(n,r);var c;n=null;for(K in i)if(!r.hasOwnProperty(K)&&i.hasOwnProperty(K)&&i[K]!=null)if(K==="style"){var g=i[K];for(c in g)g.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(wd.hasOwnProperty(K)?a||(a=[]):(a=a||[]).push(K,null));for(K in r){var w=r[K];if(g=i!=null?i[K]:void 0,r.hasOwnProperty(K)&&w!==g&&(w!=null||g!=null))if(K==="style")if(g){for(c in g)!g.hasOwnProperty(c)||w&&w.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in w)w.hasOwnProperty(c)&&g[c]!==w[c]&&(n||(n={}),n[c]=w[c])}else n||(a||(a=[]),a.push(K,n)),n=w;else K==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(a=a||[]).push(K,w)):K==="children"?typeof w!="string"&&typeof w!="number"||(a=a||[]).push(K,""+w):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(wd.hasOwnProperty(K)?(w!=null&&K==="onScroll"&&fo("scroll",e),a||g===w||(a=[])):(a=a||[]).push(K,w))}n&&(a=a||[]).push("style",n);var K=a;(t.updateQueue=K)&&(t.flags|=4)}};n6=function(e,t,n,r){n!==r&&(t.flags|=4)};function Du(e,t){if(!wo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function J_(e,t,n){var r=t.pendingProps;switch(Wv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return Di(t.type)&&l0(),fi(t),null;case 3:return r=t.stateNode,Qc(),mo(Ai),mo(mi),Qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ca!==null&&(w1(Ca),Ca=null))),h1(e,t),fi(t),null;case 5:Jv(t);var i=jl(Rd.current);if(n=t.type,e!==null&&t.stateNode!=null)t6(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Tn(166));return fi(t),null}if(e=jl(Wa.current),oh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fa]=t,r[Md]=a,e=(t.mode&1)!==0,n){case"dialog":fo("cancel",r),fo("close",r);break;case"iframe":case"object":case"embed":fo("load",r);break;case"video":case"audio":for(i=0;i<qu.length;i++)fo(qu[i],r);break;case"source":fo("error",r);break;case"img":case"image":case"link":fo("error",r),fo("load",r);break;case"details":fo("toggle",r);break;case"input":Lb(r,a),fo("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fo("invalid",r);break;case"textarea":zb(r,a),fo("invalid",r)}Zg(n,a),i=null;for(var c in a)if(a.hasOwnProperty(c)){var g=a[c];c==="children"?typeof g=="string"?r.textContent!==g&&(a.suppressHydrationWarning!==!0&&rh(r.textContent,g,e),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&rh(r.textContent,g,e),i=["children",""+g]):wd.hasOwnProperty(c)&&g!=null&&c==="onScroll"&&fo("scroll",r)}switch(n){case"input":Yf(r),Nb(r,a,!0);break;case"textarea":Yf(r),Bb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=s0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Fa]=t,e[Md]=r,e6(e,t,!1,!1),t.stateNode=e;e:{switch(c=Fg(n,r),n){case"dialog":fo("cancel",e),fo("close",e),i=r;break;case"iframe":case"object":case"embed":fo("load",e),i=r;break;case"video":case"audio":for(i=0;i<qu.length;i++)fo(qu[i],e);i=r;break;case"source":fo("error",e),i=r;break;case"img":case"image":case"link":fo("error",e),fo("load",e),i=r;break;case"details":fo("toggle",e),i=r;break;case"input":Lb(e,r),i=Dg(e,r),fo("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=To({},r,{value:void 0}),fo("invalid",e);break;case"textarea":zb(e,r),i=zg(e,r),fo("invalid",e);break;default:i=r}Zg(n,i),g=i;for(a in g)if(g.hasOwnProperty(a)){var w=g[a];a==="style"?I3(e,w):a==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&j3(e,w)):a==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&kd(e,w):typeof w=="number"&&kd(e,""+w):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wd.hasOwnProperty(a)?w!=null&&a==="onScroll"&&fo("scroll",e):w!=null&&Pv(e,a,w,c))}switch(n){case"input":Yf(e),Nb(e,r,!1);break;case"textarea":Yf(e),Bb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Fc(e,!!r.multiple,a,!1):r.defaultValue!=null&&Fc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=s0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fi(t),null;case 6:if(e&&t.stateNode!=null)n6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Tn(166));if(n=jl(Rd.current),jl(Wa.current),oh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fa]=t,(a=r.nodeValue!==n)&&(e=Yi,e!==null))switch(e.tag){case 3:rh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fa]=t,t.stateNode=r}return fi(t),null;case 13:if(mo(Eo),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wo&&Gi!==null&&t.mode&1&&!(t.flags&128))b5(),qc(),t.flags|=98560,a=!1;else if(a=oh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Tn(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Tn(317));a[Fa]=t}else qc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),a=!1}else Ca!==null&&(w1(Ca),Ca=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Eo.current&1?Ko===0&&(Ko=3):dy())),t.updateQueue!==null&&(t.flags|=4),fi(t),null);case 4:return Qc(),h1(e,t),e===null&&Pd(t.stateNode.containerInfo),fi(t),null;case 10:return Gv(t.type._context),fi(t),null;case 17:return Di(t.type)&&l0(),fi(t),null;case 19:if(mo(Eo),a=t.memoizedState,a===null)return fi(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)Du(a,!1);else{if(Ko!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=m0(e),c!==null){for(t.flags|=128,Du(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ao(Eo,Eo.current&1|2),t.child}e=e.sibling}a.tail!==null&&Do()>tu&&(t.flags|=128,r=!0,Du(a,!1),t.lanes=4194304)}else{if(!r)if(e=m0(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Du(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!wo)return fi(t),null}else 2*Do()-a.renderingStartTime>tu&&n!==1073741824&&(t.flags|=128,r=!0,Du(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Do(),t.sibling=null,n=Eo.current,ao(Eo,r?n&1|2:n&1),t):(fi(t),null);case 22:case 23:return uy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ki&1073741824&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),null;case 24:return null;case 25:return null}throw Error(Tn(156,t.tag))}function Q_(e,t){switch(Wv(t),t.tag){case 1:return Di(t.type)&&l0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qc(),mo(Ai),mo(mi),Qv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jv(t),null;case 13:if(mo(Eo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Tn(340));qc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mo(Eo),null;case 4:return Qc(),null;case 10:return Gv(t.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var sh=!1,pi=!1,eC=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function Ac(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mo(e,t,r)}else n.current=null}function p1(e,t,n){try{n()}catch(r){Mo(e,t,r)}}var O2=!1;function tC(e,t){if(qg=o0,e=a5(),Uv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,g=-1,w=-1,K=0,se=0,fe=e,Re=null;t:for(;;){for(var Q;fe!==n||i!==0&&fe.nodeType!==3||(g=c+i),fe!==a||r!==0&&fe.nodeType!==3||(w=c+r),fe.nodeType===3&&(c+=fe.nodeValue.length),(Q=fe.firstChild)!==null;)Re=fe,fe=Q;for(;;){if(fe===e)break t;if(Re===n&&++K===i&&(g=c),Re===a&&++se===r&&(w=c),(Q=fe.nextSibling)!==null)break;fe=Re,Re=fe.parentNode}fe=Q}n=g===-1||w===-1?null:{start:g,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jg={focusedElem:e,selectionRange:n},o0=!1,Qn=t;Qn!==null;)if(t=Qn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qn=e;else for(;Qn!==null;){t=Qn;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var o=z.memoizedProps,M=z.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?o:Sa(t.type,o),M);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tn(163))}}catch(E){Mo(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Qn=e;break}Qn=t.return}return z=O2,O2=!1,z}function ld(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&p1(t,n,a)}i=i.next}while(i!==r)}}function J0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function m1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function r6(e){var t=e.alternate;t!==null&&(e.alternate=null,r6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fa],delete t[Md],delete t[t1],delete t[N_],delete t[z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o6(e){return e.tag===5||e.tag===3||e.tag===4}function P2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=s0));else if(r!==4&&(e=e.child,e!==null))for(g1(e,t,n),e=e.sibling;e!==null;)g1(e,t,n),e=e.sibling}function v1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(v1(e,t,n),e=e.sibling;e!==null;)v1(e,t,n),e=e.sibling}var si=null,Ea=!1;function js(e,t,n){for(n=n.child;n!==null;)i6(e,t,n),n=n.sibling}function i6(e,t,n){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:pi||Ac(n,t);case 6:var r=si,i=Ea;si=null,js(e,t,n),si=r,Ea=i,si!==null&&(Ea?(e=si,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):si.removeChild(n.stateNode));break;case 18:si!==null&&(Ea?(e=si,n=n.stateNode,e.nodeType===8?Zm(e.parentNode,n):e.nodeType===1&&Zm(e,n),Cd(e)):Zm(si,n.stateNode));break;case 4:r=si,i=Ea,si=n.stateNode.containerInfo,Ea=!0,js(e,t,n),si=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&p1(n,t,c),i=i.next}while(i!==r)}js(e,t,n);break;case 1:if(!pi&&(Ac(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Mo(n,t,g)}js(e,t,n);break;case 21:js(e,t,n);break;case 22:n.mode&1?(pi=(r=pi)||n.memoizedState!==null,js(e,t,n),pi=r):js(e,t,n);break;default:js(e,t,n)}}function j2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eC),t.forEach(function(r){var i=uC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,c=t,g=c;e:for(;g!==null;){switch(g.tag){case 5:si=g.stateNode,Ea=!1;break e;case 3:si=g.stateNode.containerInfo,Ea=!0;break e;case 4:si=g.stateNode.containerInfo,Ea=!0;break e}g=g.return}if(si===null)throw Error(Tn(160));i6(a,c,i),si=null,Ea=!1;var w=i.alternate;w!==null&&(w.return=null),i.return=null}catch(K){Mo(i,t,K)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a6(t,e),t=t.sibling}function a6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wa(t,e),Na(e),r&4){try{ld(3,e,e.return),J0(3,e)}catch(o){Mo(e,e.return,o)}try{ld(5,e,e.return)}catch(o){Mo(e,e.return,o)}}break;case 1:wa(t,e),Na(e),r&512&&n!==null&&Ac(n,n.return);break;case 5:if(wa(t,e),Na(e),r&512&&n!==null&&Ac(n,n.return),e.flags&32){var i=e.stateNode;try{kd(i,"")}catch(o){Mo(e,e.return,o)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,g=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&T3(i,a),Fg(g,c);var K=Fg(g,a);for(c=0;c<w.length;c+=2){var se=w[c],fe=w[c+1];se==="style"?I3(i,fe):se==="dangerouslySetInnerHTML"?j3(i,fe):se==="children"?kd(i,fe):Pv(i,se,fe,K)}switch(g){case"input":Lg(i,a);break;case"textarea":O3(i,a);break;case"select":var Re=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var Q=a.value;Q!=null?Fc(i,!!a.multiple,Q,!1):Re!==!!a.multiple&&(a.defaultValue!=null?Fc(i,!!a.multiple,a.defaultValue,!0):Fc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Md]=a}catch(o){Mo(e,e.return,o)}}break;case 6:if(wa(t,e),Na(e),r&4){if(e.stateNode===null)throw Error(Tn(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(o){Mo(e,e.return,o)}}break;case 3:if(wa(t,e),Na(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cd(t.containerInfo)}catch(o){Mo(e,e.return,o)}break;case 4:wa(t,e),Na(e);break;case 13:wa(t,e),Na(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ly=Do())),r&4&&j2(e);break;case 22:if(se=n!==null&&n.memoizedState!==null,e.mode&1?(pi=(K=pi)||se,wa(t,e),pi=K):wa(t,e),Na(e),r&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!se&&e.mode&1)for(Qn=e,se=e.child;se!==null;){for(fe=Qn=se;Qn!==null;){switch(Re=Qn,Q=Re.child,Re.tag){case 0:case 11:case 14:case 15:ld(4,Re,Re.return);break;case 1:Ac(Re,Re.return);var z=Re.stateNode;if(typeof z.componentWillUnmount=="function"){r=Re,n=Re.return;try{t=r,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(o){Mo(r,n,o)}}break;case 5:Ac(Re,Re.return);break;case 22:if(Re.memoizedState!==null){I2(fe);continue}}Q!==null?(Q.return=Re,Qn=Q):I2(fe)}se=se.sibling}e:for(se=null,fe=e;;){if(fe.tag===5){if(se===null){se=fe;try{i=fe.stateNode,K?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=fe.stateNode,w=fe.memoizedProps.style,c=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=M3("display",c))}catch(o){Mo(e,e.return,o)}}}else if(fe.tag===6){if(se===null)try{fe.stateNode.nodeValue=K?"":fe.memoizedProps}catch(o){Mo(e,e.return,o)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===e)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===e)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===e)break e;se===fe&&(se=null),fe=fe.return}se===fe&&(se=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:wa(t,e),Na(e),r&4&&j2(e);break;case 21:break;default:wa(t,e),Na(e)}}function Na(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o6(n)){var r=n;break e}n=n.return}throw Error(Tn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kd(i,""),r.flags&=-33);var a=P2(e);v1(e,a,i);break;case 3:case 4:var c=r.stateNode.containerInfo,g=P2(e);g1(e,g,c);break;default:throw Error(Tn(161))}}catch(w){Mo(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nC(e,t,n){Qn=e,s6(e)}function s6(e,t,n){for(var r=(e.mode&1)!==0;Qn!==null;){var i=Qn,a=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||sh;if(!c){var g=i.alternate,w=g!==null&&g.memoizedState!==null||pi;g=sh;var K=pi;if(sh=c,(pi=w)&&!K)for(Qn=i;Qn!==null;)c=Qn,w=c.child,c.tag===22&&c.memoizedState!==null?R2(i):w!==null?(w.return=c,Qn=w):R2(i);for(;a!==null;)Qn=a,s6(a),a=a.sibling;Qn=i,sh=g,pi=K}M2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Qn=a):M2(e)}}function M2(e){for(;Qn!==null;){var t=Qn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pi||J0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Sa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&p2(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}p2(t,c,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var K=t.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var fe=se.dehydrated;fe!==null&&Cd(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Tn(163))}pi||t.flags&512&&m1(t)}catch(Re){Mo(t,t.return,Re)}}if(t===e){Qn=null;break}if(n=t.sibling,n!==null){n.return=t.return,Qn=n;break}Qn=t.return}}function I2(e){for(;Qn!==null;){var t=Qn;if(t===e){Qn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Qn=n;break}Qn=t.return}}function R2(e){for(;Qn!==null;){var t=Qn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{J0(4,t)}catch(w){Mo(t,n,w)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(w){Mo(t,i,w)}}var a=t.return;try{m1(t)}catch(w){Mo(t,a,w)}break;case 5:var c=t.return;try{m1(t)}catch(w){Mo(t,c,w)}}}catch(w){Mo(t,t.return,w)}if(t===e){Qn=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Qn=g;break}Qn=t.return}}var rC=Math.ceil,y0=vs.ReactCurrentDispatcher,ay=vs.ReactCurrentOwner,ha=vs.ReactCurrentBatchConfig,Vr=0,oi=null,Bo=null,li=0,Ki=0,Dc=ol(0),Ko=0,Nd=null,Zl=0,Q0=0,sy=0,cd=null,Mi=null,ly=0,tu=1/0,is=null,b0=!1,y1=null,Ys=null,lh=!1,Us=null,x0=0,ud=0,b1=null,Ah=-1,Dh=0;function Si(){return Vr&6?Do():Ah!==-1?Ah:Ah=Do()}function Xs(e){return e.mode&1?Vr&2&&li!==0?li&-li:Z_.transition!==null?(Dh===0&&(Dh=W3()),Dh):(e=Qr,e!==0||(e=window.event,e=e===void 0?16:q3(e.type)),e):1}function Pa(e,t,n,r){if(50<ud)throw ud=0,b1=null,Error(Tn(185));Jd(e,n,r),(!(Vr&2)||e!==oi)&&(e===oi&&(!(Vr&2)&&(Q0|=n),Ko===4&&Zs(e,li)),Li(e,r),n===1&&Vr===0&&!(t.mode&1)&&(tu=Do()+500,Y0&&il()))}function Li(e,t){var n=e.callbackNode;Z8(e,t);var r=r0(e,e===oi?li:0);if(r===0)n!==null&&Ub(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ub(n),t===1)e.tag===0?B_(A2.bind(null,e)):g5(A2.bind(null,e)),D_(function(){!(Vr&6)&&il()}),n=null;else{switch(H3(r)){case 1:n=Av;break;case 4:n=U3;break;case 16:n=n0;break;case 536870912:n=V3;break;default:n=n0}n=m6(n,l6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function l6(e,t){if(Ah=-1,Dh=0,Vr&6)throw Error(Tn(327));var n=e.callbackNode;if($c()&&e.callbackNode!==n)return null;var r=r0(e,e===oi?li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=w0(e,r);else{t=r;var i=Vr;Vr|=2;var a=u6();(oi!==e||li!==t)&&(is=null,tu=Do()+500,Il(e,t));do try{aC();break}catch(g){c6(e,g)}while(!0);Kv(),y0.current=a,Vr=i,Bo!==null?t=0:(oi=null,li=0,t=Ko)}if(t!==0){if(t===2&&(i=$g(e),i!==0&&(r=i,t=x1(e,i))),t===1)throw n=Nd,Il(e,0),Zs(e,r),Li(e,Do()),n;if(t===6)Zs(e,r);else{if(i=e.current.alternate,!(r&30)&&!oC(i)&&(t=w0(e,r),t===2&&(a=$g(e),a!==0&&(r=a,t=x1(e,a))),t===1))throw n=Nd,Il(e,0),Zs(e,r),Li(e,Do()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Tn(345));case 2:wl(e,Mi,is);break;case 3:if(Zs(e,r),(r&130023424)===r&&(t=ly+500-Do(),10<t)){if(r0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Si(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=e1(wl.bind(null,e,Mi,is),t);break}wl(e,Mi,is);break;case 4:if(Zs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var c=31-Oa(r);a=1<<c,c=t[c],c>i&&(i=c),r&=~a}if(r=i,r=Do()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rC(r/1960))-r,10<r){e.timeoutHandle=e1(wl.bind(null,e,Mi,is),r);break}wl(e,Mi,is);break;case 5:wl(e,Mi,is);break;default:throw Error(Tn(329))}}}return Li(e,Do()),e.callbackNode===n?l6.bind(null,e):null}function x1(e,t){var n=cd;return e.current.memoizedState.isDehydrated&&(Il(e,t).flags|=256),e=w0(e,t),e!==2&&(t=Mi,Mi=n,t!==null&&w1(t)),e}function w1(e){Mi===null?Mi=e:Mi.push.apply(Mi,e)}function oC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ja(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zs(e,t){for(t&=~sy,t&=~Q0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oa(t),r=1<<n;e[n]=-1,t&=~r}}function A2(e){if(Vr&6)throw Error(Tn(327));$c();var t=r0(e,0);if(!(t&1))return Li(e,Do()),null;var n=w0(e,t);if(e.tag!==0&&n===2){var r=$g(e);r!==0&&(t=r,n=x1(e,r))}if(n===1)throw n=Nd,Il(e,0),Zs(e,t),Li(e,Do()),n;if(n===6)throw Error(Tn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Mi,is),Li(e,Do()),null}function cy(e,t){var n=Vr;Vr|=1;try{return e(t)}finally{Vr=n,Vr===0&&(tu=Do()+500,Y0&&il())}}function Fl(e){Us!==null&&Us.tag===0&&!(Vr&6)&&$c();var t=Vr;Vr|=1;var n=ha.transition,r=Qr;try{if(ha.transition=null,Qr=1,e)return e()}finally{Qr=r,ha.transition=n,Vr=t,!(Vr&6)&&il()}}function uy(){Ki=Dc.current,mo(Dc)}function Il(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,A_(n)),Bo!==null)for(n=Bo.return;n!==null;){var r=n;switch(Wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l0();break;case 3:Qc(),mo(Ai),mo(mi),Qv();break;case 5:Jv(r);break;case 4:Qc();break;case 13:mo(Eo);break;case 19:mo(Eo);break;case 10:Gv(r.type._context);break;case 22:case 23:uy()}n=n.return}if(oi=e,Bo=e=qs(e.current,null),li=Ki=t,Ko=0,Nd=null,sy=Q0=Zl=0,Mi=cd=null,Pl!==null){for(t=0;t<Pl.length;t++)if(n=Pl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=i,r.next=c}n.pending=r}Pl=null}return e}function c6(e,t){do{var n=Bo;try{if(Kv(),Mh.current=v0,g0){for(var r=Co.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}g0=!1}if(Bl=0,ni=$o=Co=null,sd=!1,Ad=0,ay.current=null,n===null||n.return===null){Ko=1,Nd=t,Bo=null;break}e:{var a=e,c=n.return,g=n,w=t;if(t=li,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=w,se=g,fe=se.tag;if(!(se.mode&1)&&(fe===0||fe===11||fe===15)){var Re=se.alternate;Re?(se.updateQueue=Re.updateQueue,se.memoizedState=Re.memoizedState,se.lanes=Re.lanes):(se.updateQueue=null,se.memoizedState=null)}var Q=w2(c);if(Q!==null){Q.flags&=-257,k2(Q,c,g,a,t),Q.mode&1&&x2(a,K,t),t=Q,w=K;var z=t.updateQueue;if(z===null){var o=new Set;o.add(w),t.updateQueue=o}else z.add(w);break e}else{if(!(t&1)){x2(a,K,t),dy();break e}w=Error(Tn(426))}}else if(wo&&g.mode&1){var M=w2(c);if(M!==null){!(M.flags&65536)&&(M.flags|=256),k2(M,c,g,a,t),Hv(eu(w,g));break e}}a=w=eu(w,g),Ko!==4&&(Ko=2),cd===null?cd=[a]:cd.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=$5(a,w,t);h2(a,p);break e;case 1:g=w;var f=a.type,u=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ys===null||!Ys.has(u)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=K5(a,g,t);h2(a,E);break e}}a=a.return}while(a!==null)}f6(n)}catch(R){t=R,Bo===n&&n!==null&&(Bo=n=n.return);continue}break}while(!0)}function u6(){var e=y0.current;return y0.current=v0,e===null?v0:e}function dy(){(Ko===0||Ko===3||Ko===2)&&(Ko=4),oi===null||!(Zl&268435455)&&!(Q0&268435455)||Zs(oi,li)}function w0(e,t){var n=Vr;Vr|=2;var r=u6();(oi!==e||li!==t)&&(is=null,Il(e,t));do try{iC();break}catch(i){c6(e,i)}while(!0);if(Kv(),Vr=n,y0.current=r,Bo!==null)throw Error(Tn(261));return oi=null,li=0,Ko}function iC(){for(;Bo!==null;)d6(Bo)}function aC(){for(;Bo!==null&&!M8();)d6(Bo)}function d6(e){var t=p6(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,t===null?f6(e):Bo=t,ay.current=null}function f6(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Q_(n,t),n!==null){n.flags&=32767,Bo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ko=6,Bo=null;return}}else if(n=J_(n,t,Ki),n!==null){Bo=n;return}if(t=t.sibling,t!==null){Bo=t;return}Bo=t=e}while(t!==null);Ko===0&&(Ko=5)}function wl(e,t,n){var r=Qr,i=ha.transition;try{ha.transition=null,Qr=1,sC(e,t,n,r)}finally{ha.transition=i,Qr=r}return null}function sC(e,t,n,r){do $c();while(Us!==null);if(Vr&6)throw Error(Tn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Tn(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(F8(e,a),e===oi&&(Bo=oi=null,li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lh||(lh=!0,m6(n0,function(){return $c(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ha.transition,ha.transition=null;var c=Qr;Qr=1;var g=Vr;Vr|=4,ay.current=null,tC(e,n),a6(n,e),T_(Jg),o0=!!qg,Jg=qg=null,e.current=n,nC(n),I8(),Vr=g,Qr=c,ha.transition=a}else e.current=n;if(lh&&(lh=!1,Us=e,x0=i),a=e.pendingLanes,a===0&&(Ys=null),D8(n.stateNode),Li(e,Do()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(b0)throw b0=!1,e=y1,y1=null,e;return x0&1&&e.tag!==0&&$c(),a=e.pendingLanes,a&1?e===b1?ud++:(ud=0,b1=e):ud=0,il(),null}function $c(){if(Us!==null){var e=H3(x0),t=ha.transition,n=Qr;try{if(ha.transition=null,Qr=16>e?16:e,Us===null)var r=!1;else{if(e=Us,Us=null,x0=0,Vr&6)throw Error(Tn(331));var i=Vr;for(Vr|=4,Qn=e.current;Qn!==null;){var a=Qn,c=a.child;if(Qn.flags&16){var g=a.deletions;if(g!==null){for(var w=0;w<g.length;w++){var K=g[w];for(Qn=K;Qn!==null;){var se=Qn;switch(se.tag){case 0:case 11:case 15:ld(8,se,a)}var fe=se.child;if(fe!==null)fe.return=se,Qn=fe;else for(;Qn!==null;){se=Qn;var Re=se.sibling,Q=se.return;if(r6(se),se===K){Qn=null;break}if(Re!==null){Re.return=Q,Qn=Re;break}Qn=Q}}}var z=a.alternate;if(z!==null){var o=z.child;if(o!==null){z.child=null;do{var M=o.sibling;o.sibling=null,o=M}while(o!==null)}}Qn=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,Qn=c;else e:for(;Qn!==null;){if(a=Qn,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ld(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,Qn=p;break e}Qn=a.return}}var f=e.current;for(Qn=f;Qn!==null;){c=Qn;var u=c.child;if(c.subtreeFlags&2064&&u!==null)u.return=c,Qn=u;else e:for(c=f;Qn!==null;){if(g=Qn,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:J0(9,g)}}catch(R){Mo(g,g.return,R)}if(g===c){Qn=null;break e}var E=g.sibling;if(E!==null){E.return=g.return,Qn=E;break e}Qn=g.return}}if(Vr=i,il(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(W0,e)}catch{}r=!0}return r}finally{Qr=n,ha.transition=t}}return!1}function D2(e,t,n){t=eu(n,t),t=$5(e,t,1),e=Gs(e,t,1),t=Si(),e!==null&&(Jd(e,1,t),Li(e,t))}function Mo(e,t,n){if(e.tag===3)D2(e,e,n);else for(;t!==null;){if(t.tag===3){D2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))){e=eu(n,e),e=K5(t,e,1),t=Gs(t,e,1),e=Si(),t!==null&&(Jd(t,1,e),Li(t,e));break}}t=t.return}}function lC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Si(),e.pingedLanes|=e.suspendedLanes&n,oi===e&&(li&n)===n&&(Ko===4||Ko===3&&(li&130023424)===li&&500>Do()-ly?Il(e,0):sy|=n),Li(e,t)}function h6(e,t){t===0&&(e.mode&1?(t=Jf,Jf<<=1,!(Jf&130023424)&&(Jf=4194304)):t=1);var n=Si();e=ms(e,t),e!==null&&(Jd(e,t,n),Li(e,n))}function cC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),h6(e,n)}function uC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Tn(314))}r!==null&&r.delete(t),h6(e,n)}var p6;p6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ai.current)Ri=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ri=!1,q_(e,t,n);Ri=!!(e.flags&131072)}else Ri=!1,wo&&t.flags&1048576&&v5(t,d0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rh(e,t),e=t.pendingProps;var i=Xc(t,mi.current);Hc(t,n),i=ty(null,t,r,e,i,n);var a=ny();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,c0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xv(t),i.updater=X0,t.stateNode=i,i._reactInternals=t,s1(t,r,e,n),t=u1(null,t,r,!0,a,n)):(t.tag=0,wo&&a&&Vv(t),wi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fC(r),e=Sa(r,e),i){case 0:t=c1(null,t,r,e,n);break e;case 1:t=_2(null,t,r,e,n);break e;case 11:t=S2(null,t,r,e,n);break e;case 14:t=E2(null,t,r,Sa(r.type,e),n);break e}throw Error(Tn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sa(r,i),c1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sa(r,i),_2(e,t,r,i,n);case 3:e:{if(q5(t),e===null)throw Error(Tn(387));r=t.pendingProps,a=t.memoizedState,i=a.element,w5(e,t),p0(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=eu(Error(Tn(423)),t),t=C2(e,t,r,n,i);break e}else if(r!==i){i=eu(Error(Tn(424)),t),t=C2(e,t,r,n,i);break e}else for(Gi=Ks(t.stateNode.containerInfo.firstChild),Yi=t,wo=!0,Ca=null,n=_5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qc(),r===i){t=gs(e,t,n);break e}wi(e,t,r,n)}t=t.child}return t;case 5:return C5(t),e===null&&o1(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,c=i.children,Qg(r,i)?c=null:a!==null&&Qg(r,a)&&(t.flags|=32),X5(e,t),wi(e,t,c,n),t.child;case 6:return e===null&&o1(t),null;case 13:return J5(e,t,n);case 4:return qv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jc(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sa(r,i),S2(e,t,r,i,n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:return wi(e,t,t.pendingProps.children,n),t.child;case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,c=i.value,ao(f0,r._currentValue),r._currentValue=c,a!==null)if(ja(a.value,c)){if(a.children===i.children&&!Ai.current){t=gs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var g=a.dependencies;if(g!==null){c=a.child;for(var w=g.firstContext;w!==null;){if(w.context===r){if(a.tag===1){w=us(-1,n&-n),w.tag=2;var K=a.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?w.next=w:(w.next=se.next,se.next=w),K.pending=w}}a.lanes|=n,w=a.alternate,w!==null&&(w.lanes|=n),i1(a.return,n,t),g.lanes|=n;break}w=w.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(Tn(341));c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),i1(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}wi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hc(t,n),i=pa(i),r=r(i),t.flags|=1,wi(e,t,r,n),t.child;case 14:return r=t.type,i=Sa(r,t.pendingProps),i=Sa(r.type,i),E2(e,t,r,i,n);case 15:return G5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sa(r,i),Rh(e,t),t.tag=1,Di(r)?(e=!0,c0(t)):e=!1,Hc(t,n),S5(t,r,i),s1(t,r,i,n),u1(null,t,r,!0,e,n);case 19:return Q5(e,t,n);case 22:return Y5(e,t,n)}throw Error(Tn(156,t.tag))};function m6(e,t){return F3(e,t)}function dC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(e,t,n,r){return new dC(e,t,n,r)}function fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fC(e){if(typeof e=="function")return fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mv)return 11;if(e===Iv)return 14}return 2}function qs(e,t){var n=e.alternate;return n===null?(n=da(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lh(e,t,n,r,i,a){var c=2;if(r=e,typeof e=="function")fy(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case _c:return Rl(n.children,i,a,t);case jv:c=8,i|=8;break;case Mg:return e=da(12,n,t,i|2),e.elementType=Mg,e.lanes=a,e;case Ig:return e=da(13,n,t,i),e.elementType=Ig,e.lanes=a,e;case Rg:return e=da(19,n,t,i),e.elementType=Rg,e.lanes=a,e;case E3:return ep(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k3:c=10;break e;case S3:c=9;break e;case Mv:c=11;break e;case Iv:c=14;break e;case Ds:c=16,r=null;break e}throw Error(Tn(130,e==null?e:typeof e,""))}return t=da(c,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Rl(e,t,n,r){return e=da(7,e,r,t),e.lanes=n,e}function ep(e,t,n,r){return e=da(22,e,r,t),e.elementType=E3,e.lanes=n,e.stateNode={isHidden:!1},e}function Gm(e,t,n){return e=da(6,e,null,t),e.lanes=n,e}function Ym(e,t,n){return t=da(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hy(e,t,n,r,i,a,c,g,w){return e=new hC(e,t,n,g,w),t===1?(t=1,a===!0&&(t|=8)):t=0,a=da(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(a),e}function pC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ec,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function g6(e){if(!e)return el;e=e._reactInternals;e:{if(Gl(e)!==e||e.tag!==1)throw Error(Tn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Tn(171))}if(e.tag===1){var n=e.type;if(Di(n))return m5(e,n,t)}return t}function v6(e,t,n,r,i,a,c,g,w){return e=hy(n,r,!0,e,i,a,c,g,w),e.context=g6(null),n=e.current,r=Si(),i=Xs(n),a=us(r,i),a.callback=t??null,Gs(n,a,i),e.current.lanes=i,Jd(e,i,r),Li(e,r),e}function tp(e,t,n,r){var i=t.current,a=Si(),c=Xs(i);return n=g6(n),t.context===null?t.context=n:t.pendingContext=n,t=us(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gs(i,t,c),e!==null&&(Pa(e,i,c,a),jh(e,i,c)),c}function k0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function L2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function py(e,t){L2(e,t),(e=e.alternate)&&L2(e,t)}function mC(){return null}var y6=typeof reportError=="function"?reportError:function(e){console.error(e)};function my(e){this._internalRoot=e}np.prototype.render=my.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Tn(409));tp(e,t,null,null)};np.prototype.unmount=my.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fl(function(){tp(null,e,null,null)}),t[ps]=null}};function np(e){this._internalRoot=e}np.prototype.unstable_scheduleHydration=function(e){if(e){var t=G3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bs.length&&t!==0&&t<Bs[n].priority;n++);Bs.splice(n,0,e),n===0&&X3(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function N2(){}function gC(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var K=k0(c);a.call(K)}}var c=v6(t,r,e,0,null,!1,!1,"",N2);return e._reactRootContainer=c,e[ps]=c.current,Pd(e.nodeType===8?e.parentNode:e),Fl(),c}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var K=k0(w);g.call(K)}}var w=hy(e,0,!1,null,null,!1,!1,"",N2);return e._reactRootContainer=w,e[ps]=w.current,Pd(e.nodeType===8?e.parentNode:e),Fl(function(){tp(t,w,n,r)}),w}function op(e,t,n,r,i){var a=n._reactRootContainer;if(a){var c=a;if(typeof i=="function"){var g=i;i=function(){var w=k0(c);g.call(w)}}tp(t,c,e,i)}else c=gC(n,t,e,i,r);return k0(c)}$3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xu(t.pendingLanes);n!==0&&(Dv(t,n|1),Li(t,Do()),!(Vr&6)&&(tu=Do()+500,il()))}break;case 13:Fl(function(){var r=ms(e,1);if(r!==null){var i=Si();Pa(r,e,1,i)}}),py(e,1)}};Lv=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=Si();Pa(t,e,134217728,n)}py(e,134217728)}};K3=function(e){if(e.tag===13){var t=Xs(e),n=ms(e,t);if(n!==null){var r=Si();Pa(n,e,t,r)}py(e,t)}};G3=function(){return Qr};Y3=function(e,t){var n=Qr;try{return Qr=e,t()}finally{Qr=n}};Vg=function(e,t,n){switch(t){case"input":if(Lg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=G0(r);if(!i)throw Error(Tn(90));C3(r),Lg(r,i)}}}break;case"textarea":O3(e,n);break;case"select":t=n.value,t!=null&&Fc(e,!!n.multiple,t,!1)}};D3=cy;L3=Fl;var vC={usingClientEntryPoint:!1,Events:[ef,Pc,G0,R3,A3,cy]},Lu={findFiberByHostInstance:Ol,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yC={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B3(e),e===null?null:e.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{W0=ch.inject(yC),Va=ch}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC;Ji.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(Tn(200));return pC(e,t,null,n)};Ji.createRoot=function(e,t){if(!gy(e))throw Error(Tn(299));var n=!1,r="",i=y6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hy(e,1,!1,null,null,n,!1,r,i),e[ps]=t.current,Pd(e.nodeType===8?e.parentNode:e),new my(t)};Ji.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Tn(188)):(e=Object.keys(e).join(","),Error(Tn(268,e)));return e=B3(t),e=e===null?null:e.stateNode,e};Ji.flushSync=function(e){return Fl(e)};Ji.hydrate=function(e,t,n){if(!rp(t))throw Error(Tn(200));return op(null,e,t,!0,n)};Ji.hydrateRoot=function(e,t,n){if(!gy(e))throw Error(Tn(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",c=y6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=v6(t,null,e,1,n??null,i,!1,a,c),e[ps]=t.current,Pd(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new np(t)};Ji.render=function(e,t,n){if(!rp(t))throw Error(Tn(200));return op(null,e,t,!1,n)};Ji.unmountComponentAtNode=function(e){if(!rp(e))throw Error(Tn(40));return e._reactRootContainer?(Fl(function(){op(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Ji.unstable_batchedUpdates=cy;Ji.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rp(n))throw Error(Tn(200));if(e==null||e._reactInternals===void 0)throw Error(Tn(38));return op(e,t,n,!1,r)};Ji.version="18.2.0-next-9e3b772b8-20220608";function b6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b6)}catch(e){console.error(e)}}b6(),v3.exports=Ji;var vy=v3.exports;const bC=kv(vy);var z2=vy;Pg.createRoot=z2.createRoot,Pg.hydrateRoot=z2.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}var Vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vs||(Vs={}));const B2="popstate";function xC(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:c,hash:g}=r.location;return k1("",{pathname:a,search:c,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:w6(i)}return kC(t,n,null,e)}function Yo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wC(){return Math.random().toString(36).substr(2,8)}function Z2(e,t){return{usr:e.state,key:e.key,idx:t}}function k1(e,t,n,r){return n===void 0&&(n=null),zd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fu(t):t,{state:n,key:t&&t.key||r||wC()})}function w6(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,g=Vs.Pop,w=null,K=se();K==null&&(K=0,c.replaceState(zd({},c.state,{idx:K}),""));function se(){return(c.state||{idx:null}).idx}function fe(){g=Vs.Pop;let M=se(),p=M==null?null:M-K;K=M,w&&w({action:g,location:o.location,delta:p})}function Re(M,p){g=Vs.Push;let f=k1(o.location,M,p);n&&n(f,M),K=se()+1;let u=Z2(f,K),E=o.createHref(f);try{c.pushState(u,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(E)}a&&w&&w({action:g,location:o.location,delta:1})}function Q(M,p){g=Vs.Replace;let f=k1(o.location,M,p);n&&n(f,M),K=se();let u=Z2(f,K),E=o.createHref(f);c.replaceState(u,"",E),a&&w&&w({action:g,location:o.location,delta:0})}function z(M){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof M=="string"?M:w6(M);return f=f.replace(/ $/,"%20"),Yo(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let o={get action(){return g},get location(){return e(i,c)},listen(M){if(w)throw new Error("A history only accepts one active listener");return i.addEventListener(B2,fe),w=M,()=>{i.removeEventListener(B2,fe),w=null}},createHref(M){return t(i,M)},createURL:z,encodeLocation(M){let p=z(M);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:Re,replace:Q,go(M){return c.go(M)}};return o}var F2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(F2||(F2={}));function SC(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?fu(t):t,i=E6(r.pathname||"/",n);if(i==null)return null;let a=k6(e);EC(a);let c=null;for(let g=0;c==null&&g<a.length;++g){let w=LC(i);c=RC(a[g],w)}return c}function k6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,c,g)=>{let w={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};w.relativePath.startsWith("/")&&(Yo(w.relativePath.startsWith(r),'Absolute route path "'+w.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),w.relativePath=w.relativePath.slice(r.length));let K=Al([r,w.relativePath]),se=n.concat(w);a.children&&a.children.length>0&&(Yo(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+K+'".')),k6(a.children,t,se,K)),!(a.path==null&&!a.index)&&t.push({path:K,score:MC(K,a.index),routesMeta:se})};return e.forEach((a,c)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))i(a,c);else for(let w of S6(a.path))i(a,c,w)}),t}function S6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=S6(r.join("/")),g=[];return g.push(...c.map(w=>w===""?a:[a,w].join("/"))),i&&g.push(...c),g.map(w=>e.startsWith("/")&&w===""?"/":w)}function EC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _C=/^:[\w-]+$/,CC=3,TC=2,OC=1,PC=10,jC=-2,U2=e=>e==="*";function MC(e,t){let n=e.split("/"),r=n.length;return n.some(U2)&&(r+=jC),t&&(r+=TC),n.filter(i=>!U2(i)).reduce((i,a)=>i+(_C.test(a)?CC:a===""?OC:PC),r)}function IC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function RC(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let c=0;c<n.length;++c){let g=n[c],w=c===n.length-1,K=i==="/"?t:t.slice(i.length)||"/",se=AC({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},K);if(!se)return null;Object.assign(r,se.params);let fe=g.route;a.push({params:r,pathname:Al([i,se.pathname]),pathnameBase:UC(Al([i,se.pathnameBase])),route:fe}),se.pathnameBase!=="/"&&(i=Al([i,se.pathnameBase]))}return a}function AC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=DC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((K,se,fe)=>{let{paramName:Re,isOptional:Q}=se;if(Re==="*"){let o=g[fe]||"";c=a.slice(0,a.length-o.length).replace(/(.)\/+$/,"$1")}const z=g[fe];return Q&&!z?K[Re]=void 0:K[Re]=(z||"").replace(/%2F/g,"/"),K},{}),pathname:a,pathnameBase:c,pattern:e}}function DC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),x6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,g,w)=>(r.push({paramName:g,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function LC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E6(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function NC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fu(e):e;return{pathname:n?n.startsWith("/")?n:zC(n,t):t,search:VC(r),hash:WC(i)}}function zC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZC(e,t){let n=BC(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FC(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fu(e):(i=zd({},e),Yo(!i.pathname||!i.pathname.includes("?"),Xm("?","pathname","search",i)),Yo(!i.pathname||!i.pathname.includes("#"),Xm("#","pathname","hash",i)),Yo(!i.search||!i.search.includes("#"),Xm("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,g;if(c==null)g=n;else{let fe=t.length-1;if(!r&&c.startsWith("..")){let Re=c.split("/");for(;Re[0]==="..";)Re.shift(),fe-=1;i.pathname=Re.join("/")}g=fe>=0?t[fe]:"/"}let w=NC(i,g),K=c&&c!=="/"&&c.endsWith("/"),se=(a||c===".")&&n.endsWith("/");return!w.pathname.endsWith("/")&&(K||se)&&(w.pathname+="/"),w}const Al=e=>e.join("/").replace(/\/\/+/g,"/"),UC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _6=["post","put","patch","delete"];new Set(_6);const $C=["get",..._6];new Set($C);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}const yy=Tt.createContext(null),KC=Tt.createContext(null),ip=Tt.createContext(null),ap=Tt.createContext(null),Yl=Tt.createContext({outlet:null,matches:[],isDataRoute:!1}),C6=Tt.createContext(null);function sp(){return Tt.useContext(ap)!=null}function by(){return sp()||Yo(!1),Tt.useContext(ap).location}function T6(e){Tt.useContext(ip).static||Tt.useLayoutEffect(e)}function xy(){let{isDataRoute:e}=Tt.useContext(Yl);return e?s7():GC()}function GC(){sp()||Yo(!1);let e=Tt.useContext(yy),{basename:t,future:n,navigator:r}=Tt.useContext(ip),{matches:i}=Tt.useContext(Yl),{pathname:a}=by(),c=JSON.stringify(ZC(i,n.v7_relativeSplatPath)),g=Tt.useRef(!1);return T6(()=>{g.current=!0}),Tt.useCallback(function(K,se){if(se===void 0&&(se={}),!g.current)return;if(typeof K=="number"){r.go(K);return}let fe=FC(K,JSON.parse(c),a,se.relative==="path");e==null&&t!=="/"&&(fe.pathname=fe.pathname==="/"?t:Al([t,fe.pathname])),(se.replace?r.replace:r.push)(fe,se.state,se)},[t,r,c,a,e])}function YC(){let{matches:e}=Tt.useContext(Yl),t=e[e.length-1];return t?t.params:{}}function XC(e,t){return qC(e,t)}function qC(e,t,n,r){sp()||Yo(!1);let{navigator:i}=Tt.useContext(ip),{matches:a}=Tt.useContext(Yl),c=a[a.length-1],g=c?c.params:{};c&&c.pathname;let w=c?c.pathnameBase:"/";c&&c.route;let K=by(),se;if(t){var fe;let M=typeof t=="string"?fu(t):t;w==="/"||(fe=M.pathname)!=null&&fe.startsWith(w)||Yo(!1),se=M}else se=K;let Re=se.pathname||"/",Q=Re;if(w!=="/"){let M=w.replace(/^\//,"").split("/");Q="/"+Re.replace(/^\//,"").split("/").slice(M.length).join("/")}let z=SC(e,{pathname:Q}),o=n7(z&&z.map(M=>Object.assign({},M,{params:Object.assign({},g,M.params),pathname:Al([w,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?w:Al([w,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,r);return t&&o?Tt.createElement(ap.Provider,{value:{location:Bd({pathname:"/",search:"",hash:"",state:null,key:"default"},se),navigationType:Vs.Pop}},o):o}function JC(){let e=a7(),t=HC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Tt.createElement(Tt.Fragment,null,Tt.createElement("h2",null,"Unexpected Application Error!"),Tt.createElement("h3",{style:{fontStyle:"italic"}},t),n?Tt.createElement("pre",{style:i},n):null,null)}const QC=Tt.createElement(JC,null);class e7 extends Tt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Tt.createElement(Yl.Provider,{value:this.props.routeContext},Tt.createElement(C6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t7(e){let{routeContext:t,match:n,children:r}=e,i=Tt.useContext(yy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Tt.createElement(Yl.Provider,{value:t},r)}function n7(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if((a=n)!=null&&a.errors)e=n.matches;else return null}let c=e,g=(i=n)==null?void 0:i.errors;if(g!=null){let se=c.findIndex(fe=>fe.route.id&&(g==null?void 0:g[fe.route.id]));se>=0||Yo(!1),c=c.slice(0,Math.min(c.length,se+1))}let w=!1,K=-1;if(n&&r&&r.v7_partialHydration)for(let se=0;se<c.length;se++){let fe=c[se];if((fe.route.HydrateFallback||fe.route.hydrateFallbackElement)&&(K=se),fe.route.id){let{loaderData:Re,errors:Q}=n,z=fe.route.loader&&Re[fe.route.id]===void 0&&(!Q||Q[fe.route.id]===void 0);if(fe.route.lazy||z){w=!0,K>=0?c=c.slice(0,K+1):c=[c[0]];break}}}return c.reduceRight((se,fe,Re)=>{let Q,z=!1,o=null,M=null;n&&(Q=g&&fe.route.id?g[fe.route.id]:void 0,o=fe.route.errorElement||QC,w&&(K<0&&Re===0?(l7("route-fallback",!1),z=!0,M=null):K===Re&&(z=!0,M=fe.route.hydrateFallbackElement||null)));let p=t.concat(c.slice(0,Re+1)),f=()=>{let u;return Q?u=o:z?u=M:fe.route.Component?u=Tt.createElement(fe.route.Component,null):fe.route.element?u=fe.route.element:u=se,Tt.createElement(t7,{match:fe,routeContext:{outlet:se,matches:p,isDataRoute:n!=null},children:u})};return n&&(fe.route.ErrorBoundary||fe.route.errorElement||Re===0)?Tt.createElement(e7,{location:n.location,revalidation:n.revalidation,component:o,error:Q,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var O6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O6||{}),S0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(S0||{});function r7(e){let t=Tt.useContext(yy);return t||Yo(!1),t}function o7(e){let t=Tt.useContext(KC);return t||Yo(!1),t}function i7(e){let t=Tt.useContext(Yl);return t||Yo(!1),t}function P6(e){let t=i7(),n=t.matches[t.matches.length-1];return n.route.id||Yo(!1),n.route.id}function a7(){var e;let t=Tt.useContext(C6),n=o7(S0.UseRouteError),r=P6(S0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s7(){let{router:e}=r7(O6.UseNavigateStable),t=P6(S0.UseNavigateStable),n=Tt.useRef(!1);return T6(()=>{n.current=!0}),Tt.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Bd({fromRouteId:t},a)))},[e,t])}const V2={};function l7(e,t,n){!t&&!V2[e]&&(V2[e]=!0)}function S1(e){Yo(!1)}function c7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Vs.Pop,navigator:a,static:c=!1,future:g}=e;sp()&&Yo(!1);let w=t.replace(/^\/*/,"/"),K=Tt.useMemo(()=>({basename:w,navigator:a,static:c,future:Bd({v7_relativeSplatPath:!1},g)}),[w,g,a,c]);typeof r=="string"&&(r=fu(r));let{pathname:se="/",search:fe="",hash:Re="",state:Q=null,key:z="default"}=r,o=Tt.useMemo(()=>{let M=E6(se,w);return M==null?null:{location:{pathname:M,search:fe,hash:Re,state:Q,key:z},navigationType:i}},[w,se,fe,Re,Q,z,i]);return o==null?null:Tt.createElement(ip.Provider,{value:K},Tt.createElement(ap.Provider,{children:n,value:o}))}function u7(e){let{children:t,location:n}=e;return XC(E1(t),n)}new Promise(()=>{});function E1(e,t){t===void 0&&(t=[]);let n=[];return Tt.Children.forEach(e,(r,i)=>{if(!Tt.isValidElement(r))return;let a=[...t,i];if(r.type===Tt.Fragment){n.push.apply(n,E1(r.props.children,a));return}r.type!==S1&&Yo(!1),!r.props.index||!r.props.children||Yo(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=E1(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function d7(e,t){let n=_1(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const f7="6";try{window.__reactRouterVersion=f7}catch{}const h7="startTransition",W2=c8[h7];function p7(e){let{basename:t,children:n,future:r,window:i}=e,a=Tt.useRef();a.current==null&&(a.current=xC({window:i,v5Compat:!0}));let c=a.current,[g,w]=Tt.useState({action:c.action,location:c.location}),{v7_startTransition:K}=r||{},se=Tt.useCallback(fe=>{K&&W2?W2(()=>w(fe)):w(fe)},[w,K]);return Tt.useLayoutEffect(()=>c.listen(se),[c,se]),Tt.createElement(c7,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:c,future:r})}var H2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(H2||(H2={}));var $2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($2||($2={}));function m7(e){let t=Tt.useRef(_1(e)),n=Tt.useRef(!1),r=by(),i=Tt.useMemo(()=>d7(r.search,n.current?null:t.current),[r.search]),a=xy(),c=Tt.useCallback((g,w)=>{const K=_1(typeof g=="function"?g(i):g);n.current=!0,a("?"+K,w)},[a,i]);return[i,c]}var j6={};function g7(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var v7=g7,Cr=v7;function y7(e){return!!e&&typeof e.then=="function"}var po=y7;function b7(e,t){if(e!=null)return e;throw Cr(t??"Got unexpected null or undefined")}var ko=b7;function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class lp{getValue(){throw Cr("BaseLoadable")}toPromise(){throw Cr("BaseLoadable")}valueMaybe(){throw Cr("BaseLoadable")}valueOrThrow(){throw Cr(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Cr("BaseLoadable")}promiseOrThrow(){throw Cr(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Cr("BaseLoadable")}errorOrThrow(){throw Cr(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw Cr("BaseLoadable")}}class x7 extends lp{constructor(t){super(),Er(this,"state","hasValue"),Er(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return po(n)?Ul(n):nu(n)?n:nf(n)}catch(n){return po(n)?Ul(n.next(()=>this.map(t))):cp(n)}}}class w7 extends lp{constructor(t){super(),Er(this,"state","hasError"),Er(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class M6 extends lp{constructor(t){super(),Er(this,"state","loading"),Er(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Ul(this.contents.then(n=>{const r=t(n);if(nu(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(po(n))return n.then(()=>this.map(t).contents);throw n}))}}function nf(e){return Object.freeze(new x7(e))}function cp(e){return Object.freeze(new w7(e))}function Ul(e){return Object.freeze(new M6(e))}function I6(){return Object.freeze(new M6(new Promise(()=>{})))}function k7(e){return e.every(t=>t.state==="hasValue")?nf(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?cp(ko(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ul(Promise.all(e.map(t=>t.contents)))}function R6(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(i=>e[i])).map(i=>nu(i)?i:po(i)?Ul(i):nf(i)),r=k7(n);return Array.isArray(e)?r:r.map(i=>Object.getOwnPropertyNames(e).reduce((a,c,g)=>({...a,[c]:i[g]}),{}))}function nu(e){return e instanceof lp}const S7={of:e=>po(e)?Ul(e):nu(e)?e:nf(e),error:e=>cp(e),loading:()=>I6(),all:R6,isLoadable:nu};var Xl={loadableWithValue:nf,loadableWithError:cp,loadableWithPromise:Ul,loadableLoading:I6,loadableAll:R6,isLoadable:nu,RecoilLoadable:S7},E7=Xl.loadableWithValue,_7=Xl.loadableWithError,C7=Xl.loadableWithPromise,T7=Xl.loadableLoading,O7=Xl.loadableAll,P7=Xl.isLoadable,j7=Xl.RecoilLoadable,rf=Object.freeze({__proto__:null,loadableWithValue:E7,loadableWithError:_7,loadableWithPromise:C7,loadableLoading:T7,loadableAll:O7,isLoadable:P7,RecoilLoadable:j7});const C1={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function M7(e,t){var n,r;const i=(n=j6[e])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Cr(`process.env.${e} value must be 'true', 'false', or empty: ${i}`);t(i==="true")}function I7(e,t){var n;const r=(n=j6[e])===null||n===void 0?void 0:n.trim();r==null||r===""||t(r.split(/\s*,\s*|\s+/))}function R7(){var e;typeof process>"u"||((e=process)===null||e===void 0?void 0:e.env)!=null&&(M7("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",t=>{C1.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=t}),I7("RECOIL_GKS_ENABLED",t=>{t.forEach(n=>{C1.RECOIL_GKS_ENABLED.add(n)})}))}R7();var hu=C1;function up(e){return hu.RECOIL_GKS_ENABLED.has(e)}up.setPass=e=>{hu.RECOIL_GKS_ENABLED.add(e)};up.setFail=e=>{hu.RECOIL_GKS_ENABLED.delete(e)};up.clear=()=>{hu.RECOIL_GKS_ENABLED.clear()};var oo=up;function A7(e,t,{error:n}={}){return null}var D7=A7,wy=D7,qm,Jm,Qm;const L7=(qm=zr.createMutableSource)!==null&&qm!==void 0?qm:zr.unstable_createMutableSource,A6=(Jm=zr.useMutableSource)!==null&&Jm!==void 0?Jm:zr.unstable_useMutableSource,D6=(Qm=zr.useSyncExternalStore)!==null&&Qm!==void 0?Qm:zr.unstable_useSyncExternalStore;function N7(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((e=t==null?void 0:t.current)!==null&&e!==void 0?e:n.currentDispatcher).useSyncExternalStore!=null}function z7(){return oo("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:oo("recoil_sync_external_store")&&D6!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:oo("recoil_mutable_source")&&A6!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?oo("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:oo("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function B7(){return!1}var of={createMutableSource:L7,useMutableSource:A6,useSyncExternalStore:D6,currentRendererSupportsUseSyncExternalStore:N7,reactMode:z7,isFastRefreshEnabled:B7};class ky{constructor(t){Er(this,"key",void 0),this.key=t}toJSON(){return{key:this.key}}}class L6 extends ky{}class N6 extends ky{}function Z7(e){return e instanceof L6||e instanceof N6}var dp={AbstractRecoilValue:ky,RecoilState:L6,RecoilValueReadOnly:N6,isRecoilValue:Z7},F7=dp.AbstractRecoilValue,U7=dp.RecoilState,V7=dp.RecoilValueReadOnly,W7=dp.isRecoilValue,ru=Object.freeze({__proto__:null,AbstractRecoilValue:F7,RecoilState:U7,RecoilValueReadOnly:V7,isRecoilValue:W7});function H7(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()}var fp=H7;class z6{}const $7=new z6,Vl=new Map,Sy=new Map;function K7(e){return fp(e,t=>ko(Sy.get(t)))}function G7(e){if(Vl.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}function Y7(e){hu.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&G7(e.key),Vl.set(e.key,e);const t=e.set==null?new ru.RecoilValueReadOnly(e.key):new ru.RecoilState(e.key);return Sy.set(e.key,t),t}class B6 extends Error{}function X7(e){const t=Vl.get(e);if(t==null)throw new B6(`Missing definition for RecoilValue: "${e}""`);return t}function q7(e){return Vl.get(e)}const E0=new Map;function J7(e){var t;if(!oo("recoil_memory_managament_2020"))return;const n=Vl.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var r;Vl.delete(e),(r=Z6(e))===null||r===void 0||r(),E0.delete(e)}}function Q7(e,t){oo("recoil_memory_managament_2020")&&(t===void 0?E0.delete(e):E0.set(e,t))}function Z6(e){return E0.get(e)}var Bi={nodes:Vl,recoilValues:Sy,registerNode:Y7,getNode:X7,getNodeMaybe:q7,deleteNodeConfigIfPossible:J7,setConfigDeletionHandler:Q7,getConfigDeletionHandler:Z6,recoilValuesForKeys:K7,NodeMissingError:B6,DefaultValue:z6,DEFAULT_VALUE:$7};function e9(e,t){t()}var t9={enqueueExecution:e9};function n9(e,t){return t={exports:{}},e(t,t.exports),t.exports}var r9=n9(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},n={},r=5,i=Math.pow(2,r),a=i-1,c=i/2,g=i/4,w={},K=function(X){return function(){return X}},se=n.hash=function(be){var X=typeof be>"u"?"undefined":t(be);if(X==="number")return be;X!=="string"&&(be+="");for(var h=0,m=0,_=be.length;m<_;++m){var G=be.charCodeAt(m);h=(h<<5)-h+G|0}return h},fe=function(X){return X-=X>>1&1431655765,X=(X&858993459)+(X>>2&858993459),X=X+(X>>4)&252645135,X+=X>>8,X+=X>>16,X&127},Re=function(X,h){return h>>>X&a},Q=function(X){return 1<<X},z=function(X,h){return fe(X&h-1)},o=function(X,h,m,_){var G=_;if(!X){var $=_.length;G=new Array($);for(var ue=0;ue<$;++ue)G[ue]=_[ue]}return G[h]=m,G},M=function(X,h,m){var _=m.length-1,G=0,$=0,ue=m;if(X)G=$=h;else for(ue=new Array(_);G<h;)ue[$++]=m[G++];for(++G;G<=_;)ue[$++]=m[G++];return X&&(ue.length=_),ue},p=function(X,h,m,_){var G=_.length;if(X){for(var $=G;$>=h;)_[$--]=_[$];return _[h]=m,_}for(var ue=0,ie=0,pe=new Array(G+1);ue<h;)pe[ie++]=_[ue++];for(pe[h]=m;ue<G;)pe[++ie]=_[ue++];return pe},f=1,u=2,E=3,R=4,k={__hamt_isEmpty:!0},d=function(X){return X===k||X&&X.__hamt_isEmpty},L=function(X,h,m,_){return{type:f,edit:X,hash:h,key:m,value:_,_modify:le}},W=function(X,h,m){return{type:u,edit:X,hash:h,children:m,_modify:N}},Y=function(X,h,m){return{type:E,edit:X,mask:h,children:m,_modify:oe}},ee=function(X,h,m){return{type:R,edit:X,size:h,children:m,_modify:O}},S=function(X){return X===k||X.type===f||X.type===u},B=function(X,h,m,_,G){for(var $=[],ue=_,ie=0,pe=0;ue;++pe)ue&1&&($[pe]=G[ie++]),ue>>>=1;return $[h]=m,ee(X,ie+1,$)},he=function(X,h,m,_){for(var G=new Array(h-1),$=0,ue=0,ie=0,pe=_.length;ie<pe;++ie)if(ie!==m){var Pe=_[ie];Pe&&!d(Pe)&&(G[$++]=Pe,ue|=1<<ie)}return Y(X,ue,G)},ge=function be(X,h,m,_,G,$){if(m===G)return W(X,m,[$,_]);var ue=Re(h,m),ie=Re(h,G);return Y(X,Q(ue)|Q(ie),ue===ie?[be(X,h+r,m,_,G,$)]:ue<ie?[_,$]:[$,_])},ve=function(X,h,m,_,G,$,ue,ie){for(var pe=G.length,Pe=0;Pe<pe;++Pe){var Me=G[Pe];if(m(ue,Me.key)){var $e=Me.value,Ke=$($e);return Ke===$e?G:Ke===w?(--ie.value,M(X,Pe,G)):o(X,Pe,L(h,_,ue,Ke),G)}}var qe=$();return qe===w?G:(++ie.value,o(X,pe,L(h,_,ue,qe),G))},me=function(X,h){return X===h.edit},le=function(X,h,m,_,G,$,ue){if(h($,this.key)){var ie=_(this.value);return ie===this.value?this:ie===w?(--ue.value,k):me(X,this)?(this.value=ie,this):L(X,G,$,ie)}var pe=_();return pe===w?this:(++ue.value,ge(X,m,this.hash,this,G,L(X,G,$,pe)))},N=function(X,h,m,_,G,$,ue){if(G===this.hash){var ie=me(X,this),pe=ve(ie,X,h,this.hash,this.children,_,$,ue);return pe===this.children?this:pe.length>1?W(X,this.hash,pe):pe[0]}var Pe=_();return Pe===w?this:(++ue.value,ge(X,m,this.hash,this,G,L(X,G,$,Pe)))},oe=function(X,h,m,_,G,$,ue){var ie=this.mask,pe=this.children,Pe=Re(m,G),Me=Q(Pe),$e=z(ie,Me),Ke=ie&Me,qe=Ke?pe[$e]:k,Fe=qe._modify(X,h,m+r,_,G,$,ue);if(qe===Fe)return this;var ot=me(X,this),it=ie,ht=void 0;if(Ke&&d(Fe)){if(it&=~Me,!it)return k;if(pe.length<=2&&S(pe[$e^1]))return pe[$e^1];ht=M(ot,$e,pe)}else if(!Ke&&!d(Fe)){if(pe.length>=c)return B(X,Pe,Fe,ie,pe);it|=Me,ht=p(ot,$e,Fe,pe)}else ht=o(ot,$e,Fe,pe);return ot?(this.mask=it,this.children=ht,this):Y(X,it,ht)},O=function(X,h,m,_,G,$,ue){var ie=this.size,pe=this.children,Pe=Re(m,G),Me=pe[Pe],$e=(Me||k)._modify(X,h,m+r,_,G,$,ue);if(Me===$e)return this;var Ke=me(X,this),qe=void 0;if(d(Me)&&!d($e))++ie,qe=o(Ke,Pe,$e,pe);else if(!d(Me)&&d($e)){if(--ie,ie<=g)return he(X,ie,Pe,pe);qe=o(Ke,Pe,k,pe)}else qe=o(Ke,Pe,$e,pe);return Ke?(this.size=ie,this.children=qe,this):ee(X,ie,qe)};k._modify=function(be,X,h,m,_,G,$){var ue=m();return ue===w?k:(++$.value,L(be,_,G,ue))};function I(be,X,h,m,_){this._editable=be,this._edit=X,this._config=h,this._root=m,this._size=_}I.prototype.setTree=function(be,X){return this._editable?(this._root=be,this._size=X,this):be===this._root?this:new I(this._editable,this._edit,this._config,be,X)};var A=n.tryGetHash=function(be,X,h,m){for(var _=m._root,G=0,$=m._config.keyEq;;)switch(_.type){case f:return $(h,_.key)?_.value:be;case u:{if(X===_.hash)for(var ue=_.children,ie=0,pe=ue.length;ie<pe;++ie){var Pe=ue[ie];if($(h,Pe.key))return Pe.value}return be}case E:{var Me=Re(G,X),$e=Q(Me);if(_.mask&$e){_=_.children[z(_.mask,$e)],G+=r;break}return be}case R:{if(_=_.children[Re(G,X)],_){G+=r;break}return be}default:return be}};I.prototype.tryGetHash=function(be,X,h){return A(be,X,h,this)};var C=n.tryGet=function(be,X,h){return A(be,h._config.hash(X),X,h)};I.prototype.tryGet=function(be,X){return C(be,X,this)};var U=n.getHash=function(be,X,h){return A(void 0,be,X,h)};I.prototype.getHash=function(be,X){return U(be,X,this)},n.get=function(be,X){return A(void 0,X._config.hash(be),be,X)},I.prototype.get=function(be,X){return C(X,be,this)};var y=n.has=function(be,X,h){return A(w,be,X,h)!==w};I.prototype.hasHash=function(be,X){return y(be,X,this)};var T=n.has=function(be,X){return y(X._config.hash(be),be,X)};I.prototype.has=function(be){return T(be,this)};var s=function(X,h){return X===h};n.make=function(be){return new I(0,0,{keyEq:be&&be.keyEq||s,hash:be&&be.hash||se},k,0)},n.empty=n.make();var D=n.isEmpty=function(be){return be&&!!d(be._root)};I.prototype.isEmpty=function(){return D(this)};var b=n.modifyHash=function(be,X,h,m){var _={value:m._size},G=m._root._modify(m._editable?m._edit:NaN,m._config.keyEq,0,be,X,h,_);return m.setTree(G,_.value)};I.prototype.modifyHash=function(be,X,h){return b(h,be,X,this)};var v=n.modify=function(be,X,h){return b(be,h._config.hash(X),X,h)};I.prototype.modify=function(be,X){return v(X,be,this)};var x=n.setHash=function(be,X,h,m){return b(K(h),be,X,m)};I.prototype.setHash=function(be,X,h){return x(be,X,h,this)};var j=n.set=function(be,X,h){return x(h._config.hash(be),be,X,h)};I.prototype.set=function(be,X){return j(be,X,this)};var te=K(w),V=n.removeHash=function(be,X,h){return b(te,be,X,h)};I.prototype.removeHash=I.prototype.deleteHash=function(be,X){return V(be,X,this)};var F=n.remove=function(be,X){return V(X._config.hash(be),be,X)};I.prototype.remove=I.prototype.delete=function(be){return F(be,this)};var Z=n.beginMutation=function(be){return new I(be._editable+1,be._edit+1,be._config,be._root,be._size)};I.prototype.beginMutation=function(){return Z(this)};var ne=n.endMutation=function(be){return be._editable=be._editable&&be._editable-1,be};I.prototype.endMutation=function(){return ne(this)};var ce=n.mutate=function(be,X){var h=Z(X);return be(h),ne(h)};I.prototype.mutate=function(be){return ce(be,this)};var Se=function(X){return X&&de(X[0],X[1],X[2],X[3],X[4])},de=function(X,h,m,_,G){for(;m<X;){var $=h[m++];if($&&!d($))return _e($,_,[X,h,m,_,G])}return Se(G)},_e=function(X,h,m){switch(X.type){case f:return{value:h(X),rest:m};case u:case R:case E:var _=X.children;return de(_.length,_,0,h,m);default:return Se(m)}},we={done:!0};function J(be){this.v=be}J.prototype.next=function(){if(!this.v)return we;var be=this.v;return this.v=Se(be.rest),be},J.prototype[Symbol.iterator]=function(){return this};var xe=function(X,h){return new J(_e(X._root,h))},je=function(X){return[X.key,X.value]},Ue=n.entries=function(be){return xe(be,je)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return Ue(this)};var et=function(X){return X.key},He=n.keys=function(be){return xe(be,et)};I.prototype.keys=function(){return He(this)};var Le=function(X){return X.value},De=n.values=I.prototype.values=function(be){return xe(be,Le)};I.prototype.values=function(){return De(this)};var Be=n.fold=function(be,X,h){var m=h._root;if(m.type===f)return be(X,m.value,m.key);for(var _=[m.children],G=void 0;G=_.pop();)for(var $=0,ue=G.length;$<ue;){var ie=G[$++];ie&&ie.type&&(ie.type===f?X=be(X,ie.value,ie.key):_.push(ie.children))}return X};I.prototype.fold=function(be,X){return Be(be,X,this)};var Ze=n.forEach=function(be,X){return Be(function(h,m,_){return be(m,_,X)},null,X)};I.prototype.forEach=function(be){return Ze(be,this)};var ye=n.count=function(be){return be._size};I.prototype.count=function(){return ye(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class o9{constructor(t){Er(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return _y(this)}toMap(){return new Map(this._map)}}class Ey{constructor(t){if(Er(this,"_hamt",r9.empty.beginMutation()),t instanceof Ey){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,r]of t.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return _y(this)}toMap(){return new Map(this._hamt)}}function _y(e){return oo("recoil_hamt_2020")?new Ey(e):new o9(e)}var i9={persistentMap:_y},a9=i9.persistentMap,s9=Object.freeze({__proto__:null,persistentMap:a9});function l9(e,...t){const n=new Set;e:for(const r of e){for(const i of t)if(i.has(r))continue e;n.add(r)}return n}var dd=l9;function c9(e,t){const n=new Map;return e.forEach((r,i)=>{n.set(i,t(r,i))}),n}var _0=c9;function u9(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function d9(e){return{nodeDeps:_0(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:_0(e.nodeToNodeSubscriptions,t=>new Set(t))}}function eg(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:a}=n,c=i.get(e);if(c&&r&&c!==r.nodeDeps.get(e))return;i.set(e,t);const g=c==null?t:dd(t,c);for(const w of g)a.has(w)||a.set(w,new Set),ko(a.get(w)).add(e);if(c){const w=dd(c,t);for(const K of w){if(!a.has(K))return;const se=ko(a.get(K));se.delete(e),se.size===0&&a.delete(K)}}}function f9(e,t,n,r){var i,a,c,g;const w=n.getState();r===w.currentTree.version||r===((i=w.nextTree)===null||i===void 0?void 0:i.version)||((a=w.previousTree)===null||a===void 0||a.version);const K=n.getGraph(r);if(eg(e,t,K),r===((c=w.previousTree)===null||c===void 0?void 0:c.version)){const fe=n.getGraph(w.currentTree.version);eg(e,t,fe,K)}if(r===((g=w.previousTree)===null||g===void 0?void 0:g.version)||r===w.currentTree.version){var se;const fe=(se=w.nextTree)===null||se===void 0?void 0:se.version;if(fe!==void 0){const Re=n.getGraph(fe);eg(e,t,Re,K)}}}var af={cloneGraph:d9,graph:u9,saveDepsToStore:f9};let h9=0;const p9=()=>h9++;let m9=0;const g9=()=>m9++;let v9=0;const y9=()=>v9++;var hp={getNextTreeStateVersion:p9,getNextStoreID:g9,getNextComponentID:y9};const{persistentMap:K2}=s9,{graph:b9}=af,{getNextTreeStateVersion:F6}=hp;function U6(){const e=F6();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:K2(),nonvalidatedAtoms:K2()}}function x9(){const e=U6();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,b9()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var V6={makeEmptyTreeState:U6,makeEmptyStoreState:x9,getNextTreeStateVersion:F6};class W6{}function w9(){return new W6}var pp={RetentionZone:W6,retentionZone:w9};function k9(e,t){const n=new Set(e);return n.add(t),n}function S9(e,t){const n=new Set(e);return n.delete(t),n}function E9(e,t,n){const r=new Map(e);return r.set(t,n),r}function _9(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r}function C9(e,t){const n=new Map(e);return n.delete(t),n}function T9(e,t){const n=new Map(e);return t.forEach(r=>n.delete(r)),n}var H6={setByAddingToSet:k9,setByDeletingFromSet:S9,mapBySettingInMap:E9,mapByUpdatingInMap:_9,mapByDeletingFromMap:C9,mapByDeletingMultipleFromMap:T9};function*O9(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}var Cy=O9;function P9(e,t){return new Proxy(e,{get:(r,i)=>(!(i in r)&&i in t&&(r[i]=t[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var $6=P9;const{getNode:sf,getNodeMaybe:j9,recoilValuesForKeys:G2}=Bi,{RetentionZone:Y2}=pp,{setByAddingToSet:M9}=H6,I9=Object.freeze(new Set);class R9 extends Error{}function A9(e,t,n){if(!oo("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(a){let c=r.get(a);c||r.set(a,c=new Set),c.add(t)}if(n instanceof Y2)i(n);else if(Array.isArray(n))for(const a of n)i(a);return()=>{if(!oo("recoil_memory_managament_2020"))return;const{retention:a}=e.getState();function c(g){const w=a.nodesRetainedByZone.get(g);w==null||w.delete(t),w&&w.size===0&&a.nodesRetainedByZone.delete(g)}if(n instanceof Y2)c(n);else if(Array.isArray(n))for(const g of n)c(g)}}function Ty(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const a=sf(n),c=A9(e,n,a.retainedBy),g=a.init(e,t,r);i.nodeCleanupFunctions.set(n,()=>{g(),c()})}function D9(e,t,n){Ty(e,e.getState().currentTree,t,n)}function L9(e,t){var n;const r=e.getState();(n=r.nodeCleanupFunctions.get(t))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(t)}function N9(e,t,n){return Ty(e,t,n,"get"),sf(n).get(e,t)}function K6(e,t,n){return sf(n).peek(e,t)}function z9(e,t,n){var r;const i=j9(t);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:M9(e.dirtyAtoms,t)}}function B9(e,t,n,r){const i=sf(n);if(i.set==null)throw new R9(`Attempt to set read-only RecoilValue: ${n}`);const a=i.set;return Ty(e,t,n,"set"),a(e,t,r)}function Z9(e,t,n){const r=e.getState(),i=e.getGraph(t.version),a=sf(n).nodeType;return $6({type:a},{loadable:()=>K6(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>a==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var c;return G2((c=i.nodeDeps.get(n))!==null&&c!==void 0?c:[])},subscribers:()=>{var c,g;return{nodes:G2(Cy(G6(e,t,new Set([n])),w=>w!==n)),components:fp((c=(g=r.nodeToComponentSubscriptions.get(n))===null||g===void 0?void 0:g.values())!==null&&c!==void 0?c:[],([w])=>({name:w}))}}})}function G6(e,t,n){const r=new Set,i=Array.from(n),a=e.getGraph(t.version);for(let g=i.pop();g;g=i.pop()){var c;r.add(g);const w=(c=a.nodeToNodeSubscriptions.get(g))!==null&&c!==void 0?c:I9;for(const K of w)r.has(K)||i.push(K)}return r}var al={getNodeLoadable:N9,peekNodeLoadable:K6,setNodeValue:B9,initializeNode:D9,cleanUpNode:L9,setUnvalidatedAtomValue_DEPRECATED:z9,peekNodeInfo:Z9,getDownstreamNodes:G6};let Y6=null;function F9(e){Y6=e}function U9(){var e;(e=Y6)===null||e===void 0||e()}var X6={setInvalidateMemoizedSnapshot:F9,invalidateMemoizedSnapshot:U9};const{getDownstreamNodes:V9,getNodeLoadable:q6,setNodeValue:W9}=al,{getNextComponentID:H9}=hp,{getNode:$9,getNodeMaybe:J6}=Bi,{DefaultValue:Oy}=Bi,{reactMode:K9}=of,{AbstractRecoilValue:G9,RecoilState:Y9,RecoilValueReadOnly:X9,isRecoilValue:q9}=ru,{invalidateMemoizedSnapshot:J9}=X6;function Q9(e,{key:t},n=e.getState().currentTree){var r,i;const a=e.getState();n.version===a.currentTree.version||n.version===((r=a.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=a.previousTree)===null||i===void 0||i.version);const c=q6(e,n,t);return c.state==="loading"&&c.contents.catch(()=>{}),c}function eT(e,t){const n=e.clone();return t.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Oy?n.delete(i):n.set(i,r)}),n}function tT(e,t,{key:n},r){if(typeof r=="function"){const i=q6(e,t,n);if(i.state==="loading"){const a=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Cr(a)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function nT(e,t,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:a}=n,c=tT(e,t,i,a),g=W9(e,t,i.key,c);for(const[w,K]of g.entries())T1(t,w,K)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:a}=n;T1(t,i,a)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;t.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:a}=n,c=J6(i);c==null||(r=c.invalidate)===null||r===void 0||r.call(c,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,a),t.dirtyAtoms.add(i)}else wy(`Unknown action ${n.type}`)}function T1(e,t,n){n.state==="hasValue"&&n.contents instanceof Oy?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Q6(e,t){e.replaceState(n=>{const r=e4(n);for(const i of t)nT(e,r,i);return t4(e,r),J9(),r})}function mp(e,t){if(fd.length){const n=fd[fd.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Q6(e,[t])}const fd=[];function rT(){const e=new Map;return fd.push(e),()=>{for(const[t,n]of e)Q6(t,n);fd.pop()}}function e4(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function t4(e,t){const n=V9(e,t,t.dirtyAtoms);for(const a of n){var r,i;(r=J6(a))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,t)}}function n4(e,t,n){mp(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function oT(e,t,n){if(n instanceof Oy)return n4(e,t,n);mp(e,{type:"setLoadable",recoilValue:t,loadable:n})}function iT(e,t){mp(e,{type:"markModified",recoilValue:t})}function aT(e,t,n){mp(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function sT(e,{key:t},n,r=null){const i=H9(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),ko(a.nodeToComponentSubscriptions.get(t)).set(i,[r??"<not captured>",n]);const c=K9();if(c.early&&(c.mode==="LEGACY"||c.mode==="MUTABLE_SOURCE")){const g=e.getState().nextTree;g&&g.dirtyAtoms.has(t)&&n(g)}return{release:()=>{const g=e.getState(),w=g.nodeToComponentSubscriptions.get(t);w===void 0||!w.has(i)||(w.delete(i),w.size===0&&g.nodeToComponentSubscriptions.delete(t))}}}function lT(e,t){var n;const{currentTree:r}=e.getState(),i=$9(t.key);(n=i.clearCache)===null||n===void 0||n.call(i,e,r)}var Xa={RecoilValueReadOnly:X9,AbstractRecoilValue:G9,RecoilState:Y9,getRecoilValueAsLoadable:Q9,setRecoilValue:n4,setRecoilValueLoadable:oT,markRecoilValueModified:iT,setUnvalidatedRecoilValue:aT,subscribeToRecoilValue:sT,isRecoilValue:q9,applyAtomValueWrites:eT,batchStart:rT,writeLoadableToTreeState:T1,invalidateDownstreams:t4,copyTreeState:e4,refreshRecoilValue:lT};function cT(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1}var uT=cT;const{cleanUpNode:dT}=al,{deleteNodeConfigIfPossible:fT,getNode:r4}=Bi,{RetentionZone:o4}=pp,hT=12e4,i4=new Set;function a4(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const c of t)if(c instanceof o4)for(const g of vT(n,c))i.add(g);else i.add(c);const a=pT(e,i);for(const c of a)gT(e,r,c)}function pT(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,c=new Set;return g(t),a;function g(w){const K=new Set,se=mT(e,r,w,a,c);for(const z of se){var fe;if(r4(z).retainedBy==="recoilRoot"){c.add(z);continue}if(((fe=n.retention.referenceCounts.get(z))!==null&&fe!==void 0?fe:0)>0){c.add(z);continue}if(s4(z).some(M=>n.retention.referenceCounts.get(M))){c.add(z);continue}const o=i.nodeToNodeSubscriptions.get(z);if(o&&uT(o,M=>c.has(M))){c.add(z);continue}a.add(z),K.add(z)}const Re=new Set;for(const z of K)for(const o of(Q=i.nodeDeps.get(z))!==null&&Q!==void 0?Q:i4){var Q;a.has(o)||Re.add(o)}Re.size&&g(Re)}}function mT(e,t,n,r,i){const a=e.getGraph(t.version),c=[],g=new Set;for(;n.size>0;)w(ko(n.values().next().value));return c;function w(K){if(r.has(K)||i.has(K)){n.delete(K);return}if(g.has(K))return;const se=a.nodeToNodeSubscriptions.get(K);if(se)for(const fe of se)w(fe);g.add(K),n.delete(K),c.push(K)}}function gT(e,t,n){if(!oo("recoil_memory_managament_2020"))return;dT(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=s4(n);for(const w of i){var a;(a=r.retention.nodesRetainedByZone.get(w))===null||a===void 0||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const c=r.graphsByVersion.get(t.version);if(c){const w=c.nodeDeps.get(n);if(w!==void 0){c.nodeDeps.delete(n);for(const K of w){var g;(g=c.nodeToNodeSubscriptions.get(K))===null||g===void 0||g.delete(n)}}c.nodeToNodeSubscriptions.delete(n)}fT(n)}function vT(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:i4}function s4(e){const t=r4(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof o4?[t]:t}function yT(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):a4(e,new Set([t]))}function bT(e,t,n){var r;if(!oo("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,a=((r=i.get(t))!==null&&r!==void 0?r:0)+n;a===0?l4(e,t):i.set(t,a)}function l4(e,t){if(!oo("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),yT(e,t)}function xT(e){if(!oo("recoil_memory_managament_2020"))return;const t=e.getState();a4(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function wT(e){return e===void 0?"recoilRoot":e}var ql={SUSPENSE_TIMEOUT_MS:hT,updateRetainCount:bT,updateRetainCountToZero:l4,releaseScheduledRetainablesNow:xT,retainedByOptionWithDefault:wT};const{unstable_batchedUpdates:kT}=bC;var ST={unstable_batchedUpdates:kT};const{unstable_batchedUpdates:ET}=ST;var _T={unstable_batchedUpdates:ET};const{batchStart:CT}=Xa,{unstable_batchedUpdates:TT}=_T;let Py=TT||(e=>e());const OT=e=>{Py=e},PT=()=>Py,jT=e=>{Py(()=>{let t=()=>{};try{t=CT(),e()}finally{t()}})};var gp={getBatcher:PT,setBatcher:OT,batchUpdates:jT};function*MT(e){for(const t of e)for(const n of t)yield n}var c4=MT;const u4=typeof Window>"u"||typeof window>"u",IT=e=>!u4&&(e===window||e instanceof Window),RT=typeof navigator<"u"&&navigator.product==="ReactNative";var vp={isSSR:u4,isReactNative:RT,isWindow:IT};function AT(e,t){let n;return(...r)=>{n||(n={});const i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}}function DT(e,t){let n,r;return(...i)=>{const a=t(...i);return n===a||(n=a,r=e(...i)),r}}function LT(e,t){let n,r;return[(...c)=>{const g=t(...c);return n===g||(n=g,r=e(...c)),r},()=>{n=null}]}var NT={memoizeWithArgsHash:AT,memoizeOneWithArgsHash:DT,memoizeOneWithArgsHashAndInvalidation:LT};const{batchUpdates:O1}=gp,{initializeNode:zT,peekNodeInfo:BT}=al,{graph:ZT}=af,{getNextStoreID:FT}=hp,{DEFAULT_VALUE:UT,recoilValues:X2,recoilValuesForKeys:q2}=Bi,{AbstractRecoilValue:VT,getRecoilValueAsLoadable:WT,setRecoilValue:J2,setUnvalidatedRecoilValue:HT}=Xa,{updateRetainCount:Nh}=ql,{setInvalidateMemoizedSnapshot:$T}=X6,{getNextTreeStateVersion:KT,makeEmptyStoreState:GT}=V6,{isSSR:YT}=vp,{memoizeOneWithArgsHashAndInvalidation:XT}=NT;class yp{constructor(t,n){Er(this,"_store",void 0),Er(this,"_refCount",1),Er(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),WT(this._store,r))),Er(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),Er(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const c=this._store.getState().currentTree;return q2(c.dirtyAtoms)}const i=this._store.getState().knownAtoms,a=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?X2.values():r.isInitialized===!0?q2(c4([i,a])):Cy(X2.values(),({key:c})=>!i.has(c)&&!a.has(c))}),Er(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),BT(this._store,this._store.getState().currentTree,r))),Er(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new P1(this,O1);return r(i),i}),Er(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new P1(this,O1);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:FT(),parentStoreID:n,getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{const i=t.graphsByVersion;if(i.has(r))return ko(i.get(r));const a=ZT();return i.set(r,a),a},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Cr("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)zT(this._store,r,"get"),Nh(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){YT||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!oo("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){oo("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function d4(e,t,n=!1){const r=e.getState(),i=n?KT():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(fp(r.nodeCleanupFunctions.entries(),([a])=>[a,()=>{}]))}}function qT(e){const t=new yp(GT());return e!=null?t.map(e):t}const[Q2,f4]=XT((e,t)=>{var n;const r=e.getState(),i=t==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:ko(r.previousTree);return new yp(d4(e,i),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((r=e.getState().previousTree)===null||r===void 0?void 0:r.version)});$T(f4);function JT(e,t="latest"){const n=Q2(e,t);return n.isRetained()?n:(f4(),Q2(e,t))}class P1 extends yp{constructor(t,n){super(d4(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0),t.getStoreID()),Er(this,"_batch",void 0),Er(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const a=this.getStore_INTERNAL();this._batch(()=>{Nh(a,r.key,1),J2(this.getStore_INTERNAL(),r,i)})}),Er(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Nh(i,r.key,1),J2(this.getStore_INTERNAL(),r,UT)})}),Er(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();O1(()=>{for(const[a,c]of r.entries())Nh(i,a,1),HT(i,new VT(a),c)})}),this._batch=n}}var bp={Snapshot:yp,MutableSnapshot:P1,freshSnapshot:qT,cloneSnapshot:JT},QT=bp.Snapshot,eO=bp.MutableSnapshot,tO=bp.freshSnapshot,nO=bp.cloneSnapshot,xp=Object.freeze({__proto__:null,Snapshot:QT,MutableSnapshot:eO,freshSnapshot:tO,cloneSnapshot:nO});function rO(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}var oO=rO;const{useRef:iO}=zr;function aO(e){const t=iO(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var ex=aO;const{getNextTreeStateVersion:sO,makeEmptyStoreState:h4}=V6,{cleanUpNode:lO,getDownstreamNodes:cO,initializeNode:uO,setNodeValue:dO,setUnvalidatedAtomValue_DEPRECATED:fO}=al,{graph:hO}=af,{cloneGraph:pO}=af,{getNextStoreID:p4}=hp,{createMutableSource:tg,reactMode:m4}=of,{applyAtomValueWrites:mO}=Xa,{releaseScheduledRetainablesNow:g4}=ql,{freshSnapshot:gO}=xp,{useCallback:vO,useContext:v4,useEffect:j1,useMemo:yO,useRef:bO,useState:xO}=zr;function Nu(){throw Cr("This component must be used inside a <RecoilRoot> component.")}const y4=Object.freeze({storeID:p4(),getState:Nu,replaceState:Nu,getGraph:Nu,subscribeToTransactions:Nu,addTransactionMetadata:Nu});let M1=!1;function tx(e){if(M1)throw Cr("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){oo("recoil_memory_managament_2020")&&oo("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&g4(e);const n=t.currentTree.version,r=sO();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,pO(ko(t.graphsByVersion.get(n))))}}const b4=zr.createContext({current:y4}),wp=()=>v4(b4),x4=zr.createContext(null);function wO(){return v4(x4)}function jy(e,t,n){const r=cO(e,n,n.dirtyAtoms);for(const i of r){const a=t.nodeToComponentSubscriptions.get(i);if(a)for(const[c,[g,w]]of a)w(n)}}function w4(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,a]of t.nodeTransactionSubscriptions)if(r.has(i))for(const[c,g]of a)g(e);for(const[i,a]of t.transactionSubscriptions)a(e);(!m4().early||t.suspendedComponentResolvers.size>0)&&(jy(e,t,n),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function kO(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,w4(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):wy("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,oo("recoil_memory_managament_2020")&&n==null&&g4(e)}finally{t.commitDepth--}}function SO({setNotifyBatcherOfChange:e}){const t=wp(),[,n]=xO([]);return e(()=>n({})),j1(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),j1(()=>{t9.enqueueExecution("Batcher",()=>{kO(t.current)})}),null}function EO(e,t){const n=h4();return t({set:(r,i)=>{const a=n.currentTree,c=dO(e,a,r.key,i),g=new Set(c.keys()),w=a.nonvalidatedAtoms.clone();for(const K of g)w.delete(K);n.currentTree={...a,dirtyAtoms:oO(a.dirtyAtoms,g),atomValues:mO(a.atomValues,c),nonvalidatedAtoms:w}},setUnvalidatedAtomValues:r=>{r.forEach((i,a)=>{n.currentTree=fO(n.currentTree,a,i)})}}),n}function _O(e){const t=gO(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let nx=0;function CO({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let i;const a=Q=>{const z=i.current.graphsByVersion;if(z.has(Q))return ko(z.get(Q));const o=hO();return z.set(Q,o),o},c=(Q,z)=>{if(z==null){const{transactionSubscriptions:o}=fe.current.getState(),M=nx++;return o.set(M,Q),{release:()=>{o.delete(M)}}}else{const{nodeTransactionSubscriptions:o}=fe.current.getState();o.has(z)||o.set(z,new Map);const M=nx++;return ko(o.get(z)).set(M,Q),{release:()=>{const p=o.get(z);p&&(p.delete(M),p.size===0&&o.delete(z))}}}},g=Q=>{tx(fe.current);for(const z of Object.keys(Q))ko(fe.current.getState().nextTree).transactionMetadata[z]=Q[z]},w=Q=>{tx(fe.current);const z=ko(i.current.nextTree);let o;try{M1=!0,o=Q(z)}finally{M1=!1}o!==z&&(i.current.nextTree=o,m4().early&&jy(fe.current,i.current,o),ko(K.current)())},K=bO(null),se=vO(Q=>{K.current=Q},[K]),fe=ex(()=>n??{storeID:p4(),getState:()=>i.current,replaceState:w,getGraph:a,subscribeToTransactions:c,addTransactionMetadata:g});n!=null&&(fe.current=n),i=ex(()=>e!=null?EO(fe.current,e):t!=null?_O(t):h4());const Re=yO(()=>tg==null?void 0:tg(i,()=>i.current.currentTree.version),[i]);return j1(()=>{const Q=fe.current;for(const z of new Set(Q.getState().knownAtoms))uO(Q,z,"get");return()=>{for(const z of Q.getState().knownAtoms)lO(Q,z)}},[fe]),zr.createElement(b4.Provider,{value:fe},zr.createElement(x4.Provider,{value:Re},zr.createElement(SO,{setNotifyBatcherOfChange:se}),r))}function TO(e){const{override:t,...n}=e,r=wp();return t===!1&&r.current!==y4?e.children:zr.createElement(CO,n)}function OO(){return wp().current.storeID}var ys={RecoilRoot:TO,useStoreRef:wp,useRecoilMutableSource:wO,useRecoilStoreID:OO,notifyComponents_FOR_TESTING:jy,sendEndOfBatchNotifications_FOR_TESTING:w4};function PO(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var jO=PO;const{useEffect:MO,useRef:IO}=zr;function RO(e){const t=IO();return MO(()=>{t.current=e}),t.current}var k4=RO;const{useStoreRef:AO}=ys,{SUSPENSE_TIMEOUT_MS:DO}=ql,{updateRetainCount:zu}=ql,{RetentionZone:LO}=pp,{useEffect:NO,useRef:zO}=zr,{isSSR:rx}=vp;function BO(e){if(oo("recoil_memory_managament_2020"))return ZO(e)}function ZO(e){const n=(Array.isArray(e)?e:[e]).map(c=>c instanceof LO?c:c.key),r=AO();NO(()=>{if(!oo("recoil_memory_managament_2020"))return;const c=r.current;if(i.current&&!rx)window.clearTimeout(i.current),i.current=null;else for(const g of n)zu(c,g,1);return()=>{for(const g of n)zu(c,g,-1)}},[r,...n]);const i=zO(),a=k4(n);if(!rx&&(a===void 0||!jO(a,n))){const c=r.current;for(const g of n)zu(c,g,1);if(a)for(const g of a)zu(c,g,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const g of n)zu(c,g,-1)},DO)}}var My=BO;function FO(){return"<component name not available>"}var lf=FO;const{batchUpdates:UO}=gp,{DEFAULT_VALUE:S4}=Bi,{currentRendererSupportsUseSyncExternalStore:VO,reactMode:pu,useMutableSource:WO,useSyncExternalStore:HO}=of,{useRecoilMutableSource:$O,useStoreRef:qa}=ys,{AbstractRecoilValue:I1,getRecoilValueAsLoadable:cf,setRecoilValue:C0,setUnvalidatedRecoilValue:KO,subscribeToRecoilValue:ou}=Xa,{useCallback:Ni,useEffect:iu,useMemo:E4,useRef:hd,useState:Iy}=zr,{setByAddingToSet:GO}=H6,{isSSR:YO}=vp;function Ry(e,t,n){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{const a=n.current.getState().suspendedComponentResolvers;a.add(i),YO&&po(e.contents)&&e.contents.finally(()=>{a.delete(i)})}):e.state==="hasError"?e.contents:Cr(`Invalid value of loadable atom "${t.key}"`)}function XO(){const e=lf(),t=qa(),[,n]=Iy([]),r=hd(new Set);r.current=new Set;const i=hd(new Set),a=hd(new Map),c=Ni(w=>{const K=a.current.get(w);K&&(K.release(),a.current.delete(w))},[a]),g=Ni((w,K)=>{a.current.has(K)&&n([])},[]);return iu(()=>{const w=t.current;dd(r.current,i.current).forEach(K=>{if(a.current.has(K))return;const se=ou(w,new I1(K),Re=>g(Re,K),e);a.current.set(K,se),w.getState().nextTree?w.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{g(w.getState(),K)}):g(w.getState(),K)}),dd(i.current,r.current).forEach(K=>{c(K)}),i.current=r.current}),iu(()=>{const w=a.current;return dd(r.current,new Set(w.keys())).forEach(K=>{const se=ou(t.current,new I1(K),fe=>g(fe,K),e);w.set(K,se)}),()=>w.forEach((K,se)=>c(se))},[e,t,c,g]),E4(()=>{function w(z){return o=>{C0(t.current,z,o)}}function K(z){return()=>C0(t.current,z,S4)}function se(z){var o;r.current.has(z.key)||(r.current=GO(r.current,z.key));const M=t.current.getState();return cf(t.current,z,pu().early&&(o=M.nextTree)!==null&&o!==void 0?o:M.currentTree)}function fe(z){const o=se(z);return Ry(o,z,t)}function Re(z){return[fe(z),w(z)]}function Q(z){return[se(z),w(z)]}return{getRecoilValue:fe,getRecoilValueLoadable:se,getRecoilState:Re,getRecoilStateLoadable:Q,getSetRecoilState:w,getResetRecoilState:K}},[r,t])}const qO={current:0};function JO(e){const t=qa(),n=lf(),r=Ni(()=>{var g;const w=t.current,K=w.getState(),se=pu().early&&(g=K.nextTree)!==null&&g!==void 0?g:K.currentTree;return{loadable:cf(w,e,se),key:e.key}},[t,e]),i=Ni(g=>{let w;return()=>{var K,se;const fe=g();return(K=w)!==null&&K!==void 0&&K.loadable.is(fe.loadable)&&((se=w)===null||se===void 0?void 0:se.key)===fe.key?w:(w=fe,fe)}},[]),a=E4(()=>i(r),[r,i]),c=Ni(g=>{const w=t.current;return ou(w,e,g,n).release},[t,e,n]);return HO(c,a,a).loadable}function QO(e){const t=qa(),n=Ni(()=>{var K;const se=t.current,fe=se.getState(),Re=pu().early&&(K=fe.nextTree)!==null&&K!==void 0?K:fe.currentTree;return cf(se,e,Re)},[t,e]),r=Ni(()=>n(),[n]),i=lf(),a=Ni((K,se)=>{const fe=t.current;return ou(fe,e,()=>{if(!oo("recoil_suppress_rerender_in_callback"))return se();const Q=n();w.current.is(Q)||se(),w.current=Q},i).release},[t,e,i,n]),c=$O();if(c==null)throw Cr("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const g=WO(c,r,a),w=hd(g);return iu(()=>{w.current=g}),g}function R1(e){const t=qa(),n=lf(),r=Ni(()=>{var w;const K=t.current,se=K.getState(),fe=pu().early&&(w=se.nextTree)!==null&&w!==void 0?w:se.currentTree;return cf(K,e,fe)},[t,e]),i=Ni(()=>({loadable:r(),key:e.key}),[r,e.key]),a=Ni(w=>{const K=i();return w.loadable.is(K.loadable)&&w.key===K.key?w:K},[i]);iu(()=>{const w=ou(t.current,e,K=>{g(a)},n);return g(a),w.release},[n,e,t,a]);const[c,g]=Iy(i);return c.key!==e.key?i().loadable:c.loadable}function eP(e){const t=qa(),[,n]=Iy([]),r=lf(),i=Ni(()=>{var g;const w=t.current,K=w.getState(),se=pu().early&&(g=K.nextTree)!==null&&g!==void 0?g:K.currentTree;return cf(w,e,se)},[t,e]),a=i(),c=hd(a);return iu(()=>{c.current=a}),iu(()=>{const g=t.current,w=g.getState(),K=ou(g,e,fe=>{var Re;if(!oo("recoil_suppress_rerender_in_callback"))return n([]);const Q=i();(Re=c.current)!==null&&Re!==void 0&&Re.is(Q)||n(Q),c.current=Q},r);if(w.nextTree)g.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{c.current=null,n([])});else{var se;if(!oo("recoil_suppress_rerender_in_callback"))return n([]);const fe=i();(se=c.current)!==null&&se!==void 0&&se.is(fe)||n(fe),c.current=fe}return K.release},[r,i,e,t]),a}function Ay(e){return oo("recoil_memory_managament_2020")&&My(e),{TRANSITION_SUPPORT:R1,SYNC_EXTERNAL_STORE:VO()?JO:R1,MUTABLE_SOURCE:QO,LEGACY:eP}[pu().mode](e)}function _4(e){const t=qa(),n=Ay(e);return Ry(n,e,t)}function kp(e){const t=qa();return Ni(n=>{C0(t.current,e,n)},[t,e])}function tP(e){const t=qa();return Ni(()=>{C0(t.current,e,S4)},[t,e])}function nP(e){return[_4(e),kp(e)]}function rP(e){return[Ay(e),kp(e)]}function oP(){const e=qa();return(t,n={})=>{UO(()=>{e.current.addTransactionMetadata(n),t.forEach((r,i)=>KO(e.current,new I1(i),r))})}}function C4(e){return oo("recoil_memory_managament_2020")&&My(e),R1(e)}function T4(e){const t=qa(),n=C4(e);return Ry(n,e,t)}function iP(e){return[T4(e),kp(e)]}var aP={recoilComponentGetRecoilValueCount_FOR_TESTING:qO,useRecoilInterface:XO,useRecoilState:nP,useRecoilStateLoadable:rP,useRecoilValue:_4,useRecoilValueLoadable:Ay,useResetRecoilState:tP,useSetRecoilState:kp,useSetUnvalidatedAtomValues:oP,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:C4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:T4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:iP};function sP(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n}var lP=sP;function cP(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}var uP=cP;function dP(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t}var fP=dP;const{batchUpdates:hP}=gp,{DEFAULT_VALUE:pP,getNode:O4,nodes:mP}=Bi,{useStoreRef:Dy}=ys,{AbstractRecoilValue:gP,setRecoilValueLoadable:vP}=Xa,{SUSPENSE_TIMEOUT_MS:yP}=ql,{cloneSnapshot:T0}=xp,{useCallback:Sp,useEffect:P4,useRef:ox,useState:bP}=zr,{isSSR:ix}=vp;function Ep(e){const t=Dy();P4(()=>t.current.subscribeToTransactions(e).release,[e,t])}function ax(e){const t=e.atomValues.toMap(),n=_0(lP(t,(r,i)=>{const c=O4(i).persistence_UNSTABLE;return c!=null&&c.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return fP(e.nonvalidatedAtoms.toMap(),n)}function xP(e){Ep(Sp(t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=ax(r),a=ax(n),c=_0(mP,w=>{var K,se,fe,Re;return{persistence_UNSTABLE:{type:(K=(se=w.persistence_UNSTABLE)===null||se===void 0?void 0:se.type)!==null&&K!==void 0?K:"none",backButton:(fe=(Re=w.persistence_UNSTABLE)===null||Re===void 0?void 0:Re.backButton)!==null&&fe!==void 0?fe:!1}}}),g=uP(r.dirtyAtoms,w=>i.has(w)||a.has(w));e({atomValues:i,previousAtomValues:a,atomInfo:c,modifiedAtoms:g,transactionMetadata:{...r.transactionMetadata}})},[e]))}function wP(e){Ep(Sp(t=>{const n=T0(t,"latest"),r=T0(t,"previous");e({snapshot:n,previousSnapshot:r})},[e]))}function kP(){const e=Dy(),[t,n]=bP(()=>T0(e.current)),r=k4(t),i=ox(),a=ox();if(Ep(Sp(g=>n(T0(g)),[])),P4(()=>{const g=t.retain();if(i.current&&!ix){var w;window.clearTimeout(i.current),i.current=null,(w=a.current)===null||w===void 0||w.call(a),a.current=null}return()=>{window.setTimeout(g,10)}},[t]),r!==t&&!ix){if(i.current){var c;window.clearTimeout(i.current),i.current=null,(c=a.current)===null||c===void 0||c.call(a),a.current=null}a.current=t.retain(),i.current=window.setTimeout(()=>{var g;i.current=null,(g=a.current)===null||g===void 0||g.call(a),a.current=null},yP)}return t}function j4(e,t){var n;const r=e.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;hP(()=>{const c=new Set;for(const K of[i.atomValues.keys(),a.atomValues.keys()])for(const se of K){var g,w;((g=i.atomValues.get(se))===null||g===void 0?void 0:g.contents)!==((w=a.atomValues.get(se))===null||w===void 0?void 0:w.contents)&&O4(se).shouldRestoreFromSnapshots&&c.add(se)}c.forEach(K=>{vP(e,new gP(K),a.atomValues.has(K)?ko(a.atomValues.get(K)):pP)}),e.replaceState(K=>({...K,stateID:t.getID()}))})}function SP(){const e=Dy();return Sp(t=>j4(e.current,t),[e])}var M4={useRecoilSnapshot:kP,gotoSnapshot:j4,useGotoRecoilSnapshot:SP,useRecoilTransactionObserver:wP,useTransactionObservation_DEPRECATED:xP,useTransactionSubscription_DEPRECATED:Ep};const{peekNodeInfo:EP}=al,{useStoreRef:_P}=ys;function CP(){const e=_P();return({key:t})=>EP(e.current,e.current.getState().currentTree,t)}var TP=CP;const{reactMode:OP}=of,{RecoilRoot:PP,useStoreRef:jP}=ys,{useMemo:MP}=zr;function IP(){OP().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=jP().current;return MP(()=>{function t({children:n}){return zr.createElement(PP,{store_INTERNAL:e},n)}return t},[e])}var RP=IP;const{loadableWithValue:AP}=rf,{initializeNode:DP}=al,{DEFAULT_VALUE:LP,getNode:NP}=Bi,{copyTreeState:zP,getRecoilValueAsLoadable:BP,invalidateDownstreams:ZP,writeLoadableToTreeState:FP}=Xa;function sx(e){return NP(e.key).nodeType==="atom"}class UP{constructor(t,n){Er(this,"_store",void 0),Er(this,"_treeState",void 0),Er(this,"_changes",void 0),Er(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!sx(r))throw Cr("Reading selectors within atomicUpdate is not supported");const i=BP(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Cr(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),Er(this,"set",(r,i)=>{if(!sx(r))throw Cr("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const a=this.get(r);this._changes.set(r.key,i(a))}else DP(this._store,r.key,"set"),this._changes.set(r.key,i)}),Er(this,"reset",r=>{this.set(r,LP)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=zP(this._treeState);for(const[n,r]of this._changes)FP(t,n,AP(r));return ZP(this._store,t),t}}function VP(e){return t=>{e.replaceState(n=>{const r=new UP(e,n);return t(r),r.newTreeState_INTERNAL()})}}var WP={atomicUpdater:VP},HP=WP.atomicUpdater,I4=Object.freeze({__proto__:null,atomicUpdater:HP});function $P(e,t){if(!e)throw new Error(t)}var KP=$P,Ju=KP;const{atomicUpdater:GP}=I4,{batchUpdates:YP}=gp,{DEFAULT_VALUE:XP}=Bi,{useStoreRef:qP}=ys,{refreshRecoilValue:JP,setRecoilValue:lx}=Xa,{cloneSnapshot:QP}=xp,{gotoSnapshot:ej}=M4,{useCallback:tj}=zr;class R4{}const nj=new R4;function A4(e,t,n,r){let i=nj,a;if(YP(()=>{const g="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw Cr(g);const w=$6({...r??{},set:(se,fe)=>lx(e,se,fe),reset:se=>lx(e,se,XP),refresh:se=>JP(e,se),gotoSnapshot:se=>ej(e,se),transact_UNSTABLE:se=>GP(e)(se)},{snapshot:()=>{const se=QP(e);return a=se.retain(),se}}),K=t(w);if(typeof K!="function")throw Cr(g);i=K(...n)}),i instanceof R4&&Ju(!1),po(i))i=i.finally(()=>{var g;(g=a)===null||g===void 0||g()});else{var c;(c=a)===null||c===void 0||c()}return i}function rj(e,t){const n=qP();return tj((...r)=>A4(n.current,e,r),t!=null?[...t,n]:void 0)}var D4={recoilCallback:A4,useRecoilCallback:rj};const{useStoreRef:oj}=ys,{refreshRecoilValue:ij}=Xa,{useCallback:aj}=zr;function sj(e){const t=oj();return aj(()=>{const n=t.current;ij(n,e)},[e,t])}var lj=sj;const{atomicUpdater:cj}=I4,{useStoreRef:uj}=ys,{useMemo:dj}=zr;function fj(e,t){const n=uj();return dj(()=>(...r)=>{cj(n.current)(a=>{e(a)(...r)})},t!=null?[...t,n]:void 0)}var hj=fj;class pj{constructor(t){Er(this,"value",void 0),this.value=t}}var mj={WrappedValue:pj},gj=mj.WrappedValue,L4=Object.freeze({__proto__:null,WrappedValue:gj});const{isFastRefreshEnabled:vj}=of;class cx extends Error{}class yj{constructor(t){var n,r,i;Er(this,"_name",void 0),Er(this,"_numLeafs",void 0),Er(this,"_root",void 0),Er(this,"_onHit",void 0),Er(this,"_onSet",void 0),Er(this,"_mapNodeValue",void 0),this._name=t==null?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=t==null?void 0:t.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:a=>a}size(){return this._numLeafs}root(){return this._root}get(t,n){var r;return(r=this.getLeafNode(t,n))===null||r===void 0?void 0:r.value}getLeafNode(t,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(t(r.nodeKey));r=r.branches.get(i)}}set(t,n,r){const i=()=>{var a,c,g,w;let K,se;for(const[M,p]of t){var fe,Re,Q;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const u=K;if(K=u?u.branches.get(se):f,K=(fe=K)!==null&&fe!==void 0?fe:{type:"branch",nodeKey:M,parent:u,branches:new Map,branchKey:se},K.type!=="branch"||K.nodeKey!==M)throw this.invalidCacheError();u==null||u.branches.set(se,K),r==null||(Re=r.onNodeVisit)===null||Re===void 0||Re.call(r,K),se=this._mapNodeValue(p),this._root=(Q=this._root)!==null&&Q!==void 0?Q:K}const z=K?(a=K)===null||a===void 0?void 0:a.branches.get(se):this._root;if(z!=null&&(z.type!=="leaf"||z.branchKey!==se))throw this.invalidCacheError();const o={type:"leaf",value:n,parent:K,branchKey:se};(c=K)===null||c===void 0||c.branches.set(se,o),this._root=(g=this._root)!==null&&g!==void 0?g:o,this._numLeafs++,this._onSet(o),r==null||(w=r.onNodeVisit)===null||w===void 0||w.call(r,o)};try{i()}catch(a){if(a instanceof cx)this.clear(),i();else throw a}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let r=t.parent,i=t.branchKey;for(;r;){var a;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(a=r)===null||a===void 0?void 0:a.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const t=vj()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw wy(t+(this._name!=null?` - ${this._name}`:"")),new cx}}var bj={TreeCache:yj},xj=bj.TreeCache,N4=Object.freeze({__proto__:null,TreeCache:xj});class wj{constructor(t){var n;Er(this,"_maxSize",void 0),Er(this,"_size",void 0),Er(this,"_head",void 0),Er(this,"_tail",void 0),Er(this,"_map",void 0),Er(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),r=this._map.get(n);if(r)return this.set(t,r.value),r.value}set(t,n){const r=this._keyMapper(t);this._map.get(r)&&this.delete(t);const a=this.head(),c={key:t,right:a,left:null,value:n};a?a.left=c:this._tail=c,this._map.set(r,c),this._head=c,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const r=ko(this._map.get(n)),i=r.right,a=r.left;i&&(i.left=r.left),a&&(a.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=a),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var kj={LRUCache:wj},Sj=kj.LRUCache,z4=Object.freeze({__proto__:null,LRUCache:Sj});const{LRUCache:Ej}=z4,{TreeCache:_j}=N4;function Cj({name:e,maxSize:t,mapNodeValue:n=r=>r}){const r=new Ej({maxSize:t}),i=new _j({name:e,mapNodeValue:n,onHit:a=>{r.set(a,!0)},onSet:a=>{const c=r.tail();r.set(a,!0),c&&i.size()>t&&i.delete(c.key)}});return i}var ux=Cj;function ka(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw Cr("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var r;return(r=JSON.stringify(e))!==null&&r!==void 0?r:""}if(po(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,a)=>ka(i,t,a.toString()))}]`;if(typeof e.toJSON=="function")return ka(e.toJSON(n),t,n);if(e instanceof Map){const i={};for(const[a,c]of e)i[typeof a=="string"?a:ka(a,t)]=c;return ka(i,t,n)}return e instanceof Set?ka(Array.from(e).sort((i,a)=>ka(i,t).localeCompare(ka(a,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?ka(Array.from(e),t,n):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${ka(i,t)}:${ka(e[i],t,i)}`).join(",")}}`}function Tj(e,t={allowFunctions:!1}){return ka(e,t)}var _p=Tj;const{TreeCache:Oj}=N4,uh={equality:"reference",eviction:"keep-all",maxSize:1/0};function Pj({equality:e=uh.equality,eviction:t=uh.eviction,maxSize:n=uh.maxSize}=uh,r){const i=jj(e);return Mj(t,n,i,r)}function jj(e){switch(e){case"reference":return t=>t;case"value":return t=>_p(t)}throw Cr(`Unrecognized equality policy ${e}`)}function Mj(e,t,n,r){switch(e){case"keep-all":return new Oj({name:r,mapNodeValue:n});case"lru":return ux({name:r,maxSize:ko(t),mapNodeValue:n});case"most-recent":return ux({name:r,maxSize:1,mapNodeValue:n})}throw Cr(`Unrecognized eviction policy ${e}`)}var Ij=Pj;function Rj(e){return()=>null}var Aj={startPerfBlock:Rj};const{isLoadable:Dj,loadableWithError:dh,loadableWithPromise:Lj,loadableWithValue:ng}=rf,{WrappedValue:B4}=L4,{getNodeLoadable:fh,peekNodeLoadable:Nj,setNodeValue:zj}=al,{saveDepsToStore:Bj}=af,{DEFAULT_VALUE:Zj,getConfigDeletionHandler:Fj,getNode:Uj,registerNode:dx}=Bi,{isRecoilValue:Vj}=ru,{markRecoilValueModified:fx}=Xa,{retainedByOptionWithDefault:Wj}=ql,{recoilCallback:Hj}=D4,{startPerfBlock:$j}=Aj;class Z4{}const Bu=new Z4,Zu=[],hh=new Map,Kj=(()=>{let e=0;return()=>e++})();function F4(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,a=e.set!=null?e.set:void 0,c=new Set,g=Ij(i??{equality:"reference",eviction:"keep-all"},n),w=Wj(e.retainedBy_UNSTABLE),K=new Map;let se=0;function fe(){return!oo("recoil_memory_managament_2020")||se>0}function Re(I){return I.getState().knownSelectors.add(n),se++,()=>{se--}}function Q(){return Fj(n)!==void 0&&!fe()}function z(I,A,C,U,y){ve(A,U,y),o(I,C)}function o(I,A){he(I,A)&&B(I),p(A,!0)}function M(I,A){he(I,A)&&(ko(Y(I)).stateVersions.clear(),p(A,!1))}function p(I,A){const C=hh.get(I);if(C!=null){for(const U of C)fx(U,ko(t));A&&hh.delete(I)}}function f(I,A){let C=hh.get(A);C==null&&hh.set(A,C=new Set),C.add(I)}function u(I,A,C,U,y,T){return A.then(s=>{if(!fe())throw B(I),Bu;const D=ng(s);return z(I,C,y,D,U),s}).catch(s=>{if(!fe())throw B(I),Bu;if(po(s))return E(I,s,C,U,y,T);const D=dh(s);throw z(I,C,y,D,U),s})}function E(I,A,C,U,y,T){return A.then(s=>{if(!fe())throw B(I),Bu;T.loadingDepKey!=null&&T.loadingDepPromise===A?C.atomValues.set(T.loadingDepKey,ng(s)):I.getState().knownSelectors.forEach(x=>{C.atomValues.delete(x)});const D=d(I,C);if(D&&D.state!=="loading"){if((he(I,y)||Y(I)==null)&&o(I,y),D.state==="hasValue")return D.contents;throw D.contents}if(!he(I,y)){const x=W(I,C);if(x!=null)return x.loadingLoadable.contents}const[b,v]=k(I,C,y);if(b.state!=="loading"&&z(I,C,y,b,v),b.state==="hasError")throw b.contents;return b.contents}).catch(s=>{if(s instanceof Z4)throw Bu;if(!fe())throw B(I),Bu;const D=dh(s);throw z(I,C,y,D,U),s})}function R(I,A,C,U){var y,T,s,D;if(he(I,U)||A.version===((y=I.getState())===null||y===void 0||(T=y.currentTree)===null||T===void 0?void 0:T.version)||A.version===((s=I.getState())===null||s===void 0||(D=s.nextTree)===null||D===void 0?void 0:D.version)){var b,v,x;Bj(n,C,I,(b=(v=I.getState())===null||v===void 0||(x=v.nextTree)===null||x===void 0?void 0:x.version)!==null&&b!==void 0?b:I.getState().currentTree.version)}for(const j of C)c.add(j)}function k(I,A,C){const U=$j(n);let y=!0,T=!0;const s=()=>{U(),T=!1};let D,b=!1,v;const x={loadingDepKey:null,loadingDepPromise:null},j=new Map;function te({key:F}){const Z=fh(I,A,F);switch(j.set(F,Z),y||(R(I,A,new Set(j.keys()),C),M(I,C)),Z.state){case"hasValue":return Z.contents;case"hasError":throw Z.contents;case"loading":throw x.loadingDepKey=F,x.loadingDepPromise=Z.contents,Z.contents}throw Cr("Invalid Loadable state")}const V=F=>(...Z)=>{if(T)throw Cr("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&Ju(!1),Hj(I,F,Z,{node:t})};try{D=r({get:te,getCallback:V}),D=Vj(D)?te(D):D,Dj(D)&&(D.state==="hasError"&&(b=!0),D=D.contents),po(D)?D=u(I,D,A,j,C,x).finally(s):s(),D=D instanceof B4?D.value:D}catch(F){D=F,po(D)?D=E(I,D,A,j,C,x).finally(s):(b=!0,s())}return b?v=dh(D):po(D)?v=Lj(D):v=ng(D),y=!1,S(I,C,j),R(I,A,new Set(j.keys()),C),[v,j]}function d(I,A){let C=A.atomValues.get(n);if(C!=null)return C;const U=new Set;try{C=g.get(T=>(typeof T!="string"&&Ju(!1),fh(I,A,T).contents),{onNodeVisit:T=>{T.type==="branch"&&T.nodeKey!==n&&U.add(T.nodeKey)}})}catch(T){throw Cr(`Problem with cache lookup for selector "${n}": ${T.message}`)}if(C){var y;A.atomValues.set(n,C),R(I,A,U,(y=Y(I))===null||y===void 0?void 0:y.executionID)}return C}function L(I,A){const C=d(I,A);if(C!=null)return B(I),C;const U=W(I,A);if(U!=null){var y;return((y=U.loadingLoadable)===null||y===void 0?void 0:y.state)==="loading"&&f(I,U.executionID),U.loadingLoadable}const T=Kj(),[s,D]=k(I,A,T);return s.state==="loading"?(ee(I,T,s,D,A),f(I,T)):(B(I),ve(A,s,D)),s}function W(I,A){const C=c4([K.has(I)?[ko(K.get(I))]:[],fp(Cy(K,([y])=>y!==I),([,y])=>y)]);function U(y){for(const[T,s]of y)if(!fh(I,A,T).is(s))return!0;return!1}for(const y of C){if(y.stateVersions.get(A.version)||!U(y.depValuesDiscoveredSoFarDuringAsyncWork))return y.stateVersions.set(A.version,!0),y;y.stateVersions.set(A.version,!1)}}function Y(I){return K.get(I)}function ee(I,A,C,U,y){K.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:U,executionID:A,loadingLoadable:C,stateVersions:new Map([[y.version,!0]])})}function S(I,A,C){if(he(I,A)){const U=Y(I);U!=null&&(U.depValuesDiscoveredSoFarDuringAsyncWork=C)}}function B(I){K.delete(I)}function he(I,A){var C;return A===((C=Y(I))===null||C===void 0?void 0:C.executionID)}function ge(I){return Array.from(I.entries()).map(([A,C])=>[A,C.contents])}function ve(I,A,C){I.atomValues.set(n,A);try{g.set(ge(C),A)}catch(U){throw Cr(`Problem with setting cache for selector "${n}": ${U.message}`)}}function me(I){if(Zu.includes(n)){const A=`Recoil selector has circular dependencies: ${Zu.slice(Zu.indexOf(n)).join("  ")}`;return dh(Cr(A))}Zu.push(n);try{return I()}finally{Zu.pop()}}function le(I,A){const C=A.atomValues.get(n);return C??g.get(U=>{var y;return typeof U!="string"&&Ju(!1),(y=Nj(I,A,U))===null||y===void 0?void 0:y.contents})}function N(I,A){return me(()=>L(I,A))}function oe(I){I.atomValues.delete(n)}function O(I,A){t==null&&Ju(!1);for(const U of c){var C;const y=Uj(U);(C=y.clearCache)===null||C===void 0||C.call(y,I,A)}c.clear(),oe(A),g.clear(),fx(I,t)}return a!=null?t=dx({key:n,nodeType:"selector",peek:le,get:N,set:(A,C,U)=>{let y=!1;const T=new Map;function s({key:x}){if(y)throw Cr("Recoil: Async selector sets are not currently supported.");const j=fh(A,C,x);if(j.state==="hasValue")return j.contents;if(j.state==="loading"){const te=`Getting value of asynchronous atom or selector "${x}" in a pending state while setting selector "${n}" is not yet supported.`;throw Cr(te)}else throw j.contents}function D(x,j){if(y)throw Cr("Recoil: Async selector sets are not currently supported.");const te=typeof j=="function"?j(s(x)):j;zj(A,C,x.key,te).forEach((F,Z)=>T.set(Z,F))}function b(x){D(x,Zj)}const v=a({set:D,get:s,reset:b},U);if(v!==void 0)throw po(v)?Cr("Recoil: Async selector sets are not currently supported."):Cr("Recoil: selector set should be a void function.");return y=!0,T},init:Re,invalidate:oe,clearCache:O,shouldDeleteConfigOnRelease:Q,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:w}):t=dx({key:n,nodeType:"selector",peek:le,get:N,init:Re,invalidate:oe,clearCache:O,shouldDeleteConfigOnRelease:Q,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:w})}F4.value=e=>new B4(e);var au=F4;const{isLoadable:Gj,loadableWithError:rg,loadableWithPromise:og,loadableWithValue:bc}=rf,{WrappedValue:U4}=L4,{peekNodeInfo:Yj}=al,{DEFAULT_VALUE:Cl,DefaultValue:Ns,getConfigDeletionHandler:V4,registerNode:Xj,setConfigDeletionHandler:qj}=Bi,{isRecoilValue:Jj}=ru,{getRecoilValueAsLoadable:Qj,markRecoilValueModified:eM,setRecoilValue:hx,setRecoilValueLoadable:tM}=Xa,{retainedByOptionWithDefault:nM}=ql,Fu=e=>e instanceof U4?e.value:e;function rM(e){const{key:t,persistence_UNSTABLE:n}=e,r=nM(e.retainedBy_UNSTABLE);let i=0;function a(f){return og(f.then(u=>(c=bc(u),u)).catch(u=>{throw c=rg(u),u}))}let c=po(e.default)?a(e.default):Gj(e.default)?e.default.state==="loading"?a(e.default.contents):e.default:bc(Fu(e.default));c.contents;let g;const w=new Map;function K(f){return f}function se(f,u){const E=u.then(R=>{var k,d;return((d=((k=f.getState().nextTree)!==null&&k!==void 0?k:f.getState().currentTree).atomValues.get(t))===null||d===void 0?void 0:d.contents)===E&&hx(f,p,R),R}).catch(R=>{var k,d;throw((d=((k=f.getState().nextTree)!==null&&k!==void 0?k:f.getState().currentTree).atomValues.get(t))===null||d===void 0?void 0:d.contents)===E&&tM(f,p,rg(R)),R});return E}function fe(f,u,E){var R;i++;const k=()=>{var Y;i--,(Y=w.get(f))===null||Y===void 0||Y.forEach(ee=>ee()),w.delete(f)};if(f.getState().knownAtoms.add(t),c.state==="loading"){const Y=()=>{var ee;((ee=f.getState().nextTree)!==null&&ee!==void 0?ee:f.getState().currentTree).atomValues.has(t)||eM(f,p)};c.contents.finally(Y)}const d=(R=e.effects)!==null&&R!==void 0?R:e.effects_UNSTABLE;if(d!=null){let Y=function(oe){if(he&&oe.key===t){const O=B;return O instanceof Ns?Re(f,u):po(O)?og(O.then(I=>I instanceof Ns?c.toPromise():I)):bc(O)}return Qj(f,oe)},ee=function(oe){return Y(oe).toPromise()},S=function(oe){var O;const I=Yj(f,(O=f.getState().nextTree)!==null&&O!==void 0?O:f.getState().currentTree,oe.key);return he&&oe.key===t&&!(B instanceof Ns)?{...I,isSet:!0,loadable:Y(oe)}:I},B=Cl,he=!0,ge=!1,ve=null;const me=oe=>O=>{if(he){const I=Y(p),A=I.state==="hasValue"?I.contents:Cl;B=typeof O=="function"?O(A):O,po(B)&&(B=B.then(C=>(ve={effect:oe,value:C},C)))}else{if(po(O))throw Cr("Setting atoms to async values is not implemented.");typeof O!="function"&&(ve={effect:oe,value:Fu(O)}),hx(f,p,typeof O=="function"?I=>{const A=Fu(O(I));return ve={effect:oe,value:A},A}:Fu(O))}},le=oe=>()=>me(oe)(Cl),N=oe=>O=>{var I;const{release:A}=f.subscribeToTransactions(C=>{var U;let{currentTree:y,previousTree:T}=C.getState();T||(T=y);const s=(U=y.atomValues.get(t))!==null&&U!==void 0?U:c;if(s.state==="hasValue"){var D,b,v,x;const j=s.contents,te=(D=T.atomValues.get(t))!==null&&D!==void 0?D:c,V=te.state==="hasValue"?te.contents:Cl;((b=ve)===null||b===void 0?void 0:b.effect)!==oe||((v=ve)===null||v===void 0?void 0:v.value)!==j?O(j,V,!y.atomValues.has(t)):((x=ve)===null||x===void 0?void 0:x.effect)===oe&&(ve=null)}},t);w.set(f,[...(I=w.get(f))!==null&&I!==void 0?I:[],A])};for(const oe of d)try{const O=oe({node:p,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:E,setSelf:me(oe),resetSelf:le(oe),onSet:N(oe),getPromise:ee,getLoadable:Y,getInfo_UNSTABLE:S});if(O!=null){var L;w.set(f,[...(L=w.get(f))!==null&&L!==void 0?L:[],O])}}catch(O){B=O,ge=!0}if(he=!1,!(B instanceof Ns)){var W;const oe=ge?rg(B):po(B)?og(se(f,B)):bc(Fu(B));oe.contents,u.atomValues.set(t,oe),(W=f.getState().nextTree)===null||W===void 0||W.atomValues.set(t,oe)}}return k}function Re(f,u){var E,R;return(E=(R=u.atomValues.get(t))!==null&&R!==void 0?R:g)!==null&&E!==void 0?E:c}function Q(f,u){if(u.atomValues.has(t))return ko(u.atomValues.get(t));if(u.nonvalidatedAtoms.has(t)){if(g!=null)return g;if(n==null)return c;const E=u.nonvalidatedAtoms.get(t),R=n.validator(E,Cl);return g=R instanceof Ns?c:bc(R),g}else return c}function z(){g=void 0}function o(f,u,E){if(u.atomValues.has(t)){const R=ko(u.atomValues.get(t));if(R.state==="hasValue"&&E===R.contents)return new Map}else if(!u.nonvalidatedAtoms.has(t)&&E instanceof Ns)return new Map;return g=void 0,new Map().set(t,bc(E))}function M(){return V4(t)!==void 0&&i<=0}const p=Xj({key:t,nodeType:"atom",peek:Re,get:Q,set:o,init:fe,invalidate:z,shouldDeleteConfigOnRelease:M,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return p}function Ly(e){const{...t}=e,n="default"in e?e.default:new Promise(()=>{});return Jj(n)?oM({...t,default:n}):rM({...t,default:n})}function oM(e){const t=Ly({...e,default:Cl,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:{...e.persistence_UNSTABLE,validator:r=>r instanceof Ns?r:ko(e.persistence_UNSTABLE).validator(r,Cl)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=au({key:`${e.key}__withFallback`,get:({get:r})=>{const i=r(t);return i instanceof Ns?e.default:i},set:({set:r},i)=>r(t,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return qj(n.key,V4(e.key)),n}Ly.value=e=>new U4(e);var W4=Ly;class iM{constructor(t){var n;Er(this,"_map",void 0),Er(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var aM={MapCache:iM},sM=aM.MapCache,lM=Object.freeze({__proto__:null,MapCache:sM});const{LRUCache:px}=z4,{MapCache:cM}=lM,ph={equality:"reference",eviction:"none",maxSize:1/0};function uM({equality:e=ph.equality,eviction:t=ph.eviction,maxSize:n=ph.maxSize}=ph){const r=dM(e);return fM(t,n,r)}function dM(e){switch(e){case"reference":return t=>t;case"value":return t=>_p(t)}throw Cr(`Unrecognized equality policy ${e}`)}function fM(e,t,n){switch(e){case"keep-all":return new cM({mapKey:n});case"lru":return new px({mapKey:n,maxSize:ko(t)});case"most-recent":return new px({mapKey:n,maxSize:1})}throw Cr(`Unrecognized eviction policy ${e}`)}var H4=uM;const{setConfigDeletionHandler:hM}=Bi;function pM(e){var t,n;const r=H4({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var a,c;const g=r.get(i);if(g!=null)return g;const{cachePolicyForParams_UNSTABLE:w,...K}=e,se="default"in e?e.default:new Promise(()=>{}),fe=W4({...K,key:`${e.key}__${(a=_p(i))!==null&&a!==void 0?a:"void"}`,default:typeof se=="function"?se(i):se,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects:typeof e.effects=="function"?e.effects(i):typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):(c=e.effects)!==null&&c!==void 0?c:e.effects_UNSTABLE});return r.set(i,fe),hM(fe.key,()=>{r.delete(i)}),fe}}var mM=pM;const{setConfigDeletionHandler:gM}=Bi;let vM=0;function yM(e){var t,n;const r=H4({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var a;let c;try{c=r.get(i)}catch(Re){throw Cr(`Problem with cache lookup for selector ${e.key}: ${Re.message}`)}if(c!=null)return c;const g=`${e.key}__selectorFamily/${(a=_p(i,{allowFunctions:!0}))!==null&&a!==void 0?a:"void"}/${vM++}`,w=Re=>e.get(i)(Re),K=e.cachePolicy_UNSTABLE,se=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE;let fe;if(e.set!=null){const Re=e.set;fe=au({key:g,get:w,set:(z,o)=>Re(i)(z,o),cachePolicy_UNSTABLE:K,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:se})}else fe=au({key:g,get:w,cachePolicy_UNSTABLE:K,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:se});return r.set(i,fe),gM(fe.key,()=>{r.delete(i)}),fe}}var sl=yM;const bM=sl({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function xM(e){return bM(e)}var wM=xM;const kM=sl({key:"__error",get:e=>()=>{throw Cr(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function SM(e){return kM(e)}var EM=SM;function _M(e){return e}var CM=_M;const{loadableWithError:$4,loadableWithPromise:K4,loadableWithValue:G4}=rf;function Cp(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,a]of t.entries())try{n[i]=e(a)}catch(c){r[i]=c}return[n,r]}function TM(e){return e!=null&&!po(e)}function Tp(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function A1(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,i)=>({...n,[r]:t[i]}),{})}function Kc(e,t,n){const r=n.map((i,a)=>i==null?G4(t[a]):po(i)?K4(i):$4(i));return A1(e,r)}function OM(e,t){return t.map((n,r)=>n===void 0?e[r]:n)}const PM=sl({key:"__waitForNone",get:e=>({get:t})=>{const n=Tp(e),[r,i]=Cp(t,n);return Kc(e,r,i)},dangerouslyAllowMutability:!0}),jM=sl({key:"__waitForAny",get:e=>({get:t})=>{const n=Tp(e),[r,i]=Cp(t,n);return i.some(a=>!po(a))?Kc(e,r,i):new Promise(a=>{for(const[c,g]of i.entries())po(g)&&g.then(w=>{r[c]=w,i[c]=void 0,a(Kc(e,r,i))}).catch(w=>{i[c]=w,a(Kc(e,r,i))})})},dangerouslyAllowMutability:!0}),MM=sl({key:"__waitForAll",get:e=>({get:t})=>{const n=Tp(e),[r,i]=Cp(t,n);if(i.every(c=>c==null))return A1(e,r);const a=i.find(TM);if(a!=null)throw a;return Promise.all(i).then(c=>A1(e,OM(r,c)))},dangerouslyAllowMutability:!0}),IM=sl({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Tp(e),[r,i]=Cp(t,n);return i.every(a=>!po(a))?Kc(e,r,i):Promise.all(i.map((a,c)=>po(a)?a.then(g=>{r[c]=g,i[c]=void 0}).catch(g=>{r[c]=void 0,i[c]=g}):null)).then(()=>Kc(e,r,i))},dangerouslyAllowMutability:!0}),RM=sl({key:"__noWait",get:e=>({get:t})=>{try{return au.value(G4(t(e)))}catch(n){return au.value(po(n)?K4(n):$4(n))}},dangerouslyAllowMutability:!0});var AM={waitForNone:PM,waitForAny:jM,waitForAll:MM,waitForAllSettled:IM,noWait:RM};const{RecoilLoadable:DM}=rf,{DefaultValue:LM}=Bi,{RecoilRoot:NM,useRecoilStoreID:zM}=ys,{isRecoilValue:BM}=ru,{retentionZone:ZM}=pp,{freshSnapshot:FM}=xp,{useRecoilState:UM,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:VM,useRecoilStateLoadable:WM,useRecoilValue:HM,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:$M,useRecoilValueLoadable:KM,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:GM,useResetRecoilState:YM,useSetRecoilState:XM}=aP,{useGotoRecoilSnapshot:qM,useRecoilSnapshot:JM,useRecoilTransactionObserver:QM}=M4,{useRecoilCallback:eI}=D4,{noWait:tI,waitForAll:nI,waitForAllSettled:rI,waitForAny:oI,waitForNone:iI}=AM;var uf={DefaultValue:LM,isRecoilValue:BM,RecoilLoadable:DM,RecoilEnv:hu,RecoilRoot:NM,useRecoilStoreID:zM,useRecoilBridgeAcrossReactRoots_UNSTABLE:RP,atom:W4,selector:au,atomFamily:mM,selectorFamily:sl,constSelector:wM,errorSelector:EM,readOnlySelector:CM,noWait:tI,waitForNone:iI,waitForAny:oI,waitForAll:nI,waitForAllSettled:rI,useRecoilValue:HM,useRecoilValueLoadable:KM,useRecoilState:UM,useRecoilStateLoadable:WM,useSetRecoilState:XM,useResetRecoilState:YM,useGetRecoilValueInfo_UNSTABLE:TP,useRecoilRefresher_UNSTABLE:lj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:GM,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:$M,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:VM,useRecoilCallback:eI,useRecoilTransaction_UNSTABLE:hj,useGotoRecoilSnapshot:qM,useRecoilSnapshot:JM,useRecoilTransactionObserver_UNSTABLE:QM,snapshot_UNSTABLE:FM,useRetain:My,retentionZone:ZM},aI=uf.RecoilRoot,df=uf.atom,sI=uf.useRecoilValue,Zd=uf.useRecoilState,Y4=uf.useSetRecoilState;const Rs=Object.freeze({LIGHT:"light",DARK:"dark"}),D1=["#FF8566","#66FF99","#9980FF","#FF66CC","#66FFCC","#FFB366","#66CC99","#9980B3","#FF99CC","#66B2FF"],lI=df({key:"activeTheme",default:Rs.LIGHT}),cI=df({key:"chatDrawerDocked",default:!1}),uI=df({key:"conferenceModal",default:{open:!1,docked:!1}}),dI=df({key:"user",default:null}),fI=df({key:"collaboraters",default:[]}),hI=Object.freeze(Object.defineProperty({__proto__:null,chatDrawerAtom:cI,collaboratersAtom:fI,conferenceModalAtom:uI,themeAtom:lI,userAtom:dI},Symbol.toStringTag,{value:"Module"})),mu=()=>({...hI});var X4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mx=zr.createContext&&zr.createContext(X4),pI=["attr","size","title"];function mI(e,t){if(e==null)return{};var n=gI(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(this,arguments)}function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(n),!0).forEach(function(r){vI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vI(e,t,n){return t=yI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e){var t=bI(e,"string");return typeof t=="symbol"?t:String(t)}function bI(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4(e){return e&&e.map((t,n)=>zr.createElement(t.tag,P0({key:n},t.attr),q4(t.child)))}function bs(e){return t=>zr.createElement(xI,O0({attr:P0({},e.attr)},t),q4(e.child))}function xI(e){var t=n=>{var{attr:r,size:i,title:a}=e,c=mI(e,pI),g=i||n.size||"1em",w;return n.className&&(w=n.className),e.className&&(w=(w?w+" ":"")+e.className),zr.createElement("svg",O0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:w,style:P0(P0({color:e.color||n.color},n.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&zr.createElement("title",null,a),e.children)};return mx!==void 0?zr.createElement(mx.Consumer,null,n=>t(n)):t(X4)}function wI(e){return bs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm0 368a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm113.14-321.14a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44zM108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45zM464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm-368 0H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm307.08 147.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56zM142.86 164.86a21.89 21.89 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55zM256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102z"},child:[]}]})(e)}function kI(e){return bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(e)}function J4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=J4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function SI(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=J4(e))&&(r&&(r+=" "),r+=t);return r}const zh=(...e)=>SI(...e),EI=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:n.top-r.top,right:n.right-r.right,bottom:n.bottom-r.bottom,left:n.left-r.left}},_I=e=>typeof window>"u"?null:window.localStorage.getItem(e),Q4=({className:e="",iconClassName:t=""})=>{const{themeAtom:n}=mu(),[r,i]=Zd(n);Tt.useLayoutEffect(()=>{const g=localStorage.getItem("theme")||r,w=Object.values(Rs).find(K=>K===g);document.documentElement.classList.remove(Rs.LIGHT,Rs.DARK),document.documentElement.classList.add(w||r),i(w||r)},[r,i]);const a=()=>{const g=r===Rs.LIGHT?Rs.DARK:Rs.LIGHT;localStorage.setItem("theme",g),i(g)},c=r===Rs.LIGHT?xn.jsx(wI,{className:zh(t,"h-5 w-5")}):xn.jsx(kI,{className:zh(t,"h-5 w-5")});return xn.jsx("button",{className:zh(e,"p-2 rounded-lg text-black bg-accent"),onClick:a,children:c})},ek=Tt.createContext({user:null,collaborators:[],handleJoinRoom:()=>{}}),Ga=Object.create(null);Ga.open="0";Ga.close="1";Ga.ping="2";Ga.pong="3";Ga.message="4";Ga.upgrade="5";Ga.noop="6";const Bh=Object.create(null);Object.keys(Ga).forEach(e=>{Bh[Ga[e]]=e});const L1={type:"error",data:"parser error"},tk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",nk=typeof ArrayBuffer=="function",rk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ny=({type:e,data:t},n,r)=>tk&&t instanceof Blob?n?r(t):vx(t,r):nk&&(t instanceof ArrayBuffer||rk(t))?n?r(t):vx(new Blob([t]),r):r(Ga[e]+(t||"")),vx=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function yx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ig;function CI(e,t){if(tk&&e.data instanceof Blob)return e.data.arrayBuffer().then(yx).then(t);if(nk&&(e.data instanceof ArrayBuffer||rk(e.data)))return t(yx(e.data));Ny(e,!1,n=>{ig||(ig=new TextEncoder),t(ig.encode(n))})}const bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<bx.length;e++)Qu[bx.charCodeAt(e)]=e;const TI=e=>{let t=e.length*.75,n=e.length,r,i=0,a,c,g,w;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const K=new ArrayBuffer(t),se=new Uint8Array(K);for(r=0;r<n;r+=4)a=Qu[e.charCodeAt(r)],c=Qu[e.charCodeAt(r+1)],g=Qu[e.charCodeAt(r+2)],w=Qu[e.charCodeAt(r+3)],se[i++]=a<<2|c>>4,se[i++]=(c&15)<<4|g>>2,se[i++]=(g&3)<<6|w&63;return K},OI=typeof ArrayBuffer=="function",zy=(e,t)=>{if(typeof e!="string")return{type:"message",data:ok(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:PI(e.substring(1),t)}:Bh[n]?e.length>1?{type:Bh[n],data:e.substring(1)}:{type:Bh[n]}:L1},PI=(e,t)=>{if(OI){const n=TI(e);return ok(n,t)}else return{base64:!0,data:e}},ok=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ik="",jI=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((a,c)=>{Ny(a,!1,g=>{r[c]=g,++i===n&&t(r.join(ik))})})},MI=(e,t)=>{const n=e.split(ik),r=[];for(let i=0;i<n.length;i++){const a=zy(n[i],t);if(r.push(a),a.type==="error")break}return r};function II(){return new TransformStream({transform(e,t){CI(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let ag;function mh(e){return e.reduce((t,n)=>t+n.length,0)}function gh(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function RI(e,t){ag||(ag=new TextDecoder);const n=[];let r=0,i=-1,a=!1;return new TransformStream({transform(c,g){for(n.push(c);;){if(r===0){if(mh(n)<1)break;const w=gh(n,1);a=(w[0]&128)===128,i=w[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(mh(n)<2)break;const w=gh(n,2);i=new DataView(w.buffer,w.byteOffset,w.length).getUint16(0),r=3}else if(r===2){if(mh(n)<8)break;const w=gh(n,8),K=new DataView(w.buffer,w.byteOffset,w.length),se=K.getUint32(0);if(se>Math.pow(2,21)-1){g.enqueue(L1);break}i=se*Math.pow(2,32)+K.getUint32(4),r=3}else{if(mh(n)<i)break;const w=gh(n,i);g.enqueue(zy(a?w:ag.decode(w),t)),r=0}if(i===0||i>e){g.enqueue(L1);break}}}})}const ak=4;function Zo(e){if(e)return AI(e)}function AI(e){for(var t in Zo.prototype)e[t]=Zo.prototype[t];return e}Zo.prototype.on=Zo.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Zo.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Zo.prototype.off=Zo.prototype.removeListener=Zo.prototype.removeAllListeners=Zo.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Zo.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Zo.prototype.emitReserved=Zo.prototype.emit;Zo.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Zo.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ca=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function sk(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const DI=ca.setTimeout,LI=ca.clearTimeout;function Op(e,t){t.useNativeTimers?(e.setTimeoutFn=DI.bind(ca),e.clearTimeoutFn=LI.bind(ca)):(e.setTimeoutFn=ca.setTimeout.bind(ca),e.clearTimeoutFn=ca.clearTimeout.bind(ca))}const NI=1.33;function zI(e){return typeof e=="string"?BI(e):Math.ceil((e.byteLength||e.size)*NI)}function BI(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function ZI(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function FI(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class UI extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class By extends Zo{constructor(t){super(),this.writable=!1,Op(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new UI(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=zy(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=ZI(t);return n.length?"?"+n:""}}const lk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),N1=64,VI={};let xx=0,vh=0,wx;function kx(e){let t="";do t=lk[e%N1]+t,e=Math.floor(e/N1);while(e>0);return t}function ck(){const e=kx(+new Date);return e!==wx?(xx=0,wx=e):e+"."+kx(xx++)}for(;vh<N1;vh++)VI[lk[vh]]=vh;let uk=!1;try{uk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const WI=uk;function dk(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||WI))return new XMLHttpRequest}catch{}if(!t)try{return new ca[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function HI(){}const $I=function(){return new dk({xdomain:!1}).responseType!=null}();class KI extends By{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=$I&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};MI(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,jI(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=ck()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ha(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Ha extends Zo{constructor(t,n){super(),Op(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=sk(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new dk(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Ha.requestsCount++,Ha.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=HI,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ha.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Ha.requestsCount=0;Ha.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Sx);else if(typeof addEventListener=="function"){const e="onpagehide"in ca?"pagehide":"unload";addEventListener(e,Sx,!1)}}function Sx(){for(let e in Ha.requests)Ha.requests.hasOwnProperty(e)&&Ha.requests[e].abort()}const Zy=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),yh=ca.WebSocket||ca.MozWebSocket,Ex=!0,GI="arraybuffer",_x=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class YI extends By{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=_x?{}:sk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Ex&&!_x?n?new yh(t,n):new yh(t):new yh(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Ny(r,this.supportsBinary,a=>{const c={};try{Ex&&this.ws.send(a)}catch{}i&&Zy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=ck()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!yh}}class XI extends By{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=RI(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=II();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const a=()=>{r.read().then(({done:g,value:w})=>{g||(this.onPacket(w),a())}).catch(g=>{})};a();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this.writer.write(c).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this.writer.write(r).then(()=>{i&&Zy(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const qI={websocket:YI,webtransport:XI,polling:KI},JI=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function z1(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=JI.exec(e||""),a={},c=14;for(;c--;)a[QI[c]]=i[c]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=eR(a,a.path),a.queryKey=tR(a,a.query),a}function eR(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function tR(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(n[i]=a)}),n}let fk=class Sc extends Zo{constructor(t,n={}){super(),this.binaryType=GI,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=z1(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=z1(n.host).host),Op(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=FI(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ak,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new qI[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Sc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Sc.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",fe=>{if(!r)if(fe.type==="pong"&&fe.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Sc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(se(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const Re=new Error("probe error");Re.transport=n.name,this.emitReserved("upgradeError",Re)}}))};function a(){r||(r=!0,se(),n.close(),n=null)}const c=fe=>{const Re=new Error("probe error: "+fe);Re.transport=n.name,a(),this.emitReserved("upgradeError",Re)};function g(){c("transport closed")}function w(){c("socket closed")}function K(fe){n&&fe.name!==n.name&&a()}const se=()=>{n.removeListener("open",i),n.removeListener("error",c),n.removeListener("close",g),this.off("close",w),this.off("upgrading",K)};n.once("open",i),n.once("error",c),n.once("close",g),this.once("close",w),this.once("upgrading",K),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Sc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=zI(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Sc.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};fk.protocol=ak;function nR(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=z1(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const rR=typeof ArrayBuffer=="function",oR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,hk=Object.prototype.toString,iR=typeof Blob=="function"||typeof Blob<"u"&&hk.call(Blob)==="[object BlobConstructor]",aR=typeof File=="function"||typeof File<"u"&&hk.call(File)==="[object FileConstructor]";function Fy(e){return rR&&(e instanceof ArrayBuffer||oR(e))||iR&&e instanceof Blob||aR&&e instanceof File}function Zh(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Zh(e[n]))return!0;return!1}if(Fy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Zh(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Zh(e[n]))return!0;return!1}function sR(e){const t=[],n=e.data,r=e;return r.data=B1(n,t),r.attachments=t.length,{packet:r,buffers:t}}function B1(e,t){if(!e)return e;if(Fy(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=B1(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=B1(e[r],t));return n}return e}function lR(e,t){return e.data=Z1(e.data,t),delete e.attachments,e}function Z1(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Z1(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Z1(e[n],t));return e}const cR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uR=5;var Nr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Nr||(Nr={}));let dR=class{constructor(t){this.replacer=t}encode(t){return(t.type===Nr.EVENT||t.type===Nr.ACK)&&Zh(t)?this.encodeAsBinary({type:t.type===Nr.EVENT?Nr.BINARY_EVENT:Nr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Nr.BINARY_EVENT||t.type===Nr.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=sR(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};function Cx(e){return Object.prototype.toString.call(e)==="[object Object]"}let fR=class pk extends Zo{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Nr.BINARY_EVENT;r||n.type===Nr.BINARY_ACK?(n.type=r?Nr.EVENT:Nr.ACK,this.reconstructor=new hR(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Fy(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Nr[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Nr.BINARY_EVENT||r.type===Nr.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(a,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(c)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const a=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(pk.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Nr.CONNECT:return Cx(n);case Nr.DISCONNECT:return n===void 0;case Nr.CONNECT_ERROR:return typeof n=="string"||Cx(n);case Nr.EVENT:case Nr.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&cR.indexOf(n[0])===-1);case Nr.ACK:case Nr.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class hR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=lR(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:fR,Encoder:dR,get PacketType(){return Nr},protocol:uR},Symbol.toStringTag,{value:"Module"}));function _a(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const mR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mk extends Zo{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_a(t,"open",this.onopen.bind(this)),_a(t,"packet",this.onpacket.bind(this)),_a(t,"error",this.onerror.bind(this)),_a(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(mR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Nr.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,g=n.pop();this._registerAckCallback(c,g),r.id=c}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===t&&this.sendBuffer.splice(g,1);n.call(this,new Error("operation has timed out"))},i),c=(...g)=>{this.io.clearTimeoutFn(a),n.apply(this,g)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...n){return new Promise((r,i)=>{const a=(c,g)=>c?i(c):r(g);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Nr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Nr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nr.EVENT:case Nr.BINARY_EVENT:this.onevent(t);break;case Nr.ACK:case Nr.BINARY_ACK:this.onack(t);break;case Nr.DISCONNECT:this.ondisconnect();break;case Nr.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Nr.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function gu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};gu.prototype.reset=function(){this.attempts=0};gu.prototype.setMin=function(e){this.ms=e};gu.prototype.setMax=function(e){this.max=e};gu.prototype.setJitter=function(e){this.jitter=e};class F1 extends Zo{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Op(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new gu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||pR;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new fk(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=_a(n,"open",function(){r.onopen(),t&&t()}),a=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),t?t(g):this.maybeReconnectOnOpen()},c=_a(n,"error",a);if(this._timeout!==!1){const g=this._timeout,w=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),n.close()},g);this.opts.autoUnref&&w.unref(),this.subs.push(()=>{this.clearTimeoutFn(w)})}return this.subs.push(i),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_a(t,"ping",this.onping.bind(this)),_a(t,"data",this.ondata.bind(this)),_a(t,"error",this.onerror.bind(this)),_a(t,"close",this.onclose.bind(this)),_a(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Zy(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new mk(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Uu={};function Fh(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=nR(e,t.path||"/socket.io"),r=n.source,i=n.id,a=n.path,c=Uu[i]&&a in Uu[i].nsps,g=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let w;return g?w=new F1(r,t):(Uu[i]||(Uu[i]=new F1(r,t)),w=Uu[i]),n.query&&!t.query&&(t.query=n.queryKey),w.socket(n.path,t)}Object.assign(Fh,{Manager:F1,Socket:mk,io:Fh,connect:Fh});const gk=Tt.createContext({socket:null}),gR=({children:e})=>{const[t,n]=Tt.useState(null);return Tt.useEffect(()=>{const r=Fh("https://excalibrate.onrender.com/");return r.on("connect",()=>{n(r)}),r.on("disconnect",()=>{t.emit("user-disconnected")}),()=>{r.disconnect()}},[]),xn.jsx(gk.Provider,{value:{socket:t},children:e})},Pp=()=>{const{...e}=Tt.useContext(gk);return{...e}},vR=({children:e})=>{const t=xy(),[n,r]=Tt.useState(""),{userAtom:i,collaboratersAtom:a}=mu(),[c,g]=Zd(i),[w,K]=Zd(a),{socket:se}=Pp(),fe=Tt.useCallback(()=>{se.emit("user-disconnected")},[se]),Re=Tt.useCallback(M=>{K(p=>p.filter(f=>f.socketId!==M))},[K]),Q=Tt.useCallback(([M,p])=>{M==null||M.forEach(f=>{(f==null?void 0:f.socketId)===(se==null?void 0:se.id)?c||g(f):K(u=>[...u,f])}),n||(r(p),t(`/${p}`))},[t,n,K,g,se==null?void 0:se.id,c]),z=Tt.useCallback(M=>{localStorage.setItem("chat-history",JSON.stringify(M))},[]),o=Tt.useCallback(M=>{se==null||se.emit("join-room",M)},[se]);return Tt.useEffect(()=>(se==null||se.on("joined-room",Q),se==null||se.on("chat-history",z),se==null||se.on("user-disconnected",Re),()=>{se==null||se.off("joined-room",Q),se==null||se.off("chat-history",z),se==null||se.off("user-disconnected",Re)}),[z,Re,Q,se]),Tt.useEffect(()=>(window.addEventListener("beforeunload",fe),()=>{window.removeEventListener("beforeunload",fe)}),[fe]),xn.jsx(ek.Provider,{value:{user:c,collaborators:w,handleJoinRoom:o},children:e})},ff=()=>{const{...e}=Tt.useContext(ek);return{...e}},yR=({searchParams:e})=>{const t=e==null?void 0:e.get("roomId"),[n,r]=Tt.useState(""),{handleJoinRoom:i}=ff(),a=c=>{c==null||c.preventDefault(),i({name:n,roomId:t})};return xn.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-primary-light text-contrast-dark gap-10",children:[xn.jsxs("section",{className:"flex flex-col items-center justify-center gap-5",children:[xn.jsx("img",{src:"/logo.png",alt:"Excalidraw draw Logo",className:"rounded-full border border-accent h-24 w-auto"}),xn.jsx("h1",{className:"text-lg md:text-2xl font-bold mb-4 capitalize md:w-3/4 xl:w-1/2 text-center",children:"Welcome to Excalibrate  A wrapper for Excalidraw with live video and chat collaboration features!"})]}),xn.jsxs("form",{className:"flex flex-col items-center justify-normal gap-5",onSubmit:a,children:[xn.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),className:"border border-contrast-light focus-visible:outline-accent rounded-2xl p-2 mb-4 text-center text-black",placeholder:"Enter your name"}),xn.jsx("button",{disabled:(n==null?void 0:n.length)<3,type:"submit",className:"bg-accent-dark disabled:bg-accent hover:bg-accent-darker p-2 rounded-lg text-white uppercase tracking-widest",children:"Continue"})]})]})},bR=()=>{const[e]=m7();return xn.jsxs(xn.Fragment,{children:[xn.jsx(yR,{searchParams:e}),xn.jsx(Q4,{className:"absolute right-1 top-2 !text-white"})]})},Uy=Tt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),jp=Tt.createContext({}),Vy=Tt.createContext(null),Mp=typeof document<"u",Wy=Mp?Tt.useLayoutEffect:Tt.useEffect,vk=Tt.createContext({strict:!1}),Hy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xR="framerAppearId",yk="data-"+Hy(xR);function wR(e,t,n,r){const{visualElement:i}=Tt.useContext(jp),a=Tt.useContext(vk),c=Tt.useContext(Vy),g=Tt.useContext(Uy).reducedMotion,w=Tt.useRef();r=r||a.renderer,!w.current&&r&&(w.current=r(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:g}));const K=w.current;Tt.useInsertionEffect(()=>{K&&K.update(n,c)});const se=Tt.useRef(!!(n[yk]&&!window.HandoffComplete));return Wy(()=>{K&&(K.render(),se.current&&K.animationState&&K.animationState.animateChanges())}),Tt.useEffect(()=>{K&&(K.updateFeatures(),!se.current&&K.animationState&&K.animationState.animateChanges(),se.current&&(se.current=!1,window.HandoffComplete=!0))}),K}function Lc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kR(e,t,n){return Tt.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Lc(n)&&(n.current=r))},[t])}function Fd(e){return typeof e=="string"||Array.isArray(e)}function Ip(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const $y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ky=["initial",...$y];function Rp(e){return Ip(e.animate)||Ky.some(t=>Fd(e[t]))}function bk(e){return!!(Rp(e)||e.variants)}function SR(e,t){if(Rp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fd(n)?n:void 0,animate:Fd(r)?r:void 0}}return e.inherit!==!1?t:{}}function ER(e){const{initial:t,animate:n}=SR(e,Tt.useContext(jp));return Tt.useMemo(()=>({initial:t,animate:n}),[Tx(t),Tx(n)])}function Tx(e){return Array.isArray(e)?e.join(" "):e}const Ox={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ud={};for(const e in Ox)Ud[e]={isEnabled:t=>Ox[e].some(n=>!!t[n])};function _R(e){for(const t in e)Ud[t]={...Ud[t],...e[t]}}const xk=Tt.createContext({}),wk=Tt.createContext({}),CR=Symbol.for("motionComponentSymbol");function TR({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&_R(e);function a(g,w){let K;const se={...Tt.useContext(Uy),...g,layoutId:OR(g)},{isStatic:fe}=se,Re=ER(g),Q=r(g,fe);if(!fe&&Mp){Re.visualElement=wR(i,Q,se,t);const z=Tt.useContext(wk),o=Tt.useContext(vk).strict;Re.visualElement&&(K=Re.visualElement.loadFeatures(se,o,e,z))}return Tt.createElement(jp.Provider,{value:Re},K&&Re.visualElement?Tt.createElement(K,{visualElement:Re.visualElement,...se}):null,n(i,g,kR(Q,Re.visualElement,w),Q,fe,Re.visualElement))}const c=Tt.forwardRef(a);return c[CR]=i,c}function OR({layoutId:e}){const t=Tt.useContext(xk).id;return t&&e!==void 0?t+"-"+e:e}function PR(e){function t(r,i={}){return TR(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const jR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gy(e){return typeof e!="string"||e.includes("-")?!1:!!(jR.indexOf(e)>-1||/[A-Z]/.test(e))}const j0={};function MR(e){Object.assign(j0,e)}const hf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jl=new Set(hf);function kk(e,{layout:t,layoutId:n}){return Jl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!j0[e]||e==="opacity")}const zi=e=>!!(e&&e.getVelocity),IR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RR=hf.length;function AR(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let c=0;c<RR;c++){const g=hf[c];if(e[g]!==void 0){const w=IR[g]||g;a+=`${w}(${e[g]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const Sk=e=>t=>typeof t=="string"&&t.startsWith(e),Ek=Sk("--"),U1=Sk("var(--"),DR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,LR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,tl=(e,t,n)=>Math.min(Math.max(n,e),t),Ql={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},pd={...Ql,transform:e=>tl(0,1,e)},bh={...Ql,default:1},md=e=>Math.round(e*1e5)/1e5,Ap=/(-)?([\d]*\.?[\d])+/g,_k=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,NR=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pf(e){return typeof e=="string"}const mf=e=>({test:t=>pf(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),As=mf("deg"),$a=mf("%"),pr=mf("px"),zR=mf("vh"),BR=mf("vw"),Px={...$a,parse:e=>$a.parse(e)/100,transform:e=>$a.transform(e*100)},jx={...Ql,transform:Math.round},Ck={borderWidth:pr,borderTopWidth:pr,borderRightWidth:pr,borderBottomWidth:pr,borderLeftWidth:pr,borderRadius:pr,radius:pr,borderTopLeftRadius:pr,borderTopRightRadius:pr,borderBottomRightRadius:pr,borderBottomLeftRadius:pr,width:pr,maxWidth:pr,height:pr,maxHeight:pr,size:pr,top:pr,right:pr,bottom:pr,left:pr,padding:pr,paddingTop:pr,paddingRight:pr,paddingBottom:pr,paddingLeft:pr,margin:pr,marginTop:pr,marginRight:pr,marginBottom:pr,marginLeft:pr,rotate:As,rotateX:As,rotateY:As,rotateZ:As,scale:bh,scaleX:bh,scaleY:bh,scaleZ:bh,skew:As,skewX:As,skewY:As,distance:pr,translateX:pr,translateY:pr,translateZ:pr,x:pr,y:pr,z:pr,perspective:pr,transformPerspective:pr,opacity:pd,originX:Px,originY:Px,originZ:pr,zIndex:jx,fillOpacity:pd,strokeOpacity:pd,numOctaves:jx};function Yy(e,t,n,r){const{style:i,vars:a,transform:c,transformOrigin:g}=e;let w=!1,K=!1,se=!0;for(const fe in t){const Re=t[fe];if(Ek(fe)){a[fe]=Re;continue}const Q=Ck[fe],z=LR(Re,Q);if(Jl.has(fe)){if(w=!0,c[fe]=z,!se)continue;Re!==(Q.default||0)&&(se=!1)}else fe.startsWith("origin")?(K=!0,g[fe]=z):i[fe]=z}if(t.transform||(w||r?i.transform=AR(e.transform,n,se,r):i.transform&&(i.transform="none")),K){const{originX:fe="50%",originY:Re="50%",originZ:Q=0}=g;i.transformOrigin=`${fe} ${Re} ${Q}`}}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tk(e,t,n){for(const r in t)!zi(t[r])&&!kk(r,n)&&(e[r]=t[r])}function ZR({transformTemplate:e},t,n){return Tt.useMemo(()=>{const r=Xy();return Yy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function FR(e,t,n){const r=e.style||{},i={};return Tk(i,r,e),Object.assign(i,ZR(e,t,n)),e.transformValues?e.transformValues(i):i}function UR(e,t,n){const r={},i=FR(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const VR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function M0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||VR.has(e)}let Ok=e=>!M0(e);function WR(e){e&&(Ok=t=>t.startsWith("on")?!M0(t):e(t))}try{WR(require("@emotion/is-prop-valid").default)}catch{}function HR(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ok(i)||n===!0&&M0(i)||!t&&!M0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Mx(e,t,n){return typeof e=="string"?e:pr.transform(t+n*e)}function $R(e,t,n){const r=Mx(t,e.x,e.width),i=Mx(n,e.y,e.height);return`${r} ${i}`}const KR={offset:"stroke-dashoffset",array:"stroke-dasharray"},GR={offset:"strokeDashoffset",array:"strokeDasharray"};function YR(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?KR:GR;e[a.offset]=pr.transform(-r);const c=pr.transform(t),g=pr.transform(n);e[a.array]=`${c} ${g}`}function qy(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:c,pathSpacing:g=1,pathOffset:w=0,...K},se,fe,Re){if(Yy(e,K,se,Re),fe){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:Q,style:z,dimensions:o}=e;Q.transform&&(o&&(z.transform=Q.transform),delete Q.transform),o&&(i!==void 0||a!==void 0||z.transform)&&(z.transformOrigin=$R(o,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(Q.x=t),n!==void 0&&(Q.y=n),r!==void 0&&(Q.scale=r),c!==void 0&&YR(Q,c,g,w,!1)}const Pk=()=>({...Xy(),attrs:{}}),Jy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XR(e,t,n,r){const i=Tt.useMemo(()=>{const a=Pk();return qy(a,t,{enableHardwareAcceleration:!1},Jy(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Tk(a,e.style,e),i.style={...a,...i.style}}return i}function qR(e=!1){return(n,r,i,{latestValues:a},c)=>{const w=(Gy(n)?XR:UR)(r,a,c,n),se={...HR(r,typeof n=="string",e),...w,ref:i},{children:fe}=r,Re=Tt.useMemo(()=>zi(fe)?fe.get():fe,[fe]);return Tt.createElement(n,{...se,children:Re})}}function jk(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Mk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ik(e,t,n,r){jk(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Mk.has(i)?i:Hy(i),t.attrs[i])}function Qy(e,t){const{style:n}=e,r={};for(const i in n)(zi(n[i])||t.style&&zi(t.style[i])||kk(i,e))&&(r[i]=n[i]);return r}function Rk(e,t){const n=Qy(e,t);for(const r in e)if(zi(e[r])||zi(t[r])){const i=hf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function eb(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function gf(e){const t=Tt.useRef(null);return t.current===null&&(t.current=e()),t.current}const I0=e=>Array.isArray(e),JR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),QR=e=>I0(e)?e[e.length-1]||0:e;function Uh(e){const t=zi(e)?e.get():e;return JR(t)?t.toValue():t}function eA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const c={latestValues:tA(r,i,a,e),renderState:t()};return n&&(c.mount=g=>n(r,g,c)),c}const Ak=e=>(t,n)=>{const r=Tt.useContext(jp),i=Tt.useContext(Vy),a=()=>eA(e,t,r,i);return n?a():gf(a)};function tA(e,t,n,r){const i={},a=r(e,{});for(const Re in a)i[Re]=Uh(a[Re]);let{initial:c,animate:g}=e;const w=Rp(e),K=bk(e);t&&K&&!w&&e.inherit!==!1&&(c===void 0&&(c=t.initial),g===void 0&&(g=t.animate));let se=n?n.initial===!1:!1;se=se||c===!1;const fe=se?g:c;return fe&&typeof fe!="boolean"&&!Ip(fe)&&(Array.isArray(fe)?fe:[fe]).forEach(Q=>{const z=eb(e,Q);if(!z)return;const{transitionEnd:o,transition:M,...p}=z;for(const f in p){let u=p[f];if(Array.isArray(u)){const E=se?u.length-1:0;u=u[E]}u!==null&&(i[f]=u)}for(const f in o)i[f]=o[f]}),i}const Lo=e=>e;class Ix{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function nA(e){let t=new Ix,n=new Ix,r=0,i=!1,a=!1;const c=new WeakSet,g={schedule:(w,K=!1,se=!1)=>{const fe=se&&i,Re=fe?t:n;return K&&c.add(w),Re.add(w)&&fe&&i&&(r=t.order.length),w},cancel:w=>{n.remove(w),c.delete(w)},process:w=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let K=0;K<r;K++){const se=t.order[K];se(w),c.has(se)&&(g.schedule(se),e())}i=!1,a&&(a=!1,g.process(w))}};return g}const xh=["prepare","read","update","preRender","render","postRender"],rA=40;function oA(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=xh.reduce((fe,Re)=>(fe[Re]=nA(()=>n=!0),fe),{}),c=fe=>a[fe].process(i),g=()=>{const fe=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(fe-i.timestamp,rA),1),i.timestamp=fe,i.isProcessing=!0,xh.forEach(c),i.isProcessing=!1,n&&t&&(r=!1,e(g))},w=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:xh.reduce((fe,Re)=>{const Q=a[Re];return fe[Re]=(z,o=!1,M=!1)=>(n||w(),Q.schedule(z,o,M)),fe},{}),cancel:fe=>xh.forEach(Re=>a[Re].cancel(fe)),state:i,steps:a}}const{schedule:so,cancel:Ya,state:hi,steps:sg}=oA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lo,!0),iA={useVisualState:Ak({scrapeMotionValuesFromProps:Rk,createRenderState:Pk,onMount:(e,t,{renderState:n,latestValues:r})=>{so.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),so.render(()=>{qy(n,r,{enableHardwareAcceleration:!1},Jy(t.tagName),e.transformTemplate),Ik(t,n)})}})},aA={useVisualState:Ak({scrapeMotionValuesFromProps:Qy,createRenderState:Xy})};function sA(e,{forwardMotionProps:t=!1},n,r){return{...Gy(e)?iA:aA,preloadedFeatures:n,useRender:qR(t),createVisualElement:r,Component:e}}function cs(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Dk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Dp(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lA=e=>t=>Dk(t)&&e(t,Dp(t));function ds(e,t,n,r){return cs(e,t,lA(n),r)}const cA=(e,t)=>n=>t(e(n)),Js=(...e)=>e.reduce(cA);function Lk(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Rx=Lk("dragHorizontal"),Ax=Lk("dragVertical");function Nk(e){let t=!1;if(e==="y")t=Ax();else if(e==="x")t=Rx();else{const n=Rx(),r=Ax();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function zk(){const e=Nk(!0);return e?(e(),!1):!0}class ll{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Dx(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,c)=>{if(a.pointerType==="touch"||zk())return;const g=e.getProps();e.animationState&&g.whileHover&&e.animationState.setActive("whileHover",t),g[r]&&so.update(()=>g[r](a,c))};return ds(e.current,n,i,{passive:!e.getProps()[r]})}class uA extends ll{mount(){this.unmount=Js(Dx(this.node,!0),Dx(this.node,!1))}unmount(){}}class dA extends ll{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Js(cs(this.node.current,"focus",()=>this.onFocus()),cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Bk=(e,t)=>t?e===t?!0:Bk(e,t.parentElement):!1;function lg(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Dp(n))}class fA extends ll{constructor(){super(...arguments),this.removeStartListeners=Lo,this.removeEndListeners=Lo,this.removeAccessibleListeners=Lo,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ds(window,"pointerup",(g,w)=>{if(!this.checkPressEnd())return;const{onTap:K,onTapCancel:se,globalTapTarget:fe}=this.node.getProps();so.update(()=>{!fe&&!Bk(this.node.current,g.target)?se&&se(g,w):K&&K(g,w)})},{passive:!(r.onTap||r.onPointerUp)}),c=ds(window,"pointercancel",(g,w)=>this.cancelPress(g,w),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Js(a,c),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const c=g=>{g.key!=="Enter"||!this.checkPressEnd()||lg("up",(w,K)=>{const{onTap:se}=this.node.getProps();se&&so.update(()=>se(w,K))})};this.removeEndListeners(),this.removeEndListeners=cs(this.node.current,"keyup",c),lg("down",(g,w)=>{this.startPress(g,w)})},n=cs(this.node.current,"keydown",t),r=()=>{this.isPressing&&lg("cancel",(a,c)=>this.cancelPress(a,c))},i=cs(this.node.current,"blur",r);this.removeAccessibleListeners=Js(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&so.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zk()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&so.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ds(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=cs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Js(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const V1=new WeakMap,cg=new WeakMap,hA=e=>{const t=V1.get(e.target);t&&t(e)},pA=e=>{e.forEach(hA)};function mA({root:e,...t}){const n=e||document;cg.has(n)||cg.set(n,{});const r=cg.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(pA,{root:e,...t})),r[i]}function gA(e,t,n){const r=mA(t);return V1.set(e,n),r.observe(e),()=>{V1.delete(e),r.unobserve(e)}}const vA={some:0,all:1};class yA extends ll{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vA[i]},g=w=>{const{isIntersecting:K}=w;if(this.isInView===K||(this.isInView=K,a&&!K&&this.hasEnteredView))return;K&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",K);const{onViewportEnter:se,onViewportLeave:fe}=this.node.getProps(),Re=K?se:fe;Re&&Re(w)};return gA(this.node.current,c,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bA(t,n))&&this.startObserver()}unmount(){}}function bA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xA={inView:{Feature:yA},tap:{Feature:fA},focus:{Feature:dA},hover:{Feature:uA}};function Zk(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function kA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Lp(e,t,n){const r=e.getProps();return eb(r,t,n!==void 0?n:r.custom,wA(e),kA(e))}let tb=Lo;const Dl=e=>e*1e3,fs=e=>e/1e3,SA={current:!1},Fk=e=>Array.isArray(e)&&typeof e[0]=="number";function Uk(e){return!!(!e||typeof e=="string"&&Vk[e]||Fk(e)||Array.isArray(e)&&e.every(Uk))}const ed=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ed([0,.65,.55,1]),circOut:ed([.55,0,1,.45]),backIn:ed([.31,.01,.66,-.59]),backOut:ed([.33,1.53,.69,.99])};function Wk(e){if(e)return Fk(e)?ed(e):Array.isArray(e)?e.map(Wk):Vk[e]}function EA(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:c="loop",ease:g,times:w}={}){const K={[t]:n};w&&(K.offset=w);const se=Wk(g);return Array.isArray(se)&&(K.easing=se),e.animate(K,{delay:r,duration:i,easing:Array.isArray(se)?"linear":se,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}function _A(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Hk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,CA=1e-7,TA=12;function OA(e,t,n,r,i){let a,c,g=0;do c=t+(n-t)/2,a=Hk(c,r,i)-e,a>0?n=c:t=c;while(Math.abs(a)>CA&&++g<TA);return c}function vf(e,t,n,r){if(e===t&&n===r)return Lo;const i=a=>OA(a,0,1,e,n);return a=>a===0||a===1?a:Hk(i(a),t,r)}const PA=vf(.42,0,1,1),jA=vf(0,0,.58,1),$k=vf(.42,0,.58,1),MA=e=>Array.isArray(e)&&typeof e[0]!="number",Kk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Gk=e=>t=>1-e(1-t),nb=e=>1-Math.sin(Math.acos(e)),Yk=Gk(nb),IA=Kk(nb),Xk=vf(.33,1.53,.69,.99),rb=Gk(Xk),RA=Kk(rb),AA=e=>(e*=2)<1?.5*rb(e):.5*(2-Math.pow(2,-10*(e-1))),DA={linear:Lo,easeIn:PA,easeInOut:$k,easeOut:jA,circIn:nb,circInOut:IA,circOut:Yk,backIn:rb,backInOut:RA,backOut:Xk,anticipate:AA},Lx=e=>{if(Array.isArray(e)){tb(e.length===4);const[t,n,r,i]=e;return vf(t,n,r,i)}else if(typeof e=="string")return DA[e];return e},ob=(e,t)=>n=>!!(pf(n)&&NR.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),qk=(e,t,n)=>r=>{if(!pf(r))return r;const[i,a,c,g]=r.match(Ap);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(c),alpha:g!==void 0?parseFloat(g):1}},LA=e=>tl(0,255,e),ug={...Ql,transform:e=>Math.round(LA(e))},Ml={test:ob("rgb","red"),parse:qk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ug.transform(e)+", "+ug.transform(t)+", "+ug.transform(n)+", "+md(pd.transform(r))+")"};function NA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const W1={test:ob("#"),parse:NA,transform:Ml.transform},Nc={test:ob("hsl","hue"),parse:qk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$a.transform(md(t))+", "+$a.transform(md(n))+", "+md(pd.transform(r))+")"},xi={test:e=>Ml.test(e)||W1.test(e)||Nc.test(e),parse:e=>Ml.test(e)?Ml.parse(e):Nc.test(e)?Nc.parse(e):W1.parse(e),transform:e=>pf(e)?e:e.hasOwnProperty("red")?Ml.transform(e):Nc.transform(e)},_o=(e,t,n)=>-n*e+n*t+e;function dg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,c=0;if(!t)i=a=c=n;else{const g=n<.5?n*(1+t):n+t-n*t,w=2*n-g;i=dg(w,g,e+1/3),a=dg(w,g,e),c=dg(w,g,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}const fg=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},BA=[W1,Ml,Nc],ZA=e=>BA.find(t=>t.test(e));function Nx(e){const t=ZA(e);let n=t.parse(e);return t===Nc&&(n=zA(n)),n}const Jk=(e,t)=>{const n=Nx(e),r=Nx(t),i={...n};return a=>(i.red=fg(n.red,r.red,a),i.green=fg(n.green,r.green,a),i.blue=fg(n.blue,r.blue,a),i.alpha=_o(n.alpha,r.alpha,a),Ml.transform(i))};function FA(e){var t,n;return isNaN(e)&&pf(e)&&(((t=e.match(Ap))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_k))===null||n===void 0?void 0:n.length)||0)>0}const Qk={regex:DR,countKey:"Vars",token:"${v}",parse:Lo},eS={regex:_k,countKey:"Colors",token:"${c}",parse:xi.parse},tS={regex:Ap,countKey:"Numbers",token:"${n}",parse:Ql.parse};function hg(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function R0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&hg(n,Qk),hg(n,eS),hg(n,tS),n}function nS(e){return R0(e).values}function rS(e){const{values:t,numColors:n,numVars:r,tokenised:i}=R0(e),a=t.length;return c=>{let g=i;for(let w=0;w<a;w++)w<r?g=g.replace(Qk.token,c[w]):w<r+n?g=g.replace(eS.token,xi.transform(c[w])):g=g.replace(tS.token,md(c[w]));return g}}const UA=e=>typeof e=="number"?0:e;function VA(e){const t=nS(e);return rS(e)(t.map(UA))}const nl={test:FA,parse:nS,createTransformer:rS,getAnimatableNone:VA},oS=(e,t)=>n=>`${n>0?t:e}`;function iS(e,t){return typeof e=="number"?n=>_o(e,t,n):xi.test(e)?Jk(e,t):e.startsWith("var(")?oS(e,t):sS(e,t)}const aS=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,c)=>iS(a,t[c]));return a=>{for(let c=0;c<r;c++)n[c]=i[c](a);return n}},WA=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=iS(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},sS=(e,t)=>{const n=nl.createTransformer(t),r=R0(e),i=R0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Js(aS(r.values,i.values),n):oS(e,t)},Vd=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},zx=(e,t)=>n=>_o(e,t,n);function HA(e){return typeof e=="number"?zx:typeof e=="string"?xi.test(e)?Jk:sS:Array.isArray(e)?aS:typeof e=="object"?WA:zx}function $A(e,t,n){const r=[],i=n||HA(e[0]),a=e.length-1;for(let c=0;c<a;c++){let g=i(e[c],e[c+1]);if(t){const w=Array.isArray(t)?t[c]||Lo:t;g=Js(w,g)}r.push(g)}return r}function ib(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(tb(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=$A(t,r,i),g=c.length,w=K=>{let se=0;if(g>1)for(;se<e.length-2&&!(K<e[se+1]);se++);const fe=Vd(e[se],e[se+1],K);return c[se](fe)};return n?K=>w(tl(e[0],e[a-1],K)):w}function KA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Vd(0,t,r);e.push(_o(n,1,i))}}function GA(e){const t=[0];return KA(t,e.length-1),t}function YA(e,t){return e.map(n=>n*t)}function XA(e,t){return e.map(()=>t||$k).splice(0,e.length-1)}function A0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=MA(r)?r.map(Lx):Lx(r),a={done:!1,value:t[0]},c=YA(n&&n.length===t.length?n:GA(t),e),g=ib(c,t,{ease:Array.isArray(i)?i:XA(t,i)});return{calculatedDuration:e,next:w=>(a.value=g(w),a.done=w>=e,a)}}function lS(e,t){return t?e*(1e3/t):0}const qA=5;function cS(e,t,n){const r=Math.max(t-qA,0);return lS(n-e(r),t-r)}const pg=.001,JA=.01,QA=10,eD=.05,tD=1;function nD({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,c=1-t;c=tl(eD,tD,c),e=tl(JA,QA,fs(e)),c<1?(i=K=>{const se=K*c,fe=se*e,Re=se-n,Q=H1(K,c),z=Math.exp(-fe);return pg-Re/Q*z},a=K=>{const fe=K*c*e,Re=fe*n+n,Q=Math.pow(c,2)*Math.pow(K,2)*e,z=Math.exp(-fe),o=H1(Math.pow(K,2),c);return(-i(K)+pg>0?-1:1)*((Re-Q)*z)/o}):(i=K=>{const se=Math.exp(-K*e),fe=(K-n)*e+1;return-pg+se*fe},a=K=>{const se=Math.exp(-K*e),fe=(n-K)*(e*e);return se*fe});const g=5/e,w=oD(i,a,g);if(e=Dl(e),isNaN(w))return{stiffness:100,damping:10,duration:e};{const K=Math.pow(w,2)*r;return{stiffness:K,damping:c*2*Math.sqrt(r*K),duration:e}}}const rD=12;function oD(e,t,n){let r=n;for(let i=1;i<rD;i++)r=r-e(r)/t(r);return r}function H1(e,t){return e*Math.sqrt(1-t*t)}const iD=["duration","bounce"],aD=["stiffness","damping","mass"];function Bx(e,t){return t.some(n=>e[n]!==void 0)}function sD(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Bx(e,aD)&&Bx(e,iD)){const n=nD(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function uS({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],c={done:!1,value:i},{stiffness:g,damping:w,mass:K,duration:se,velocity:fe,isResolvedFromDuration:Re}=sD({...r,velocity:-fs(r.velocity||0)}),Q=fe||0,z=w/(2*Math.sqrt(g*K)),o=a-i,M=fs(Math.sqrt(g/K)),p=Math.abs(o)<5;n||(n=p?.01:2),t||(t=p?.005:.5);let f;if(z<1){const u=H1(M,z);f=E=>{const R=Math.exp(-z*M*E);return a-R*((Q+z*M*o)/u*Math.sin(u*E)+o*Math.cos(u*E))}}else if(z===1)f=u=>a-Math.exp(-M*u)*(o+(Q+M*o)*u);else{const u=M*Math.sqrt(z*z-1);f=E=>{const R=Math.exp(-z*M*E),k=Math.min(u*E,300);return a-R*((Q+z*M*o)*Math.sinh(k)+u*o*Math.cosh(k))/u}}return{calculatedDuration:Re&&se||null,next:u=>{const E=f(u);if(Re)c.done=u>=se;else{let R=Q;u!==0&&(z<1?R=cS(f,u,E):R=0);const k=Math.abs(R)<=n,d=Math.abs(a-E)<=t;c.done=k&&d}return c.value=c.done?a:E,c}}}function Zx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:g,max:w,restDelta:K=.5,restSpeed:se}){const fe=e[0],Re={done:!1,value:fe},Q=L=>g!==void 0&&L<g||w!==void 0&&L>w,z=L=>g===void 0?w:w===void 0||Math.abs(g-L)<Math.abs(w-L)?g:w;let o=n*t;const M=fe+o,p=c===void 0?M:c(M);p!==M&&(o=p-fe);const f=L=>-o*Math.exp(-L/r),u=L=>p+f(L),E=L=>{const W=f(L),Y=u(L);Re.done=Math.abs(W)<=K,Re.value=Re.done?p:Y};let R,k;const d=L=>{Q(Re.value)&&(R=L,k=uS({keyframes:[Re.value,z(Re.value)],velocity:cS(u,L,Re.value),damping:i,stiffness:a,restDelta:K,restSpeed:se}))};return d(0),{calculatedDuration:null,next:L=>{let W=!1;return!k&&R===void 0&&(W=!0,E(L),d(L)),R!==void 0&&L>R?k.next(L-R):(!W&&E(L),Re)}}}const lD=e=>{const t=({timestamp:n})=>e(n);return{start:()=>so.update(t,!0),stop:()=>Ya(t),now:()=>hi.isProcessing?hi.timestamp:performance.now()}},Fx=2e4;function Ux(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fx;)t+=n,r=e.next(t);return t>=Fx?1/0:t}const cD={decay:Zx,inertia:Zx,tween:A0,keyframes:A0,spring:uS};function D0({autoplay:e=!0,delay:t=0,driver:n=lD,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:g="loop",onPlay:w,onStop:K,onComplete:se,onUpdate:fe,...Re}){let Q=1,z=!1,o,M;const p=()=>{M=new Promise(O=>{o=O})};p();let f;const u=cD[i]||A0;let E;u!==A0&&typeof r[0]!="number"&&(E=ib([0,100],r,{clamp:!1}),r=[0,100]);const R=u({...Re,keyframes:r});let k;g==="mirror"&&(k=u({...Re,keyframes:[...r].reverse(),velocity:-(Re.velocity||0)}));let d="idle",L=null,W=null,Y=null;R.calculatedDuration===null&&a&&(R.calculatedDuration=Ux(R));const{calculatedDuration:ee}=R;let S=1/0,B=1/0;ee!==null&&(S=ee+c,B=S*(a+1)-c);let he=0;const ge=O=>{if(W===null)return;Q>0&&(W=Math.min(W,O)),Q<0&&(W=Math.min(O-B/Q,W)),L!==null?he=L:he=Math.round(O-W)*Q;const I=he-t*(Q>=0?1:-1),A=Q>=0?I<0:I>B;he=Math.max(I,0),d==="finished"&&L===null&&(he=B);let C=he,U=R;if(a){const D=Math.min(he,B)/S;let b=Math.floor(D),v=D%1;!v&&D>=1&&(v=1),v===1&&b--,b=Math.min(b,a+1),!!(b%2)&&(g==="reverse"?(v=1-v,c&&(v-=c/S)):g==="mirror"&&(U=k)),C=tl(0,1,v)*S}const y=A?{done:!1,value:r[0]}:U.next(C);E&&(y.value=E(y.value));let{done:T}=y;!A&&ee!==null&&(T=Q>=0?he>=B:he<=0);const s=L===null&&(d==="finished"||d==="running"&&T);return fe&&fe(y.value),s&&le(),y},ve=()=>{f&&f.stop(),f=void 0},me=()=>{d="idle",ve(),o(),p(),W=Y=null},le=()=>{d="finished",se&&se(),ve(),o()},N=()=>{if(z)return;f||(f=n(ge));const O=f.now();w&&w(),L!==null?W=O-L:(!W||d==="finished")&&(W=O),d==="finished"&&p(),Y=W,L=null,d="running",f.start()};e&&N();const oe={then(O,I){return M.then(O,I)},get time(){return fs(he)},set time(O){O=Dl(O),he=O,L!==null||!f||Q===0?L=O:W=f.now()-O/Q},get duration(){const O=R.calculatedDuration===null?Ux(R):R.calculatedDuration;return fs(O)},get speed(){return Q},set speed(O){O===Q||!f||(Q=O,oe.time=fs(he))},get state(){return d},play:N,pause:()=>{d="paused",L=he},stop:()=>{z=!0,d!=="idle"&&(d="idle",K&&K(),me())},cancel:()=>{Y!==null&&ge(Y),me()},complete:()=>{d="finished"},sample:O=>(W=0,ge(O))};return oe}function uD(e){let t;return()=>(t===void 0&&(t=e()),t)}const dD=uD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wh=10,hD=2e4,pD=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Uk(t.ease);function mD(e,t,{onUpdate:n,onComplete:r,...i}){if(!(dD()&&fD.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let c=!1,g,w,K=!1;const se=()=>{w=new Promise(u=>{g=u})};se();let{keyframes:fe,duration:Re=300,ease:Q,times:z}=i;if(pD(t,i)){const u=D0({...i,repeat:0,delay:0});let E={done:!1,value:fe[0]};const R=[];let k=0;for(;!E.done&&k<hD;)E=u.sample(k),R.push(E.value),k+=wh;z=void 0,fe=R,Re=k-wh,Q="linear"}const o=EA(e.owner.current,t,fe,{...i,duration:Re,ease:Q,times:z}),M=()=>{K=!1,o.cancel()},p=()=>{K=!0,so.update(M),g(),se()};return o.onfinish=()=>{K||(e.set(_A(fe,i)),r&&r(),p())},{then(u,E){return w.then(u,E)},attachTimeline(u){return o.timeline=u,o.onfinish=null,Lo},get time(){return fs(o.currentTime||0)},set time(u){o.currentTime=Dl(u)},get speed(){return o.playbackRate},set speed(u){o.playbackRate=u},get duration(){return fs(Re)},play:()=>{c||(o.play(),Ya(M))},pause:()=>o.pause(),stop:()=>{if(c=!0,o.playState==="idle")return;const{currentTime:u}=o;if(u){const E=D0({...i,autoplay:!1});e.setWithVelocity(E.sample(u-wh).value,E.sample(u).value,wh)}p()},complete:()=>{K||o.finish()},cancel:p}}function gD({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lo,pause:Lo,stop:Lo,then:a=>(a(),Promise.resolve()),cancel:Lo,complete:Lo});return t?D0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const vD={type:"spring",stiffness:500,damping:25,restSpeed:10},yD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bD={type:"keyframes",duration:.8},xD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wD=(e,{keyframes:t})=>t.length>2?bD:Jl.has(e)?e.startsWith("scale")?yD(t[1]):vD:xD,$1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nl.test(t)||t==="0")&&!t.startsWith("url(")),kD=new Set(["brightness","contrast","saturate","opacity"]);function SD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ap)||[];if(!r)return e;const i=n.replace(r,"");let a=kD.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const ED=/([a-z-]*)\(.*?\)/g,K1={...nl,getAnimatableNone:e=>{const t=e.match(ED);return t?t.map(SD).join(" "):e}},_D={...Ck,color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:K1,WebkitFilter:K1},ab=e=>_D[e];function dS(e,t){let n=ab(e);return n!==K1&&(n=nl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fS=e=>/^0[^.\s]+$/.test(e);function CD(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||fS(e)}function TD(e,t,n,r){const i=$1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const c=r.from!==void 0?r.from:e.get();let g;const w=[];for(let K=0;K<a.length;K++)a[K]===null&&(a[K]=K===0?c:a[K-1]),CD(a[K])&&w.push(K),typeof a[K]=="string"&&a[K]!=="none"&&a[K]!=="0"&&(g=a[K]);if(i&&w.length&&g)for(let K=0;K<w.length;K++){const se=w[K];a[se]=dS(t,g)}return a}function OD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:g,from:w,elapsed:K,...se}){return!!Object.keys(se).length}function sb(e,t){return e[t]||e.default||e}const PD={skipAnimations:!1},lb=(e,t,n,r={})=>i=>{const a=sb(r,e)||{},c=a.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Dl(c);const w=TD(t,e,n,a),K=w[0],se=w[w.length-1],fe=$1(e,K),Re=$1(e,se);let Q={keyframes:w,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-g,onUpdate:z=>{t.set(z),a.onUpdate&&a.onUpdate(z)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(OD(a)||(Q={...Q,...wD(e,Q)}),Q.duration&&(Q.duration=Dl(Q.duration)),Q.repeatDelay&&(Q.repeatDelay=Dl(Q.repeatDelay)),!fe||!Re||SA.current||a.type===!1||PD.skipAnimations)return gD(Q);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const z=mD(t,e,Q);if(z)return z}return D0(Q)};function L0(e){return!!(zi(e)&&e.add)}const hS=e=>/^\-?\d*\.?\d+$/.test(e);function cb(e,t){e.indexOf(t)===-1&&e.push(t)}function ub(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class db{constructor(){this.subscriptions=[]}add(t){return cb(this.subscriptions,t),()=>ub(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jD=e=>!isNaN(parseFloat(e)),gd={current:void 0};class MD{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:c}=hi;this.lastUpdated!==c&&(this.timeDelta=a,this.lastUpdated=c,so.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>so.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=jD(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new db);const r=this.events[t].add(n);return t==="change"?()=>{r(),so.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return gd.current&&gd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?lS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(e,t){return new MD(e,t)}const pS=e=>t=>t.test(e),ID={test:e=>e==="auto",parse:e=>e},mS=[Ql,pr,$a,As,BR,zR,ID],Vu=e=>mS.find(pS(e)),RD=[...mS,xi,nl],AD=e=>RD.find(pS(e));function DD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wl(n))}function fb(e,t){const n=Lp(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const c in a){const g=QR(a[c]);DD(e,c,g)}}function G1(e,t){[...t].reverse().forEach(r=>{const i=e.getVariant(r);i&&fb(e,i),e.variantChildren&&e.variantChildren.forEach(a=>{G1(a,t)})})}function LD(e,t){if(Array.isArray(t))return G1(e,t);if(typeof t=="string")return G1(e,[t]);fb(e,t)}function ND(e,t,n){var r,i;const a=Object.keys(t).filter(g=>!e.hasValue(g)),c=a.length;if(c)for(let g=0;g<c;g++){const w=a[g],K=t[w];let se=null;Array.isArray(K)&&(se=K[0]),se===null&&(se=(i=(r=n[w])!==null&&r!==void 0?r:e.readValue(w))!==null&&i!==void 0?i:t[w]),se!=null&&(typeof se=="string"&&(hS(se)||fS(se))?se=parseFloat(se):!AD(se)&&nl.test(K)&&(se=dS(w,K)),e.addValue(w,Wl(se,{owner:e})),n[w]===void 0&&(n[w]=se),se!==null&&e.setBaseTarget(w,se))}}function zD(e,t){return t?(t[e]||t.default||t).from:void 0}function BD(e,t,n){const r={};for(const i in e){const a=zD(i,t);if(a!==void 0)r[i]=a;else{const c=n.getValue(i);c&&(r[i]=c.get())}}return r}function ZD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function FD(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function gS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...g}=e.makeTargetAnimatable(t);const w=e.getValue("willChange");r&&(a=r);const K=[],se=i&&e.animationState&&e.animationState.getState()[i];for(const fe in g){const Re=e.getValue(fe),Q=g[fe];if(!Re||Q===void 0||se&&ZD(se,fe))continue;const z={delay:n,elapsed:0,...sb(a||{},fe)};if(window.HandoffAppearAnimations){const p=e.getProps()[yk];if(p){const f=window.HandoffAppearAnimations(p,fe,Re,so);f!==null&&(z.elapsed=f,z.isHandoff=!0)}}let o=!z.isHandoff&&!FD(Re,Q);if(z.type==="spring"&&(Re.getVelocity()||z.velocity)&&(o=!1),Re.animation&&(o=!1),o)continue;Re.start(lb(fe,Re,Q,e.shouldReduceMotion&&Jl.has(fe)?{type:!1}:z));const M=Re.animation;L0(w)&&(w.add(fe),M.then(()=>w.remove(fe))),K.push(M)}return c&&Promise.all(K).then(()=>{c&&fb(e,c)}),K}function Y1(e,t,n={}){const r=Lp(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(gS(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:K=0,staggerChildren:se,staggerDirection:fe}=i;return UD(e,t,K+w,se,fe,n)}:()=>Promise.resolve(),{when:g}=i;if(g){const[w,K]=g==="beforeChildren"?[a,c]:[c,a];return w().then(()=>K())}else return Promise.all([a(),c(n.delay)])}function UD(e,t,n=0,r=0,i=1,a){const c=[],g=(e.variantChildren.size-1)*r,w=i===1?(K=0)=>K*r:(K=0)=>g-K*r;return Array.from(e.variantChildren).sort(VD).forEach((K,se)=>{K.notify("AnimationStart",t),c.push(Y1(K,t,{...a,delay:n+w(se)}).then(()=>K.notify("AnimationComplete",t)))}),Promise.all(c)}function VD(e,t){return e.sortNodePosition(t)}function vS(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Y1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Y1(e,t,n);else{const i=typeof t=="function"?Lp(e,t,n.custom):t;r=Promise.all(gS(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const WD=[...$y].reverse(),HD=$y.length;function $D(e){return t=>Promise.all(t.map(({animation:n,options:r})=>vS(e,n,r)))}function KD(e){let t=$D(e);const n=YD();let r=!0;const i=(w,K)=>{const se=Lp(e,K);if(se){const{transition:fe,transitionEnd:Re,...Q}=se;w={...w,...Q,...Re}}return w};function a(w){t=w(e)}function c(w,K){const se=e.getProps(),fe=e.getVariantContext(!0)||{},Re=[],Q=new Set;let z={},o=1/0;for(let p=0;p<HD;p++){const f=WD[p],u=n[f],E=se[f]!==void 0?se[f]:fe[f],R=Fd(E),k=f===K?u.isActive:null;k===!1&&(o=p);let d=E===fe[f]&&E!==se[f]&&R;if(d&&r&&e.manuallyAnimateOnMount&&(d=!1),u.protectedKeys={...z},!u.isActive&&k===null||!E&&!u.prevProp||Ip(E)||typeof E=="boolean")continue;let W=GD(u.prevProp,E)||f===K&&u.isActive&&!d&&R||p>o&&R,Y=!1;const ee=Array.isArray(E)?E:[E];let S=ee.reduce(i,{});k===!1&&(S={});const{prevResolvedValues:B={}}=u,he={...B,...S},ge=ve=>{W=!0,Q.has(ve)&&(Y=!0,Q.delete(ve)),u.needsAnimating[ve]=!0};for(const ve in he){const me=S[ve],le=B[ve];if(z.hasOwnProperty(ve))continue;let N=!1;I0(me)&&I0(le)?N=!Zk(me,le):N=me!==le,N?me!==void 0?ge(ve):Q.add(ve):me!==void 0&&Q.has(ve)?ge(ve):u.protectedKeys[ve]=!0}u.prevProp=E,u.prevResolvedValues=S,u.isActive&&(z={...z,...S}),r&&e.blockInitialAnimation&&(W=!1),W&&(!d||Y)&&Re.push(...ee.map(ve=>({animation:ve,options:{type:f,...w}})))}if(Q.size){const p={};Q.forEach(f=>{const u=e.getBaseTarget(f);u!==void 0&&(p[f]=u)}),Re.push({animation:p})}let M=!!Re.length;return r&&(se.initial===!1||se.initial===se.animate)&&!e.manuallyAnimateOnMount&&(M=!1),r=!1,M?t(Re):Promise.resolve()}function g(w,K,se){var fe;if(n[w].isActive===K)return Promise.resolve();(fe=e.variantChildren)===null||fe===void 0||fe.forEach(Q=>{var z;return(z=Q.animationState)===null||z===void 0?void 0:z.setActive(w,K)}),n[w].isActive=K;const Re=c(se,w);for(const Q in n)n[Q].protectedKeys={};return Re}return{animateChanges:c,setActive:g,setAnimateFunction:a,getState:()=>n}}function GD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zk(t,e):!1}function bl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YD(){return{animate:bl(!0),whileInView:bl(),whileHover:bl(),whileTap:bl(),whileDrag:bl(),whileFocus:bl(),exit:bl()}}class XD extends ll{constructor(t){super(t),t.animationState||(t.animationState=KD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ip(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qD=0;class JD extends ll{constructor(){super(...arguments),this.id=qD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const QD={animation:{Feature:XD},exit:{Feature:JD}},Vx=(e,t)=>Math.abs(e-t);function eL(e,t){const n=Vx(e.x,t.x),r=Vx(e.y,t.y);return Math.sqrt(n**2+r**2)}class yS{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const fe=gg(this.lastMoveEventInfo,this.history),Re=this.startEvent!==null,Q=eL(fe.offset,{x:0,y:0})>=3;if(!Re&&!Q)return;const{point:z}=fe,{timestamp:o}=hi;this.history.push({...z,timestamp:o});const{onStart:M,onMove:p}=this.handlers;Re||(M&&M(this.lastMoveEvent,fe),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,fe)},this.handlePointerMove=(fe,Re)=>{this.lastMoveEvent=fe,this.lastMoveEventInfo=mg(Re,this.transformPagePoint),so.update(this.updatePoint,!0)},this.handlePointerUp=(fe,Re)=>{this.end();const{onEnd:Q,onSessionEnd:z,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=gg(fe.type==="pointercancel"?this.lastMoveEventInfo:mg(Re,this.transformPagePoint),this.history);this.startEvent&&Q&&Q(fe,M),z&&z(fe,M)},!Dk(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=Dp(t),g=mg(c,this.transformPagePoint),{point:w}=g,{timestamp:K}=hi;this.history=[{...w,timestamp:K}];const{onSessionStart:se}=n;se&&se(t,gg(g,this.history)),this.removeListeners=Js(ds(this.contextWindow,"pointermove",this.handlePointerMove),ds(this.contextWindow,"pointerup",this.handlePointerUp),ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ya(this.updatePoint)}}function mg(e,t){return t?{point:t(e.point)}:e}function Wx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gg({point:e},t){return{point:e,delta:Wx(e,bS(t)),offset:Wx(e,tL(t)),velocity:nL(t,.1)}}function tL(e){return e[0]}function bS(e){return e[e.length-1]}function nL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=bS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Dl(t)));)n--;if(!r)return{x:0,y:0};const a=fs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qi(e){return e.max-e.min}function X1(e,t=0,n=.01){return Math.abs(e-t)<=n}function Hx(e,t,n,r=.5){e.origin=r,e.originPoint=_o(t.min,t.max,e.origin),e.scale=qi(n)/qi(t),(X1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_o(n.min,n.max,e.origin)-e.originPoint,(X1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vd(e,t,n,r){Hx(e.x,t.x,n.x,r?r.originX:void 0),Hx(e.y,t.y,n.y,r?r.originY:void 0)}function $x(e,t,n){e.min=n.min+t.min,e.max=e.min+qi(t)}function rL(e,t,n){$x(e.x,t.x,n.x),$x(e.y,t.y,n.y)}function Kx(e,t,n){e.min=t.min-n.min,e.max=e.min+qi(t)}function yd(e,t,n){Kx(e.x,t.x,n.x),Kx(e.y,t.y,n.y)}function oL(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?_o(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?_o(n,e,r.max):Math.min(e,n)),e}function Gx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iL(e,{top:t,left:n,bottom:r,right:i}){return{x:Gx(e.x,n,i),y:Gx(e.y,t,r)}}function Yx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function aL(e,t){return{x:Yx(e.x,t.x),y:Yx(e.y,t.y)}}function sL(e,t){let n=.5;const r=qi(e),i=qi(t);return i>r?n=Vd(t.min,t.max-r,e.min):r>i&&(n=Vd(e.min,e.max-i,t.min)),tl(0,1,n)}function lL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const q1=.35;function cL(e=q1){return e===!1?e=0:e===!0&&(e=q1),{x:Xx(e,"left","right"),y:Xx(e,"top","bottom")}}function Xx(e,t,n){return{min:qx(e,t),max:qx(e,n)}}function qx(e,t){return typeof e=="number"?e:e[t]||0}const Jx=()=>({translate:0,scale:1,origin:0,originPoint:0}),zc=()=>({x:Jx(),y:Jx()}),Qx=()=>({min:0,max:0}),zo=()=>({x:Qx(),y:Qx()});function aa(e){return[e("x"),e("y")]}function xS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vg(e){return e===void 0||e===1}function J1({scale:e,scaleX:t,scaleY:n}){return!vg(e)||!vg(t)||!vg(n)}function kl(e){return J1(e)||wS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function wS(e){return ew(e.x)||ew(e.y)}function ew(e){return e&&e!=="0%"}function N0(e,t,n){const r=e-n,i=t*r;return n+i}function tw(e,t,n,r,i){return i!==void 0&&(e=N0(e,i,r)),N0(e,n,r)+t}function Q1(e,t=0,n=1,r,i){e.min=tw(e.min,t,n,r,i),e.max=tw(e.max,t,n,r,i)}function kS(e,{x:t,y:n}){Q1(e.x,t.translate,t.scale,t.originPoint),Q1(e.y,n.translate,n.scale,n.originPoint)}function fL(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,c;for(let g=0;g<i;g++){a=n[g],c=a.projectionDelta;const w=a.instance;w&&w.style&&w.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,kS(e,c)),r&&kl(a.latestValues)&&Bc(e,a.latestValues))}t.x=nw(t.x),t.y=nw(t.y)}function nw(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zs(e,t){e.min=e.min+t,e.max=e.max+t}function rw(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,c=_o(e.min,e.max,a);Q1(e,t[n],t[r],c,t.scale)}const hL=["x","scaleX","originX"],pL=["y","scaleY","originY"];function Bc(e,t){rw(e.x,t,hL),rw(e.y,t,pL)}function SS(e,t){return xS(dL(e.getBoundingClientRect(),t))}function mL(e,t,n){const r=SS(e,n),{scroll:i}=t;return i&&(zs(r.x,i.offset.x),zs(r.y,i.offset.y)),r}const ES=({current:e})=>e?e.ownerDocument.defaultView:null,gL=new WeakMap;class vL{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zo(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=se=>{const{dragSnapToOrigin:fe}=this.getProps();fe?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dp(se,"page").point)},a=(se,fe)=>{const{drag:Re,dragPropagation:Q,onDragStart:z}=this.getProps();if(Re&&!Q&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Nk(Re),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa(M=>{let p=this.getAxisMotionValue(M).get()||0;if($a.test(p)){const{projection:f}=this.visualElement;if(f&&f.layout){const u=f.layout.layoutBox[M];u&&(p=qi(u)*(parseFloat(p)/100))}}this.originPoint[M]=p}),z&&so.update(()=>z(se,fe),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},c=(se,fe)=>{const{dragPropagation:Re,dragDirectionLock:Q,onDirectionLock:z,onDrag:o}=this.getProps();if(!Re&&!this.openGlobalLock)return;const{offset:M}=fe;if(Q&&this.currentDirection===null){this.currentDirection=yL(M),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",fe.point,M),this.updateAxis("y",fe.point,M),this.visualElement.render(),o&&o(se,fe)},g=(se,fe)=>this.stop(se,fe),w=()=>aa(se=>{var fe;return this.getAnimationState(se)==="paused"&&((fe=this.getAxisMotionValue(se).animation)===null||fe===void 0?void 0:fe.play())}),{dragSnapToOrigin:K}=this.getProps();this.panSession=new yS(t,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:g,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:K,contextWindow:ES(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&so.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!kh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=oL(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Lc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=iL(i.layoutBox,n):this.constraints=!1,this.elastic=cL(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&aa(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=lL(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Lc(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=mL(r,i.root,this.visualElement.getTransformPagePoint());let c=aL(i.layout.layoutBox,a);if(n){const g=n(uL(c));this.hasMutatedConstraints=!!g,g&&(c=xS(g))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:g}=this.getProps(),w=this.constraints||{},K=aa(se=>{if(!kh(se,n,this.currentDirection))return;let fe=w&&w[se]||{};c&&(fe={min:0,max:0});const Re=i?200:1e6,Q=i?40:1e7,z={type:"inertia",velocity:r?t[se]:0,bounceStiffness:Re,bounceDamping:Q,timeConstant:750,restDelta:1,restSpeed:10,...a,...fe};return this.startAxisValueAnimation(se,z)});return Promise.all(K).then(g)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(lb(t,r,0,n))}stopAnimation(){aa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){aa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){aa(n=>{const{drag:r}=this.getProps();if(!kh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:g}=i.layout.layoutBox[n];a.set(t[n]-_o(c,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};aa(c=>{const g=this.getAxisMotionValue(c);if(g){const w=g.get();i[c]=sL({min:w,max:w},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),aa(c=>{if(!kh(c,t,null))return;const g=this.getAxisMotionValue(c),{min:w,max:K}=this.constraints[c];g.set(_o(w,K,i[c]))})}addListeners(){if(!this.visualElement.current)return;gL.set(this.visualElement,this);const t=this.visualElement.current,n=ds(t,"pointerdown",w=>{const{drag:K,dragListener:se=!0}=this.getProps();K&&se&&this.start(w)}),r=()=>{const{dragConstraints:w}=this.getProps();Lc(w)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const c=cs(window,"resize",()=>this.scalePositionWithinConstraints()),g=i.addEventListener("didUpdate",({delta:w,hasLayoutChanged:K})=>{this.isDragging&&K&&(aa(se=>{const fe=this.getAxisMotionValue(se);fe&&(this.originPoint[se]+=w[se].translate,fe.set(fe.get()+w[se].translate))}),this.visualElement.render())});return()=>{c(),n(),a(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=q1,dragMomentum:g=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:g}}}function kh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bL extends ll{constructor(t){super(t),this.removeGroupControls=Lo,this.removeListeners=Lo,this.controls=new vL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const ow=e=>(t,n)=>{e&&so.update(()=>e(t,n))};class xL extends ll{constructor(){super(...arguments),this.removePointerDownListener=Lo}onPointerDown(t){this.session=new yS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ES(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ow(t),onStart:ow(n),onMove:r,onEnd:(a,c)=>{delete this.session,i&&so.update(()=>i(a,c))}}}mount(){this.removePointerDownListener=ds(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wL(){const e=Tt.useContext(Vy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=Tt.useId();return Tt.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pr.test(e))e=parseFloat(e);else return e;const n=iw(e,t.target.x),r=iw(e,t.target.y);return`${n}% ${r}%`}},kL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=nl.parse(e);if(i.length>5)return r;const a=nl.createTransformer(e),c=typeof i[0]!="number"?1:0,g=n.x.scale*t.x,w=n.y.scale*t.y;i[0+c]/=g,i[1+c]/=w;const K=_o(g,w,.5);return typeof i[2+c]=="number"&&(i[2+c]/=K),typeof i[3+c]=="number"&&(i[3+c]/=K),a(i)}};class SL extends zr.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;MR(EL),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,c=r.projection;return c&&(c.isPresent=a,i||t.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||so.postRender(()=>{const g=c.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _S(e){const[t,n]=wL(),r=Tt.useContext(xk);return zr.createElement(SL,{...e,layoutGroup:r,switchLayoutGroup:Tt.useContext(wk),isPresent:t,safeToRemove:n})}const EL={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:kL},CS=["TopLeft","TopRight","BottomLeft","BottomRight"],_L=CS.length,aw=e=>typeof e=="string"?parseFloat(e):e,sw=e=>typeof e=="number"||pr.test(e);function CL(e,t,n,r,i,a){i?(e.opacity=_o(0,n.opacity!==void 0?n.opacity:1,TL(r)),e.opacityExit=_o(t.opacity!==void 0?t.opacity:1,0,OL(r))):a&&(e.opacity=_o(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<_L;c++){const g=`border${CS[c]}Radius`;let w=lw(t,g),K=lw(n,g);if(w===void 0&&K===void 0)continue;w||(w=0),K||(K=0),w===0||K===0||sw(w)===sw(K)?(e[g]=Math.max(_o(aw(w),aw(K),r),0),($a.test(K)||$a.test(w))&&(e[g]+="%")):e[g]=K}(t.rotate||n.rotate)&&(e.rotate=_o(t.rotate||0,n.rotate||0,r))}function lw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TL=TS(0,.5,Yk),OL=TS(.5,.95,Lo);function TS(e,t,n){return r=>r<e?0:r>t?1:n(Vd(e,t,r))}function cw(e,t){e.min=t.min,e.max=t.max}function ia(e,t){cw(e.x,t.x),cw(e.y,t.y)}function uw(e,t,n,r,i){return e-=t,e=N0(e,1/n,r),i!==void 0&&(e=N0(e,1/i,r)),e}function PL(e,t=0,n=1,r=.5,i,a=e,c=e){if($a.test(t)&&(t=parseFloat(t),t=_o(c.min,c.max,t/100)-c.min),typeof t!="number")return;let g=_o(a.min,a.max,r);e===a&&(g-=t),e.min=uw(e.min,t,n,g,i),e.max=uw(e.max,t,n,g,i)}function dw(e,t,[n,r,i],a,c){PL(e,t[n],t[r],t[i],t.scale,a,c)}const jL=["x","scaleX","originX"],ML=["y","scaleY","originY"];function fw(e,t,n,r){dw(e.x,t,jL,n?n.x:void 0,r?r.x:void 0),dw(e.y,t,ML,n?n.y:void 0,r?r.y:void 0)}function hw(e){return e.translate===0&&e.scale===1}function OS(e){return hw(e.x)&&hw(e.y)}function IL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function PS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function pw(e){return qi(e.x)/qi(e.y)}class RL{constructor(){this.members=[]}add(t){cb(this.members,t),t.scheduleRender()}remove(t){if(ub(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mw(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:w,rotateX:K,rotateY:se}=n;w&&(r+=`rotate(${w}deg) `),K&&(r+=`rotateX(${K}deg) `),se&&(r+=`rotateY(${se}deg) `)}const c=e.x.scale*t.x,g=e.y.scale*t.y;return(c!==1||g!==1)&&(r+=`scale(${c}, ${g})`),r||"none"}const AL=(e,t)=>e.depth-t.depth;class DL{constructor(){this.children=[],this.isDirty=!1}add(t){cb(this.children,t),this.isDirty=!0}remove(t){ub(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AL),this.isDirty=!1,this.children.forEach(t)}}function LL(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Ya(r),e(a-t))};return so.read(r,!0),()=>Ya(r)}function NL(e){window.MotionDebug&&window.MotionDebug.record(e)}function zL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function BL(e,t,n){const r=zi(e)?e:Wl(e);return r.start(lb("",r,t,n)),r.animation}const gw=["","X","Y","Z"],ZL={visibility:"hidden"},vw=1e3;let FL=0;const Sl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},g=t==null?void 0:t()){this.id=FL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sl.totalNodes=Sl.resolvedTargetDeltas=Sl.recalculatedProjection=0,this.nodes.forEach(WL),this.nodes.forEach(YL),this.nodes.forEach(XL),this.nodes.forEach(HL),NL(Sl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new DL)}addEventListener(c,g){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new db),this.eventHandlers.get(c).add(g)}notifyListeners(c,...g){const w=this.eventHandlers.get(c);w&&w.notify(...g)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zL(c),this.instance=c;const{layoutId:w,layout:K,visualElement:se}=this.options;if(se&&!se.current&&se.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(K||w)&&(this.isLayoutDirty=!0),e){let fe;const Re=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,fe&&fe(),fe=LL(Re,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(bw))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&se&&(w||K)&&this.addEventListener("didUpdate",({delta:fe,hasLayoutChanged:Re,hasRelativeTargetChanged:Q,layout:z})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const o=this.options.transition||se.getDefaultTransition()||tN,{onLayoutAnimationStart:M,onLayoutAnimationComplete:p}=se.getProps(),f=!this.targetLayout||!PS(this.targetLayout,z)||Q,u=!Re&&Q;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||Re&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(fe,u);const E={...sb(o,"layout"),onPlay:M,onComplete:p};(se.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else Re||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=z})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ya(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let se=0;se<this.path.length;se++){const fe=this.path[se];fe.shouldResetTransform=!0,fe.updateScroll("snapshot"),fe.options.layoutRoot&&fe.willUpdate(!1)}const{layoutId:g,layout:w}=this.options;if(g===void 0&&!w)return;const K=this.getTransformTemplate();this.prevTransformTemplateValue=K?K(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yw);return}this.isUpdating||this.nodes.forEach(KL),this.isUpdating=!1,this.nodes.forEach(GL),this.nodes.forEach(UL),this.nodes.forEach(VL),this.clearAllSnapshots();const g=performance.now();hi.delta=tl(0,1e3/60,g-hi.timestamp),hi.timestamp=g,hi.isProcessing=!0,sg.update.process(hi),sg.preRender.process(hi),sg.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($L),this.sharedNodes.forEach(JL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,so.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){so.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let g=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(g=!1),g&&(this.scroll={animationId:this.root.animationId,phase:c,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform,g=this.projectionDelta&&!OS(this.projectionDelta),w=this.getTransformTemplate(),K=w?w(this.latestValues,""):void 0,se=K!==this.prevTransformTemplateValue;c&&(g||kl(this.latestValues)||se)&&(i(this.instance,K),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const g=this.measurePageBox();let w=this.removeElementScroll(g);return c&&(w=this.removeTransform(w)),nN(w),{animationId:this.root.animationId,measuredBox:g,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return zo();const g=c.measureViewportBox(),{scroll:w}=this.root;return w&&(zs(g.x,w.offset.x),zs(g.y,w.offset.y)),g}removeElementScroll(c){const g=zo();ia(g,c);for(let w=0;w<this.path.length;w++){const K=this.path[w],{scroll:se,options:fe}=K;if(K!==this.root&&se&&fe.layoutScroll){if(se.isRoot){ia(g,c);const{scroll:Re}=this.root;Re&&(zs(g.x,-Re.offset.x),zs(g.y,-Re.offset.y))}zs(g.x,se.offset.x),zs(g.y,se.offset.y)}}return g}applyTransform(c,g=!1){const w=zo();ia(w,c);for(let K=0;K<this.path.length;K++){const se=this.path[K];!g&&se.options.layoutScroll&&se.scroll&&se!==se.root&&Bc(w,{x:-se.scroll.offset.x,y:-se.scroll.offset.y}),kl(se.latestValues)&&Bc(w,se.latestValues)}return kl(this.latestValues)&&Bc(w,this.latestValues),w}removeTransform(c){const g=zo();ia(g,c);for(let w=0;w<this.path.length;w++){const K=this.path[w];if(!K.instance||!kl(K.latestValues))continue;J1(K.latestValues)&&K.updateSnapshot();const se=zo(),fe=K.measurePageBox();ia(se,fe),fw(g,K.latestValues,K.snapshot?K.snapshot.layoutBox:void 0,se)}return kl(this.latestValues)&&fw(g,this.latestValues),g}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const K=!!this.resumingFrom||this!==w;if(!(c||K&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:fe,layoutId:Re}=this.options;if(!(!this.layout||!(fe||Re))){if(this.resolvedRelativeTargetAt=hi.timestamp,!this.targetDelta&&!this.relativeTarget){const Q=this.getClosestProjectingParent();Q&&Q.layout&&this.animationProgress!==1?(this.relativeParent=Q,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zo(),this.relativeTargetOrigin=zo(),yd(this.relativeTargetOrigin,this.layout.layoutBox,Q.layout.layoutBox),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zo(),this.targetWithTransforms=zo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ia(this.target,this.layout.layoutBox),kS(this.target,this.targetDelta)):ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Q=this.getClosestProjectingParent();Q&&!!Q.resumingFrom==!!this.resumingFrom&&!Q.options.layoutScroll&&Q.target&&this.animationProgress!==1?(this.relativeParent=Q,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zo(),this.relativeTargetOrigin=zo(),yd(this.relativeTargetOrigin,this.target,Q.target),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||J1(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const g=this.getLead(),w=!!this.resumingFrom||this!==g;let K=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(K=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(K=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(K=!1),K)return;const{layout:se,layoutId:fe}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(se||fe))return;ia(this.layoutCorrected,this.layout.layoutBox);const Re=this.treeScale.x,Q=this.treeScale.y;fL(this.layoutCorrected,this.treeScale,this.path,w),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox);const{target:z}=g;if(!z){this.projectionTransform&&(this.projectionDelta=zc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=zc(),this.projectionDeltaWithTransform=zc());const o=this.projectionTransform;vd(this.projectionDelta,this.layoutCorrected,z,this.latestValues),this.projectionTransform=mw(this.projectionDelta,this.treeScale),(this.projectionTransform!==o||this.treeScale.x!==Re||this.treeScale.y!==Q)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",z)),Sl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(c,g=!1){const w=this.snapshot,K=w?w.latestValues:{},se={...this.latestValues},fe=zc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const Re=zo(),Q=w?w.source:void 0,z=this.layout?this.layout.source:void 0,o=Q!==z,M=this.getStack(),p=!M||M.members.length<=1,f=!!(o&&!p&&this.options.crossfade===!0&&!this.path.some(eN));this.animationProgress=0;let u;this.mixTargetDelta=E=>{const R=E/1e3;xw(fe.x,c.x,R),xw(fe.y,c.y,R),this.setTargetDelta(fe),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yd(Re,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QL(this.relativeTarget,this.relativeTargetOrigin,Re,R),u&&IL(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u=zo()),ia(u,this.relativeTarget)),o&&(this.animationValues=se,CL(se,K,this.latestValues,R,f,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ya(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=so.update(()=>{Vh.hasAnimatedSinceResize=!0,this.currentAnimation=BL(0,vw,{...c,onUpdate:g=>{this.mixTargetDelta(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:g,target:w,layout:K,latestValues:se}=c;if(!(!g||!w||!K)){if(this!==c&&this.layout&&K&&MS(this.options.animationType,this.layout.layoutBox,K.layoutBox)){w=this.target||zo();const fe=qi(this.layout.layoutBox.x);w.x.min=c.target.x.min,w.x.max=w.x.min+fe;const Re=qi(this.layout.layoutBox.y);w.y.min=c.target.y.min,w.y.max=w.y.min+Re}ia(g,w),Bc(g,se),vd(this.projectionDeltaWithTransform,this.layoutCorrected,g,se)}}registerSharedNode(c,g){this.sharedNodes.has(c)||this.sharedNodes.set(c,new RL),this.sharedNodes.get(c).add(g);const K=g.options.initialPromotionConfig;g.promote({transition:K?K.transition:void 0,preserveFollowOpacity:K&&K.shouldPreserveFollowOpacity?K.shouldPreserveFollowOpacity(g):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:g}=this.options;return g?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:g}=this.options;return g?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:g,preserveFollowOpacity:w}={}){const K=this.getStack();K&&K.promote(this,w),c&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetRotation(){const{visualElement:c}=this.options;if(!c)return;let g=!1;const{latestValues:w}=c;if((w.rotate||w.rotateX||w.rotateY||w.rotateZ)&&(g=!0),!g)return;const K={};for(let se=0;se<gw.length;se++){const fe="rotate"+gw[se];w[fe]&&(K[fe]=w[fe],c.setStaticValue(fe,0))}c.render();for(const se in K)c.setStaticValue(se,K[se]);c.scheduleRender()}getProjectionStyles(c){var g,w;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZL;const K={visibility:""},se=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,K.opacity="",K.pointerEvents=Uh(c==null?void 0:c.pointerEvents)||"",K.transform=se?se(this.latestValues,""):"none",K;const fe=this.getLead();if(!this.projectionDelta||!this.layout||!fe.target){const o={};return this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Uh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!kl(this.latestValues)&&(o.transform=se?se({},""):"none",this.hasProjected=!1),o}const Re=fe.animationValues||fe.latestValues;this.applyTransformsToTarget(),K.transform=mw(this.projectionDeltaWithTransform,this.treeScale,Re),se&&(K.transform=se(Re,K.transform));const{x:Q,y:z}=this.projectionDelta;K.transformOrigin=`${Q.origin*100}% ${z.origin*100}% 0`,fe.animationValues?K.opacity=fe===this?(w=(g=Re.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&w!==void 0?w:1:this.preserveOpacity?this.latestValues.opacity:Re.opacityExit:K.opacity=fe===this?Re.opacity!==void 0?Re.opacity:"":Re.opacityExit!==void 0?Re.opacityExit:0;for(const o in j0){if(Re[o]===void 0)continue;const{correct:M,applyTo:p}=j0[o],f=K.transform==="none"?Re[o]:M(Re[o],fe);if(p){const u=p.length;for(let E=0;E<u;E++)K[p[E]]=f}else K[o]=f}return this.options.layoutId&&(K.pointerEvents=fe===this?Uh(c==null?void 0:c.pointerEvents)||"":"none"),K}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var g;return(g=c.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(yw),this.root.sharedNodes.clear()}}}function UL(e){e.updateLayout()}function VL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,c=n.source!==e.layout.source;a==="size"?aa(fe=>{const Re=c?n.measuredBox[fe]:n.layoutBox[fe],Q=qi(Re);Re.min=r[fe].min,Re.max=Re.min+Q}):MS(a,n.layoutBox,r)&&aa(fe=>{const Re=c?n.measuredBox[fe]:n.layoutBox[fe],Q=qi(r[fe]);Re.max=Re.min+Q,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[fe].max=e.relativeTarget[fe].min+Q)});const g=zc();vd(g,r,n.layoutBox);const w=zc();c?vd(w,e.applyTransform(i,!0),n.measuredBox):vd(w,r,n.layoutBox);const K=!OS(g);let se=!1;if(!e.resumeFrom){const fe=e.getClosestProjectingParent();if(fe&&!fe.resumeFrom){const{snapshot:Re,layout:Q}=fe;if(Re&&Q){const z=zo();yd(z,n.layoutBox,Re.layoutBox);const o=zo();yd(o,r,Q.layoutBox),PS(z,o)||(se=!0),fe.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=z,e.relativeParent=fe)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:w,layoutDelta:g,hasLayoutChanged:K,hasRelativeTargetChanged:se})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WL(e){Sl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $L(e){e.clearSnapshot()}function yw(e){e.clearMeasurements()}function KL(e){e.isLayoutDirty=!1}function GL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YL(e){e.resolveTargetDelta()}function XL(e){e.calcProjection()}function qL(e){e.resetRotation()}function JL(e){e.removeLeadSnapshot()}function xw(e,t,n){e.translate=_o(t.translate,0,n),e.scale=_o(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ww(e,t,n,r){e.min=_o(t.min,n.min,r),e.max=_o(t.max,n.max,r)}function QL(e,t,n,r){ww(e.x,t.x,n.x,r),ww(e.y,t.y,n.y,r)}function eN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tN={duration:.45,ease:[.4,0,.1,1]},kw=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Sw=kw("applewebkit/")&&!kw("chrome/")?Math.round:Lo;function Ew(e){e.min=Sw(e.min),e.max=Sw(e.max)}function nN(e){Ew(e.x),Ew(e.y)}function MS(e,t,n){return e==="position"||e==="preserve-aspect"&&!X1(pw(t),pw(n),.2)}const rN=jS({attachResizeListener:(e,t)=>cs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},IS=jS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yg.current){const e=new rN({});e.mount(window),e.setOptions({layoutScroll:!0}),yg.current=e}return yg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oN={pan:{Feature:xL},drag:{Feature:bL,ProjectionNode:IS,MeasureLayout:_S}},iN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function aN(e){const t=iN.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function ev(e,t,n=1){const[r,i]=aN(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const c=a.trim();return hS(c)?parseFloat(c):c}else return U1(i)?ev(i,t,n+1):i}function sN(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!U1(a))return;const c=ev(a,r);c&&i.set(c)});for(const i in t){const a=t[i];if(!U1(a))continue;const c=ev(a,r);c&&(t[i]=c,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const lN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RS=e=>lN.has(e),cN=e=>Object.keys(e).some(RS),_w=e=>e===Ql||e===pr,Cw=(e,t)=>parseFloat(e.split(", ")[t]),Tw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Cw(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?Cw(a[1],e):0}},uN=new Set(["x","y","z"]),dN=hf.filter(e=>!uN.has(e));function fN(e){const t=[];return dN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const su={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Tw(4,13),y:Tw(5,14)};su.translateX=su.x;su.translateY=su.y;const hN=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:c}=a,g={};c==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(K=>{g[K]=su[K](r,a)}),t.render();const w=t.measureViewportBox();return n.forEach(K=>{const se=t.getValue(K);se&&se.jump(g[K]),e[K]=su[K](w,a)}),e},pN=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(RS);let a=[],c=!1;const g=[];if(i.forEach(w=>{const K=e.getValue(w);if(!e.hasValue(w))return;let se=n[w],fe=Vu(se);const Re=t[w];let Q;if(I0(Re)){const z=Re.length,o=Re[0]===null?1:0;se=Re[o],fe=Vu(se);for(let M=o;M<z&&Re[M]!==null;M++)Q?tb(Vu(Re[M])===Q):Q=Vu(Re[M])}else Q=Vu(Re);if(fe!==Q)if(_w(fe)&&_w(Q)){const z=K.get();typeof z=="string"&&K.set(parseFloat(z)),typeof Re=="string"?t[w]=parseFloat(Re):Array.isArray(Re)&&Q===pr&&(t[w]=Re.map(parseFloat))}else fe!=null&&fe.transform&&(Q!=null&&Q.transform)&&(se===0||Re===0)?se===0?K.set(Q.transform(se)):t[w]=fe.transform(Re):(c||(a=fN(e),c=!0),g.push(w),r[w]=r[w]!==void 0?r[w]:t[w],K.jump(Re))}),g.length){const w=g.indexOf("height")>=0?window.pageYOffset:null,K=hN(t,e,g);return a.length&&a.forEach(([se,fe])=>{e.getValue(se).set(fe)}),e.render(),Mp&&w!==null&&window.scrollTo({top:w}),{target:K,transitionEnd:r}}else return{target:t,transitionEnd:r}};function mN(e,t,n,r){return cN(t)?pN(e,t,n,r):{target:t,transitionEnd:r}}const gN=(e,t,n,r)=>{const i=sN(e,t,r);return t=i.target,r=i.transitionEnd,mN(e,t,n,r)},tv={current:null},AS={current:!1};function vN(){if(AS.current=!0,!!Mp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tv.current=e.matches;e.addListener(t),t()}else tv.current=!1}function yN(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],c=n[i];if(zi(a))e.addValue(i,a),L0(r)&&r.add(i);else if(zi(c))e.addValue(i,Wl(a,{owner:e})),L0(r)&&r.remove(i);else if(c!==a)if(e.hasValue(i)){const g=e.getValue(i);!g.hasAnimated&&g.set(a)}else{const g=e.getStaticValue(i);e.addValue(i,Wl(g!==void 0?g:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Ow=new WeakMap,DS=Object.keys(Ud),bN=DS.length,Pw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],xN=Ky.length;class wN{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>so.render(this.render,!1,!0);const{latestValues:g,renderState:w}=a;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=w,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.isControllingVariants=Rp(n),this.isVariantNode=bk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:K,...se}=this.scrapeMotionValuesFromProps(n,{});for(const fe in se){const Re=se[fe];g[fe]!==void 0&&zi(Re)&&(Re.set(g[fe],!1),L0(K)&&K.add(fe))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Ow.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AS.current||vN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ow.delete(this.current),this.projection&&this.projection.unmount(),Ya(this.notifyUpdate),Ya(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Jl.has(t),i=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&so.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let c,g;for(let w=0;w<bN;w++){const K=DS[w],{isEnabled:se,Feature:fe,ProjectionNode:Re,MeasureLayout:Q}=Ud[K];Re&&(c=Re),se(n)&&(!this.features[K]&&fe&&(this.features[K]=new fe(this)),Q&&(g=Q))}if((this.type==="html"||this.type==="svg")&&!this.projection&&c){this.projection=new c(this.latestValues,this.parent&&this.parent.projection);const{layoutId:w,layout:K,drag:se,dragConstraints:fe,layoutScroll:Re,layoutRoot:Q}=n;this.projection.setOptions({layoutId:w,layout:K,alwaysMeasureLayout:!!se||fe&&Lc(fe),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof K=="string"?K:"both",initialPromotionConfig:a,layoutScroll:Re,layoutRoot:Q})}return g}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pw.length;r++){const i=Pw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=yN(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<xN;r++){const i=Ky[r],a=this.props[i];(Fd(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wl(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=eb(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!zi(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new db),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class LS extends wN{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let c=BD(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),c&&(c=i(c))),a){ND(this,r,c);const g=gN(this,r,c,n);n=g.transitionEnd,r=g.target}return{transition:t,transitionEnd:n,...r}}}function kN(e){return window.getComputedStyle(e)}class SN extends LS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Jl.has(n)){const r=ab(n);return r&&r.default||0}else{const r=kN(t),i=(Ek(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SS(t,n)}build(t,n,r,i){Yy(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Qy(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){jk(t,n,r,i)}}class EN extends LS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jl.has(n)){const r=ab(n);return r&&r.default||0}return n=Mk.has(n)?n:Hy(n),t.getAttribute(n)}measureInstanceViewportBox(){return zo()}scrapeMotionValuesFromProps(t,n){return Rk(t,n)}build(t,n,r,i){qy(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Ik(t,n,r,i)}mount(t){this.isSVGTag=Jy(t.tagName),super.mount(t)}}const _N=(e,t)=>Gy(e)?new EN(t,{enableHardwareAcceleration:!1}):new SN(t,{enableHardwareAcceleration:!0}),CN={layout:{ProjectionNode:IS,MeasureLayout:_S}},TN={...QD,...xA,...oN,...CN},nv=PR((e,t)=>sA(e,t,TN,_N));function rv(e){const t=gf(()=>Wl(e)),{isStatic:n}=Tt.useContext(Uy);if(n){const[,r]=Tt.useState(e);Tt.useEffect(()=>t.on("change",r),[])}return t}const ON=e=>e&&typeof e=="object"&&e.mix,PN=e=>ON(e)?e.mix:void 0;function jN(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],a=e[2+n],c=e[3+n],g=ib(i,a,{mixer:PN(a[0]),...c});return t?g(r):g}function NS(e,t){const n=rv(t()),r=()=>n.set(t());return r(),Wy(()=>{const i=()=>so.update(r,!1,!0),a=e.map(c=>c.on("change",i));return()=>{a.forEach(c=>c()),Ya(r)}}),n}function MN(e){gd.current=[],e();const t=NS(gd.current,e);return gd.current=void 0,t}function jw(e,t,n,r){if(typeof e=="function")return MN(e);const i=typeof t=="function"?t:jN(t,n,r);return Array.isArray(e)?Mw(e,i):Mw([e],([a])=>i(a))}function Mw(e,t){const n=gf(()=>[]);return NS(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function IN(e){e.values.forEach(t=>t.stop())}function RN(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(a=>{i.push(vS(a,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{LD(r,n)})},stop(){e.forEach(n=>{IN(n)})},mount(){return()=>{t.stop()}}};return t}function AN(){const e=gf(RN);return Wy(e.mount,[]),e}class DN{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const LN=()=>new DN;function NN(){return gf(LN)}function zN(e){return bs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M297.6 48l64.9 64.9-249.6 249.6L48 297.6V464h166.4l-64.9-64.9 249.6-249.6 64.9 64.9V48z"},child:[]}]})(e)}function BN(e){return bs({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 0h-6.5l2.5 2.5-3 3 1.5 1.5 3-3 2.5 2.5z"},child:[]},{tag:"path",attr:{d:"M16 16v-6.5l-2.5 2.5-3-3-1.5 1.5 3 3-2.5 2.5z"},child:[]},{tag:"path",attr:{d:"M0 16h6.5l-2.5-2.5 3-3-1.5-1.5-3 3-2.5-2.5z"},child:[]},{tag:"path",attr:{d:"M0 0v6.5l2.5-2.5 3 3 1.5-1.5-3-3 2.5-2.5z"},child:[]}]})(e)}function ZN(e){return bs({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M3 16m0 1a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-6"},child:[]},{tag:"path",attr:{d:"M15 13h-4v-4"},child:[]},{tag:"path",attr:{d:"M11 13l5 -5"},child:[]}]})(e)}const zS=Tt.forwardRef((e,t)=>{const{children:n,docked:r,width:i,height:a,onPanStart:c,onPan:g,onPanEnd:w,handleDockModal:K,handleUndockModal:se,...fe}=e,Re=Tt.useRef(null),Q=Tt.useRef(null);Tt.useImperativeHandle(t,()=>({get modalContainer(){return Re.current},get modal(){return Q.current}}));const z=Tt.useMemo(()=>xn.jsxs(xn.Fragment,{children:[r&&xn.jsxs(xn.Fragment,{children:[xn.jsx(BN,{className:"absolute z-[1600] right-0 top-0 m-2 cursor-pointer h-4 w-4 text-contrast",onClick:se}),xn.jsx(nv.div,{onPanStart:c,onPan:g,onPanEnd:w,className:"z-[1600] absolute right-2 bottom-2 cursor-pointer no-drag",children:xn.jsx(zN,{className:"-rotate-90 h-4 w-4 no-drag text-contrast"})})]}),!r&&xn.jsx(ZN,{className:"absolute z-[1600] right-0 top-0 m-2 cursor-pointer h-5 w-5 text-contrast",onClick:K})]}),[r,se,K,c,g,w]);return xn.jsx("div",{ref:Re,className:zh(r?"pointer-events-none":"before:bg-black before:opacity-50 before:z-[1000]","absolute z-[1000] left-0 top-0 right-0 bottom-0 bg-transparent w-screen h-screen flex justify-center items-center before:content-[''] before:absolute before:left-0 before:top-0 before:right-0 before:bottom-0"),children:xn.jsxs(nv.div,{ref:Q,style:{touchAction:"none",width:i,height:a},className:"p-10 rounded-xl shadow-lg bg-primary-light z-[1500] opacity-100 pointer-events-auto relative",...fe,children:[n,z]})})});zS.displayName="ConferenceModal";function FN(){const e=Tt.useRef({width:window.innerWidth,height:window.innerHeight});return Tt.useEffect(()=>{function t(){e.current={width:window.innerWidth,height:window.innerHeight}}return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),e.current}const UN=({modalState:e,setModalState:t})=>{const n=FN(),r=(n==null?void 0:n.width)>1100?1100:700,i=(n==null?void 0:n.height)>700?700:400,a=NN(),c=AN(),g=rv(r),w=rv(i),K=jw(g,E=>`${E}px`),se=jw(w,E=>`${E}px`),fe=Tt.useRef(null),Re=Tt.useRef({width:g.get(),height:w.get(),isResizing:!1}),Q=Tt.useCallback((E,R)=>{E.stopPropagation(),E.preventDefault(),Re.current={width:g.get(),height:w.get(),isResizing:!0}},[g,w]),z=Tt.useCallback((E,R)=>{E.stopPropagation(),E.preventDefault();const k=Re.current.width+R.offset.x,d=Re.current.height+R.offset.y;k>=300&&g.set(Re.current.width+R.offset.x),d>=300&&w.set(Re.current.height+R.offset.y)},[g,w]),o=Tt.useCallback(()=>Re.current={width:g.get(),height:w.get(),isResizing:!0},[g,w]),M=Tt.useCallback(E=>{E.target.closest(".no-drag")||a.start(E)},[a]),p=Tt.useCallback(()=>{var L,W;t({...e,open:!0,docked:!0});const E=(L=fe.current)==null?void 0:L.modalContainer,R=(W=fe.current)==null?void 0:W.modal,{top:k,left:d}=EI(E,R);c.start({x:d-400,y:k-200,width:300,height:300,transition:{duration:.5,bounce:1}}),Re.current={width:300,height:300,isResizing:!1}},[e,t,c]),f=Tt.useCallback(()=>{t({...e,open:!0,docked:!1}),c.start({x:0,y:0,width:r,height:i,transition:{duration:.5,bounce:1}}),Re.current={width:r,height:i,isResizing:!1}},[t,e,c,r,i]),u=Tt.useCallback(()=>{t(E=>({...E,open:!1,docked:!1}))},[t]);return{width:K,height:se,dragControls:a,animationControls:c,onPanStart:Q,onPan:z,onPanEnd:o,handleDrag:M,handleDockModal:p,handleUndockModal:f,handleCloseModal:u,modalRefs:fe}},VN=({modalState:e,setModalState:t,children:n})=>{var o;const{width:r,height:i,dragControls:a,animationControls:c,onPanStart:g,onPan:w,onPanEnd:K,handleDrag:se,handleDockModal:fe,handleUndockModal:Re,handleCloseModal:Q,modalRefs:z}=UN({modalState:e,setModalState:t});return xn.jsx(zS,{children:n,width:r,height:i,dragControls:a,docked:e.docked,animationControls:c,drag:!0,dragListener:!1,animate:c,dragMomentum:!1,dragSnapToOrigin:!e.docked,dragConstraints:e.docked?(o=z==null?void 0:z.current)==null?void 0:o.modalContainer:!1,dragElastic:.7,onPanStart:g,onPan:w,onPanEnd:K,handleDrag:se,handleDockModal:fe,handleUndockModal:Re,handleCloseModal:Q,onMouseDown:se,onTouchStart:se,ref:z})};function WN(e){const{onEnd:t,onMute:n,muted:r}=e;return xn.jsxs(nv.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,delay:.1},className:"w-full flex gap-5 justify-center items-center -mb-5",children:[xn.jsx("button",{className:"bg-red-800 text-white p-2 rounded-md",onClick:t,children:"End"}),xn.jsx("button",{className:"bg-gray-600 text-white p-2 rounded-md",onClick:n,children:r?"Unmute":"Mute"}),xn.jsx("button",{className:"bg-green-500 text-white p-2 rounded-md",children:"Hide Video"})]})}function HN(e){const{onClick:t}=e;return xn.jsxs("section",{className:"w-full flex-grow flex flex-col justify-center items-center gap-2",children:[xn.jsx("h1",{className:"text-3xl",children:"There's no one here..."}),xn.jsx("button",{className:"bg-accent-dark hover:bg-accent-darker text-white text-lg py-1 px-5 rounded-md",onClick:t,children:"Begin a call"})]})}function $N(e,t){const n=Tt.useRef(null);return Tt.useCallback((...i)=>{n.current||(n.current=setTimeout(()=>{e(...i),n.current=null},t))},[e,t])}class KN{constructor(t,n){Ps(this,"audioContext");Ps(this,"analyserNode");Ps(this,"scriptNode");Ps(this,"stream");Ps(this,"handleMicrophoneInput");this.audioContext=new AudioContext,this.analyserNode=this.audioContext.createAnalyser(),this.scriptNode=this.audioContext.createScriptProcessor(16384,1,1),this.stream=t,this.handleMicrophoneInput=n,this.setup()}setup(){this.audioContext.createMediaStreamSource(this.stream).connect(this.analyserNode),this.analyserNode.connect(this.scriptNode),this.scriptNode.connect(this.audioContext.destination),this.scriptNode.onaudioprocess=this.handleMicrophoneInput}close(){this.audioContext.close()}}function GN(e){return bs({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M213.38,221.92a8,8,0,0,1-11.3-.54l-26.46-29.1A79.74,79.74,0,0,1,136,207.59V232a8,8,0,0,1-16,0V207.6A80.11,80.11,0,0,1,48,128a8,8,0,0,1,16,0,64,64,0,0,0,100.79,52.36l-10.88-12A48,48,0,0,1,80,128V87.09L42.08,45.38A8,8,0,1,1,53.92,34.62l160,176A8,8,0,0,1,213.38,221.92Zm-51.3-92.11A8,8,0,0,0,176,124.43V64A48,48,0,0,0,87.16,38.78,8,8,0,0,0,88,48.37Zm30.1,31.83a8,8,0,0,0,10.36-4.55A79.62,79.62,0,0,0,208,128a8,8,0,0,0-16,0,63.71,63.71,0,0,1-4.36,23.27A8,8,0,0,0,192.18,161.64Z"},child:[]}]})(e)}const bg=128,xg=128;function YN(e){const{color:t,name:n,stream:r,outputAudio:i,muted:a}=e,c=Tt.useRef(null),g=Tt.useRef(null),w=$N(K=>{const se=K.inputBuffer.getChannelData(0),Re=se.reduce((Q,z)=>Q+Math.abs(z),0)/se.length;c.current&&(c.current.style.width=bg+Re*500+"px",c.current.style.height=xg+Re*500+"px")},100);return Tt.useEffect(()=>{const K=new KN(r,w);return g.current&&i&&(g.current.srcObject=r),()=>{K.close()}},[w,r,i]),xn.jsxs(xn.Fragment,{children:[xn.jsx("audio",{autoPlay:!0,controls:!1,ref:g}),xn.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 transition-all rounded-full bg-gray-400 opacity-50 border border-white",style:{width:bg,height:xg},ref:c}),xn.jsx("div",{className:"inline-flex items-center justify-center overflow-hidden rounded-full z-50",style:{backgroundColor:t,width:bg,height:xg},children:xn.jsx("h3",{className:"text-[60px] pb-2 uppercase",children:n})}),a&&xn.jsx("div",{className:"absolute right-3 top-2 p-2 rounded-full bg-gray-700",children:xn.jsx(GN,{className:"h-5 w-5 "})})]})}const XN=Tt.memo(YN);function qN(e){return xn.jsx("div",{children:"VideoPlayer"})}const JN=Tt.memo(qN);function QN(e){var w,K,se,fe;const{color:t,name:n,stream:r,streamType:i,isLocalStream:a,muted:c}=e,g=((K=(w=n==null?void 0:n.split(" "))==null?void 0:w[0])==null?void 0:K[0])+(((fe=(se=n==null?void 0:n.split(" "))==null?void 0:se[1])==null?void 0:fe[0])||"");return xn.jsxs("div",{className:"w-full h-full col-span-1 flex justify-center items-center rounded-xl bg-gray-600 text-white relative",children:[i==="audio"&&xn.jsx(XN,{color:t,name:g,stream:r,outputAudio:!a,muted:c}),i==="video"&&xn.jsx(JN,{stream:r})]})}const ez=Tt.memo(QN);function tz(e){const{participants:t,setParticipants:n,renderOnlyUserStream:r,localSocketId:i}=e,a=r?1:Math.ceil(t.length/2),c=Tt.useMemo(()=>{var g;return(g=t==null?void 0:t.slice(0,r?1:t==null?void 0:t.length))==null?void 0:g.map((w,K)=>xn.jsx(ez,{color:D1[K],stream:w.stream,name:w==null?void 0:w.name,streamType:w==null?void 0:w.streamType,isLocalStream:(w==null?void 0:w.socketId)===i,muted:w==null?void 0:w.muted},w==null?void 0:w.socketId))},[t,r,i]);return xn.jsx("section",{className:`w-full flex-grow grid grid-cols-${a} gap-2 transition-all`,children:c})}class nz{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return rz(t).buffer}}function rz(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e){const a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(a,r),r+=i.byteLength}return n}function BS(e){return new oz(e).unpack()}function ZS(e){const t=new iz,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class oz{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,i="",a,c;for(;r<t;)a=n[r],a<160?(c=a,r++):(a^192)<32?(c=(a&31)<<6|n[r+1]&63,r+=2):(a^224)<16?(c=(a&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(c=(a&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(c);return this.index+=t,i}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,i=t&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,i=(t>>20&2047)-1023,c=(t&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*c}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class iz{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const a=this.pack(t[i]);return a instanceof Promise?a.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),i=t/2**r-1,a=Math.floor(i*2**52),c=2**32,g=n<<31|r+1023<<20|a/c&1048575,w=a%c;this._bufferBuilder.append(203),this.pack_int32(g),this.pack_int32(w)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=a=>{if(a<n.length){const c=n[a];if(t.hasOwnProperty(c)){this.pack(c);const g=this.pack(t[c]);if(g instanceof Promise)return g.then(()=>i(a+1))}return i(a+1)}};return i(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new nz,this._textEncoder=new TextEncoder}}let FS=!0,US=!0;function Wh(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ec(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(c,g){if(c!==t)return i.apply(this,arguments);const w=K=>{const se=n(K);se&&(g.handleEvent?g.handleEvent(se):g(se))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(g,w),i.apply(this,[c,w])};const a=r.removeEventListener;r.removeEventListener=function(c,g){if(c!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(g))return a.apply(this,arguments);const w=this._eventMap[t].get(g);return this._eventMap[t].delete(g),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[c,w])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(c){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),c&&this.addEventListener(t,this["_on"+t]=c)},enumerable:!0,configurable:!0})}function az(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(FS=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function sz(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(US=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function VS(){if(typeof window=="object"){if(FS)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function hb(e,t){US&&console.warn(e+" is deprecated, please use "+t+" instead.")}function lz(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Wh(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Wh(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Wh(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Iw(e){return Object.prototype.toString.call(e)==="[object Object]"}function WS(e){return Iw(e)?Object.keys(e).reduce(function(t,n){const r=Iw(e[n]),i=r?WS(e[n]):e[n],a=r&&!Object.keys(i).length;return i===void 0||a?t:Object.assign(t,{[n]:i})},{}):e}function ov(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?ov(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{ov(e,e.get(i),n)})}))}function Rw(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const a=[];return e.forEach(c=>{c.type==="track"&&c.trackIdentifier===t.id&&a.push(c)}),a.forEach(c=>{e.forEach(g=>{g.type===r&&g.trackId===c.id&&ov(e,g,i)})}),i}const Aw=VS;function HS(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(g){if(typeof g!="object"||g.mandatory||g.optional)return g;const w={};return Object.keys(g).forEach(K=>{if(K==="require"||K==="advanced"||K==="mediaSource")return;const se=typeof g[K]=="object"?g[K]:{ideal:g[K]};se.exact!==void 0&&typeof se.exact=="number"&&(se.min=se.max=se.exact);const fe=function(Re,Q){return Re?Re+Q.charAt(0).toUpperCase()+Q.slice(1):Q==="deviceId"?"sourceId":Q};if(se.ideal!==void 0){w.optional=w.optional||[];let Re={};typeof se.ideal=="number"?(Re[fe("min",K)]=se.ideal,w.optional.push(Re),Re={},Re[fe("max",K)]=se.ideal,w.optional.push(Re)):(Re[fe("",K)]=se.ideal,w.optional.push(Re))}se.exact!==void 0&&typeof se.exact!="number"?(w.mandatory=w.mandatory||{},w.mandatory[fe("",K)]=se.exact):["min","max"].forEach(Re=>{se[Re]!==void 0&&(w.mandatory=w.mandatory||{},w.mandatory[fe(Re,K)]=se[Re])})}),g.advanced&&(w.optional=(w.optional||[]).concat(g.advanced)),w},i=function(g,w){if(t.version>=61)return w(g);if(g=JSON.parse(JSON.stringify(g)),g&&typeof g.audio=="object"){const K=function(se,fe,Re){fe in se&&!(Re in se)&&(se[Re]=se[fe],delete se[fe])};g=JSON.parse(JSON.stringify(g)),K(g.audio,"autoGainControl","googAutoGainControl"),K(g.audio,"noiseSuppression","googNoiseSuppression"),g.audio=r(g.audio)}if(g&&typeof g.video=="object"){let K=g.video.facingMode;K=K&&(typeof K=="object"?K:{ideal:K});const se=t.version<66;if(K&&(K.exact==="user"||K.exact==="environment"||K.ideal==="user"||K.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!se)){delete g.video.facingMode;let fe;if(K.exact==="environment"||K.ideal==="environment"?fe=["back","rear"]:(K.exact==="user"||K.ideal==="user")&&(fe=["front"]),fe)return n.mediaDevices.enumerateDevices().then(Re=>{Re=Re.filter(z=>z.kind==="videoinput");let Q=Re.find(z=>fe.some(o=>z.label.toLowerCase().includes(o)));return!Q&&Re.length&&fe.includes("back")&&(Q=Re[Re.length-1]),Q&&(g.video.deviceId=K.exact?{exact:Q.deviceId}:{ideal:Q.deviceId}),g.video=r(g.video),Aw("chrome: "+JSON.stringify(g)),w(g)})}g.video=r(g.video)}return Aw("chrome: "+JSON.stringify(g)),w(g)},a=function(g){return t.version>=64?g:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[g.name]||g.name,message:g.message,constraint:g.constraint||g.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(g,w,K){i(g,se=>{n.webkitGetUserMedia(se,w,fe=>{K&&K(a(fe))})})};if(n.getUserMedia=c.bind(n),n.mediaDevices.getUserMedia){const g=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(w){return i(w,K=>g(K).then(se=>{if(K.audio&&!se.getAudioTracks().length||K.video&&!se.getVideoTracks().length)throw se.getTracks().forEach(fe=>{fe.stop()}),new DOMException("","NotFoundError");return se},se=>Promise.reject(a(se))))}}}function cz(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(i=>{const a=r.video&&r.video.width,c=r.video&&r.video.height,g=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:g||3}},a&&(r.video.mandatory.maxWidth=a),c&&(r.video.mandatory.maxHeight=c),e.navigator.mediaDevices.getUserMedia(r)})}}}function $S(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function KS(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(g=>g.track&&g.track.id===i.track.id):a={track:i.track};const c=new Event("track");c.track=i.track,c.receiver=a,c.transceiver={receiver:a},c.streams=[r.stream],this.dispatchEvent(c)}),r.stream.getTracks().forEach(i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(g=>g.track&&g.track.id===i.id):a={track:i};const c=new Event("track");c.track=i,c.receiver=a,c.transceiver={receiver:a},c.streams=[r.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ec(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function GS(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(g,w){let K=i.apply(this,arguments);return K||(K=t(this,g),this._senders.push(K)),K};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(g){a.apply(this,arguments);const w=this._senders.indexOf(g);w!==-1&&this._senders.splice(w,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(c=>{this._senders.push(t(this,c))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(c=>{const g=this._senders.find(w=>w.track===c);g&&this._senders.splice(this._senders.indexOf(g),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function YS(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,i,a]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const c=function(w){const K={};return w.result().forEach(fe=>{const Re={id:fe.id,timestamp:fe.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[fe.type]||fe.type};fe.names().forEach(Q=>{Re[Q]=fe.stat(Q)}),K[Re.id]=Re}),K},g=function(w){return new Map(Object.keys(w).map(K=>[K,w[K]]))};if(arguments.length>=2){const w=function(K){i(g(c(K)))};return t.apply(this,[w,r])}return new Promise((w,K)=>{t.apply(this,[function(se){w(g(c(se)))},K])}).then(i,a)}}function XS(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>Rw(c,a.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i}),ec(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>Rw(a,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,a,c;return this.getSenders().forEach(g=>{g.track===r&&(i?c=!0:i=g)}),this.getReceivers().forEach(g=>(g.track===r&&(a?c=!0:a=g),g.track===r)),c||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function qS(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(c,g){if(!g)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const w=t.apply(this,arguments);return this._shimmedLocalStreams[g.id]?this._shimmedLocalStreams[g.id].indexOf(w)===-1&&this._shimmedLocalStreams[g.id].push(w):this._shimmedLocalStreams[g.id]=[g,w],w};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(K=>{if(this.getSenders().find(fe=>fe.track===K))throw new DOMException("Track already exists.","InvalidAccessError")});const g=this.getSenders();n.apply(this,arguments);const w=this.getSenders().filter(K=>g.indexOf(K)===-1);this._shimmedLocalStreams[c.id]=[c].concat(w)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(g=>{const w=this._shimmedLocalStreams[g].indexOf(c);w!==-1&&this._shimmedLocalStreams[g].splice(w,1),this._shimmedLocalStreams[g].length===1&&delete this._shimmedLocalStreams[g]}),i.apply(this,arguments)}}function JS(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return qS(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const se=n.apply(this);return this._reverseStreams=this._reverseStreams||{},se.map(fe=>this._reverseStreams[fe.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(se){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},se.getTracks().forEach(fe=>{if(this.getSenders().find(Q=>Q.track===fe))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[se.id]){const fe=new e.MediaStream(se.getTracks());this._streams[se.id]=fe,this._reverseStreams[fe.id]=se,se=fe}r.apply(this,[se])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(se){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[se.id]||se]),delete this._reverseStreams[this._streams[se.id]?this._streams[se.id].id:se.id],delete this._streams[se.id]},e.RTCPeerConnection.prototype.addTrack=function(se,fe){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const Re=[].slice.call(arguments,1);if(Re.length!==1||!Re[0].getTracks().find(o=>o===se))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(o=>o.track===se))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const z=this._streams[fe.id];if(z)z.addTrack(se),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const o=new e.MediaStream([se]);this._streams[fe.id]=o,this._reverseStreams[o.id]=fe,this.addStream(o)}return this.getSenders().find(o=>o.track===se)};function a(K,se){let fe=se.sdp;return Object.keys(K._reverseStreams||[]).forEach(Re=>{const Q=K._reverseStreams[Re],z=K._streams[Q.id];fe=fe.replace(new RegExp(z.id,"g"),Q.id)}),new RTCSessionDescription({type:se.type,sdp:fe})}function c(K,se){let fe=se.sdp;return Object.keys(K._reverseStreams||[]).forEach(Re=>{const Q=K._reverseStreams[Re],z=K._streams[Q.id];fe=fe.replace(new RegExp(Q.id,"g"),z.id)}),new RTCSessionDescription({type:se.type,sdp:fe})}["createOffer","createAnswer"].forEach(function(K){const se=e.RTCPeerConnection.prototype[K],fe={[K](){const Re=arguments;return arguments.length&&typeof arguments[0]=="function"?se.apply(this,[z=>{const o=a(this,z);Re[0].apply(null,[o])},z=>{Re[1]&&Re[1].apply(null,z)},arguments[2]]):se.apply(this,arguments).then(z=>a(this,z))}};e.RTCPeerConnection.prototype[K]=fe[K]});const g=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?g.apply(this,arguments):(arguments[0]=c(this,arguments[0]),g.apply(this,arguments))};const w=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const K=w.get.apply(this);return K.type===""?K:a(this,K)}}),e.RTCPeerConnection.prototype.removeTrack=function(se){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!se._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(se._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let Re;Object.keys(this._streams).forEach(Q=>{this._streams[Q].getTracks().find(o=>se.track===o)&&(Re=this._streams[Q])}),Re&&(Re.getTracks().length===1?this.removeStream(this._reverseStreams[Re.id]):Re.removeTrack(se.track),this.dispatchEvent(new Event("negotiationneeded")))}}function iv(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function QS(e,t){ec(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Dw=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:QS,shimAddTrackRemoveTrack:JS,shimAddTrackRemoveTrackWithNative:qS,shimGetDisplayMedia:cz,shimGetSendersWithDtmf:GS,shimGetStats:YS,shimGetUserMedia:HS,shimMediaStream:$S,shimOnTrack:KS,shimPeerConnection:iv,shimSenderReceiverGetStats:XS},Symbol.toStringTag,{value:"Module"}));function eE(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,a,c){hb("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(a,c)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(c,g,w){g in c&&!(w in c)&&(c[w]=c[g],delete c[g])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),i(c.audio,"autoGainControl","mozAutoGainControl"),i(c.audio,"noiseSuppression","mozNoiseSuppression")),a(c)},r&&r.prototype.getSettings){const c=r.prototype.getSettings;r.prototype.getSettings=function(){const g=c.apply(this,arguments);return i(g,"mozAutoGainControl","autoGainControl"),i(g,"mozNoiseSuppression","noiseSuppression"),g}}if(r&&r.prototype.applyConstraints){const c=r.prototype.applyConstraints;r.prototype.applyConstraints=function(g){return this.kind==="audio"&&typeof g=="object"&&(g=JSON.parse(JSON.stringify(g)),i(g,"autoGainControl","mozAutoGainControl"),i(g,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[g])}}}}function uz(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function tE(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function av(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=e.RTCPeerConnection.prototype[i],c={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=c[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[a,c,g]=arguments;return r.apply(this,[a||null]).then(w=>{if(t.version<53&&!c)try{w.forEach(K=>{K.type=n[K.type]||K.type})}catch(K){if(K.name!=="TypeError")throw K;w.forEach((se,fe)=>{w.set(fe,Object.assign({},se,{type:n[se.type]||se.type}))})}return w}).then(c,g)}}function nE(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(a=>a._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function rE(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),ec(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function oE(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){hb("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function iE(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function aE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=t.apply(this,arguments);if(i){const{sender:c}=a,g=c.getParameters();(!("encodings"in g)||g.encodings.length===1&&Object.keys(g.encodings[0]).length===0)&&(g.encodings=r,c.sendEncodings=r,this.setParametersPromises.push(c.setParameters(g).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return a})}function sE(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function lE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function cE(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Lw=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:aE,shimCreateAnswer:cE,shimCreateOffer:lE,shimGetDisplayMedia:uz,shimGetParameters:sE,shimGetUserMedia:eE,shimOnTrack:tE,shimPeerConnection:av,shimRTCDataChannel:iE,shimReceiverGetStats:rE,shimRemoveStream:oE,shimSenderGetStats:nE},Symbol.toStringTag,{value:"Module"}));function uE(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function dE(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,r.dispatchEvent(c)})}),t.apply(r,arguments)}}}function fE(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(K,se){const fe=arguments.length>=2?arguments[2]:arguments[0],Re=n.apply(this,[fe]);return se?(Re.then(K,se),Promise.resolve()):Re},t.createAnswer=function(K,se){const fe=arguments.length>=2?arguments[2]:arguments[0],Re=r.apply(this,[fe]);return se?(Re.then(K,se),Promise.resolve()):Re};let g=function(w,K,se){const fe=i.apply(this,[w]);return se?(fe.then(K,se),Promise.resolve()):fe};t.setLocalDescription=g,g=function(w,K,se){const fe=a.apply(this,[w]);return se?(fe.then(K,se),Promise.resolve()):fe},t.setRemoteDescription=g,g=function(w,K,se){const fe=c.apply(this,[w]);return se?(fe.then(K,se),Promise.resolve()):fe},t.addIceCandidate=g}function hE(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(pE(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,a){t.mediaDevices.getUserMedia(r).then(i,a)}).bind(t))}function pE(e){return e&&e.video!==void 0?Object.assign({},e,{video:WS(e.video)}):e}function mE(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const a=[];for(let c=0;c<r.iceServers.length;c++){let g=r.iceServers[c];g.urls===void 0&&g.url?(hb("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,delete g.url,a.push(g)):a.push(r.iceServers[c])}r.iceServers=a}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function gE(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function vE(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(c=>c.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function yE(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Nw=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:yE,shimCallbacksAPI:fE,shimConstraints:pE,shimCreateOfferLegacy:vE,shimGetUserMedia:hE,shimLocalStreamsAPI:uE,shimRTCIceServerUrls:mE,shimRemoteStreamsAPI:dE,shimTrackEventTransceiver:gE},Symbol.toStringTag,{value:"Module"}));var bE={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":i.relatedAddress=r[a+1];break;case"rport":i.relatedPort=parseInt(r[a+1],10);break;case"tcptype":i.tcpType=r[a+1];break;case"ufrag":i.ufrag=r[a+1],i.usernameFragment=r[a+1];break;default:i[r[a]]===void 0&&(i[r[a]]=r[a+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const a=n.substring(n.indexOf(" ")+1).split(";");for(let c=0;c<a.length;c++)i=a[c].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(c=>{n.parameters[c]!==void 0?a.push(c+"="+n.parameters[c]):a.push(c)}),r+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(i.attribute=n.substring(r+1,a),i.value=n.substring(a+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],a=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(n)[0].split(" ");r.profile=a[2];for(let g=3;g<a.length;g++){const w=a[g],K=t.matchPrefix(n,"a=rtpmap:"+w+" ")[0];if(K){const se=t.parseRtpMap(K),fe=t.matchPrefix(n,"a=fmtp:"+w+" ");switch(se.parameters=fe.length?t.parseFmtp(fe[0]):{},se.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+w+" ").map(t.parseRtcpFb),r.codecs.push(se),se.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(se.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(g=>{r.headerExtensions.push(t.parseExtmap(g))});const c=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(g=>{c.forEach(w=>{g.rtcpFeedback.find(se=>se.type===w.type&&se.parameter===w.parameter)||g.rtcpFeedback.push(w)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(c=>c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(c=>{i+=t.writeRtpMap(c),i+=t.writeFmtp(c),i+=t.writeRtcpFb(c)});let a=0;return r.codecs.forEach(c=>{c.maxptime>a&&(a=c.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(c=>{i+=t.writeExtmap(c)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),a=i.fecMechanisms.indexOf("RED")!==-1,c=i.fecMechanisms.indexOf("ULPFEC")!==-1,g=t.matchPrefix(n,"a=ssrc:").map(Re=>t.parseSsrcMedia(Re)).filter(Re=>Re.attribute==="cname"),w=g.length>0&&g[0].ssrc;let K;const se=t.matchPrefix(n,"a=ssrc-group:FID").map(Re=>Re.substring(17).split(" ").map(z=>parseInt(z,10)));se.length>0&&se[0].length>1&&se[0][0]===w&&(K=se[0][1]),i.codecs.forEach(Re=>{if(Re.name.toUpperCase()==="RTX"&&Re.parameters.apt){let Q={ssrc:w,codecPayloadType:parseInt(Re.parameters.apt,10)};w&&K&&(Q.rtx={ssrc:K}),r.push(Q),a&&(Q=JSON.parse(JSON.stringify(Q)),Q.fec={ssrc:w,mechanism:c?"red+ulpfec":"red"},r.push(Q))}}),r.length===0&&w&&r.push({ssrc:w});let fe=t.matchPrefix(n,"b=");return fe.length&&(fe[0].indexOf("b=TIAS:")===0?fe=parseInt(fe[0].substring(7),10):fe[0].indexOf("b=AS:")===0?fe=parseInt(fe[0].substring(5),10)*1e3*.95-50*40*8:fe=void 0,r.forEach(Re=>{Re.maxBitrate=fe})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(g=>t.parseSsrcMedia(g)).filter(g=>g.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const a=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const c=t.matchPrefix(n,"a=rtcp-mux");return r.mux=c.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=t.matchPrefix(n,"a=ssrc:").map(c=>t.parseSsrcMedia(c)).filter(c=>c.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const c=t.matchPrefix(n,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const g=t.matchPrefix(n,"a=sctpmap:");if(g.length>0){const w=g[0].substring(10).split(" ");return{port:parseInt(w[0],10),protocol:w[1],maxMessageSize:a}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let a;const c=r!==void 0?r:2;return n?a=n:a=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(bE);var xE=bE.exports;const Gc=kv(xE),dz=a3({__proto__:null,default:Gc},[xE]);function Hh(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),a=Gc.parseCandidate(r.candidate);for(const c in a)c in i||Object.defineProperty(i,c,{value:a[c]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,ec(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function sv(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ec(e,"icecandidate",t=>{if(t.candidate){const n=Gc.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function $h(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(g){if(!g||!g.sdp)return!1;const w=Gc.splitSections(g.sdp);return w.shift(),w.some(K=>{const se=Gc.parseMLine(K);return se&&se.kind==="application"&&se.protocol.indexOf("SCTP")!==-1})},r=function(g){const w=g.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(w===null||w.length<2)return-1;const K=parseInt(w[1],10);return K!==K?-1:K},i=function(g){let w=65536;return t.browser==="firefox"&&(t.version<57?g===-1?w=16384:w=2147483637:t.version<60?w=t.version===57?65535:65536:w=2147483637),w},a=function(g,w){let K=65536;t.browser==="firefox"&&t.version===57&&(K=65535);const se=Gc.matchPrefix(g.sdp,"a=max-message-size:");return se.length>0?K=parseInt(se[0].substring(19),10):t.browser==="firefox"&&w!==-1&&(K=2147483637),K},c=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:w}=this.getConfiguration();w==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const w=r(arguments[0]),K=i(w),se=a(arguments[0],w);let fe;K===0&&se===0?fe=Number.POSITIVE_INFINITY:K===0||se===0?fe=Math.max(K,se):fe=Math.min(K,se);const Re={};Object.defineProperty(Re,"maxMessageSize",{get(){return fe}}),this._sctp=Re}return c.apply(this,arguments)}}function Kh(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const a=r.send;r.send=function(){const g=arguments[0],w=g.length||g.size||g.byteLength;if(r.readyState==="open"&&i.sctp&&w>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},ec(e,"datachannel",r=>(t(r.channel,r.target),r))}function lv(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const c=new Event("connectionstatechange",i);a.dispatchEvent(c)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function cv(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return n.apply(this,arguments)}}function Gh(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Yh(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(c=>n.apply(this,[c]))})}const fz=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:cv,shimAddIceCandidateNullOrEmpty:Gh,shimConnectionState:lv,shimMaxMessageSize:$h,shimParameterlessSetLocalDescription:Yh,shimRTCIceCandidate:Hh,shimRTCIceCandidateRelayProtocol:sv,shimSendThrowTypeError:Kh},Symbol.toStringTag,{value:"Module"}));function hz({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=VS,r=lz(e),i={browserDetails:r,commonShim:fz,extractVersion:Wh,disableLog:az,disableWarnings:sz,sdp:dz};switch(r.browser){case"chrome":if(!Dw||!iv||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Dw,Gh(e,r),Yh(e),HS(e,r),$S(e),iv(e,r),KS(e),JS(e,r),GS(e),YS(e),XS(e),QS(e,r),Hh(e),sv(e),lv(e),$h(e,r),Kh(e),cv(e,r);break;case"firefox":if(!Lw||!av||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Lw,Gh(e,r),Yh(e),eE(e,r),av(e,r),tE(e),oE(e),nE(e),rE(e),iE(e),aE(e),sE(e),lE(e),cE(e),Hh(e),lv(e),$h(e,r),Kh(e);break;case"safari":if(!Nw||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Nw,Gh(e,r),Yh(e),mE(e),vE(e),fE(e),uE(e),dE(e),gE(e),hE(e),yE(e),Hh(e),sv(e),$h(e,r),Kh(e),cv(e,r);break;default:n("Unsupported browser!");break}return i}const zw=hz({window:typeof window>"u"?void 0:window});let uv;try{uv=new TextDecoder}catch{}let tr,Ll,hn=0;const pz=105,mz=57342,gz=57343,Bw=57337,Zw=6,xc={};let Lr={},Io,z0,B0=0,Wd=0,Go,Ta,Fo=[],dv=[],Ii,ki,td,Fw={useRecords:!1,mapsAsObjects:!0},Hd=!1,wE=2;try{new Function("")}catch{wE=1/0}class $d{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,i]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,i);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,i]of Object.entries(this._keyMap))this._mapKey.set(i,r)}let n={};return t.forEach((r,i)=>n[ua(this._mapKey.has(i)?this._mapKey.get(i):i)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(i=>this.decodeKeys(i))}return r}decode(t,n){if(tr)return _E(()=>(mv(),this?this.decode(t,n):$d.prototype.decode.call(Fw,t,n)));Ll=n>-1?n:t.length,hn=0,Wd=0,z0=null,Go=null,tr=t;try{ki=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw tr=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof $d){if(Lr=this,Ii=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Io=this.structures,Sh();(!Io||Io.length>0)&&(Io=[])}else Lr=Fw,(!Io||Io.length>0)&&(Io=[]),Ii=null;return Sh()}decodeMultiple(t,n){let r,i=0;try{let a=t.length;Hd=!0;let c=this?this.decode(t,a):gb.decode(t,a);if(n){if(n(c)===!1)return;for(;hn<a;)if(i=hn,n(Sh())===!1)return}else{for(r=[c];hn<a;)i=hn,r.push(Sh());return r}}catch(a){throw a.lastPosition=i,a.values=r,a}finally{Hd=!1,mv()}}}function Sh(){try{let e=Dr();if(Go){if(hn>=Go.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}hn=Go.postBundlePosition,Go=null}if(hn==Ll)Io=null,tr=null,Ta&&(Ta=null);else if(hn>Ll){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!Hd)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw mv(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Dr(){let e=tr[hn++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=tr[hn++];break;case 25:if(t==7)return xz();e=ki.getUint16(hn),hn+=2;break;case 26:if(t==7){let n=ki.getFloat32(hn);if(Lr.useFloat32>2){let r=mb[(tr[hn]&127)<<1|tr[hn+1]>>7];return hn+=4,(r*n+(n>0?.5:-.5)>>0)/r}return hn+=4,n}e=ki.getUint32(hn),hn+=4;break;case 27:if(t==7){let n=ki.getFloat64(hn);return hn+=8,n}if(t>1){if(ki.getUint32(hn)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=ki.getUint32(hn+4)}else Lr.int64AsNumber?(e=ki.getUint32(hn)*4294967296,e+=ki.getUint32(hn+4)):e=ki.getBigUint64(hn);hn+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,i=0;for(;(r=Dr())!=xc;)n[i++]=r;return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let a;if(Lr.mapsAsObjects){let c={};if(Lr.keyMap)for(;(a=Dr())!=xc;)c[ua(Lr.decodeKey(a))]=Dr();else for(;(a=Dr())!=xc;)c[ua(a)]=Dr();return c}else{td&&(Lr.mapsAsObjects=!0,td=!1);let c=new Map;if(Lr.keyMap)for(;(a=Dr())!=xc;)c.set(Lr.decodeKey(a),Dr());else for(;(a=Dr())!=xc;)c.set(a,Dr());return c}case 7:return xc;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return bz(e);case 3:if(Wd>=hn)return z0.slice(hn-B0,(hn+=e)-B0);if(Wd==0&&Ll<140&&e<32){let i=e<16?kE(e):yz(e);if(i!=null)return i}return vz(e);case 4:let n=new Array(e);for(let i=0;i<e;i++)n[i]=Dr();return n;case 5:if(Lr.mapsAsObjects){let i={};if(Lr.keyMap)for(let a=0;a<e;a++)i[ua(Lr.decodeKey(Dr()))]=Dr();else for(let a=0;a<e;a++)i[ua(Dr())]=Dr();return i}else{td&&(Lr.mapsAsObjects=!0,td=!1);let i=new Map;if(Lr.keyMap)for(let a=0;a<e;a++)i.set(Lr.decodeKey(Dr()),Dr());else for(let a=0;a<e;a++)i.set(Dr(),Dr());return i}case 6:if(e>=Bw){let i=Io[e&8191];if(i)return i.read||(i.read=fv(i)),i.read();if(e<65536){if(e==gz){let a=Zc(),c=Dr(),g=Dr();pv(c,g);let w={};if(Lr.keyMap)for(let K=2;K<a;K++){let se=Lr.decodeKey(g[K-2]);w[ua(se)]=Dr()}else for(let K=2;K<a;K++){let se=g[K-2];w[ua(se)]=Dr()}return w}else if(e==mz){let a=Zc(),c=Dr();for(let g=2;g<a;g++)pv(c++,Dr());return Dr()}else if(e==Bw)return Cz();if(Lr.getShared&&(pb(),i=Io[e&8191],i))return i.read||(i.read=fv(i)),i.read()}}let r=Fo[e];if(r)return r.handlesRead?r(Dr):r(Dr());{let i=Dr();for(let a=0;a<dv.length;a++){let c=dv[a](e,i);if(c!==void 0)return c}return new Hl(i,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let i=(Ii||El())[e];if(i!==void 0)return i;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let i=new Error("Unexpected end of CBOR data");throw i.incomplete=!0,i}throw new Error("Unknown CBOR token "+e)}}const Uw=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function fv(e){function t(){let n=tr[hn++];if(n=n&31,n>23)switch(n){case 24:n=tr[hn++];break;case 25:n=ki.getUint16(hn),hn+=2;break;case 26:n=ki.getUint32(hn),hn+=4;break;default:throw new Error("Expected array header, but got "+tr[hn-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(Dr);r=r.next}if(this.slowReads++>=wE){let a=this.length==n?this:this.slice(0,n);return r=Lr.keyMap?new Function("r","return {"+a.map(c=>Lr.decodeKey(c)).map(c=>Uw.test(c)?ua(c)+":r()":"["+JSON.stringify(c)+"]:r()").join(",")+"}"):new Function("r","return {"+a.map(c=>Uw.test(c)?ua(c)+":r()":"["+JSON.stringify(c)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(Dr)}let i={};if(Lr.keyMap)for(let a=0;a<n;a++)i[ua(Lr.decodeKey(this[a]))]=Dr();else for(let a=0;a<n;a++)i[ua(this[a])]=Dr();return i}return e.slowReads=0,t}function ua(e){return e==="__proto__"?"__proto_":e}let vz=hv;function hv(e){let t;if(e<16&&(t=kE(e)))return t;if(e>64&&uv)return uv.decode(tr.subarray(hn,hn+=e));const n=hn+e,r=[];for(t="";hn<n;){const i=tr[hn++];if(!(i&128))r.push(i);else if((i&224)===192){const a=tr[hn++]&63;r.push((i&31)<<6|a)}else if((i&240)===224){const a=tr[hn++]&63,c=tr[hn++]&63;r.push((i&31)<<12|a<<6|c)}else if((i&248)===240){const a=tr[hn++]&63,c=tr[hn++]&63,g=tr[hn++]&63;let w=(i&7)<<18|a<<12|c<<6|g;w>65535&&(w-=65536,r.push(w>>>10&1023|55296),w=56320|w&1023),r.push(w)}else r.push(i);r.length>=4096&&(t+=ti.apply(String,r),r.length=0)}return r.length>0&&(t+=ti.apply(String,r)),t}let ti=String.fromCharCode;function yz(e){let t=hn,n=new Array(e);for(let r=0;r<e;r++){const i=tr[hn++];if((i&128)>0){hn=t;return}n[r]=i}return ti.apply(String,n)}function kE(e){if(e<4)if(e<2){if(e===0)return"";{let t=tr[hn++];if((t&128)>1){hn-=1;return}return ti(t)}}else{let t=tr[hn++],n=tr[hn++];if((t&128)>0||(n&128)>0){hn-=2;return}if(e<3)return ti(t,n);let r=tr[hn++];if((r&128)>0){hn-=3;return}return ti(t,n,r)}else{let t=tr[hn++],n=tr[hn++],r=tr[hn++],i=tr[hn++];if((t&128)>0||(n&128)>0||(r&128)>0||(i&128)>0){hn-=4;return}if(e<6){if(e===4)return ti(t,n,r,i);{let a=tr[hn++];if((a&128)>0){hn-=5;return}return ti(t,n,r,i,a)}}else if(e<8){let a=tr[hn++],c=tr[hn++];if((a&128)>0||(c&128)>0){hn-=6;return}if(e<7)return ti(t,n,r,i,a,c);let g=tr[hn++];if((g&128)>0){hn-=7;return}return ti(t,n,r,i,a,c,g)}else{let a=tr[hn++],c=tr[hn++],g=tr[hn++],w=tr[hn++];if((a&128)>0||(c&128)>0||(g&128)>0||(w&128)>0){hn-=8;return}if(e<10){if(e===8)return ti(t,n,r,i,a,c,g,w);{let K=tr[hn++];if((K&128)>0){hn-=9;return}return ti(t,n,r,i,a,c,g,w,K)}}else if(e<12){let K=tr[hn++],se=tr[hn++];if((K&128)>0||(se&128)>0){hn-=10;return}if(e<11)return ti(t,n,r,i,a,c,g,w,K,se);let fe=tr[hn++];if((fe&128)>0){hn-=11;return}return ti(t,n,r,i,a,c,g,w,K,se,fe)}else{let K=tr[hn++],se=tr[hn++],fe=tr[hn++],Re=tr[hn++];if((K&128)>0||(se&128)>0||(fe&128)>0||(Re&128)>0){hn-=12;return}if(e<14){if(e===12)return ti(t,n,r,i,a,c,g,w,K,se,fe,Re);{let Q=tr[hn++];if((Q&128)>0){hn-=13;return}return ti(t,n,r,i,a,c,g,w,K,se,fe,Re,Q)}}else{let Q=tr[hn++],z=tr[hn++];if((Q&128)>0||(z&128)>0){hn-=14;return}if(e<15)return ti(t,n,r,i,a,c,g,w,K,se,fe,Re,Q,z);let o=tr[hn++];if((o&128)>0){hn-=15;return}return ti(t,n,r,i,a,c,g,w,K,se,fe,Re,Q,z,o)}}}}}function bz(e){return Lr.copyBuffers?Uint8Array.prototype.slice.call(tr,hn,hn+=e):tr.subarray(hn,hn+=e)}let SE=new Float32Array(1),Eh=new Uint8Array(SE.buffer,0,4);function xz(){let e=tr[hn++],t=tr[hn++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return Eh[3]=e&128|(n>>1)+56,Eh[2]=(e&7)<<5|t>>3,Eh[1]=t<<5,Eh[0]=0,SE[0]}new Array(4096);class Hl{constructor(t,n){this.value=t,this.tag=n}}Fo[0]=e=>new Date(e);Fo[1]=e=>new Date(Math.round(e*1e3));Fo[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+t<<BigInt(8);return t};Fo[3]=e=>BigInt(-1)-Fo[2](e);Fo[4]=e=>+(e[1]+"e"+e[0]);Fo[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const pv=(e,t)=>{e=e-57344;let n=Io[e];n&&n.isShared&&((Io.restoreStructures||(Io.restoreStructures=[]))[e]=n),Io[e]=t,t.read=fv(t)};Fo[pz]=e=>{let t=e.length,n=e[1];pv(e[0],n);let r={};for(let i=2;i<t;i++){let a=n[i-2];r[ua(a)]=e[i]}return r};Fo[14]=e=>Go?Go[0].slice(Go.position0,Go.position0+=e):new Hl(e,14);Fo[15]=e=>Go?Go[1].slice(Go.position1,Go.position1+=e):new Hl(e,15);let wz={Error,RegExp};Fo[27]=e=>(wz[e[0]]||Error)(e[1],e[2]);const EE=e=>{if(tr[hn++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let t=e();return Ii=Ii?t.concat(Ii.slice(t.length)):t,Ii.prefixes=e(),Ii.suffixes=e(),e()};EE.handlesRead=!0;Fo[51]=EE;Fo[Zw]=e=>{if(!Ii)if(Lr.getShared)pb();else return new Hl(e,Zw);if(typeof e=="number")return Ii[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")};Fo[28]=e=>{Ta||(Ta=new Map,Ta.id=0);let t=Ta.id++,n=tr[hn],r;n>>5==4?r=[]:r={};let i={target:r};Ta.set(t,i);let a=e();return i.used?Object.assign(r,a):(i.target=a,a)};Fo[28].handlesRead=!0;Fo[29]=e=>{let t=Ta.get(e);return t.used=!0,t.target};Fo[258]=e=>new Set(e);(Fo[259]=e=>(Lr.mapsAsObjects&&(Lr.mapsAsObjects=!1,td=!0),e())).handlesRead=!0;function wc(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function El(){if(!Ii)if(Lr.getShared)pb();else throw new Error("No packed values available");return Ii}const kz=1399353956;dv.push((e,t)=>{if(e>=225&&e<=255)return wc(El().prefixes[e-224],t);if(e>=28704&&e<=32767)return wc(El().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return wc(El().prefixes[e-1879048192],t);if(e>=216&&e<=223)return wc(t,El().suffixes[e-216]);if(e>=27647&&e<=28671)return wc(t,El().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return wc(t,El().suffixes[e-1811939328]);if(e==kz)return{packedValues:Ii,structures:Io.slice(0),version:t};if(e==55799)return t});const Sz=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,Vw=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Ez=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<Vw.length;e++)_z(Vw[e],Ez[e]);function _z(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let i=0;i<2;i++){if(!i&&r==1)continue;let a=r==2?1:r==4?2:3;Fo[i?t:t-4]=r==1||i==Sz?c=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(c,0).buffer)}:c=>{if(!e)throw new Error("Could not find typed array for code "+t);let g=new DataView(c.buffer,c.byteOffset,c.byteLength),w=c.length>>a,K=new e(w),se=g[n];for(let fe=0;fe<w;fe++)K[fe]=se.call(g,fe<<a,i);return K}}}function Cz(){let e=Zc(),t=hn+Dr();for(let r=2;r<e;r++){let i=Zc();hn+=i}let n=hn;return hn=t,Go=[hv(Zc()),hv(Zc())],Go.position0=0,Go.position1=0,Go.postBundlePosition=hn,hn=n,Dr()}function Zc(){let e=tr[hn++]&31;if(e>23)switch(e){case 24:e=tr[hn++];break;case 25:e=ki.getUint16(hn),hn+=2;break;case 26:e=ki.getUint32(hn),hn+=4;break}return e}function pb(){if(Lr.getShared){let e=_E(()=>(tr=null,Lr.getShared()))||{},t=e.structures||[];Lr.sharedVersion=e.version,Ii=Lr.sharedValues=e.packedValues,Io===!0?Lr.structures=Io=t:Io.splice.apply(Io,[0,t.length].concat(t))}}function _E(e){let t=Ll,n=hn,r=B0,i=Wd,a=z0,c=Ta,g=Go,w=new Uint8Array(tr.slice(0,Ll)),K=Io,se=Lr,fe=Hd,Re=e();return Ll=t,hn=n,B0=r,Wd=i,z0=a,Ta=c,Go=g,tr=w,Hd=fe,Io=K,Lr=se,ki=new DataView(tr.buffer,tr.byteOffset,tr.byteLength),Re}function mv(){tr=null,Ta=null,Io=null}const mb=new Array(147);for(let e=0;e<256;e++)mb[e]=+("1e"+Math.floor(45.15-e*.30103));let gb=new $d({useRecords:!1});gb.decode;gb.decodeMultiple;let Xh;try{Xh=new TextEncoder}catch{}let gv,CE;const Np=typeof globalThis=="object"&&globalThis.Buffer,yf=typeof Np<"u",wg=yf?Np.allocUnsafeSlow:Uint8Array,Ww=yf?Np:Uint8Array,Hw=256,$w=yf?4294967296:2144337920;let kg,Rt,ho,pt=0,Ms,Ho=null;const Tz=61440,Oz=/[\u0080-\uFFFF]/,$i=Symbol("record-id");class Pz extends $d{constructor(t){super(t),this.offset=0;let n,r,i,a,c;t=t||{};let g=Ww.prototype.utf8Write?function(B,he,ge){return Rt.utf8Write(B,he,ge)}:Xh&&Xh.encodeInto?function(B,he){return Xh.encodeInto(B,Rt.subarray(he)).written}:!1,w=this,K=t.structures||t.saveStructures,se=t.maxSharedStructures;if(se==null&&(se=K?128:0),se>8190)throw new Error("Maximum maxSharedStructure is 8190");let fe=t.sequential;fe&&(se=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let Re,Q,z=t.sharedValues,o;if(z){o=Object.create(null);for(let B=0,he=z.length;B<he;B++)o[z[B]]=B}let M=[],p=0,f=0;this.mapEncode=function(B,he){if(this._keyMap&&!this._mapped)switch(B.constructor.name){case"Array":B=B.map(ge=>this.encodeKeys(ge));break}return this.encode(B,he)},this.encode=function(B,he){if(Rt||(Rt=new wg(8192),ho=new DataView(Rt.buffer,0,8192),pt=0),Ms=Rt.length-10,Ms-pt<2048?(Rt=new wg(Rt.length),ho=new DataView(Rt.buffer,0,Rt.length),Ms=Rt.length-10,pt=0):he===Xw&&(pt=pt+7&2147483640),n=pt,w.useSelfDescribedHeader&&(ho.setUint32(pt,3654940416),pt+=3),c=w.structuredClone?new Map:null,w.bundleStrings&&typeof B!="string"?(Ho=[],Ho.size=1/0):Ho=null,r=w.structures,r){if(r.uninitialized){let ve=w.getShared()||{};w.structures=r=ve.structures||[],w.sharedVersion=ve.version;let me=w.sharedValues=ve.packedValues;if(me){o={};for(let le=0,N=me.length;le<N;le++)o[me[le]]=le}}let ge=r.length;if(ge>se&&!fe&&(ge=se),!r.transitions){r.transitions=Object.create(null);for(let ve=0;ve<ge;ve++){let me=r[ve];if(!me)continue;let le,N=r.transitions;for(let oe=0,O=me.length;oe<O;oe++){N[$i]===void 0&&(N[$i]=ve);let I=me[oe];le=N[I],le||(le=N[I]=Object.create(null)),N=le}N[$i]=ve|1048576}}fe||(r.nextId=ge)}if(i&&(i=!1),a=r||[],Q=o,t.pack){let ge=new Map;if(ge.values=[],ge.encoder=w,ge.maxValues=t.maxPrivatePackedValues||(o?16:1/0),ge.objectMap=o||!1,ge.samplingPackedValues=Re,qh(B,ge),ge.values.length>0){Rt[pt++]=216,Rt[pt++]=51,Za(4);let ve=ge.values;u(ve),Za(0),Za(0),Q=Object.create(o||null);for(let me=0,le=ve.length;me<le;me++)Q[ve[me]]=me}}kg=he&Eg;try{if(kg)return;if(u(B),Ho&&Yw(n,u),w.offset=pt,c&&c.idsToInsert){pt+=c.idsToInsert.length*2,pt>Ms&&R(pt),w.offset=pt;let ge=Iz(Rt.subarray(n,pt),c.idsToInsert);return c=null,ge}return he&Xw?(Rt.start=n,Rt.end=pt,Rt):Rt.subarray(n,pt)}finally{if(r){if(f<10&&f++,r.length>se&&(r.length=se),p>1e4)r.transitions=null,f=0,p=0,M.length>0&&(M=[]);else if(M.length>0&&!fe){for(let ge=0,ve=M.length;ge<ve;ge++)M[ge][$i]=void 0;M=[]}}if(i&&w.saveShared){w.structures.length>se&&(w.structures=w.structures.slice(0,se));let ge=Rt.subarray(n,pt);return w.updateSharedData()===!1?w.encode(B):ge}he&Rz&&(pt=n)}},this.findCommonStringsToPack=()=>(Re=new Map,o||(o=Object.create(null)),B=>{let he=B&&B.threshold||4,ge=this.pack?B.maxPrivatePackedValues||16:0;z||(z=this.sharedValues=[]);for(let[ve,me]of Re)me.count>he&&(o[ve]=ge++,z.push(ve),i=!0);for(;this.saveShared&&this.updateSharedData()===!1;);Re=null});const u=B=>{pt>Ms&&(Rt=R(pt));var he=typeof B,ge;if(he==="string"){if(Q){let N=Q[B];if(N>=0){N<16?Rt[pt++]=N+224:(Rt[pt++]=198,N&1?u(15-N>>1):u(N-16>>1));return}else if(Re&&!t.pack){let oe=Re.get(B);oe?oe.count++:Re.set(B,{count:1})}}let ve=B.length;if(Ho&&ve>=4&&ve<1024){if((Ho.size+=ve)>Tz){let oe,O=(Ho[0]?Ho[0].length*3+Ho[1].length:0)+10;pt+O>Ms&&(Rt=R(pt+O)),Rt[pt++]=217,Rt[pt++]=223,Rt[pt++]=249,Rt[pt++]=Ho.position?132:130,Rt[pt++]=26,oe=pt-n,pt+=4,Ho.position&&Yw(n,u),Ho=["",""],Ho.size=0,Ho.position=oe}let N=Oz.test(B);Ho[N?0:1]+=B,Rt[pt++]=N?206:207,u(ve);return}let me;ve<32?me=1:ve<256?me=2:ve<65536?me=3:me=5;let le=ve*3;if(pt+le>Ms&&(Rt=R(pt+le)),ve<64||!g){let N,oe,O,I=pt+me;for(N=0;N<ve;N++)oe=B.charCodeAt(N),oe<128?Rt[I++]=oe:oe<2048?(Rt[I++]=oe>>6|192,Rt[I++]=oe&63|128):(oe&64512)===55296&&((O=B.charCodeAt(N+1))&64512)===56320?(oe=65536+((oe&1023)<<10)+(O&1023),N++,Rt[I++]=oe>>18|240,Rt[I++]=oe>>12&63|128,Rt[I++]=oe>>6&63|128,Rt[I++]=oe&63|128):(Rt[I++]=oe>>12|224,Rt[I++]=oe>>6&63|128,Rt[I++]=oe&63|128);ge=I-pt-me}else ge=g(B,pt+me,le);ge<24?Rt[pt++]=96|ge:ge<256?(me<2&&Rt.copyWithin(pt+2,pt+1,pt+1+ge),Rt[pt++]=120,Rt[pt++]=ge):ge<65536?(me<3&&Rt.copyWithin(pt+3,pt+2,pt+2+ge),Rt[pt++]=121,Rt[pt++]=ge>>8,Rt[pt++]=ge&255):(me<5&&Rt.copyWithin(pt+5,pt+3,pt+3+ge),Rt[pt++]=122,ho.setUint32(pt,ge),pt+=4),pt+=ge}else if(he==="number")if(!this.alwaysUseFloat&&B>>>0===B)B<24?Rt[pt++]=B:B<256?(Rt[pt++]=24,Rt[pt++]=B):B<65536?(Rt[pt++]=25,Rt[pt++]=B>>8,Rt[pt++]=B&255):(Rt[pt++]=26,ho.setUint32(pt,B),pt+=4);else if(!this.alwaysUseFloat&&B>>0===B)B>=-24?Rt[pt++]=31-B:B>=-256?(Rt[pt++]=56,Rt[pt++]=~B):B>=-65536?(Rt[pt++]=57,ho.setUint16(pt,~B),pt+=2):(Rt[pt++]=58,ho.setUint32(pt,~B),pt+=4);else{let ve;if((ve=this.useFloat32)>0&&B<4294967296&&B>=-2147483648){Rt[pt++]=250,ho.setFloat32(pt,B);let me;if(ve<4||(me=B*mb[(Rt[pt]&127)<<1|Rt[pt+1]>>7])>>0===me){pt+=4;return}else pt--}Rt[pt++]=251,ho.setFloat64(pt,B),pt+=8}else if(he==="object")if(!B)Rt[pt++]=246;else{if(c){let me=c.get(B);if(me){if(Rt[pt++]=216,Rt[pt++]=29,Rt[pt++]=25,!me.references){let le=c.idsToInsert||(c.idsToInsert=[]);me.references=[],le.push(me)}me.references.push(pt-n),pt+=2;return}else c.set(B,{offset:pt-n})}let ve=B.constructor;if(ve===Object)E(B,!0);else if(ve===Array){ge=B.length,ge<24?Rt[pt++]=128|ge:Za(ge);for(let me=0;me<ge;me++)u(B[me])}else if(ve===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(Rt[pt++]=217,Rt[pt++]=1,Rt[pt++]=3),ge=B.size,ge<24?Rt[pt++]=160|ge:ge<256?(Rt[pt++]=184,Rt[pt++]=ge):ge<65536?(Rt[pt++]=185,Rt[pt++]=ge>>8,Rt[pt++]=ge&255):(Rt[pt++]=186,ho.setUint32(pt,ge),pt+=4),w.keyMap)for(let[me,le]of B)u(w.encodeKey(me)),u(le);else for(let[me,le]of B)u(me),u(le);else{for(let me=0,le=gv.length;me<le;me++){let N=CE[me];if(B instanceof N){let oe=gv[me],O=oe.tag;O==null&&(O=oe.getTag&&oe.getTag.call(this,B)),O<24?Rt[pt++]=192|O:O<256?(Rt[pt++]=216,Rt[pt++]=O):O<65536?(Rt[pt++]=217,Rt[pt++]=O>>8,Rt[pt++]=O&255):O>-1&&(Rt[pt++]=218,ho.setUint32(pt,O),pt+=4),oe.encode.call(this,B,u,R);return}}if(B[Symbol.iterator]){if(kg){let me=new Error("Iterable should be serialized as iterator");throw me.iteratorNotHandled=!0,me}Rt[pt++]=159;for(let me of B)u(me);Rt[pt++]=255;return}if(B[Symbol.asyncIterator]||Sg(B)){let me=new Error("Iterable/blob should be serialized as iterator");throw me.iteratorNotHandled=!0,me}if(this.useToJSON&&B.toJSON){const me=B.toJSON();if(me!==B)return u(me)}E(B,!B.hasOwnProperty)}}else if(he==="boolean")Rt[pt++]=B?245:244;else if(he==="bigint"){if(B<BigInt(1)<<BigInt(64)&&B>=0)Rt[pt++]=27,ho.setBigUint64(pt,B);else if(B>-(BigInt(1)<<BigInt(64))&&B<0)Rt[pt++]=59,ho.setBigUint64(pt,-B-BigInt(1));else if(this.largeBigIntToFloat)Rt[pt++]=251,ho.setFloat64(pt,Number(B));else throw new RangeError(B+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");pt+=8}else if(he==="undefined")Rt[pt++]=247;else throw new Error("Unknown type: "+he)},E=this.useRecords===!1?this.variableMapSize?B=>{let he=Object.keys(B),ge=Object.values(B),ve=he.length;if(ve<24?Rt[pt++]=160|ve:ve<256?(Rt[pt++]=184,Rt[pt++]=ve):ve<65536?(Rt[pt++]=185,Rt[pt++]=ve>>8,Rt[pt++]=ve&255):(Rt[pt++]=186,ho.setUint32(pt,ve),pt+=4),w.keyMap)for(let me=0;me<ve;me++)u(w.encodeKey(he[me])),u(ge[me]);else for(let me=0;me<ve;me++)u(he[me]),u(ge[me])}:(B,he)=>{Rt[pt++]=185;let ge=pt-n;pt+=2;let ve=0;if(w.keyMap)for(let me in B)(he||B.hasOwnProperty(me))&&(u(w.encodeKey(me)),u(B[me]),ve++);else for(let me in B)(he||B.hasOwnProperty(me))&&(u(me),u(B[me]),ve++);Rt[ge+++n]=ve>>8,Rt[ge+n]=ve&255}:(B,he)=>{let ge,ve=a.transitions||(a.transitions=Object.create(null)),me=0,le=0,N,oe;if(this.keyMap){oe=Object.keys(B).map(I=>this.encodeKey(I)),le=oe.length;for(let I=0;I<le;I++){let A=oe[I];ge=ve[A],ge||(ge=ve[A]=Object.create(null),me++),ve=ge}}else for(let I in B)(he||B.hasOwnProperty(I))&&(ge=ve[I],ge||(ve[$i]&1048576&&(N=ve[$i]&65535),ge=ve[I]=Object.create(null),me++),ve=ge,le++);let O=ve[$i];if(O!==void 0)O&=65535,Rt[pt++]=217,Rt[pt++]=O>>8|224,Rt[pt++]=O&255;else if(oe||(oe=ve.__keys__||(ve.__keys__=Object.keys(B))),N===void 0?(O=a.nextId++,O||(O=0,a.nextId=1),O>=Hw&&(a.nextId=(O=se)+1)):O=N,a[O]=oe,O<se){Rt[pt++]=217,Rt[pt++]=O>>8|224,Rt[pt++]=O&255,ve=a.transitions;for(let I=0;I<le;I++)(ve[$i]===void 0||ve[$i]&1048576)&&(ve[$i]=O),ve=ve[oe[I]];ve[$i]=O|1048576,i=!0}else{if(ve[$i]=O,ho.setUint32(pt,3655335680),pt+=3,me&&(p+=f*me),M.length>=Hw-se&&(M.shift()[$i]=void 0),M.push(ve),Za(le+2),u(57344+O),u(oe),he===null)return;for(let I in B)(he||B.hasOwnProperty(I))&&u(B[I]);return}if(le<24?Rt[pt++]=128|le:Za(le),he!==null)for(let I in B)(he||B.hasOwnProperty(I))&&u(B[I])},R=B=>{let he;if(B>16777216){if(B-n>$w)throw new Error("Encoded buffer would be larger than maximum buffer size");he=Math.min($w,Math.round(Math.max((B-n)*(B>67108864?1.25:2),4194304)/4096)*4096)}else he=(Math.max(B-n<<2,Rt.length-1)>>12)+1<<12;let ge=new wg(he);return ho=new DataView(ge.buffer,0,he),Rt.copy?Rt.copy(ge,0,n,B):ge.set(Rt.slice(n,B)),pt-=n,n=0,Ms=ge.length-10,Rt=ge};let k=100,d=1e3;this.encodeAsIterable=function(B,he){return ee(B,he,L)},this.encodeAsAsyncIterable=function(B,he){return ee(B,he,S)};function*L(B,he,ge){let ve=B.constructor;if(ve===Object){let me=w.useRecords!==!1;me?E(B,null):Kw(Object.keys(B).length,160);for(let le in B){let N=B[le];me||u(le),N&&typeof N=="object"?he[le]?yield*L(N,he[le]):yield*W(N,he,le):u(N)}}else if(ve===Array){let me=B.length;Za(me);for(let le=0;le<me;le++){let N=B[le];N&&(typeof N=="object"||pt-n>k)?he.element?yield*L(N,he.element):yield*W(N,he,"element"):u(N)}}else if(B[Symbol.iterator]){Rt[pt++]=159;for(let me of B)me&&(typeof me=="object"||pt-n>k)?he.element?yield*L(me,he.element):yield*W(me,he,"element"):u(me);Rt[pt++]=255}else Sg(B)?(Kw(B.size,64),yield Rt.subarray(n,pt),yield B,Y()):B[Symbol.asyncIterator]?(Rt[pt++]=159,yield Rt.subarray(n,pt),yield B,Y(),Rt[pt++]=255):u(B);ge&&pt>n?yield Rt.subarray(n,pt):pt-n>k&&(yield Rt.subarray(n,pt),Y())}function*W(B,he,ge){let ve=pt-n;try{u(B),pt-n>k&&(yield Rt.subarray(n,pt),Y())}catch(me){if(me.iteratorNotHandled)he[ge]={},pt=n+ve,yield*L.call(this,B,he[ge]);else throw me}}function Y(){k=d,w.encode(null,Eg)}function ee(B,he,ge){return he&&he.chunkThreshold?k=d=he.chunkThreshold:k=100,B&&typeof B=="object"?(w.encode(null,Eg),ge(B,w.iterateProperties||(w.iterateProperties={}),!0)):[w.encode(B)]}async function*S(B,he){for(let ge of L(B,he,!0)){let ve=ge.constructor;if(ve===Ww||ve===Uint8Array)yield ge;else if(Sg(ge)){let me=ge.stream().getReader(),le;for(;!(le=await me.read()).done;)yield le.value}else if(ge[Symbol.asyncIterator])for await(let me of ge)Y(),me?yield*S(me,he.async||(he.async={})):yield w.encode(me);else yield ge}}}useBuffer(t){Rt=t,ho=new DataView(Rt.buffer,Rt.byteOffset,Rt.byteLength),pt=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let n=this.structures.slice(0),r=new TE(n,this.sharedValues,this.sharedVersion),i=this.saveShared(r,a=>(a&&a.version||0)==t);return i===!1?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((a,c)=>this.structures[c]=a),i}}function Kw(e,t){e<24?Rt[pt++]=t|e:e<256?(Rt[pt++]=t|24,Rt[pt++]=e):e<65536?(Rt[pt++]=t|25,Rt[pt++]=e>>8,Rt[pt++]=e&255):(Rt[pt++]=t|26,ho.setUint32(pt,e),pt+=4)}class TE{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function Za(e){e<24?Rt[pt++]=128|e:e<256?(Rt[pt++]=152,Rt[pt++]=e):e<65536?(Rt[pt++]=153,Rt[pt++]=e>>8,Rt[pt++]=e&255):(Rt[pt++]=154,ho.setUint32(pt,e),pt+=4)}const jz=typeof Blob>"u"?function(){}:Blob;function Sg(e){if(e instanceof jz)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function qh(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let i=t.samplingPackedValues.get(e);i?i.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,i=e.length;r<i;r++)qh(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&qh(n,t),qh(e[n],t))}break;case"function":console.log(e)}}const Mz=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;CE=[Date,Set,Error,RegExp,Hl,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,TE];gv=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(Rt[pt++]=26,ho.setUint32(pt,n),pt+=4):(Rt[pt++]=251,ho.setFloat64(pt,n),pt+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){Gw(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||yf&&this.tagUint8Array!==!1))return 64},encode(e,t,n){Gw(e,n)}},za(68,1),za(69,2),za(70,4),za(71,8),za(72,1),za(77,2),za(78,4),za(79,8),za(85,4),za(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){Rt[pt++]=216,Rt[pt++]=51,Za(4);let i=n.values;t(i),Za(0),Za(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let a=0,c=i.length;a<c;a++)packedObjectMap[i[a]]=a}if(r){ho.setUint32(pt,3655335424),pt+=3;let i=r.slice(0);i.unshift(57344),i.push(new Hl(e.version,1399353956)),t(i)}else t(new Hl(e.version,1399353956))}}];function za(e,t){return!Mz&&t>1&&(e-=4),{tag:e,encode:function(r,i){let a=r.byteLength,c=r.byteOffset||0,g=r.buffer||r;i(yf?Np.from(g,c,a):new Uint8Array(g,c,a))}}}function Gw(e,t){let n=e.byteLength;n<24?Rt[pt++]=64+n:n<256?(Rt[pt++]=88,Rt[pt++]=n):n<65536?(Rt[pt++]=89,Rt[pt++]=n>>8,Rt[pt++]=n&255):(Rt[pt++]=90,ho.setUint32(pt,n),pt+=4),pt+n>=Rt.length&&t(pt+n),Rt.set(e.buffer?e:new Uint8Array(e),pt),pt+=n}function Iz(e,t){let n,r=t.length*2,i=e.length-r;t.sort((a,c)=>a.offset>c.offset?1:-1);for(let a=0;a<t.length;a++){let c=t[a];c.id=a;for(let g of c.references)e[g++]=a>>8,e[g]=a&255}for(;n=t.pop();){let a=n.offset;e.copyWithin(a+r,a,i),r-=2;let c=a+r;e[c++]=216,e[c++]=28,i=a}return e}function Yw(e,t){ho.setUint32(Ho.position+e,pt-Ho.position-e+1);let n=Ho;Ho=null,t(n[0]),t(n[1])}let vb=new Pz({useRecords:!1});vb.encode;vb.encodeAsIterable;vb.encodeAsAsyncIterable;const Xw=512,Rz=1024,Eg=2048;function tc(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class OE{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,i=Math.ceil(r/this.chunkedMTU);let a=0,c=0;for(;c<r;){const g=Math.min(r,c+this.chunkedMTU),w=t.slice(c,g),K={__peerData:this._dataCount,n:a,data:w,total:i};n.push(K),c=g,a++}return this._dataCount++,n}}}function Az(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.byteLength;return n}const _g=zw.default||zw,Hu=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return _g.browserDetails.browser}getVersion(){return _g.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=_g.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Dz=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),PE=()=>Math.random().toString(36).slice(2),qw={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Lz extends OE{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=qw,this.browser=Hu.getBrowser(),this.browserVersion=Hu.getVersion(),this.pack=ZS,this.unpack=BS,this.supports=function(){const n={browser:Hu.isBrowserSupported(),webRTC:Hu.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(qw),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!Hu.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Dz,this.randomToken=PE}}const ji=new Lz,Nz="PeerJS: ";var Jw;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Jw||(Jw={}));class zz{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[Nz,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var nr=new zz,yb={},Bz=Object.prototype.hasOwnProperty,Ei="~";function Kd(){}Object.create&&(Kd.prototype=Object.create(null),new Kd().__proto__||(Ei=!1));function Zz(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function jE(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var a=new Zz(n,r||e,i),c=Ei?Ei+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function Jh(e,t){--e._eventsCount===0?e._events=new Kd:delete e._events[t]}function gi(){this._events=new Kd,this._eventsCount=0}gi.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Bz.call(n,r)&&t.push(Ei?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};gi.prototype.listeners=function(t){var n=Ei?Ei+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,c=new Array(a);i<a;i++)c[i]=r[i].fn;return c};gi.prototype.listenerCount=function(t){var n=Ei?Ei+t:t,r=this._events[n];return r?r.fn?1:r.length:0};gi.prototype.emit=function(t,n,r,i,a,c){var g=Ei?Ei+t:t;if(!this._events[g])return!1;var w=this._events[g],K=arguments.length,se,fe;if(w.fn){switch(w.once&&this.removeListener(t,w.fn,void 0,!0),K){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,n),!0;case 3:return w.fn.call(w.context,n,r),!0;case 4:return w.fn.call(w.context,n,r,i),!0;case 5:return w.fn.call(w.context,n,r,i,a),!0;case 6:return w.fn.call(w.context,n,r,i,a,c),!0}for(fe=1,se=new Array(K-1);fe<K;fe++)se[fe-1]=arguments[fe];w.fn.apply(w.context,se)}else{var Re=w.length,Q;for(fe=0;fe<Re;fe++)switch(w[fe].once&&this.removeListener(t,w[fe].fn,void 0,!0),K){case 1:w[fe].fn.call(w[fe].context);break;case 2:w[fe].fn.call(w[fe].context,n);break;case 3:w[fe].fn.call(w[fe].context,n,r);break;case 4:w[fe].fn.call(w[fe].context,n,r,i);break;default:if(!se)for(Q=1,se=new Array(K-1);Q<K;Q++)se[Q-1]=arguments[Q];w[fe].fn.apply(w[fe].context,se)}}return!0};gi.prototype.on=function(t,n,r){return jE(this,t,n,r,!1)};gi.prototype.once=function(t,n,r){return jE(this,t,n,r,!0)};gi.prototype.removeListener=function(t,n,r,i){var a=Ei?Ei+t:t;if(!this._events[a])return this;if(!n)return Jh(this,a),this;var c=this._events[a];if(c.fn)c.fn===n&&(!i||c.once)&&(!r||c.context===r)&&Jh(this,a);else{for(var g=0,w=[],K=c.length;g<K;g++)(c[g].fn!==n||i&&!c[g].once||r&&c[g].context!==r)&&w.push(c[g]);w.length?this._events[a]=w.length===1?w[0]:w:Jh(this,a)}return this};gi.prototype.removeAllListeners=function(t){var n;return t?(n=Ei?Ei+t:t,this._events[n]&&Jh(this,n)):(this._events=new Kd,this._eventsCount=0),this};gi.prototype.off=gi.prototype.removeListener;gi.prototype.addListener=gi.prototype.on;gi.prefixed=Ei;gi.EventEmitter=gi;yb=gi;var nc={};tc(nc,"ConnectionType",()=>Ka);tc(nc,"PeerErrorType",()=>jo);tc(nc,"BaseConnectionErrorType",()=>Gd);tc(nc,"DataConnectionErrorType",()=>Yd);tc(nc,"SerializationType",()=>lu);tc(nc,"SocketEventType",()=>Ua);tc(nc,"ServerMessageType",()=>ri);var Ka;(function(e){e.Data="data",e.Media="media"})(Ka||(Ka={}));var jo;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(jo||(jo={}));var Gd;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(Gd||(Gd={}));var Yd;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(Yd||(Yd={}));var lu;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(lu||(lu={}));var Ua;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Ua||(Ua={}));var ri;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(ri||(ri={}));var bb={};bb=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class Fz extends yb.EventEmitter{constructor(t,n,r,i,a,c=5e3){super(),this.pingInterval=c,this._disconnected=!0,this._messagesQueue=[];const g=t?"wss://":"ws://";this._baseUrl=g+n+":"+r+i+"peerjs?key="+a}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+bb.version),this._disconnected=!1,this._socket.onmessage=i=>{let a;try{a=JSON.parse(i.data),nr.log("Server message received:",a)}catch{nr.log("Invalid server message",i.data);return}this.emit(Ua.Message,a)},this._socket.onclose=i=>{this._disconnected||(nr.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(Ua.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),nr.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){nr.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:ri.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Ua.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class ME{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Ka.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,i={ordered:!!t.reliable},a=n.createDataChannel(r.label,i);r._initializeDataChannel(a),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){nr.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,a=this.connection.provider;nr.log("Listening for ICE candidates."),t.onicecandidate=c=>{!c.candidate||!c.candidate.candidate||(nr.log(`Received ICE candidates for ${n}:`,c.candidate),a.socket.send({type:ri.Candidate,payload:{candidate:c.candidate,type:i,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":nr.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Gd.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":nr.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Gd.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":nr.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},nr.log("Listening for data channel"),t.ondatachannel=c=>{nr.log("Received data channel");const g=c.channel;a.getConnection(n,r)._initializeDataChannel(g)},nr.log("Listening for remote stream"),t.ontrack=c=>{nr.log("Received remote stream");const g=c.streams[0],w=a.getConnection(n,r);if(w.type===Ka.Media){const K=w;this._addStreamToMediaConnection(g,K)}}}cleanup(){nr.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);nr.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),nr.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Ka.Data){const a=this.connection;i={...i,label:a.label,reliable:a.reliable,serialization:a.serialization}}n.socket.send({type:ri.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(jo.WebRTC,i),nr.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(jo.WebRTC,r),nr.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();nr.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),nr.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:ri.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(jo.WebRTC,i),nr.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(jo.WebRTC,r),nr.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;nr.log("Setting remote description",n);const a=this;try{await r.setRemoteDescription(n),nr.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await a._makeAnswer()}catch(c){i.emitError(jo.WebRTC,c),nr.log("Failed to setRemoteDescription, ",c)}}async handleCandidate(t){nr.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),nr.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(jo.WebRTC,n),nr.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(nr.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return nr.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){nr.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class IE extends yb.EventEmitter{emitError(t,n){nr.error("Error:",n),this.emit("error",new Uz(`${t}`,n))}}class Uz extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class RE extends IE{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var yv;const bd=class bd extends RE{get type(){return Ka.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||bd.ID_PREFIX+ji.randomToken(),this._negotiator=new ME(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{nr.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{nr.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){nr.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case ri.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case ri.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:nr.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){nr.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};yv=new WeakMap,yl(bd,yv,bd.ID_PREFIX="mc_");let Z0=bd;class Vz{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:i,path:a,key:c}=this._options,g=new URL(`${n}://${r}:${i}${a}${c}/${t}`);return g.searchParams.set("ts",`${Date.now()}${Math.random()}`),g.searchParams.set("version",bb.version),fetch(g.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){nr.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==ji.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===ji.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw nr.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var bv,xv;const Tl=class Tl extends RE{get type(){return Ka.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Tl.ID_PREFIX+PE(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new ME(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{nr.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{nr.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{nr.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(Yd.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case ri.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case ri.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:nr.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};bv=new WeakMap,xv=new WeakMap,yl(Tl,bv,Tl.ID_PREFIX="dc_"),yl(Tl,xv,Tl.MAX_BUFFERED_AMOUNT=8388608);let F0=Tl;class xb extends F0{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>F0.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return nr.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Cg extends xb{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new OE,this.serialization=lu.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=BS(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=Az(r.data);this._handleDataMessage({data:i})}}_send(t,n){const r=ZS(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);nr.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Wz extends xb{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=lu.None}}class Hz extends xb{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=ji.chunkedMTU){this.emitError(Yd.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=lu.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var wv;const xd=class xd extends IE{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:Wz,json:Hz,binary:Cg,"binary-utf8":Cg,default:Cg},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:ji.CLOUD_HOST,port:ji.CLOUD_PORT,path:"/",key:xd.DEFAULT_KEY,token:ji.randomToken(),config:ji.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ji.CLOUD_HOST?this._options.secure=ji.isSecure():this._options.host==ji.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&nr.setLogFunction(this._options.logFunction),nr.logLevel=this._options.debug||0,this._api=new Vz(n),this._socket=this._createServerConnection(),!ji.supports.audioVideo&&!ji.supports.data){this._delayedAbort(jo.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!ji.validateId(r)){this._delayedAbort(jo.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(jo.ServerError,i))}_createServerConnection(){const t=new Fz(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Ua.Message,n=>{this._handleMessage(n)}),t.on(Ua.Error,n=>{this._abort(jo.SocketError,n)}),t.on(Ua.Disconnected,()=>{this.disconnected||(this.emitError(jo.Network,"Lost connection to server."),this.disconnect())}),t.on(Ua.Close,()=>{this.disconnected||this._abort(jo.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,i=t.src;switch(n){case ri.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ri.Error:this._abort(jo.ServerError,r.msg);break;case ri.IdTaken:this._abort(jo.UnavailableID,`ID "${this.id}" is taken`);break;case ri.InvalidKey:this._abort(jo.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case ri.Leave:nr.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case ri.Expire:this.emitError(jo.PeerUnavailable,`Could not connect to peer ${i}`);break;case ri.Offer:{const a=r.connectionId;let c=this.getConnection(i,a);if(c&&(c.close(),nr.warn(`Offer received for existing Connection ID:${a}`)),r.type===Ka.Media){const w=new Z0(i,this,{connectionId:a,_payload:r,metadata:r.metadata});c=w,this._addConnection(i,c),this.emit("call",w)}else if(r.type===Ka.Data){const w=new this._serializers[r.serialization](i,this,{connectionId:a,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});c=w,this._addConnection(i,c),this.emit("connection",w)}else{nr.warn(`Received malformed connection type:${r.type}`);return}const g=this._getMessages(a);for(const w of g)c.handleMessage(w);break}default:{if(!r){nr.warn(`You received a malformed message from ${i} of type ${n}`);return}const a=r.connectionId,c=this.getConnection(i,a);c&&c.peerConnection?c.handleMessage(t):a?this._storeMessage(a,t):nr.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){nr.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(jo.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){nr.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(jo.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){nr.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Z0(t,this,{...r,_stream:n});return this._addConnection(t,i),i}_addConnection(t,n){nr.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){nr.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(nr.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;nr.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)nr.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)nr.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(jo.ServerError,n))}};wv=new WeakMap,yl(xd,wv,xd.DEFAULT_KEY="peerjs");let vv=xd;var $z=vv;class Kz{constructor(t){Ps(this,"peerInstance");Ps(this,"localStream");this.peerInstance=new $z,this.localStream=t}initializeConnection(t,n,r,i){this.peerInstance.on("open",async a=>{const c=await(t==null?void 0:t.emitWithAck("peer-connected",a));i([{socketId:n.socketId,peerId:a,name:n.name,stream:this.localStream,streamType:"audio"}]);const g=this.getPeerConnections(c,r);this.callPeers(g,i),this.listenToCalls(i),this.catchErrors(),this.handleDisconnections(),this.handleClose(t)})}getPeerConnections(t,n){return t==null?void 0:t.map(r=>{var i;return{socketId:r.socketId,peerId:r.peerId,name:((i=n==null?void 0:n.find(a=>(a==null?void 0:a.socketId)===r.socketId))==null?void 0:i.name)||"",stream:null,streamType:"audio"}})}callPeers(t,n){t.forEach(r=>{const i=this.peerInstance.call(r==null?void 0:r.peerId,this.localStream);i==null||i.on("stream",a=>{n(c=>[...c,{...r,stream:a,muted:!a.getTracks()[0].enabled}])})})}listenToCalls(t){this.peerInstance.on("call",n=>{n.answer(this.localStream),n.on("stream",r=>{t(i=>i.map(a=>a.peerId===n.peer?{...a,stream:r,muted:!r.getTracks()[0].enabled}:a))})})}handleMuteStream(t){this.localStream.getAudioTracks()[0].enabled=t}handleClose(t){this.peerInstance.on("close",()=>{this.endSession(t)}),this.peerInstance.on("error",()=>{this.endSession(t)})}handleDisconnections(){this.peerInstance.on("disconnected",()=>{this.peerInstance.reconnect()})}catchErrors(){this.peerInstance.on("error",t=>{console.error("PeerJS error:",t)})}endSession(t){t.emit("destroy-peer",this.peerInstance.id),this.peerInstance.destroy()}}const Gz=(e,t,n)=>e==null?void 0:e.reduce((r,i)=>{var a;return t!=null&&t.some(c=>c.socketId===i.socketId)||r.push({socketId:i.socketId,peerId:i.peerId,name:(a=n==null?void 0:n.find(c=>(c==null?void 0:c.socketId)===i.socketId))==null?void 0:a.name,stream:null,streamType:"audio",muted:!1}),r},[]),Qw=(e,t)=>e.find(n=>n.socketId===t),Yz=()=>{const{conferenceModalAtom:e}=mu(),t=Y4(e),{socket:n}=Pp(),{user:r,collaborators:i}=ff(),[a,c]=Tt.useState([]),g=Tt.useRef(),w=Tt.useMemo(()=>a==null?void 0:a.filter(M=>!!M.stream),[a]),K=Tt.useMemo(()=>{var M;return(M=Qw(a,n==null?void 0:n.id))==null?void 0:M.muted},[a,n==null?void 0:n.id]),se=Tt.useCallback(()=>{var M,p;(M=g.current)==null||M.handleMuteStream(K),c(f=>f==null?void 0:f.map(u=>u.socketId===(n==null?void 0:n.id)?{...u,muted:!u.muted}:u)),n==null||n.emit("peer-mute",{muted:!K,peerId:(p=Qw(a,n==null?void 0:n.id))==null?void 0:p.peerId})},[K,a,n]),fe=Tt.useCallback(async()=>{var M;try{const p=await((M=navigator==null?void 0:navigator.mediaDevices)==null?void 0:M.getUserMedia({audio:!0})),f=new Kz(p);f.initializeConnection(n,r,i,c),g.current=f}catch(p){console.error(p)}},[i,n,r]),Re=Tt.useCallback(()=>{g.current.endSession(n),c([]),t({docked:!1,open:!1})},[t,n]),Q=Tt.useCallback(M=>{const p=Gz(M,a,i);c(f=>[...f,...p])},[i,a]),z=Tt.useCallback(M=>{const p=a==null?void 0:a.filter(f=>f.peerId!==M);c(p)},[a]),o=Tt.useCallback(({peerId:M,muted:p})=>{c(f=>f==null?void 0:f.map(u=>u.peerId===M?{...u,muted:p}:u))},[]);return Tt.useEffect(()=>(n==null||n.on("new-peer-connected",Q),n==null||n.on("peer-disconnected",z),n==null||n.on("remote-peer-mute",o),()=>{n==null||n.off("new-peer-connected"),n==null||n.off("peer-disconnected"),n==null||n.off("remote-peer-mute")}),[Q,z,o,n]),Tt.useEffect(()=>(window.addEventListener("beforeunload",Re),()=>{window.removeEventListener("beforeunload",Re)}),[Re]),{participants:w,collaborators:i,socket:n,muted:!!K,setParticipants:c,handleInitializePeer:fe,handleEndCall:Re,handleMuteToggle:se}};function Xz(e){const{isModalDocked:t}=e,{participants:n,collaborators:r,socket:i,muted:a,setParticipants:c,handleInitializePeer:g,handleEndCall:w,handleMuteToggle:K}=Yz(),se=(n==null?void 0:n.length)&&!t;return xn.jsxs("main",{className:"flex flex-col h-full gap-5",children:[!(n!=null&&n.length)&&xn.jsx(HN,{onClick:g}),!!(n!=null&&n.length)&&xn.jsx(tz,{participants:n,setParticipants:c,renderOnlyUserStream:t,localSocketId:i==null?void 0:i.id}),!!se&&xn.jsx(WN,{muted:a,onMute:K,onEnd:w})]})}const qz=({modalState:e,setModalState:t})=>xn.jsx(VN,{modalState:e,setModalState:t,children:xn.jsx(Xz,{isModalDocked:e.docked})}),Jz=()=>{const{conferenceModalAtom:e}=mu(),[t,n]=Zd(e);return t.open&&xn.jsx(qz,{modalState:t,setModalState:n})};var AE={exports:{}},DE={exports:{}};/*! For license information please see excalidraw-with-preact.production.min.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r(Tt,xn,vy)})(self,function(n,r,i){return function(){var a,c,g,w,K={5779:function(Q,z){z.N=void 0;var o=/^([^\w]*)(javascript|data|vbscript)/im,M=/&#(\w+)(^\w|;)?/g,p=/&(newline|tab);/gi,f=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,u=/^.+(:|&colon;)/gim,E=[".","/"];z.N=function(R){var k,d=(k=R||"",k.replace(M,function(Y,ee){return String.fromCharCode(ee)})).replace(p,"").replace(f,"").trim();if(!d)return"about:blank";if(function(Y){return E.indexOf(Y[0])>-1}(d))return d;var L=d.match(u);if(!L)return d;var W=L[0];return o.test(W)?"about:blank":d}},7217:function(Q,z,o){function M(p,f,{checkForDefaultPrevented:u=!0}={}){return function(E){if(p==null||p(E),u===!1||!E.defaultPrevented)return f==null?void 0:f(E)}}o.d(z,{M:function(){return M}})},9335:function(Q,z,o){o.d(z,{F:function(){return p},e:function(){return f}});var M=o(9787);function p(...u){return E=>u.forEach(R=>function(k,d){typeof k=="function"?k(d):k!=null&&(k.current=d)}(R,E))}function f(...u){return(0,M.useCallback)(p(...u),u)}},1267:function(Q,z,o){o.d(z,{b:function(){return p}});var M=o(9787);function p(u,E=[]){let R=[];const k=()=>{const d=R.map(L=>(0,M.createContext)(L));return function(L){const W=(L==null?void 0:L[u])||d;return(0,M.useMemo)(()=>({[`__scope${u}`]:{...L,[u]:W}}),[L,W])}};return k.scopeName=u,[function(d,L){const W=(0,M.createContext)(L),Y=R.length;function ee(S){const{scope:B,children:he,...ge}=S,ve=(B==null?void 0:B[u][Y])||W,me=(0,M.useMemo)(()=>ge,Object.values(ge));return(0,M.createElement)(ve.Provider,{value:me},he)}return R=[...R,L],ee.displayName=d+"Provider",[ee,function(S,B){const he=(B==null?void 0:B[u][Y])||W,ge=(0,M.useContext)(he);if(ge)return ge;if(L!==void 0)return L;throw new Error(`\`${S}\` must be used within \`${d}\``)}]},f(k,...E)]}function f(...u){const E=u[0];if(u.length===1)return E;const R=()=>{const k=u.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(d){const L=k.reduce((W,{useScope:Y,scopeName:ee})=>({...W,...Y(d)[`__scope${ee}`]}),{});return(0,M.useMemo)(()=>({[`__scope${E.scopeName}`]:L}),[L])}};return R.scopeName=E.scopeName,R}},5622:function(Q,z,o){o.d(z,{M:function(){return E}});var M=o(9787),p=o(3348);const f=M.useId||(()=>{});let u=0;function E(R){const[k,d]=M.useState(f());return(0,p.b)(()=>{R||d(L=>L??String(u++))},[R]),R||(k?`radix-${k}`:"")}},1483:function(Q,z,o){o.d(z,{z:function(){return E}});var M=o(9787),p=o(5156),f=o(9335),u=o(3348);const E=k=>{const{present:d,children:L}=k,W=function(S){const[B,he]=(0,M.useState)(),ge=(0,M.useRef)({}),ve=(0,M.useRef)(S),me=(0,M.useRef)("none"),le=S?"mounted":"unmounted",[N,oe]=function(O,I){return(0,M.useReducer)((A,C)=>{const U=I[A][C];return U??A},O)}(le,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,M.useEffect)(()=>{const O=R(ge.current);me.current=N==="mounted"?O:"none"},[N]),(0,u.b)(()=>{const O=ge.current,I=ve.current;if(I!==S){const A=me.current,C=R(O);S?oe("MOUNT"):C==="none"||(O==null?void 0:O.display)==="none"?oe("UNMOUNT"):oe(I&&A!==C?"ANIMATION_OUT":"UNMOUNT"),ve.current=S}},[S,oe]),(0,u.b)(()=>{if(B){const O=A=>{const C=R(ge.current).includes(A.animationName);A.target===B&&C&&(0,p.flushSync)(()=>oe("ANIMATION_END"))},I=A=>{A.target===B&&(me.current=R(ge.current))};return B.addEventListener("animationstart",I),B.addEventListener("animationcancel",O),B.addEventListener("animationend",O),()=>{B.removeEventListener("animationstart",I),B.removeEventListener("animationcancel",O),B.removeEventListener("animationend",O)}}oe("ANIMATION_END")},[B,oe]),{isPresent:["mounted","unmountSuspended"].includes(N),ref:(0,M.useCallback)(O=>{O&&(ge.current=getComputedStyle(O)),he(O)},[])}}(d),Y=typeof L=="function"?L({present:W.isPresent}):M.Children.only(L),ee=(0,f.e)(W.ref,Y.ref);return typeof L=="function"||W.isPresent?(0,M.cloneElement)(Y,{ref:ee}):null};function R(k){return(k==null?void 0:k.animationName)||"none"}E.displayName="Presence"},3119:function(Q,z,o){o.d(z,{WV:function(){return E},jH:function(){return R}});var M=o(11),p=o(9787),f=o(5156),u=o(4801);const E=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((k,d)=>{const L=(0,p.forwardRef)((W,Y)=>{const{asChild:ee,...S}=W,B=ee?u.g7:d;return(0,p.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,p.createElement)(B,(0,M.Z)({},S,{ref:Y}))});return L.displayName=`Primitive.${d}`,{...k,[d]:L}},{});function R(k,d){k&&(0,f.flushSync)(()=>k.dispatchEvent(d))}},4801:function(Q,z,o){o.d(z,{g7:function(){return u}});var M=o(11),p=o(9787),f=o(9335);const u=(0,p.forwardRef)((L,W)=>{const{children:Y,...ee}=L,S=p.Children.toArray(Y),B=S.find(k);if(B){const he=B.props.children,ge=S.map(ve=>ve===B?p.Children.count(he)>1?p.Children.only(null):(0,p.isValidElement)(he)?he.props.children:null:ve);return(0,p.createElement)(E,(0,M.Z)({},ee,{ref:W}),(0,p.isValidElement)(he)?(0,p.cloneElement)(he,void 0,ge):null)}return(0,p.createElement)(E,(0,M.Z)({},ee,{ref:W}),Y)});u.displayName="Slot";const E=(0,p.forwardRef)((L,W)=>{const{children:Y,...ee}=L;return(0,p.isValidElement)(Y)?(0,p.cloneElement)(Y,{...d(ee,Y.props),ref:(0,f.F)(W,Y.ref)}):p.Children.count(Y)>1?p.Children.only(null):null});E.displayName="SlotClone";const R=({children:L})=>(0,p.createElement)(p.Fragment,null,L);function k(L){return(0,p.isValidElement)(L)&&L.type===R}function d(L,W){const Y={...W};for(const ee in W){const S=L[ee],B=W[ee];/^on[A-Z]/.test(ee)?S&&B?Y[ee]=(...he)=>{B(...he),S(...he)}:S&&(Y[ee]=S):ee==="style"?Y[ee]={...S,...B}:ee==="className"&&(Y[ee]=[S,B].filter(Boolean).join(" "))}return{...L,...Y}}},3060:function(Q,z,o){o.d(z,{W:function(){return p}});var M=o(9787);function p(f){const u=(0,M.useRef)(f);return(0,M.useEffect)(()=>{u.current=f}),(0,M.useMemo)(()=>(...E)=>{var R;return(R=u.current)===null||R===void 0?void 0:R.call(u,...E)},[])}},2673:function(Q,z,o){o.d(z,{T:function(){return f}});var M=o(9787),p=o(3060);function f({prop:u,defaultProp:E,onChange:R=()=>{}}){const[k,d]=function({defaultProp:ee,onChange:S}){const B=(0,M.useState)(ee),[he]=B,ge=(0,M.useRef)(he),ve=(0,p.W)(S);return(0,M.useEffect)(()=>{ge.current!==he&&(ve(he),ge.current=he)},[he,ge,ve]),B}({defaultProp:E,onChange:R}),L=u!==void 0,W=L?u:k,Y=(0,p.W)(R);return[W,(0,M.useCallback)(ee=>{if(L){const S=ee,B=typeof ee=="function"?S(u):ee;B!==u&&Y(B)}else d(ee)},[L,u,d,Y])]}},3348:function(Q,z,o){o.d(z,{b:function(){return p}});var M=o(9787);const p=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{}},45:function(Q,z,o){function M(f){var u,E,R="";if(typeof f=="string"||typeof f=="number")R+=f;else if(typeof f=="object")if(Array.isArray(f))for(u=0;u<f.length;u++)f[u]&&(E=M(f[u]))&&(R&&(R+=" "),R+=E);else for(u in f)f[u]&&(R&&(R+=" "),R+=u);return R}function p(){for(var f,u,E=0,R="";E<arguments.length;)(f=arguments[E++])&&(u=M(f))&&(R&&(R+=" "),R+=u);return R}o.d(z,{Z:function(){return p}})},6233:function(Q,z){var o;o=function(M){M.version="0.3.0";var p=function(){for(var E=0,R=new Array(256),k=0;k!=256;++k)E=1&(E=1&(E=1&(E=1&(E=1&(E=1&(E=1&(E=1&(E=k)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1)?-306674912^E>>>1:E>>>1,R[k]=E;return typeof Int32Array<"u"?new Int32Array(R):R}(),f=typeof Buffer<"u";function u(E){for(var R=-1,k=0,d=E.length-7;k<d;)R=(R=(R=(R=(R=(R=(R=(R=R>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])];for(;k<d+7;)R=R>>>8^p[255&(R^E[k++])];return-1^R}M.table=p,M.bstr=function(E){if(E.length>32768&&f)return u(new Buffer(E));for(var R=-1,k=E.length-1,d=0;d<k;)R=p[255&(R^E.charCodeAt(d++))]^R>>>8,R=p[255&(R^E.charCodeAt(d++))]^R>>>8;return d===k&&(R=R>>>8^p[255&(R^E.charCodeAt(d))]),-1^R},M.buf=function(E){if(E.length>1e4)return u(E);for(var R=-1,k=0,d=E.length-3;k<d;)R=(R=(R=(R=R>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])])>>>8^p[255&(R^E[k++])];for(;k<d+3;)R=R>>>8^p[255&(R^E[k++])];return-1^R},M.str=function(E){for(var R,k,d=-1,L=0,W=E.length;L<W;)(R=E.charCodeAt(L++))<128?d=d>>>8^p[255&(d^R)]:R<2048?d=(d=d>>>8^p[255&(d^(192|R>>6&31))])>>>8^p[255&(d^(128|63&R))]:R>=55296&&R<57344?(R=64+(1023&R),k=1023&E.charCodeAt(L++),d=(d=(d=(d=d>>>8^p[255&(d^(240|R>>8&7))])>>>8^p[255&(d^(128|R>>2&63))])>>>8^p[255&(d^(128|k>>6&15|3&R))])>>>8^p[255&(d^(128|63&k))]):d=(d=(d=d>>>8^p[255&(d^(224|R>>12&15))])>>>8^p[255&(d^(128|R>>6&63))])>>>8^p[255&(d^(128|63&R))];return-1^d}},o(typeof DO_NOT_EXPORT_CRC>"u"?z:{})},200:function(Q,z,o){var M="Expected a function",p=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,E=/^0o[0-7]+$/i,R=parseInt,k=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,d=typeof self=="object"&&self&&self.Object===Object&&self,L=k||d||Function("return this")(),W=Object.prototype.toString,Y=Math.max,ee=Math.min,S=function(){return L.Date.now()};function B(ve,me,le){var N,oe,O,I,A,C,U=0,y=!1,T=!1,s=!0;if(typeof ve!="function")throw new TypeError(M);function D(V){var F=N,Z=oe;return N=oe=void 0,U=V,I=ve.apply(Z,F)}function b(V){return U=V,A=setTimeout(x,me),y?D(V):I}function v(V){var F=V-C;return C===void 0||F>=me||F<0||T&&V-U>=O}function x(){var V=S();if(v(V))return j(V);A=setTimeout(x,function(F){var Z=me-(F-C);return T?ee(Z,O-(F-U)):Z}(V))}function j(V){return A=void 0,s&&N?D(V):(N=oe=void 0,I)}function te(){var V=S(),F=v(V);if(N=arguments,oe=this,C=V,F){if(A===void 0)return b(C);if(T)return A=setTimeout(x,me),D(C)}return A===void 0&&(A=setTimeout(x,me)),I}return me=ge(me)||0,he(le)&&(y=!!le.leading,O=(T="maxWait"in le)?Y(ge(le.maxWait)||0,me):O,s="trailing"in le?!!le.trailing:s),te.cancel=function(){A!==void 0&&clearTimeout(A),U=0,N=C=oe=A=void 0},te.flush=function(){return A===void 0?I:j(S())},te}function he(ve){var me=typeof ve;return!!ve&&(me=="object"||me=="function")}function ge(ve){if(typeof ve=="number")return ve;if(function(N){return typeof N=="symbol"||function(oe){return!!oe&&typeof oe=="object"}(N)&&W.call(N)=="[object Symbol]"}(ve))return NaN;if(he(ve)){var me=typeof ve.valueOf=="function"?ve.valueOf():ve;ve=he(me)?me+"":me}if(typeof ve!="string")return ve===0?ve:+ve;ve=ve.replace(p,"");var le=u.test(ve);return le||E.test(ve)?R(ve.slice(2),le?2:8):f.test(ve)?NaN:+ve}Q.exports=function(ve,me,le){var N=!0,oe=!0;if(typeof ve!="function")throw new TypeError(M);return he(le)&&(N="leading"in le?!!le.leading:N,oe="trailing"in le?!!le.trailing:oe),B(ve,me,{leading:N,maxWait:me,trailing:oe})}},2744:function(Q,z,o){var M={};(0,o(9187).assign)(M,o(4395),o(578),o(2684)),Q.exports=M},4395:function(Q,z,o){var M=o(6193),p=o(9187),f=o(8592),u=o(5604),E=o(249),R=Object.prototype.toString;function k(L){if(!(this instanceof k))return new k(L);this.options=p.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},L||{});var W=this.options;W.raw&&W.windowBits>0?W.windowBits=-W.windowBits:W.gzip&&W.windowBits>0&&W.windowBits<16&&(W.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var Y=M.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(Y!==0)throw new Error(u[Y]);if(W.header&&M.deflateSetHeader(this.strm,W.header),W.dictionary){var ee;if(ee=typeof W.dictionary=="string"?f.string2buf(W.dictionary):R.call(W.dictionary)==="[object ArrayBuffer]"?new Uint8Array(W.dictionary):W.dictionary,(Y=M.deflateSetDictionary(this.strm,ee))!==0)throw new Error(u[Y]);this._dict_set=!0}}function d(L,W){var Y=new k(W);if(Y.push(L,!0),Y.err)throw Y.msg||u[Y.err];return Y.result}k.prototype.push=function(L,W){var Y,ee,S=this.strm,B=this.options.chunkSize;if(this.ended)return!1;ee=W===~~W?W:W===!0?4:0,typeof L=="string"?S.input=f.string2buf(L):R.call(L)==="[object ArrayBuffer]"?S.input=new Uint8Array(L):S.input=L,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new p.Buf8(B),S.next_out=0,S.avail_out=B),(Y=M.deflate(S,ee))!==1&&Y!==0)return this.onEnd(Y),this.ended=!0,!1;S.avail_out!==0&&(S.avail_in!==0||ee!==4&&ee!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(p.shrinkBuf(S.output,S.next_out))):this.onData(p.shrinkBuf(S.output,S.next_out)))}while((S.avail_in>0||S.avail_out===0)&&Y!==1);return ee===4?(Y=M.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===0):ee!==2||(this.onEnd(0),S.avail_out=0,!0)},k.prototype.onData=function(L){this.chunks.push(L)},k.prototype.onEnd=function(L){L===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},z.Deflate=k,z.deflate=d,z.deflateRaw=function(L,W){return(W=W||{}).raw=!0,d(L,W)},z.gzip=function(L,W){return(W=W||{}).gzip=!0,d(L,W)}},578:function(Q,z,o){var M=o(7823),p=o(9187),f=o(8592),u=o(2684),E=o(5604),R=o(249),k=o(9968),d=Object.prototype.toString;function L(Y){if(!(this instanceof L))return new L(Y);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},Y||{});var ee=this.options;ee.raw&&ee.windowBits>=0&&ee.windowBits<16&&(ee.windowBits=-ee.windowBits,ee.windowBits===0&&(ee.windowBits=-15)),!(ee.windowBits>=0&&ee.windowBits<16)||Y&&Y.windowBits||(ee.windowBits+=32),ee.windowBits>15&&ee.windowBits<48&&!(15&ee.windowBits)&&(ee.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var S=M.inflateInit2(this.strm,ee.windowBits);if(S!==u.Z_OK)throw new Error(E[S]);if(this.header=new k,M.inflateGetHeader(this.strm,this.header),ee.dictionary&&(typeof ee.dictionary=="string"?ee.dictionary=f.string2buf(ee.dictionary):d.call(ee.dictionary)==="[object ArrayBuffer]"&&(ee.dictionary=new Uint8Array(ee.dictionary)),ee.raw&&(S=M.inflateSetDictionary(this.strm,ee.dictionary))!==u.Z_OK))throw new Error(E[S])}function W(Y,ee){var S=new L(ee);if(S.push(Y,!0),S.err)throw S.msg||E[S.err];return S.result}L.prototype.push=function(Y,ee){var S,B,he,ge,ve,me=this.strm,le=this.options.chunkSize,N=this.options.dictionary,oe=!1;if(this.ended)return!1;B=ee===~~ee?ee:ee===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof Y=="string"?me.input=f.binstring2buf(Y):d.call(Y)==="[object ArrayBuffer]"?me.input=new Uint8Array(Y):me.input=Y,me.next_in=0,me.avail_in=me.input.length;do{if(me.avail_out===0&&(me.output=new p.Buf8(le),me.next_out=0,me.avail_out=le),(S=M.inflate(me,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&N&&(S=M.inflateSetDictionary(this.strm,N)),S===u.Z_BUF_ERROR&&oe===!0&&(S=u.Z_OK,oe=!1),S!==u.Z_STREAM_END&&S!==u.Z_OK)return this.onEnd(S),this.ended=!0,!1;me.next_out&&(me.avail_out!==0&&S!==u.Z_STREAM_END&&(me.avail_in!==0||B!==u.Z_FINISH&&B!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(he=f.utf8border(me.output,me.next_out),ge=me.next_out-he,ve=f.buf2string(me.output,he),me.next_out=ge,me.avail_out=le-ge,ge&&p.arraySet(me.output,me.output,he,ge,0),this.onData(ve)):this.onData(p.shrinkBuf(me.output,me.next_out)))),me.avail_in===0&&me.avail_out===0&&(oe=!0)}while((me.avail_in>0||me.avail_out===0)&&S!==u.Z_STREAM_END);return S===u.Z_STREAM_END&&(B=u.Z_FINISH),B===u.Z_FINISH?(S=M.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===u.Z_OK):B!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),me.avail_out=0,!0)},L.prototype.onData=function(Y){this.chunks.push(Y)},L.prototype.onEnd=function(Y){Y===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=Y,this.msg=this.strm.msg},z.Inflate=L,z.inflate=W,z.inflateRaw=function(Y,ee){return(ee=ee||{}).raw=!0,W(Y,ee)},z.ungzip=W},9187:function(Q,z){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function M(u,E){return Object.prototype.hasOwnProperty.call(u,E)}z.assign=function(u){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var R=E.shift();if(R){if(typeof R!="object")throw new TypeError(R+"must be non-object");for(var k in R)M(R,k)&&(u[k]=R[k])}}return u},z.shrinkBuf=function(u,E){return u.length===E?u:u.subarray?u.subarray(0,E):(u.length=E,u)};var p={arraySet:function(u,E,R,k,d){if(E.subarray&&u.subarray)u.set(E.subarray(R,R+k),d);else for(var L=0;L<k;L++)u[d+L]=E[R+L]},flattenChunks:function(u){var E,R,k,d,L,W;for(k=0,E=0,R=u.length;E<R;E++)k+=u[E].length;for(W=new Uint8Array(k),d=0,E=0,R=u.length;E<R;E++)L=u[E],W.set(L,d),d+=L.length;return W}},f={arraySet:function(u,E,R,k,d){for(var L=0;L<k;L++)u[d+L]=E[R+L]},flattenChunks:function(u){return[].concat.apply([],u)}};z.setTyped=function(u){u?(z.Buf8=Uint8Array,z.Buf16=Uint16Array,z.Buf32=Int32Array,z.assign(z,p)):(z.Buf8=Array,z.Buf16=Array,z.Buf32=Array,z.assign(z,f))},z.setTyped(o)},8592:function(Q,z,o){var M=o(9187),p=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var u=new M.Buf8(256),E=0;E<256;E++)u[E]=E>=252?6:E>=248?5:E>=240?4:E>=224?3:E>=192?2:1;function R(k,d){if(d<65534&&(k.subarray&&f||!k.subarray&&p))return String.fromCharCode.apply(null,M.shrinkBuf(k,d));for(var L="",W=0;W<d;W++)L+=String.fromCharCode(k[W]);return L}u[254]=u[254]=1,z.string2buf=function(k){var d,L,W,Y,ee,S=k.length,B=0;for(Y=0;Y<S;Y++)(64512&(L=k.charCodeAt(Y)))==55296&&Y+1<S&&(64512&(W=k.charCodeAt(Y+1)))==56320&&(L=65536+(L-55296<<10)+(W-56320),Y++),B+=L<128?1:L<2048?2:L<65536?3:4;for(d=new M.Buf8(B),ee=0,Y=0;ee<B;Y++)(64512&(L=k.charCodeAt(Y)))==55296&&Y+1<S&&(64512&(W=k.charCodeAt(Y+1)))==56320&&(L=65536+(L-55296<<10)+(W-56320),Y++),L<128?d[ee++]=L:L<2048?(d[ee++]=192|L>>>6,d[ee++]=128|63&L):L<65536?(d[ee++]=224|L>>>12,d[ee++]=128|L>>>6&63,d[ee++]=128|63&L):(d[ee++]=240|L>>>18,d[ee++]=128|L>>>12&63,d[ee++]=128|L>>>6&63,d[ee++]=128|63&L);return d},z.buf2binstring=function(k){return R(k,k.length)},z.binstring2buf=function(k){for(var d=new M.Buf8(k.length),L=0,W=d.length;L<W;L++)d[L]=k.charCodeAt(L);return d},z.buf2string=function(k,d){var L,W,Y,ee,S=d||k.length,B=new Array(2*S);for(W=0,L=0;L<S;)if((Y=k[L++])<128)B[W++]=Y;else if((ee=u[Y])>4)B[W++]=65533,L+=ee-1;else{for(Y&=ee===2?31:ee===3?15:7;ee>1&&L<S;)Y=Y<<6|63&k[L++],ee--;ee>1?B[W++]=65533:Y<65536?B[W++]=Y:(Y-=65536,B[W++]=55296|Y>>10&1023,B[W++]=56320|1023&Y)}return R(B,W)},z.utf8border=function(k,d){var L;for((d=d||k.length)>k.length&&(d=k.length),L=d-1;L>=0&&(192&k[L])==128;)L--;return L<0||L===0?d:L+u[k[L]]>d?L:d}},3693:function(Q){Q.exports=function(z,o,M,p){for(var f=65535&z|0,u=z>>>16&65535|0,E=0;M!==0;){M-=E=M>2e3?2e3:M;do u=u+(f=f+o[p++]|0)|0;while(--E);f%=65521,u%=65521}return f|u<<16|0}},2684:function(Q){Q.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(Q){var z=function(){for(var o,M=[],p=0;p<256;p++){o=p;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;M[p]=o}return M}();Q.exports=function(o,M,p,f){var u=z,E=f+p;o^=-1;for(var R=f;R<E;R++)o=o>>>8^u[255&(o^M[R])];return-1^o}},6193:function(Q,z,o){var M,p=o(9187),f=o(8676),u=o(3693),E=o(8464),R=o(5604),k=-2,d=258,L=262,W=103,Y=113,ee=666;function S(s,D){return s.msg=R[D],D}function B(s){return(s<<1)-(s>4?9:0)}function he(s){for(var D=s.length;--D>=0;)s[D]=0}function ge(s){var D=s.state,b=D.pending;b>s.avail_out&&(b=s.avail_out),b!==0&&(p.arraySet(s.output,D.pending_buf,D.pending_out,b,s.next_out),s.next_out+=b,D.pending_out+=b,s.total_out+=b,s.avail_out-=b,D.pending-=b,D.pending===0&&(D.pending_out=0))}function ve(s,D){f._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,D),s.block_start=s.strstart,ge(s.strm)}function me(s,D){s.pending_buf[s.pending++]=D}function le(s,D){s.pending_buf[s.pending++]=D>>>8&255,s.pending_buf[s.pending++]=255&D}function N(s,D){var b,v,x=s.max_chain_length,j=s.strstart,te=s.prev_length,V=s.nice_match,F=s.strstart>s.w_size-L?s.strstart-(s.w_size-L):0,Z=s.window,ne=s.w_mask,ce=s.prev,Se=s.strstart+d,de=Z[j+te-1],_e=Z[j+te];s.prev_length>=s.good_match&&(x>>=2),V>s.lookahead&&(V=s.lookahead);do if(Z[(b=D)+te]===_e&&Z[b+te-1]===de&&Z[b]===Z[j]&&Z[++b]===Z[j+1]){j+=2,b++;do;while(Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&Z[++j]===Z[++b]&&j<Se);if(v=d-(Se-j),j=Se-d,v>te){if(s.match_start=D,te=v,v>=V)break;de=Z[j+te-1],_e=Z[j+te]}}while((D=ce[D&ne])>F&&--x!=0);return te<=s.lookahead?te:s.lookahead}function oe(s){var D,b,v,x,j,te,V,F,Z,ne,ce=s.w_size;do{if(x=s.window_size-s.lookahead-s.strstart,s.strstart>=ce+(ce-L)){p.arraySet(s.window,s.window,ce,ce,0),s.match_start-=ce,s.strstart-=ce,s.block_start-=ce,D=b=s.hash_size;do v=s.head[--D],s.head[D]=v>=ce?v-ce:0;while(--b);D=b=ce;do v=s.prev[--D],s.prev[D]=v>=ce?v-ce:0;while(--b);x+=ce}if(s.strm.avail_in===0)break;if(te=s.strm,V=s.window,F=s.strstart+s.lookahead,Z=x,ne=void 0,(ne=te.avail_in)>Z&&(ne=Z),b=ne===0?0:(te.avail_in-=ne,p.arraySet(V,te.input,te.next_in,ne,F),te.state.wrap===1?te.adler=u(te.adler,V,ne,F):te.state.wrap===2&&(te.adler=E(te.adler,V,ne,F)),te.next_in+=ne,te.total_in+=ne,ne),s.lookahead+=b,s.lookahead+s.insert>=3)for(j=s.strstart-s.insert,s.ins_h=s.window[j],s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[j+3-1])&s.hash_mask,s.prev[j&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=j,j++,s.insert--,!(s.lookahead+s.insert<3)););}while(s.lookahead<L&&s.strm.avail_in!==0)}function O(s,D){for(var b,v;;){if(s.lookahead<L){if(oe(s),s.lookahead<L&&D===0)return 1;if(s.lookahead===0)break}if(b=0,s.lookahead>=3&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,b=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),b!==0&&s.strstart-b<=s.w_size-L&&(s.match_length=N(s,b)),s.match_length>=3)if(v=f._tr_tally(s,s.strstart-s.match_start,s.match_length-3),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=3){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,b=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(--s.match_length!=0);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else v=f._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(v&&(ve(s,!1),s.strm.avail_out===0))return 1}return s.insert=s.strstart<2?s.strstart:2,D===4?(ve(s,!0),s.strm.avail_out===0?3:4):s.last_lit&&(ve(s,!1),s.strm.avail_out===0)?1:2}function I(s,D){for(var b,v,x;;){if(s.lookahead<L){if(oe(s),s.lookahead<L&&D===0)return 1;if(s.lookahead===0)break}if(b=0,s.lookahead>=3&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,b=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=2,b!==0&&s.prev_length<s.max_lazy_match&&s.strstart-b<=s.w_size-L&&(s.match_length=N(s,b),s.match_length<=5&&(s.strategy===1||s.match_length===3&&s.strstart-s.match_start>4096)&&(s.match_length=2)),s.prev_length>=3&&s.match_length<=s.prev_length){x=s.strstart+s.lookahead-3,v=f._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-3),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=x&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+3-1])&s.hash_mask,b=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(--s.prev_length!=0);if(s.match_available=0,s.match_length=2,s.strstart++,v&&(ve(s,!1),s.strm.avail_out===0))return 1}else if(s.match_available){if((v=f._tr_tally(s,0,s.window[s.strstart-1]))&&ve(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(v=f._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<2?s.strstart:2,D===4?(ve(s,!0),s.strm.avail_out===0?3:4):s.last_lit&&(ve(s,!1),s.strm.avail_out===0)?1:2}function A(s,D,b,v,x){this.good_length=s,this.max_lazy=D,this.nice_length=b,this.max_chain=v,this.func=x}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(1146),this.dyn_dtree=new p.Buf16(122),this.bl_tree=new p.Buf16(78),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(16),this.heap=new p.Buf16(573),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(573),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(s){var D;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=2,(D=s.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?42:Y,s.adler=D.wrap===2?0:1,D.last_flush=0,f._tr_init(D),0):S(s,k)}function y(s){var D,b=U(s);return b===0&&((D=s.state).window_size=2*D.w_size,he(D.head),D.max_lazy_match=M[D.level].max_lazy,D.good_match=M[D.level].good_length,D.nice_match=M[D.level].nice_length,D.max_chain_length=M[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=2,D.match_available=0,D.ins_h=0),b}function T(s,D,b,v,x,j){if(!s)return k;var te=1;if(D===-1&&(D=6),v<0?(te=0,v=-v):v>15&&(te=2,v-=16),x<1||x>9||b!==8||v<8||v>15||D<0||D>9||j<0||j>4)return S(s,k);v===8&&(v=9);var V=new C;return s.state=V,V.strm=s,V.wrap=te,V.gzhead=null,V.w_bits=v,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=x+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+3-1)/3),V.window=new p.Buf8(2*V.w_size),V.head=new p.Buf16(V.hash_size),V.prev=new p.Buf16(V.w_size),V.lit_bufsize=1<<x+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new p.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=D,V.strategy=j,V.method=b,y(s)}M=[new A(0,0,0,0,function(s,D){var b=65535;for(b>s.pending_buf_size-5&&(b=s.pending_buf_size-5);;){if(s.lookahead<=1){if(oe(s),s.lookahead===0&&D===0)return 1;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var v=s.block_start+b;if((s.strstart===0||s.strstart>=v)&&(s.lookahead=s.strstart-v,s.strstart=v,ve(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-L&&(ve(s,!1),s.strm.avail_out===0))return 1}return s.insert=0,D===4?(ve(s,!0),s.strm.avail_out===0?3:4):(s.strstart>s.block_start&&(ve(s,!1),s.strm.avail_out),1)}),new A(4,4,8,4,O),new A(4,5,16,8,O),new A(4,6,32,32,O),new A(4,4,16,16,I),new A(8,16,32,32,I),new A(8,16,128,128,I),new A(8,32,128,256,I),new A(32,128,258,1024,I),new A(32,258,258,4096,I)],z.deflateInit=function(s,D){return T(s,D,8,15,8,0)},z.deflateInit2=T,z.deflateReset=y,z.deflateResetKeep=U,z.deflateSetHeader=function(s,D){return s&&s.state?s.state.wrap!==2?k:(s.state.gzhead=D,0):k},z.deflate=function(s,D){var b,v,x,j;if(!s||!s.state||D>5||D<0)return s?S(s,k):k;if(v=s.state,!s.output||!s.input&&s.avail_in!==0||v.status===ee&&D!==4)return S(s,s.avail_out===0?-5:k);if(v.strm=s,b=v.last_flush,v.last_flush=D,v.status===42)if(v.wrap===2)s.adler=0,me(v,31),me(v,139),me(v,8),v.gzhead?(me(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),me(v,255&v.gzhead.time),me(v,v.gzhead.time>>8&255),me(v,v.gzhead.time>>16&255),me(v,v.gzhead.time>>24&255),me(v,v.level===9?2:v.strategy>=2||v.level<2?4:0),me(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(me(v,255&v.gzhead.extra.length),me(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(s.adler=E(s.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(me(v,0),me(v,0),me(v,0),me(v,0),me(v,0),me(v,v.level===9?2:v.strategy>=2||v.level<2?4:0),me(v,3),v.status=Y);else{var te=8+(v.w_bits-8<<4)<<8;te|=(v.strategy>=2||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(te|=32),te+=31-te%31,v.status=Y,le(v,te),v.strstart!==0&&(le(v,s.adler>>>16),le(v,65535&s.adler)),s.adler=1}if(v.status===69)if(v.gzhead.extra){for(x=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),ge(s),x=v.pending,v.pending!==v.pending_buf_size));)me(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),ge(s),x=v.pending,v.pending===v.pending_buf_size)){j=1;break}j=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,me(v,j)}while(j!==0);v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),j===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){x=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),ge(s),x=v.pending,v.pending===v.pending_buf_size)){j=1;break}j=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,me(v,j)}while(j!==0);v.gzhead.hcrc&&v.pending>x&&(s.adler=E(s.adler,v.pending_buf,v.pending-x,x)),j===0&&(v.status=W)}else v.status=W;if(v.status===W&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&ge(s),v.pending+2<=v.pending_buf_size&&(me(v,255&s.adler),me(v,s.adler>>8&255),s.adler=0,v.status=Y)):v.status=Y),v.pending!==0){if(ge(s),s.avail_out===0)return v.last_flush=-1,0}else if(s.avail_in===0&&B(D)<=B(b)&&D!==4)return S(s,-5);if(v.status===ee&&s.avail_in!==0)return S(s,-5);if(s.avail_in!==0||v.lookahead!==0||D!==0&&v.status!==ee){var V=v.strategy===2?function(F,Z){for(var ne;;){if(F.lookahead===0&&(oe(F),F.lookahead===0)){if(Z===0)return 1;break}if(F.match_length=0,ne=f._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,ne&&(ve(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Z===4?(ve(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(ve(F,!1),F.strm.avail_out===0)?1:2}(v,D):v.strategy===3?function(F,Z){for(var ne,ce,Se,de,_e=F.window;;){if(F.lookahead<=d){if(oe(F),F.lookahead<=d&&Z===0)return 1;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=3&&F.strstart>0&&(ce=_e[Se=F.strstart-1])===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]){de=F.strstart+d;do;while(ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&ce===_e[++Se]&&Se<de);F.match_length=d-(de-Se),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=3?(ne=f._tr_tally(F,1,F.match_length-3),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(ne=f._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),ne&&(ve(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Z===4?(ve(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(ve(F,!1),F.strm.avail_out===0)?1:2}(v,D):M[v.level].func(v,D);if(V!==3&&V!==4||(v.status=ee),V===1||V===3)return s.avail_out===0&&(v.last_flush=-1),0;if(V===2&&(D===1?f._tr_align(v):D!==5&&(f._tr_stored_block(v,0,0,!1),D===3&&(he(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),ge(s),s.avail_out===0))return v.last_flush=-1,0}return D!==4?0:v.wrap<=0?1:(v.wrap===2?(me(v,255&s.adler),me(v,s.adler>>8&255),me(v,s.adler>>16&255),me(v,s.adler>>24&255),me(v,255&s.total_in),me(v,s.total_in>>8&255),me(v,s.total_in>>16&255),me(v,s.total_in>>24&255)):(le(v,s.adler>>>16),le(v,65535&s.adler)),ge(s),v.wrap>0&&(v.wrap=-v.wrap),v.pending!==0?0:1)},z.deflateEnd=function(s){var D;return s&&s.state?(D=s.state.status)!==42&&D!==69&&D!==73&&D!==91&&D!==W&&D!==Y&&D!==ee?S(s,k):(s.state=null,D===Y?S(s,-3):0):k},z.deflateSetDictionary=function(s,D){var b,v,x,j,te,V,F,Z,ne=D.length;if(!s||!s.state||(j=(b=s.state).wrap)===2||j===1&&b.status!==42||b.lookahead)return k;for(j===1&&(s.adler=u(s.adler,D,ne,0)),b.wrap=0,ne>=b.w_size&&(j===0&&(he(b.head),b.strstart=0,b.block_start=0,b.insert=0),Z=new p.Buf8(b.w_size),p.arraySet(Z,D,ne-b.w_size,b.w_size,0),D=Z,ne=b.w_size),te=s.avail_in,V=s.next_in,F=s.input,s.avail_in=ne,s.next_in=0,s.input=D,oe(b);b.lookahead>=3;){v=b.strstart,x=b.lookahead-2;do b.ins_h=(b.ins_h<<b.hash_shift^b.window[v+3-1])&b.hash_mask,b.prev[v&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=v,v++;while(--x);b.strstart=v,b.lookahead=2,oe(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=2,b.match_available=0,s.next_in=V,s.input=F,s.avail_in=te,b.wrap=j,0},z.deflateInfo="pako deflate (from Nodeca project)"},9968:function(Q){Q.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(Q){Q.exports=function(z,o){var M,p,f,u,E,R,k,d,L,W,Y,ee,S,B,he,ge,ve,me,le,N,oe,O,I,A,C;M=z.state,p=z.next_in,A=z.input,f=p+(z.avail_in-5),u=z.next_out,C=z.output,E=u-(o-z.avail_out),R=u+(z.avail_out-257),k=M.dmax,d=M.wsize,L=M.whave,W=M.wnext,Y=M.window,ee=M.hold,S=M.bits,B=M.lencode,he=M.distcode,ge=(1<<M.lenbits)-1,ve=(1<<M.distbits)-1;e:do{S<15&&(ee+=A[p++]<<S,S+=8,ee+=A[p++]<<S,S+=8),me=B[ee&ge];t:for(;;){if(ee>>>=le=me>>>24,S-=le,(le=me>>>16&255)===0)C[u++]=65535&me;else{if(!(16&le)){if(!(64&le)){me=B[(65535&me)+(ee&(1<<le)-1)];continue t}if(32&le){M.mode=12;break e}z.msg="invalid literal/length code",M.mode=30;break e}N=65535&me,(le&=15)&&(S<le&&(ee+=A[p++]<<S,S+=8),N+=ee&(1<<le)-1,ee>>>=le,S-=le),S<15&&(ee+=A[p++]<<S,S+=8,ee+=A[p++]<<S,S+=8),me=he[ee&ve];n:for(;;){if(ee>>>=le=me>>>24,S-=le,!(16&(le=me>>>16&255))){if(!(64&le)){me=he[(65535&me)+(ee&(1<<le)-1)];continue n}z.msg="invalid distance code",M.mode=30;break e}if(oe=65535&me,S<(le&=15)&&(ee+=A[p++]<<S,(S+=8)<le&&(ee+=A[p++]<<S,S+=8)),(oe+=ee&(1<<le)-1)>k){z.msg="invalid distance too far back",M.mode=30;break e}if(ee>>>=le,S-=le,oe>(le=u-E)){if((le=oe-le)>L&&M.sane){z.msg="invalid distance too far back",M.mode=30;break e}if(O=0,I=Y,W===0){if(O+=d-le,le<N){N-=le;do C[u++]=Y[O++];while(--le);O=u-oe,I=C}}else if(W<le){if(O+=d+W-le,(le-=W)<N){N-=le;do C[u++]=Y[O++];while(--le);if(O=0,W<N){N-=le=W;do C[u++]=Y[O++];while(--le);O=u-oe,I=C}}}else if(O+=W-le,le<N){N-=le;do C[u++]=Y[O++];while(--le);O=u-oe,I=C}for(;N>2;)C[u++]=I[O++],C[u++]=I[O++],C[u++]=I[O++],N-=3;N&&(C[u++]=I[O++],N>1&&(C[u++]=I[O++]))}else{O=u-oe;do C[u++]=C[O++],C[u++]=C[O++],C[u++]=C[O++],N-=3;while(N>2);N&&(C[u++]=C[O++],N>1&&(C[u++]=C[O++]))}break}}break}}while(p<f&&u<R);p-=N=S>>3,ee&=(1<<(S-=N<<3))-1,z.next_in=p,z.next_out=u,z.avail_in=p<f?f-p+5:5-(p-f),z.avail_out=u<R?R-u+257:257-(u-R),M.hold=ee,M.bits=S}},7823:function(Q,z,o){var M=o(9187),p=o(3693),f=o(8464),u=o(9365),E=o(6446),R=-2,k=12,d=30;function L(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function W(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new M.Buf16(320),this.work=new M.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Y(N){var oe;return N&&N.state?(oe=N.state,N.total_in=N.total_out=oe.total=0,N.msg="",oe.wrap&&(N.adler=1&oe.wrap),oe.mode=1,oe.last=0,oe.havedict=0,oe.dmax=32768,oe.head=null,oe.hold=0,oe.bits=0,oe.lencode=oe.lendyn=new M.Buf32(852),oe.distcode=oe.distdyn=new M.Buf32(592),oe.sane=1,oe.back=-1,0):R}function ee(N){var oe;return N&&N.state?((oe=N.state).wsize=0,oe.whave=0,oe.wnext=0,Y(N)):R}function S(N,oe){var O,I;return N&&N.state?(I=N.state,oe<0?(O=0,oe=-oe):(O=1+(oe>>4),oe<48&&(oe&=15)),oe&&(oe<8||oe>15)?R:(I.window!==null&&I.wbits!==oe&&(I.window=null),I.wrap=O,I.wbits=oe,ee(N))):R}function B(N,oe){var O,I;return N?(I=new W,N.state=I,I.window=null,(O=S(N,oe))!==0&&(N.state=null),O):R}var he,ge,ve=!0;function me(N){if(ve){var oe;for(he=new M.Buf32(512),ge=new M.Buf32(32),oe=0;oe<144;)N.lens[oe++]=8;for(;oe<256;)N.lens[oe++]=9;for(;oe<280;)N.lens[oe++]=7;for(;oe<288;)N.lens[oe++]=8;for(E(1,N.lens,0,288,he,0,N.work,{bits:9}),oe=0;oe<32;)N.lens[oe++]=5;E(2,N.lens,0,32,ge,0,N.work,{bits:5}),ve=!1}N.lencode=he,N.lenbits=9,N.distcode=ge,N.distbits=5}function le(N,oe,O,I){var A,C=N.state;return C.window===null&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new M.Buf8(C.wsize)),I>=C.wsize?(M.arraySet(C.window,oe,O-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):((A=C.wsize-C.wnext)>I&&(A=I),M.arraySet(C.window,oe,O-I,A,C.wnext),(I-=A)?(M.arraySet(C.window,oe,O-I,I,0),C.wnext=I,C.whave=C.wsize):(C.wnext+=A,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=A))),0}z.inflateReset=ee,z.inflateReset2=S,z.inflateResetKeep=Y,z.inflateInit=function(N){return B(N,15)},z.inflateInit2=B,z.inflate=function(N,oe){var O,I,A,C,U,y,T,s,D,b,v,x,j,te,V,F,Z,ne,ce,Se,de,_e,we,J,xe=0,je=new M.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return R;(O=N.state).mode===k&&(O.mode=13),U=N.next_out,A=N.output,T=N.avail_out,C=N.next_in,I=N.input,y=N.avail_in,s=O.hold,D=O.bits,b=y,v=T,_e=0;e:for(;;)switch(O.mode){case 1:if(O.wrap===0){O.mode=13;break}for(;D<16;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(2&O.wrap&&s===35615){O.check=0,je[0]=255&s,je[1]=s>>>8&255,O.check=f(O.check,je,2,0),s=0,D=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&s)<<8)+(s>>8))%31){N.msg="incorrect header check",O.mode=d;break}if((15&s)!=8){N.msg="unknown compression method",O.mode=d;break}if(D-=4,de=8+(15&(s>>>=4)),O.wbits===0)O.wbits=de;else if(de>O.wbits){N.msg="invalid window size",O.mode=d;break}O.dmax=1<<de,N.adler=O.check=1,O.mode=512&s?10:k,s=0,D=0;break;case 2:for(;D<16;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(O.flags=s,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=d;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=d;break}O.head&&(O.head.text=s>>8&1),512&O.flags&&(je[0]=255&s,je[1]=s>>>8&255,O.check=f(O.check,je,2,0)),s=0,D=0,O.mode=3;case 3:for(;D<32;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.head&&(O.head.time=s),512&O.flags&&(je[0]=255&s,je[1]=s>>>8&255,je[2]=s>>>16&255,je[3]=s>>>24&255,O.check=f(O.check,je,4,0)),s=0,D=0,O.mode=4;case 4:for(;D<16;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.head&&(O.head.xflags=255&s,O.head.os=s>>8),512&O.flags&&(je[0]=255&s,je[1]=s>>>8&255,O.check=f(O.check,je,2,0)),s=0,D=0,O.mode=5;case 5:if(1024&O.flags){for(;D<16;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.length=s,O.head&&(O.head.extra_len=s),512&O.flags&&(je[0]=255&s,je[1]=s>>>8&255,O.check=f(O.check,je,2,0)),s=0,D=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&((x=O.length)>y&&(x=y),x&&(O.head&&(de=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),M.arraySet(O.head.extra,I,C,x,de)),512&O.flags&&(O.check=f(O.check,I,x,C)),y-=x,C+=x,O.length-=x),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(y===0)break e;x=0;do de=I[C+x++],O.head&&de&&O.length<65536&&(O.head.name+=String.fromCharCode(de));while(de&&x<y);if(512&O.flags&&(O.check=f(O.check,I,x,C)),y-=x,C+=x,de)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(y===0)break e;x=0;do de=I[C+x++],O.head&&de&&O.length<65536&&(O.head.comment+=String.fromCharCode(de));while(de&&x<y);if(512&O.flags&&(O.check=f(O.check,I,x,C)),y-=x,C+=x,de)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;D<16;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(s!==(65535&O.check)){N.msg="header crc mismatch",O.mode=d;break}s=0,D=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=k;break;case 10:for(;D<32;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}N.adler=O.check=L(s),s=0,D=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=U,N.avail_out=T,N.next_in=C,N.avail_in=y,O.hold=s,O.bits=D,2;N.adler=O.check=1,O.mode=k;case k:if(oe===5||oe===6)break e;case 13:if(O.last){s>>>=7&D,D-=7&D,O.mode=27;break}for(;D<3;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}switch(O.last=1&s,D-=1,3&(s>>>=1)){case 0:O.mode=14;break;case 1:if(me(O),O.mode=20,oe===6){s>>>=2,D-=2;break e}break;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=d}s>>>=2,D-=2;break;case 14:for(s>>>=7&D,D-=7&D;D<32;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if((65535&s)!=(s>>>16^65535)){N.msg="invalid stored block lengths",O.mode=d;break}if(O.length=65535&s,s=0,D=0,O.mode=15,oe===6)break e;case 15:O.mode=16;case 16:if(x=O.length){if(x>y&&(x=y),x>T&&(x=T),x===0)break e;M.arraySet(A,I,C,x,U),y-=x,C+=x,T-=x,U+=x,O.length-=x;break}O.mode=k;break;case 17:for(;D<14;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(O.nlen=257+(31&s),s>>>=5,D-=5,O.ndist=1+(31&s),s>>>=5,D-=5,O.ncode=4+(15&s),s>>>=4,D-=4,O.nlen>286||O.ndist>30){N.msg="too many length or distance symbols",O.mode=d;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;D<3;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.lens[Ue[O.have++]]=7&s,s>>>=3,D-=3}for(;O.have<19;)O.lens[Ue[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,we={bits:O.lenbits},_e=E(0,O.lens,0,19,O.lencode,0,O.work,we),O.lenbits=we.bits,_e){N.msg="invalid code lengths set",O.mode=d;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;F=(xe=O.lencode[s&(1<<O.lenbits)-1])>>>16&255,Z=65535&xe,!((V=xe>>>24)<=D);){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(Z<16)s>>>=V,D-=V,O.lens[O.have++]=Z;else{if(Z===16){for(J=V+2;D<J;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(s>>>=V,D-=V,O.have===0){N.msg="invalid bit length repeat",O.mode=d;break}de=O.lens[O.have-1],x=3+(3&s),s>>>=2,D-=2}else if(Z===17){for(J=V+3;D<J;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}D-=V,de=0,x=3+(7&(s>>>=V)),s>>>=3,D-=3}else{for(J=V+7;D<J;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}D-=V,de=0,x=11+(127&(s>>>=V)),s>>>=7,D-=7}if(O.have+x>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=d;break}for(;x--;)O.lens[O.have++]=de}}if(O.mode===d)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=d;break}if(O.lenbits=9,we={bits:O.lenbits},_e=E(1,O.lens,0,O.nlen,O.lencode,0,O.work,we),O.lenbits=we.bits,_e){N.msg="invalid literal/lengths set",O.mode=d;break}if(O.distbits=6,O.distcode=O.distdyn,we={bits:O.distbits},_e=E(2,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,we),O.distbits=we.bits,_e){N.msg="invalid distances set",O.mode=d;break}if(O.mode=20,oe===6)break e;case 20:O.mode=21;case 21:if(y>=6&&T>=258){N.next_out=U,N.avail_out=T,N.next_in=C,N.avail_in=y,O.hold=s,O.bits=D,u(N,v),U=N.next_out,A=N.output,T=N.avail_out,C=N.next_in,I=N.input,y=N.avail_in,s=O.hold,D=O.bits,O.mode===k&&(O.back=-1);break}for(O.back=0;F=(xe=O.lencode[s&(1<<O.lenbits)-1])>>>16&255,Z=65535&xe,!((V=xe>>>24)<=D);){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(F&&!(240&F)){for(ne=V,ce=F,Se=Z;F=(xe=O.lencode[Se+((s&(1<<ne+ce)-1)>>ne)])>>>16&255,Z=65535&xe,!(ne+(V=xe>>>24)<=D);){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}s>>>=ne,D-=ne,O.back+=ne}if(s>>>=V,D-=V,O.back+=V,O.length=Z,F===0){O.mode=26;break}if(32&F){O.back=-1,O.mode=k;break}if(64&F){N.msg="invalid literal/length code",O.mode=d;break}O.extra=15&F,O.mode=22;case 22:if(O.extra){for(J=O.extra;D<J;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.length+=s&(1<<O.extra)-1,s>>>=O.extra,D-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;F=(xe=O.distcode[s&(1<<O.distbits)-1])>>>16&255,Z=65535&xe,!((V=xe>>>24)<=D);){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(!(240&F)){for(ne=V,ce=F,Se=Z;F=(xe=O.distcode[Se+((s&(1<<ne+ce)-1)>>ne)])>>>16&255,Z=65535&xe,!(ne+(V=xe>>>24)<=D);){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}s>>>=ne,D-=ne,O.back+=ne}if(s>>>=V,D-=V,O.back+=V,64&F){N.msg="invalid distance code",O.mode=d;break}O.offset=Z,O.extra=15&F,O.mode=24;case 24:if(O.extra){for(J=O.extra;D<J;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}O.offset+=s&(1<<O.extra)-1,s>>>=O.extra,D-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=d;break}O.mode=25;case 25:if(T===0)break e;if(x=v-T,O.offset>x){if((x=O.offset-x)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=d;break}x>O.wnext?(x-=O.wnext,j=O.wsize-x):j=O.wnext-x,x>O.length&&(x=O.length),te=O.window}else te=A,j=U-O.offset,x=O.length;x>T&&(x=T),T-=x,O.length-=x;do A[U++]=te[j++];while(--x);O.length===0&&(O.mode=21);break;case 26:if(T===0)break e;A[U++]=O.length,T--,O.mode=21;break;case 27:if(O.wrap){for(;D<32;){if(y===0)break e;y--,s|=I[C++]<<D,D+=8}if(v-=T,N.total_out+=v,O.total+=v,v&&(N.adler=O.check=O.flags?f(O.check,A,v,U-v):p(O.check,A,v,U-v)),v=T,(O.flags?s:L(s))!==O.check){N.msg="incorrect data check",O.mode=d;break}s=0,D=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;D<32;){if(y===0)break e;y--,s+=I[C++]<<D,D+=8}if(s!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=d;break}s=0,D=0}O.mode=29;case 29:_e=1;break e;case d:_e=-3;break e;case 31:return-4;default:return R}return N.next_out=U,N.avail_out=T,N.next_in=C,N.avail_in=y,O.hold=s,O.bits=D,(O.wsize||v!==N.avail_out&&O.mode<d&&(O.mode<27||oe!==4))&&le(N,N.output,N.next_out,v-N.avail_out)?(O.mode=31,-4):(b-=N.avail_in,v-=N.avail_out,N.total_in+=b,N.total_out+=v,O.total+=v,O.wrap&&v&&(N.adler=O.check=O.flags?f(O.check,A,v,N.next_out-v):p(O.check,A,v,N.next_out-v)),N.data_type=O.bits+(O.last?64:0)+(O.mode===k?128:0)+(O.mode===20||O.mode===15?256:0),(b===0&&v===0||oe===4)&&_e===0&&(_e=-5),_e)},z.inflateEnd=function(N){if(!N||!N.state)return R;var oe=N.state;return oe.window&&(oe.window=null),N.state=null,0},z.inflateGetHeader=function(N,oe){var O;return N&&N.state&&2&(O=N.state).wrap?(O.head=oe,oe.done=!1,0):R},z.inflateSetDictionary=function(N,oe){var O,I=oe.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?R:O.mode===11&&p(1,oe,I,0)!==O.check?-3:le(N,oe,I,I)?(O.mode=31,-4):(O.havedict=1,0):R},z.inflateInfo="pako inflate (from Nodeca project)"},6446:function(Q,z,o){var M=o(9187),p=15,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Q.exports=function(k,d,L,W,Y,ee,S,B){var he,ge,ve,me,le,N,oe,O,I,A=B.bits,C=0,U=0,y=0,T=0,s=0,D=0,b=0,v=0,x=0,j=0,te=null,V=0,F=new M.Buf16(16),Z=new M.Buf16(16),ne=null,ce=0;for(C=0;C<=p;C++)F[C]=0;for(U=0;U<W;U++)F[d[L+U]]++;for(s=A,T=p;T>=1&&F[T]===0;T--);if(s>T&&(s=T),T===0)return Y[ee++]=20971520,Y[ee++]=20971520,B.bits=1,0;for(y=1;y<T&&F[y]===0;y++);for(s<y&&(s=y),v=1,C=1;C<=p;C++)if(v<<=1,(v-=F[C])<0)return-1;if(v>0&&(k===0||T!==1))return-1;for(Z[1]=0,C=1;C<p;C++)Z[C+1]=Z[C]+F[C];for(U=0;U<W;U++)d[L+U]!==0&&(S[Z[d[L+U]]++]=U);if(k===0?(te=ne=S,N=19):k===1?(te=f,V-=257,ne=u,ce-=257,N=256):(te=E,ne=R,N=-1),j=0,U=0,C=y,le=ee,D=s,b=0,ve=-1,me=(x=1<<s)-1,k===1&&x>852||k===2&&x>592)return 1;for(;;){oe=C-b,S[U]<N?(O=0,I=S[U]):S[U]>N?(O=ne[ce+S[U]],I=te[V+S[U]]):(O=96,I=0),he=1<<C-b,y=ge=1<<D;do Y[le+(j>>b)+(ge-=he)]=oe<<24|O<<16|I|0;while(ge!==0);for(he=1<<C-1;j&he;)he>>=1;if(he!==0?(j&=he-1,j+=he):j=0,U++,--F[C]==0){if(C===T)break;C=d[L+S[U]]}if(C>s&&(j&me)!==ve){for(b===0&&(b=s),le+=y,v=1<<(D=C-b);D+b<T&&!((v-=F[D+b])<=0);)D++,v<<=1;if(x+=1<<D,k===1&&x>852||k===2&&x>592)return 1;Y[ve=j&me]=s<<24|D<<16|le-ee|0}}return j!==0&&(Y[le+j]=C-b<<24|4194304|0),B.bits=s,0}},5604:function(Q){Q.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(Q,z,o){var M=o(9187);function p(Z){for(var ne=Z.length;--ne>=0;)Z[ne]=0}var f=256,u=286,E=30,R=15,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(576);p(Y);var ee=new Array(60);p(ee);var S=new Array(512);p(S);var B=new Array(256);p(B);var he=new Array(29);p(he);var ge,ve,me,le=new Array(E);function N(Z,ne,ce,Se,de){this.static_tree=Z,this.extra_bits=ne,this.extra_base=ce,this.elems=Se,this.max_length=de,this.has_stree=Z&&Z.length}function oe(Z,ne){this.dyn_tree=Z,this.max_code=0,this.stat_desc=ne}function O(Z){return Z<256?S[Z]:S[256+(Z>>>7)]}function I(Z,ne){Z.pending_buf[Z.pending++]=255&ne,Z.pending_buf[Z.pending++]=ne>>>8&255}function A(Z,ne,ce){Z.bi_valid>16-ce?(Z.bi_buf|=ne<<Z.bi_valid&65535,I(Z,Z.bi_buf),Z.bi_buf=ne>>16-Z.bi_valid,Z.bi_valid+=ce-16):(Z.bi_buf|=ne<<Z.bi_valid&65535,Z.bi_valid+=ce)}function C(Z,ne,ce){A(Z,ce[2*ne],ce[2*ne+1])}function U(Z,ne){var ce=0;do ce|=1&Z,Z>>>=1,ce<<=1;while(--ne>0);return ce>>>1}function y(Z,ne,ce){var Se,de,_e=new Array(16),we=0;for(Se=1;Se<=R;Se++)_e[Se]=we=we+ce[Se-1]<<1;for(de=0;de<=ne;de++){var J=Z[2*de+1];J!==0&&(Z[2*de]=U(_e[J]++,J))}}function T(Z){var ne;for(ne=0;ne<u;ne++)Z.dyn_ltree[2*ne]=0;for(ne=0;ne<E;ne++)Z.dyn_dtree[2*ne]=0;for(ne=0;ne<19;ne++)Z.bl_tree[2*ne]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function s(Z){Z.bi_valid>8?I(Z,Z.bi_buf):Z.bi_valid>0&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function D(Z,ne,ce,Se){var de=2*ne,_e=2*ce;return Z[de]<Z[_e]||Z[de]===Z[_e]&&Se[ne]<=Se[ce]}function b(Z,ne,ce){for(var Se=Z.heap[ce],de=ce<<1;de<=Z.heap_len&&(de<Z.heap_len&&D(ne,Z.heap[de+1],Z.heap[de],Z.depth)&&de++,!D(ne,Se,Z.heap[de],Z.depth));)Z.heap[ce]=Z.heap[de],ce=de,de<<=1;Z.heap[ce]=Se}function v(Z,ne,ce){var Se,de,_e,we,J=0;if(Z.last_lit!==0)do Se=Z.pending_buf[Z.d_buf+2*J]<<8|Z.pending_buf[Z.d_buf+2*J+1],de=Z.pending_buf[Z.l_buf+J],J++,Se===0?C(Z,de,ne):(C(Z,(_e=B[de])+f+1,ne),(we=k[_e])!==0&&A(Z,de-=he[_e],we),C(Z,_e=O(--Se),ce),(we=d[_e])!==0&&A(Z,Se-=le[_e],we));while(J<Z.last_lit);C(Z,256,ne)}function x(Z,ne){var ce,Se,de,_e=ne.dyn_tree,we=ne.stat_desc.static_tree,J=ne.stat_desc.has_stree,xe=ne.stat_desc.elems,je=-1;for(Z.heap_len=0,Z.heap_max=573,ce=0;ce<xe;ce++)_e[2*ce]!==0?(Z.heap[++Z.heap_len]=je=ce,Z.depth[ce]=0):_e[2*ce+1]=0;for(;Z.heap_len<2;)_e[2*(de=Z.heap[++Z.heap_len]=je<2?++je:0)]=1,Z.depth[de]=0,Z.opt_len--,J&&(Z.static_len-=we[2*de+1]);for(ne.max_code=je,ce=Z.heap_len>>1;ce>=1;ce--)b(Z,_e,ce);de=xe;do ce=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],b(Z,_e,1),Se=Z.heap[1],Z.heap[--Z.heap_max]=ce,Z.heap[--Z.heap_max]=Se,_e[2*de]=_e[2*ce]+_e[2*Se],Z.depth[de]=(Z.depth[ce]>=Z.depth[Se]?Z.depth[ce]:Z.depth[Se])+1,_e[2*ce+1]=_e[2*Se+1]=de,Z.heap[1]=de++,b(Z,_e,1);while(Z.heap_len>=2);Z.heap[--Z.heap_max]=Z.heap[1],function(Ue,et){var He,Le,De,Be,Ze,ye,be=et.dyn_tree,X=et.max_code,h=et.stat_desc.static_tree,m=et.stat_desc.has_stree,_=et.stat_desc.extra_bits,G=et.stat_desc.extra_base,$=et.stat_desc.max_length,ue=0;for(Be=0;Be<=R;Be++)Ue.bl_count[Be]=0;for(be[2*Ue.heap[Ue.heap_max]+1]=0,He=Ue.heap_max+1;He<573;He++)(Be=be[2*be[2*(Le=Ue.heap[He])+1]+1]+1)>$&&(Be=$,ue++),be[2*Le+1]=Be,Le>X||(Ue.bl_count[Be]++,Ze=0,Le>=G&&(Ze=_[Le-G]),ye=be[2*Le],Ue.opt_len+=ye*(Be+Ze),m&&(Ue.static_len+=ye*(h[2*Le+1]+Ze)));if(ue!==0){do{for(Be=$-1;Ue.bl_count[Be]===0;)Be--;Ue.bl_count[Be]--,Ue.bl_count[Be+1]+=2,Ue.bl_count[$]--,ue-=2}while(ue>0);for(Be=$;Be!==0;Be--)for(Le=Ue.bl_count[Be];Le!==0;)(De=Ue.heap[--He])>X||(be[2*De+1]!==Be&&(Ue.opt_len+=(Be-be[2*De+1])*be[2*De],be[2*De+1]=Be),Le--)}}(Z,ne),y(_e,je,Z.bl_count)}function j(Z,ne,ce){var Se,de,_e=-1,we=ne[1],J=0,xe=7,je=4;for(we===0&&(xe=138,je=3),ne[2*(ce+1)+1]=65535,Se=0;Se<=ce;Se++)de=we,we=ne[2*(Se+1)+1],++J<xe&&de===we||(J<je?Z.bl_tree[2*de]+=J:de!==0?(de!==_e&&Z.bl_tree[2*de]++,Z.bl_tree[32]++):J<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,J=0,_e=de,we===0?(xe=138,je=3):de===we?(xe=6,je=3):(xe=7,je=4))}function te(Z,ne,ce){var Se,de,_e=-1,we=ne[1],J=0,xe=7,je=4;for(we===0&&(xe=138,je=3),Se=0;Se<=ce;Se++)if(de=we,we=ne[2*(Se+1)+1],!(++J<xe&&de===we)){if(J<je)do C(Z,de,Z.bl_tree);while(--J!=0);else de!==0?(de!==_e&&(C(Z,de,Z.bl_tree),J--),C(Z,16,Z.bl_tree),A(Z,J-3,2)):J<=10?(C(Z,17,Z.bl_tree),A(Z,J-3,3)):(C(Z,18,Z.bl_tree),A(Z,J-11,7));J=0,_e=de,we===0?(xe=138,je=3):de===we?(xe=6,je=3):(xe=7,je=4)}}p(le);var V=!1;function F(Z,ne,ce,Se){A(Z,0+(Se?1:0),3),function(de,_e,we,J){s(de),J&&(I(de,we),I(de,~we)),M.arraySet(de.pending_buf,de.window,_e,we,de.pending),de.pending+=we}(Z,ne,ce,!0)}z._tr_init=function(Z){V||(function(){var ne,ce,Se,de,_e,we=new Array(16);for(Se=0,de=0;de<28;de++)for(he[de]=Se,ne=0;ne<1<<k[de];ne++)B[Se++]=de;for(B[Se-1]=de,_e=0,de=0;de<16;de++)for(le[de]=_e,ne=0;ne<1<<d[de];ne++)S[_e++]=de;for(_e>>=7;de<E;de++)for(le[de]=_e<<7,ne=0;ne<1<<d[de]-7;ne++)S[256+_e++]=de;for(ce=0;ce<=R;ce++)we[ce]=0;for(ne=0;ne<=143;)Y[2*ne+1]=8,ne++,we[8]++;for(;ne<=255;)Y[2*ne+1]=9,ne++,we[9]++;for(;ne<=279;)Y[2*ne+1]=7,ne++,we[7]++;for(;ne<=287;)Y[2*ne+1]=8,ne++,we[8]++;for(y(Y,287,we),ne=0;ne<E;ne++)ee[2*ne+1]=5,ee[2*ne]=U(ne,5);ge=new N(Y,k,257,u,R),ve=new N(ee,d,0,E,R),me=new N(new Array(0),L,0,19,7)}(),V=!0),Z.l_desc=new oe(Z.dyn_ltree,ge),Z.d_desc=new oe(Z.dyn_dtree,ve),Z.bl_desc=new oe(Z.bl_tree,me),Z.bi_buf=0,Z.bi_valid=0,T(Z)},z._tr_stored_block=F,z._tr_flush_block=function(Z,ne,ce,Se){var de,_e,we=0;Z.level>0?(Z.strm.data_type===2&&(Z.strm.data_type=function(J){var xe,je=4093624447;for(xe=0;xe<=31;xe++,je>>>=1)if(1&je&&J.dyn_ltree[2*xe]!==0)return 0;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return 1;for(xe=32;xe<f;xe++)if(J.dyn_ltree[2*xe]!==0)return 1;return 0}(Z)),x(Z,Z.l_desc),x(Z,Z.d_desc),we=function(J){var xe;for(j(J,J.dyn_ltree,J.l_desc.max_code),j(J,J.dyn_dtree,J.d_desc.max_code),x(J,J.bl_desc),xe=18;xe>=3&&J.bl_tree[2*W[xe]+1]===0;xe--);return J.opt_len+=3*(xe+1)+5+5+4,xe}(Z),de=Z.opt_len+3+7>>>3,(_e=Z.static_len+3+7>>>3)<=de&&(de=_e)):de=_e=ce+5,ce+4<=de&&ne!==-1?F(Z,ne,ce,Se):Z.strategy===4||_e===de?(A(Z,2+(Se?1:0),3),v(Z,Y,ee)):(A(Z,4+(Se?1:0),3),function(J,xe,je,Ue){var et;for(A(J,xe-257,5),A(J,je-1,5),A(J,Ue-4,4),et=0;et<Ue;et++)A(J,J.bl_tree[2*W[et]+1],3);te(J,J.dyn_ltree,xe-1),te(J,J.dyn_dtree,je-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,we+1),v(Z,Z.dyn_ltree,Z.dyn_dtree)),T(Z),Se&&s(Z)},z._tr_tally=function(Z,ne,ce){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=ne>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&ne,Z.pending_buf[Z.l_buf+Z.last_lit]=255&ce,Z.last_lit++,ne===0?Z.dyn_ltree[2*ce]++:(Z.matches++,ne--,Z.dyn_ltree[2*(B[ce]+f+1)]++,Z.dyn_dtree[2*O(ne)]++),Z.last_lit===Z.lit_bufsize-1},z._tr_align=function(Z){A(Z,2,3),C(Z,256,Y),function(ne){ne.bi_valid===16?(I(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):ne.bi_valid>=8&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(Z)}},249:function(Q){Q.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(Q){Q.exports=function(z){z.data&&z.name&&(z=z.data);for(var o=!0,M="",p="",f=0;f<z.length;f++){var u=z[f];if(o)u?p+=String.fromCharCode(u):o=!1;else{if(!u)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");M+=String.fromCharCode(u)}}return{keyword:p,text:M}}},9686:function(Q){Q.exports=function(z,o){if(z=String(z),o=String(o),!/^[\x00-\xFF]+$/.test(z)||!/^[\x00-\xFF]+$/.test(o))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(z.length>=80)throw new Error('Keyword "'+z+'" is longer than the 79-character limit imposed by the PNG specification');for(var M,p=z.length+o.length+1,f=new Uint8Array(p),u=0,E=0;E<z.length;E++){if(!(M=z.charCodeAt(E)))throw new Error("0x00 character is not permitted in tEXt keywords");f[u++]=M}f[u++]=0;for(var R=0;R<o.length;R++){if(!(M=o.charCodeAt(R)))throw new Error("0x00 character is not permitted in tEXt content");f[u++]=M}return{name:"tEXt",data:f}}},1194:function(Q,z,o){z.encode=o(9686),z.decode=o(9066)},3434:function(Q,z,o){var M=o(5714),p=o(6233);Q.exports=function(R){var k,d=8,L=d;for(k=0;k<R.length;k++)d+=R[k].data.length,d+=12;var W=new Uint8Array(d);for(W[0]=137,W[1]=80,W[2]=78,W[3]=71,W[4]=13,W[5]=10,W[6]=26,W[7]=10,k=0;k<R.length;k++){var Y=R[k],ee=Y.name,S=Y.data,B=S.length,he=[ee.charCodeAt(0),ee.charCodeAt(1),ee.charCodeAt(2),ee.charCodeAt(3)];E[0]=B,W[L++]=f[3],W[L++]=f[2],W[L++]=f[1],W[L++]=f[0],W[L++]=he[0],W[L++]=he[1],W[L++]=he[2],W[L++]=he[3];for(var ge=0;ge<B;)W[L++]=S[ge++];var ve=he.concat(M(S)),me=p.buf(ve);u[0]=me,W[L++]=f[3],W[L++]=f[2],W[L++]=f[1],W[L++]=f[0]}return W};var f=new Uint8Array(4),u=new Int32Array(f.buffer),E=new Uint32Array(f.buffer)},2983:function(Q,z,o){var M=o(6233);Q.exports=function(E){if(E[0]!==137)throw new Error("Invalid .png file header");if(E[1]!==80)throw new Error("Invalid .png file header");if(E[2]!==78)throw new Error("Invalid .png file header");if(E[3]!==71)throw new Error("Invalid .png file header");if(E[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(E[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(E[6]!==26)throw new Error("Invalid .png file header");if(E[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var R=!1,k=[],d=8;d<E.length;){p[3]=E[d++],p[2]=E[d++],p[1]=E[d++],p[0]=E[d++];var L=u[0]+4,W=new Uint8Array(L);W[0]=E[d++],W[1]=E[d++],W[2]=E[d++],W[3]=E[d++];var Y=String.fromCharCode(W[0])+String.fromCharCode(W[1])+String.fromCharCode(W[2])+String.fromCharCode(W[3]);if(!k.length&&Y!=="IHDR")throw new Error("IHDR header missing");if(Y==="IEND"){R=!0,k.push({name:Y,data:new Uint8Array(0)});break}for(var ee=4;ee<L;ee++)W[ee]=E[d++];p[3]=E[d++],p[2]=E[d++],p[1]=E[d++],p[0]=E[d++];var S=f[0];if(M.buf(W)!==S)throw new Error("CRC values for "+Y+" header do not match, PNG file is likely corrupted");var B=new Uint8Array(W.buffer.slice(4));k.push({name:Y,data:B})}if(!R)throw new Error(".png file ended prematurely: no IEND header was found");return k};var p=new Uint8Array(4),f=new Int32Array(p.buffer),u=new Uint32Array(p.buffer)},1493:function(Q,z,o){function M(d,L){return Math.pow(d[0]-L[0],2)+Math.pow(d[1]-L[1],2)}function p(d,L,W){const Y=M(L,W);if(Y===0)return M(d,L);let ee=((d[0]-L[0])*(W[0]-L[0])+(d[1]-L[1])*(W[1]-L[1]))/Y;return ee=Math.max(0,Math.min(1,ee)),M(d,f(L,W,ee))}function f(d,L,W){return[d[0]+(L[0]-d[0])*W,d[1]+(L[1]-d[1])*W]}function u(d,L,W,Y){const ee=Y||[];if(function(he,ge){const ve=he[ge+0],me=he[ge+1],le=he[ge+2],N=he[ge+3];let oe=3*me[0]-2*ve[0]-N[0];oe*=oe;let O=3*me[1]-2*ve[1]-N[1];O*=O;let I=3*le[0]-2*N[0]-ve[0];I*=I;let A=3*le[1]-2*N[1]-ve[1];return A*=A,oe<I&&(oe=I),O<A&&(O=A),oe+O}(d,L)<W){const he=d[L+0];ee.length?(S=ee[ee.length-1],B=he,Math.sqrt(M(S,B))>1&&ee.push(he)):ee.push(he),ee.push(d[L+3])}else{const ge=d[L+0],ve=d[L+1],me=d[L+2],le=d[L+3],N=f(ge,ve,.5),oe=f(ve,me,.5),O=f(me,le,.5),I=f(N,oe,.5),A=f(oe,O,.5),C=f(I,A,.5);u([ge,N,I,C],0,W,ee),u([C,A,O,le],0,W,ee)}var S,B;return ee}function E(d,L){return R(d,0,d.length,L)}function R(d,L,W,Y,ee){const S=ee||[],B=d[L],he=d[W-1];let ge=0,ve=1;for(let me=L+1;me<W-1;++me){const le=p(d[me],B,he);le>ge&&(ge=le,ve=me)}return Math.sqrt(ge)>Y?(R(d,L,ve+1,Y,S),R(d,ve,W,Y,S)):(S.length||S.push(B),S.push(he)),S}function k(d,L=.15,W){const Y=[],ee=(d.length-1)/3;for(let S=0;S<ee;S++)u(d,3*S,L,Y);return W&&W>0?R(Y,0,Y.length,W):Y}o.d(z,{og:function(){return E},sU:function(){return k}})},8128:function(Q,z,o){function M(X,h,m){if(X&&X.length){const[_,G]=h,$=Math.PI/180*m,ue=Math.cos($),ie=Math.sin($);for(const pe of X){const[Pe,Me]=pe;pe[0]=(Pe-_)*ue-(Me-G)*ie+_,pe[1]=(Pe-_)*ie+(Me-G)*ue+G}}}function p(X,h){return X[0]===h[0]&&X[1]===h[1]}function f(X,h,m,_=1){const G=m,$=Math.max(h,.1),ue=X[0]&&X[0][0]&&typeof X[0][0]=="number"?[X]:X,ie=[0,0];if(G)for(const Pe of ue)M(Pe,ie,G);const pe=function(Pe,Me,$e){const Ke=[];for(const Te of Pe){const Ie=[...Te];p(Ie[0],Ie[Ie.length-1])||Ie.push([Ie[0][0],Ie[0][1]]),Ie.length>2&&Ke.push(Ie)}const qe=[];Me=Math.max(Me,.1);const Fe=[];for(const Te of Ke)for(let Ie=0;Ie<Te.length-1;Ie++){const Ge=Te[Ie],tt=Te[Ie+1];if(Ge[1]!==tt[1]){const dt=Math.min(Ge[1],tt[1]);Fe.push({ymin:dt,ymax:Math.max(Ge[1],tt[1]),x:dt===Ge[1]?Ge[0]:tt[0],islope:(tt[0]-Ge[0])/(tt[1]-Ge[1])})}}if(Fe.sort((Te,Ie)=>Te.ymin<Ie.ymin?-1:Te.ymin>Ie.ymin?1:Te.x<Ie.x?-1:Te.x>Ie.x?1:Te.ymax===Ie.ymax?0:(Te.ymax-Ie.ymax)/Math.abs(Te.ymax-Ie.ymax)),!Fe.length)return qe;let ot=[],it=Fe[0].ymin,ht=0;for(;ot.length||Fe.length;){if(Fe.length){let Te=-1;for(let Ie=0;Ie<Fe.length&&!(Fe[Ie].ymin>it);Ie++)Te=Ie;Fe.splice(0,Te+1).forEach(Ie=>{ot.push({s:it,edge:Ie})})}if(ot=ot.filter(Te=>!(Te.edge.ymax<=it)),ot.sort((Te,Ie)=>Te.edge.x===Ie.edge.x?0:(Te.edge.x-Ie.edge.x)/Math.abs(Te.edge.x-Ie.edge.x)),($e!==1||ht%Me==0)&&ot.length>1)for(let Te=0;Te<ot.length;Te+=2){const Ie=Te+1;if(Ie>=ot.length)break;const Ge=ot[Te].edge,tt=ot[Ie].edge;qe.push([[Math.round(Ge.x),it],[Math.round(tt.x),it]])}it+=$e,ot.forEach(Te=>{Te.edge.x=Te.edge.x+$e*Te.edge.islope}),ht++}return qe}(ue,$,_);if(G){for(const Pe of ue)M(Pe,ie,-G);(function(Pe,Me,$e){const Ke=[];Pe.forEach(qe=>Ke.push(...qe)),M(Ke,Me,$e)})(pe,ie,-G)}return pe}function u(X,h){var m;const _=h.hachureAngle+90;let G=h.hachureGap;G<0&&(G=4*h.strokeWidth),G=Math.max(G,.1);let $=1;return h.roughness>=1&&(((m=h.randomizer)===null||m===void 0?void 0:m.next())||Math.random())>.7&&($=G),f(X,G,_,$||1)}o.d(z,{V:function(){return be}});class E{constructor(h){this.helper=h}fillPolygons(h,m){return this._fillPolygons(h,m)}_fillPolygons(h,m){const _=u(h,m);return{type:"fillSketch",ops:this.renderLines(_,m)}}renderLines(h,m){const _=[];for(const G of h)_.push(...this.helper.doubleLineOps(G[0][0],G[0][1],G[1][0],G[1][1],m));return _}}function R(X){const h=X[0],m=X[1];return Math.sqrt(Math.pow(h[0]-m[0],2)+Math.pow(h[1]-m[1],2))}class k extends E{fillPolygons(h,m){let _=m.hachureGap;_<0&&(_=4*m.strokeWidth),_=Math.max(_,.1);const G=u(h,Object.assign({},m,{hachureGap:_})),$=Math.PI/180*m.hachureAngle,ue=[],ie=.5*_*Math.cos($),pe=.5*_*Math.sin($);for(const[Pe,Me]of G)R([Pe,Me])&&ue.push([[Pe[0]-ie,Pe[1]+pe],[...Me]],[[Pe[0]+ie,Pe[1]-pe],[...Me]]);return{type:"fillSketch",ops:this.renderLines(ue,m)}}}class d extends E{fillPolygons(h,m){const _=this._fillPolygons(h,m),G=Object.assign({},m,{hachureAngle:m.hachureAngle+90}),$=this._fillPolygons(h,G);return _.ops=_.ops.concat($.ops),_}}class L{constructor(h){this.helper=h}fillPolygons(h,m){const _=u(h,m=Object.assign({},m,{hachureAngle:0}));return this.dotsOnLines(_,m)}dotsOnLines(h,m){const _=[];let G=m.hachureGap;G<0&&(G=4*m.strokeWidth),G=Math.max(G,.1);let $=m.fillWeight;$<0&&($=m.strokeWidth/2);const ue=G/4;for(const ie of h){const pe=R(ie),Pe=pe/G,Me=Math.ceil(Pe)-1,$e=pe-Me*G,Ke=(ie[0][0]+ie[1][0])/2-G/4,qe=Math.min(ie[0][1],ie[1][1]);for(let Fe=0;Fe<Me;Fe++){const ot=qe+$e+Fe*G,it=Ke-ue+2*Math.random()*ue,ht=ot-ue+2*Math.random()*ue,Te=this.helper.ellipse(it,ht,$,$,m);_.push(...Te.ops)}}return{type:"fillSketch",ops:_}}}class W{constructor(h){this.helper=h}fillPolygons(h,m){const _=u(h,m);return{type:"fillSketch",ops:this.dashedLine(_,m)}}dashedLine(h,m){const _=m.dashOffset<0?m.hachureGap<0?4*m.strokeWidth:m.hachureGap:m.dashOffset,G=m.dashGap<0?m.hachureGap<0?4*m.strokeWidth:m.hachureGap:m.dashGap,$=[];return h.forEach(ue=>{const ie=R(ue),pe=Math.floor(ie/(_+G)),Pe=(ie+G-pe*(_+G))/2;let Me=ue[0],$e=ue[1];Me[0]>$e[0]&&(Me=ue[1],$e=ue[0]);const Ke=Math.atan(($e[1]-Me[1])/($e[0]-Me[0]));for(let qe=0;qe<pe;qe++){const Fe=qe*(_+G),ot=Fe+_,it=[Me[0]+Fe*Math.cos(Ke)+Pe*Math.cos(Ke),Me[1]+Fe*Math.sin(Ke)+Pe*Math.sin(Ke)],ht=[Me[0]+ot*Math.cos(Ke)+Pe*Math.cos(Ke),Me[1]+ot*Math.sin(Ke)+Pe*Math.sin(Ke)];$.push(...this.helper.doubleLineOps(it[0],it[1],ht[0],ht[1],m))}}),$}}class Y{constructor(h){this.helper=h}fillPolygons(h,m){const _=m.hachureGap<0?4*m.strokeWidth:m.hachureGap,G=m.zigzagOffset<0?_:m.zigzagOffset,$=u(h,m=Object.assign({},m,{hachureGap:_+G}));return{type:"fillSketch",ops:this.zigzagLines($,G,m)}}zigzagLines(h,m,_){const G=[];return h.forEach($=>{const ue=R($),ie=Math.round(ue/(2*m));let pe=$[0],Pe=$[1];pe[0]>Pe[0]&&(pe=$[1],Pe=$[0]);const Me=Math.atan((Pe[1]-pe[1])/(Pe[0]-pe[0]));for(let $e=0;$e<ie;$e++){const Ke=2*$e*m,qe=2*($e+1)*m,Fe=Math.sqrt(2*Math.pow(m,2)),ot=[pe[0]+Ke*Math.cos(Me),pe[1]+Ke*Math.sin(Me)],it=[pe[0]+qe*Math.cos(Me),pe[1]+qe*Math.sin(Me)],ht=[ot[0]+Fe*Math.cos(Me+Math.PI/4),ot[1]+Fe*Math.sin(Me+Math.PI/4)];G.push(...this.helper.doubleLineOps(ot[0],ot[1],ht[0],ht[1],_),...this.helper.doubleLineOps(ht[0],ht[1],it[0],it[1],_))}}),G}}const ee={};var S=o(8152);const B={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function he(X,h){return X.type===h}function ge(X){const h=[],m=function(ue){const ie=new Array;for(;ue!=="";)if(ue.match(/^([ \t\r\n,]+)/))ue=ue.substr(RegExp.$1.length);else if(ue.match(/^([aAcChHlLmMqQsStTvVzZ])/))ie[ie.length]={type:0,text:RegExp.$1},ue=ue.substr(RegExp.$1.length);else{if(!ue.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ie[ie.length]={type:1,text:`${parseFloat(RegExp.$1)}`},ue=ue.substr(RegExp.$1.length)}return ie[ie.length]={type:2,text:""},ie}(X);let _="BOD",G=0,$=m[G];for(;!he($,2);){let ue=0;const ie=[];if(_==="BOD"){if($.text!=="M"&&$.text!=="m")return ge("M0,0"+X);G++,ue=B[$.text],_=$.text}else he($,1)?ue=B[_]:(G++,ue=B[$.text],_=$.text);if(!(G+ue<m.length))throw new Error("Path data ended short");for(let pe=G;pe<G+ue;pe++){const Pe=m[pe];if(!he(Pe,1))throw new Error("Param not a number: "+_+","+Pe.text);ie[ie.length]=+Pe.text}if(typeof B[_]!="number")throw new Error("Bad segment: "+_);{const pe={key:_,data:ie};h.push(pe),G+=ue,$=m[G],_==="M"&&(_="L"),_==="m"&&(_="l")}}return h}function ve(X){let h=0,m=0,_=0,G=0;const $=[];for(const{key:ue,data:ie}of X)switch(ue){case"M":$.push({key:"M",data:[...ie]}),[h,m]=ie,[_,G]=ie;break;case"m":h+=ie[0],m+=ie[1],$.push({key:"M",data:[h,m]}),_=h,G=m;break;case"L":$.push({key:"L",data:[...ie]}),[h,m]=ie;break;case"l":h+=ie[0],m+=ie[1],$.push({key:"L",data:[h,m]});break;case"C":$.push({key:"C",data:[...ie]}),h=ie[4],m=ie[5];break;case"c":{const pe=ie.map((Pe,Me)=>Me%2?Pe+m:Pe+h);$.push({key:"C",data:pe}),h=pe[4],m=pe[5];break}case"Q":$.push({key:"Q",data:[...ie]}),h=ie[2],m=ie[3];break;case"q":{const pe=ie.map((Pe,Me)=>Me%2?Pe+m:Pe+h);$.push({key:"Q",data:pe}),h=pe[2],m=pe[3];break}case"A":$.push({key:"A",data:[...ie]}),h=ie[5],m=ie[6];break;case"a":h+=ie[5],m+=ie[6],$.push({key:"A",data:[ie[0],ie[1],ie[2],ie[3],ie[4],h,m]});break;case"H":$.push({key:"H",data:[...ie]}),h=ie[0];break;case"h":h+=ie[0],$.push({key:"H",data:[h]});break;case"V":$.push({key:"V",data:[...ie]}),m=ie[0];break;case"v":m+=ie[0],$.push({key:"V",data:[m]});break;case"S":$.push({key:"S",data:[...ie]}),h=ie[2],m=ie[3];break;case"s":{const pe=ie.map((Pe,Me)=>Me%2?Pe+m:Pe+h);$.push({key:"S",data:pe}),h=pe[2],m=pe[3];break}case"T":$.push({key:"T",data:[...ie]}),h=ie[0],m=ie[1];break;case"t":h+=ie[0],m+=ie[1],$.push({key:"T",data:[h,m]});break;case"Z":case"z":$.push({key:"Z",data:[]}),h=_,m=G}return $}function me(X){const h=[];let m="",_=0,G=0,$=0,ue=0,ie=0,pe=0;for(const{key:Pe,data:Me}of X){switch(Pe){case"M":h.push({key:"M",data:[...Me]}),[_,G]=Me,[$,ue]=Me;break;case"C":h.push({key:"C",data:[...Me]}),_=Me[4],G=Me[5],ie=Me[2],pe=Me[3];break;case"L":h.push({key:"L",data:[...Me]}),[_,G]=Me;break;case"H":_=Me[0],h.push({key:"L",data:[_,G]});break;case"V":G=Me[0],h.push({key:"L",data:[_,G]});break;case"S":{let $e=0,Ke=0;m==="C"||m==="S"?($e=_+(_-ie),Ke=G+(G-pe)):($e=_,Ke=G),h.push({key:"C",data:[$e,Ke,...Me]}),ie=Me[0],pe=Me[1],_=Me[2],G=Me[3];break}case"T":{const[$e,Ke]=Me;let qe=0,Fe=0;m==="Q"||m==="T"?(qe=_+(_-ie),Fe=G+(G-pe)):(qe=_,Fe=G);const ot=_+2*(qe-_)/3,it=G+2*(Fe-G)/3,ht=$e+2*(qe-$e)/3,Te=Ke+2*(Fe-Ke)/3;h.push({key:"C",data:[ot,it,ht,Te,$e,Ke]}),ie=qe,pe=Fe,_=$e,G=Ke;break}case"Q":{const[$e,Ke,qe,Fe]=Me,ot=_+2*($e-_)/3,it=G+2*(Ke-G)/3,ht=qe+2*($e-qe)/3,Te=Fe+2*(Ke-Fe)/3;h.push({key:"C",data:[ot,it,ht,Te,qe,Fe]}),ie=$e,pe=Ke,_=qe,G=Fe;break}case"A":{const $e=Math.abs(Me[0]),Ke=Math.abs(Me[1]),qe=Me[2],Fe=Me[3],ot=Me[4],it=Me[5],ht=Me[6];$e===0||Ke===0?(h.push({key:"C",data:[_,G,it,ht,it,ht]}),_=it,G=ht):(_!==it||G!==ht)&&(N(_,G,it,ht,$e,Ke,qe,Fe,ot).forEach(function(Te){h.push({key:"C",data:Te})}),_=it,G=ht);break}case"Z":h.push({key:"Z",data:[]}),_=$,G=ue}m=Pe}return h}function le(X,h,m){return[X*Math.cos(m)-h*Math.sin(m),X*Math.sin(m)+h*Math.cos(m)]}function N(X,h,m,_,G,$,ue,ie,pe,Pe){const Me=($e=ue,Math.PI*$e/180);var $e;let Ke=[],qe=0,Fe=0,ot=0,it=0;if(Pe)[qe,Fe,ot,it]=Pe;else{[X,h]=le(X,h,-Me),[m,_]=le(m,_,-Me);const Zt=(X-m)/2,Dt=(h-_)/2;let on=Zt*Zt/(G*G)+Dt*Dt/($*$);on>1&&(on=Math.sqrt(on),G*=on,$*=on);const an=G*G,st=$*$,At=an*st-an*Dt*Dt-st*Zt*Zt,bt=an*Dt*Dt+st*Zt*Zt,jt=(ie===pe?-1:1)*Math.sqrt(Math.abs(At/bt));ot=jt*G*Dt/$+(X+m)/2,it=jt*-$*Zt/G+(h+_)/2,qe=Math.asin(parseFloat(((h-it)/$).toFixed(9))),Fe=Math.asin(parseFloat(((_-it)/$).toFixed(9))),X<ot&&(qe=Math.PI-qe),m<ot&&(Fe=Math.PI-Fe),qe<0&&(qe=2*Math.PI+qe),Fe<0&&(Fe=2*Math.PI+Fe),pe&&qe>Fe&&(qe-=2*Math.PI),!pe&&Fe>qe&&(Fe-=2*Math.PI)}let ht=Fe-qe;if(Math.abs(ht)>120*Math.PI/180){const Zt=Fe,Dt=m,on=_;Fe=pe&&Fe>qe?qe+120*Math.PI/180*1:qe+120*Math.PI/180*-1,Ke=N(m=ot+G*Math.cos(Fe),_=it+$*Math.sin(Fe),Dt,on,G,$,ue,0,pe,[Fe,Zt,ot,it])}ht=Fe-qe;const Te=Math.cos(qe),Ie=Math.sin(qe),Ge=Math.cos(Fe),tt=Math.sin(Fe),dt=Math.tan(ht/4),ct=4/3*G*dt,St=4/3*$*dt,Pt=[X,h],mt=[X+ct*Ie,h-St*Te],Nt=[m+ct*tt,_-St*Ge],Xt=[m,_];if(mt[0]=2*Pt[0]-mt[0],mt[1]=2*Pt[1]-mt[1],Pe)return[mt,Nt,Xt].concat(Ke);{Ke=[mt,Nt,Xt].concat(Ke);const Zt=[];for(let Dt=0;Dt<Ke.length;Dt+=3){const on=le(Ke[Dt][0],Ke[Dt][1],Me),an=le(Ke[Dt+1][0],Ke[Dt+1][1],Me),st=le(Ke[Dt+2][0],Ke[Dt+2][1],Me);Zt.push([on[0],on[1],an[0],an[1],st[0],st[1]])}return Zt}}const oe={randOffset:function(X,h){return j(X,h)},randOffsetWithRange:function(X,h,m){return x(X,h,m)},ellipse:function(X,h,m,_,G){const $=U(m,_,G);return y(X,h,G,$).opset},doubleLineOps:function(X,h,m,_,G){return te(X,h,m,_,G,!0)}};function O(X,h,m,_,G){return{type:"path",ops:te(X,h,m,_,G)}}function I(X,h,m){const _=(X||[]).length;if(_>2){const G=[];for(let $=0;$<_-1;$++)G.push(...te(X[$][0],X[$][1],X[$+1][0],X[$+1][1],m));return h&&G.push(...te(X[_-1][0],X[_-1][1],X[0][0],X[0][1],m)),{type:"path",ops:G}}return _===2?O(X[0][0],X[0][1],X[1][0],X[1][1],m):{type:"path",ops:[]}}function A(X,h,m,_,G){return function($,ue){return I($,!0,ue)}([[X,h],[X+m,h],[X+m,h+_],[X,h+_]],G)}function C(X,h){let m=F(X,1*(1+.2*h.roughness),h);if(!h.disableMultiStroke){const _=F(X,1.5*(1+.22*h.roughness),function(G){const $=Object.assign({},G);return $.randomizer=void 0,G.seed&&($.seed=G.seed+1),$}(h));m=m.concat(_)}return{type:"path",ops:m}}function U(X,h,m){const _=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(X/2,2)+Math.pow(h/2,2))/2)),G=Math.ceil(Math.max(m.curveStepCount,m.curveStepCount/Math.sqrt(200)*_)),$=2*Math.PI/G;let ue=Math.abs(X/2),ie=Math.abs(h/2);const pe=1-m.curveFitting;return ue+=j(ue*pe,m),ie+=j(ie*pe,m),{increment:$,rx:ue,ry:ie}}function y(X,h,m,_){const[G,$]=ne(_.increment,X,h,_.rx,_.ry,1,_.increment*x(.1,x(.4,1,m),m),m);let ue=Z(G,null,m);if(!m.disableMultiStroke&&m.roughness!==0){const[ie]=ne(_.increment,X,h,_.rx,_.ry,1.5,0,m),pe=Z(ie,null,m);ue=ue.concat(pe)}return{estimatedPoints:$,opset:{type:"path",ops:ue}}}function T(X,h,m,_,G,$,ue,ie,pe){const Pe=X,Me=h;let $e=Math.abs(m/2),Ke=Math.abs(_/2);$e+=j(.01*$e,pe),Ke+=j(.01*Ke,pe);let qe=G,Fe=$;for(;qe<0;)qe+=2*Math.PI,Fe+=2*Math.PI;Fe-qe>2*Math.PI&&(qe=0,Fe=2*Math.PI);const ot=2*Math.PI/pe.curveStepCount,it=Math.min(ot/2,(Fe-qe)/2),ht=ce(it,Pe,Me,$e,Ke,qe,Fe,1,pe);if(!pe.disableMultiStroke){const Te=ce(it,Pe,Me,$e,Ke,qe,Fe,1.5,pe);ht.push(...Te)}return ue&&(ie?ht.push(...te(Pe,Me,Pe+$e*Math.cos(qe),Me+Ke*Math.sin(qe),pe),...te(Pe,Me,Pe+$e*Math.cos(Fe),Me+Ke*Math.sin(Fe),pe)):ht.push({op:"lineTo",data:[Pe,Me]},{op:"lineTo",data:[Pe+$e*Math.cos(qe),Me+Ke*Math.sin(qe)]})),{type:"path",ops:ht}}function s(X,h){const m=me(ve(ge(X))),_=[];let G=[0,0],$=[0,0];for(const{key:ue,data:ie}of m)switch(ue){case"M":$=[ie[0],ie[1]],G=[ie[0],ie[1]];break;case"L":_.push(...te($[0],$[1],ie[0],ie[1],h)),$=[ie[0],ie[1]];break;case"C":{const[pe,Pe,Me,$e,Ke,qe]=ie;_.push(...Se(pe,Pe,Me,$e,Ke,qe,$,h)),$=[Ke,qe];break}case"Z":_.push(...te($[0],$[1],G[0],G[1],h)),$=[G[0],G[1]]}return{type:"path",ops:_}}function D(X,h){const m=[];for(const _ of X)if(_.length){const G=h.maxRandomnessOffset||0,$=_.length;if($>2){m.push({op:"move",data:[_[0][0]+j(G,h),_[0][1]+j(G,h)]});for(let ue=1;ue<$;ue++)m.push({op:"lineTo",data:[_[ue][0]+j(G,h),_[ue][1]+j(G,h)]})}}return{type:"fillPath",ops:m}}function b(X,h){return function(m,_){let G=m.fillStyle||"hachure";if(!ee[G])switch(G){case"zigzag":ee[G]||(ee[G]=new k(_));break;case"cross-hatch":ee[G]||(ee[G]=new d(_));break;case"dots":ee[G]||(ee[G]=new L(_));break;case"dashed":ee[G]||(ee[G]=new W(_));break;case"zigzag-line":ee[G]||(ee[G]=new Y(_));break;default:G="hachure",ee[G]||(ee[G]=new E(_))}return ee[G]}(h,oe).fillPolygons(X,h)}function v(X){return X.randomizer||(X.randomizer=new S.k(X.seed||0)),X.randomizer.next()}function x(X,h,m,_=1){return m.roughness*_*(v(m)*(h-X)+X)}function j(X,h,m=1){return x(-X,X,h,m)}function te(X,h,m,_,G,$=!1){const ue=$?G.disableMultiStrokeFill:G.disableMultiStroke,ie=V(X,h,m,_,G,!0,!1);if(ue)return ie;const pe=V(X,h,m,_,G,!0,!0);return ie.concat(pe)}function V(X,h,m,_,G,$,ue){const ie=Math.pow(X-m,2)+Math.pow(h-_,2),pe=Math.sqrt(ie);let Pe=1;Pe=pe<200?1:pe>500?.4:-.0016668*pe+1.233334;let Me=G.maxRandomnessOffset||0;Me*Me*100>ie&&(Me=pe/10);const $e=Me/2,Ke=.2+.2*v(G);let qe=G.bowing*G.maxRandomnessOffset*(_-h)/200,Fe=G.bowing*G.maxRandomnessOffset*(X-m)/200;qe=j(qe,G,Pe),Fe=j(Fe,G,Pe);const ot=[],it=()=>j($e,G,Pe),ht=()=>j(Me,G,Pe),Te=G.preserveVertices;return $&&(ue?ot.push({op:"move",data:[X+(Te?0:it()),h+(Te?0:it())]}):ot.push({op:"move",data:[X+(Te?0:j(Me,G,Pe)),h+(Te?0:j(Me,G,Pe))]})),ue?ot.push({op:"bcurveTo",data:[qe+X+(m-X)*Ke+it(),Fe+h+(_-h)*Ke+it(),qe+X+2*(m-X)*Ke+it(),Fe+h+2*(_-h)*Ke+it(),m+(Te?0:it()),_+(Te?0:it())]}):ot.push({op:"bcurveTo",data:[qe+X+(m-X)*Ke+ht(),Fe+h+(_-h)*Ke+ht(),qe+X+2*(m-X)*Ke+ht(),Fe+h+2*(_-h)*Ke+ht(),m+(Te?0:ht()),_+(Te?0:ht())]}),ot}function F(X,h,m){const _=[];_.push([X[0][0]+j(h,m),X[0][1]+j(h,m)]),_.push([X[0][0]+j(h,m),X[0][1]+j(h,m)]);for(let G=1;G<X.length;G++)_.push([X[G][0]+j(h,m),X[G][1]+j(h,m)]),G===X.length-1&&_.push([X[G][0]+j(h,m),X[G][1]+j(h,m)]);return Z(_,null,m)}function Z(X,h,m){const _=X.length,G=[];if(_>3){const $=[],ue=1-m.curveTightness;G.push({op:"move",data:[X[1][0],X[1][1]]});for(let ie=1;ie+2<_;ie++){const pe=X[ie];$[0]=[pe[0],pe[1]],$[1]=[pe[0]+(ue*X[ie+1][0]-ue*X[ie-1][0])/6,pe[1]+(ue*X[ie+1][1]-ue*X[ie-1][1])/6],$[2]=[X[ie+1][0]+(ue*X[ie][0]-ue*X[ie+2][0])/6,X[ie+1][1]+(ue*X[ie][1]-ue*X[ie+2][1])/6],$[3]=[X[ie+1][0],X[ie+1][1]],G.push({op:"bcurveTo",data:[$[1][0],$[1][1],$[2][0],$[2][1],$[3][0],$[3][1]]})}if(h&&h.length===2){const ie=m.maxRandomnessOffset;G.push({op:"lineTo",data:[h[0]+j(ie,m),h[1]+j(ie,m)]})}}else _===3?(G.push({op:"move",data:[X[1][0],X[1][1]]}),G.push({op:"bcurveTo",data:[X[1][0],X[1][1],X[2][0],X[2][1],X[2][0],X[2][1]]})):_===2&&G.push(...te(X[0][0],X[0][1],X[1][0],X[1][1],m));return G}function ne(X,h,m,_,G,$,ue,ie){const pe=[],Pe=[];if(ie.roughness===0){X/=4,Pe.push([h+_*Math.cos(-X),m+G*Math.sin(-X)]);for(let Me=0;Me<=2*Math.PI;Me+=X){const $e=[h+_*Math.cos(Me),m+G*Math.sin(Me)];pe.push($e),Pe.push($e)}Pe.push([h+_*Math.cos(0),m+G*Math.sin(0)]),Pe.push([h+_*Math.cos(X),m+G*Math.sin(X)])}else{const Me=j(.5,ie)-Math.PI/2;Pe.push([j($,ie)+h+.9*_*Math.cos(Me-X),j($,ie)+m+.9*G*Math.sin(Me-X)]);const $e=2*Math.PI+Me-.01;for(let Ke=Me;Ke<$e;Ke+=X){const qe=[j($,ie)+h+_*Math.cos(Ke),j($,ie)+m+G*Math.sin(Ke)];pe.push(qe),Pe.push(qe)}Pe.push([j($,ie)+h+_*Math.cos(Me+2*Math.PI+.5*ue),j($,ie)+m+G*Math.sin(Me+2*Math.PI+.5*ue)]),Pe.push([j($,ie)+h+.98*_*Math.cos(Me+ue),j($,ie)+m+.98*G*Math.sin(Me+ue)]),Pe.push([j($,ie)+h+.9*_*Math.cos(Me+.5*ue),j($,ie)+m+.9*G*Math.sin(Me+.5*ue)])}return[Pe,pe]}function ce(X,h,m,_,G,$,ue,ie,pe){const Pe=$+j(.1,pe),Me=[];Me.push([j(ie,pe)+h+.9*_*Math.cos(Pe-X),j(ie,pe)+m+.9*G*Math.sin(Pe-X)]);for(let $e=Pe;$e<=ue;$e+=X)Me.push([j(ie,pe)+h+_*Math.cos($e),j(ie,pe)+m+G*Math.sin($e)]);return Me.push([h+_*Math.cos(ue),m+G*Math.sin(ue)]),Me.push([h+_*Math.cos(ue),m+G*Math.sin(ue)]),Z(Me,null,pe)}function Se(X,h,m,_,G,$,ue,ie){const pe=[],Pe=[ie.maxRandomnessOffset||1,(ie.maxRandomnessOffset||1)+.3];let Me=[0,0];const $e=ie.disableMultiStroke?1:2,Ke=ie.preserveVertices;for(let qe=0;qe<$e;qe++)qe===0?pe.push({op:"move",data:[ue[0],ue[1]]}):pe.push({op:"move",data:[ue[0]+(Ke?0:j(Pe[0],ie)),ue[1]+(Ke?0:j(Pe[0],ie))]}),Me=Ke?[G,$]:[G+j(Pe[qe],ie),$+j(Pe[qe],ie)],pe.push({op:"bcurveTo",data:[X+j(Pe[qe],ie),h+j(Pe[qe],ie),m+j(Pe[qe],ie),_+j(Pe[qe],ie),Me[0],Me[1]]});return pe}function de(X){return[...X]}function _e(X,h){return Math.pow(X[0]-h[0],2)+Math.pow(X[1]-h[1],2)}function we(X,h,m){const _=_e(h,m);if(_===0)return _e(X,h);let G=((X[0]-h[0])*(m[0]-h[0])+(X[1]-h[1])*(m[1]-h[1]))/_;return G=Math.max(0,Math.min(1,G)),_e(X,J(h,m,G))}function J(X,h,m){return[X[0]+(h[0]-X[0])*m,X[1]+(h[1]-X[1])*m]}function xe(X,h,m,_){const G=_||[];if(function(ie,pe){const Pe=ie[pe+0],Me=ie[pe+1],$e=ie[pe+2],Ke=ie[pe+3];let qe=3*Me[0]-2*Pe[0]-Ke[0];qe*=qe;let Fe=3*Me[1]-2*Pe[1]-Ke[1];Fe*=Fe;let ot=3*$e[0]-2*Ke[0]-Pe[0];ot*=ot;let it=3*$e[1]-2*Ke[1]-Pe[1];return it*=it,qe<ot&&(qe=ot),Fe<it&&(Fe=it),qe+Fe}(X,h)<m){const ie=X[h+0];G.length?($=G[G.length-1],ue=ie,Math.sqrt(_e($,ue))>1&&G.push(ie)):G.push(ie),G.push(X[h+3])}else{const pe=X[h+0],Pe=X[h+1],Me=X[h+2],$e=X[h+3],Ke=J(pe,Pe,.5),qe=J(Pe,Me,.5),Fe=J(Me,$e,.5),ot=J(Ke,qe,.5),it=J(qe,Fe,.5),ht=J(ot,it,.5);xe([pe,Ke,ot,ht],0,m,G),xe([ht,it,Fe,$e],0,m,G)}var $,ue;return G}function je(X,h,m,_,G){const $=G||[],ue=X[h],ie=X[m-1];let pe=0,Pe=1;for(let Me=h+1;Me<m-1;++Me){const $e=we(X[Me],ue,ie);$e>pe&&(pe=$e,Pe=Me)}return Math.sqrt(pe)>_?(je(X,h,Pe+1,_,$),je(X,Pe,m,_,$)):($.length||$.push(ue),$.push(ie)),$}function Ue(X,h){return Math.pow(X[0]-h[0],2)+Math.pow(X[1]-h[1],2)}function et(X,h,m){const _=Ue(h,m);if(_===0)return Ue(X,h);let G=((X[0]-h[0])*(m[0]-h[0])+(X[1]-h[1])*(m[1]-h[1]))/_;return G=Math.max(0,Math.min(1,G)),Ue(X,He(h,m,G))}function He(X,h,m){return[X[0]+(h[0]-X[0])*m,X[1]+(h[1]-X[1])*m]}function Le(X,h,m,_){const G=_||[];if(function(ie,pe){const Pe=ie[pe+0],Me=ie[pe+1],$e=ie[pe+2],Ke=ie[pe+3];let qe=3*Me[0]-2*Pe[0]-Ke[0];qe*=qe;let Fe=3*Me[1]-2*Pe[1]-Ke[1];Fe*=Fe;let ot=3*$e[0]-2*Ke[0]-Pe[0];ot*=ot;let it=3*$e[1]-2*Ke[1]-Pe[1];return it*=it,qe<ot&&(qe=ot),Fe<it&&(Fe=it),qe+Fe}(X,h)<m){const ie=X[h+0];G.length?($=G[G.length-1],ue=ie,Math.sqrt(Ue($,ue))>1&&G.push(ie)):G.push(ie),G.push(X[h+3])}else{const pe=X[h+0],Pe=X[h+1],Me=X[h+2],$e=X[h+3],Ke=He(pe,Pe,.5),qe=He(Pe,Me,.5),Fe=He(Me,$e,.5),ot=He(Ke,qe,.5),it=He(qe,Fe,.5),ht=He(ot,it,.5);Le([pe,Ke,ot,ht],0,m,G),Le([ht,it,Fe,$e],0,m,G)}var $,ue;return G}function De(X,h){return Be(X,0,X.length,h)}function Be(X,h,m,_,G){const $=G||[],ue=X[h],ie=X[m-1];let pe=0,Pe=1;for(let Me=h+1;Me<m-1;++Me){const $e=et(X[Me],ue,ie);$e>pe&&(pe=$e,Pe=Me)}return Math.sqrt(pe)>_?(Be(X,h,Pe+1,_,$),Be(X,Pe,m,_,$)):($.length||$.push(ue),$.push(ie)),$}function Ze(X,h,m){const _=me(ve(ge(X))),G=[];let $=[],ue=[0,0],ie=[];const pe=()=>{ie.length>=4&&$.push(...function($e,Ke=.15,qe){const Fe=[],ot=($e.length-1)/3;for(let it=0;it<ot;it++)Le($e,3*it,Ke,Fe);return qe&&qe>0?Be(Fe,0,Fe.length,qe):Fe}(ie,h)),ie=[]},Pe=()=>{pe(),$.length&&(G.push($),$=[])};for(const{key:$e,data:Ke}of _)switch($e){case"M":Pe(),ue=[Ke[0],Ke[1]],$.push(ue);break;case"L":pe(),$.push([Ke[0],Ke[1]]);break;case"C":if(!ie.length){const qe=$.length?$[$.length-1]:ue;ie.push([qe[0],qe[1]])}ie.push([Ke[0],Ke[1]]),ie.push([Ke[2],Ke[3]]),ie.push([Ke[4],Ke[5]]);break;case"Z":pe(),$.push([ue[0],ue[1]])}if(Pe(),!m)return G;const Me=[];for(const $e of G){const Ke=De($e,m);Ke.length&&Me.push(Ke)}return Me}const ye="none";class be{constructor(h){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=h||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,S.W)()}_o(h){return h?Object.assign({},this.defaultOptions,h):this.defaultOptions}_d(h,m,_){return{shape:h,sets:m||[],options:_||this.defaultOptions}}line(h,m,_,G,$){const ue=this._o($);return this._d("line",[O(h,m,_,G,ue)],ue)}rectangle(h,m,_,G,$){const ue=this._o($),ie=[],pe=A(h,m,_,G,ue);if(ue.fill){const Pe=[[h,m],[h+_,m],[h+_,m+G],[h,m+G]];ue.fillStyle==="solid"?ie.push(D([Pe],ue)):ie.push(b([Pe],ue))}return ue.stroke!==ye&&ie.push(pe),this._d("rectangle",ie,ue)}ellipse(h,m,_,G,$){const ue=this._o($),ie=[],pe=U(_,G,ue),Pe=y(h,m,ue,pe);if(ue.fill)if(ue.fillStyle==="solid"){const Me=y(h,m,ue,pe).opset;Me.type="fillPath",ie.push(Me)}else ie.push(b([Pe.estimatedPoints],ue));return ue.stroke!==ye&&ie.push(Pe.opset),this._d("ellipse",ie,ue)}circle(h,m,_,G){const $=this.ellipse(h,m,_,_,G);return $.shape="circle",$}linearPath(h,m){const _=this._o(m);return this._d("linearPath",[I(h,!1,_)],_)}arc(h,m,_,G,$,ue,ie=!1,pe){const Pe=this._o(pe),Me=[],$e=T(h,m,_,G,$,ue,ie,!0,Pe);if(ie&&Pe.fill)if(Pe.fillStyle==="solid"){const Ke=Object.assign({},Pe);Ke.disableMultiStroke=!0;const qe=T(h,m,_,G,$,ue,!0,!1,Ke);qe.type="fillPath",Me.push(qe)}else Me.push(function(Ke,qe,Fe,ot,it,ht,Te){const Ie=Ke,Ge=qe;let tt=Math.abs(Fe/2),dt=Math.abs(ot/2);tt+=j(.01*tt,Te),dt+=j(.01*dt,Te);let ct=it,St=ht;for(;ct<0;)ct+=2*Math.PI,St+=2*Math.PI;St-ct>2*Math.PI&&(ct=0,St=2*Math.PI);const Pt=(St-ct)/Te.curveStepCount,mt=[];for(let Nt=ct;Nt<=St;Nt+=Pt)mt.push([Ie+tt*Math.cos(Nt),Ge+dt*Math.sin(Nt)]);return mt.push([Ie+tt*Math.cos(St),Ge+dt*Math.sin(St)]),mt.push([Ie,Ge]),b([mt],Te)}(h,m,_,G,$,ue,Pe));return Pe.stroke!==ye&&Me.push($e),this._d("arc",Me,Pe)}curve(h,m){const _=this._o(m),G=[],$=C(h,_);if(_.fill&&_.fill!==ye&&h.length>=3)if(_.fillStyle==="solid"){const ue=C(h,Object.assign(Object.assign({},_),{disableMultiStroke:!0,roughness:_.roughness?_.roughness+_.fillShapeRoughnessGain:0}));G.push({type:"fillPath",ops:this._mergedShape(ue.ops)})}else{const ue=function(pe,Pe=0){const Me=pe.length;if(Me<3)throw new Error("A curve must have at least three points.");const $e=[];if(Me===3)$e.push(de(pe[0]),de(pe[1]),de(pe[2]),de(pe[2]));else{const Ke=[];Ke.push(pe[0],pe[0]);for(let ot=1;ot<pe.length;ot++)Ke.push(pe[ot]),ot===pe.length-1&&Ke.push(pe[ot]);const qe=[],Fe=1-Pe;$e.push(de(Ke[0]));for(let ot=1;ot+2<Ke.length;ot++){const it=Ke[ot];qe[0]=[it[0],it[1]],qe[1]=[it[0]+(Fe*Ke[ot+1][0]-Fe*Ke[ot-1][0])/6,it[1]+(Fe*Ke[ot+1][1]-Fe*Ke[ot-1][1])/6],qe[2]=[Ke[ot+1][0]+(Fe*Ke[ot][0]-Fe*Ke[ot+2][0])/6,Ke[ot+1][1]+(Fe*Ke[ot][1]-Fe*Ke[ot+2][1])/6],qe[3]=[Ke[ot+1][0],Ke[ot+1][1]],$e.push(qe[1],qe[2],qe[3])}}return $e}(h),ie=function(pe,Pe=.15,Me){const $e=[],Ke=(pe.length-1)/3;for(let qe=0;qe<Ke;qe++)xe(pe,3*qe,Pe,$e);return Me&&Me>0?je($e,0,$e.length,Me):$e}(ue,10,(1+_.roughness)/2);G.push(b([ie],_))}return _.stroke!==ye&&G.push($),this._d("curve",G,_)}polygon(h,m){const _=this._o(m),G=[],$=I(h,!0,_);return _.fill&&(_.fillStyle==="solid"?G.push(D([h],_)):G.push(b([h],_))),_.stroke!==ye&&G.push($),this._d("polygon",G,_)}path(h,m){const _=this._o(m),G=[];if(!h)return this._d("path",G,_);h=(h||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const $=_.fill&&_.fill!=="transparent"&&_.fill!==ye,ue=_.stroke!==ye,ie=!!(_.simplification&&_.simplification<1),pe=Ze(h,1,ie?4-4*(_.simplification||1):(1+_.roughness)/2),Pe=s(h,_);if($)if(_.fillStyle==="solid")if(pe.length===1){const Me=s(h,Object.assign(Object.assign({},_),{disableMultiStroke:!0,roughness:_.roughness?_.roughness+_.fillShapeRoughnessGain:0}));G.push({type:"fillPath",ops:this._mergedShape(Me.ops)})}else G.push(D(pe,_));else G.push(b(pe,_));return ue&&(ie?pe.forEach(Me=>{G.push(I(Me,!1,_))}):G.push(Pe)),this._d("path",G,_)}opsToPath(h,m){let _="";for(const G of h.ops){const $=typeof m=="number"&&m>=0?G.data.map(ue=>+ue.toFixed(m)):G.data;switch(G.op){case"move":_+=`M${$[0]} ${$[1]} `;break;case"bcurveTo":_+=`C${$[0]} ${$[1]}, ${$[2]} ${$[3]}, ${$[4]} ${$[5]} `;break;case"lineTo":_+=`L${$[0]} ${$[1]} `}}return _.trim()}toPaths(h){const m=h.sets||[],_=h.options||this.defaultOptions,G=[];for(const $ of m){let ue=null;switch($.type){case"path":ue={d:this.opsToPath($),stroke:_.stroke,strokeWidth:_.strokeWidth,fill:ye};break;case"fillPath":ue={d:this.opsToPath($),stroke:ye,strokeWidth:0,fill:_.fill||ye};break;case"fillSketch":ue=this.fillSketch($,_)}ue&&G.push(ue)}return G}fillSketch(h,m){let _=m.fillWeight;return _<0&&(_=m.strokeWidth/2),{d:this.opsToPath(h),stroke:m.fill||ye,strokeWidth:_,fill:ye}}_mergedShape(h){return h.filter((m,_)=>_===0||m.op!=="move")}}},8152:function(Q,z,o){function M(){return Math.floor(Math.random()*2147483648)}o.d(z,{W:function(){return M},k:function(){return p}});class p{constructor(u){this.seed=u}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(Q,z,o){o.d(z,{Z:function(){return E}});var M=o(8128);class p{constructor(k,d){this.canvas=k,this.ctx=this.canvas.getContext("2d"),this.gen=new M.V(d)}draw(k){const d=k.sets||[],L=k.options||this.getDefaultOptions(),W=this.ctx,Y=k.options.fixedDecimalPlaceDigits;for(const ee of d)switch(ee.type){case"path":W.save(),W.strokeStyle=L.stroke==="none"?"transparent":L.stroke,W.lineWidth=L.strokeWidth,L.strokeLineDash&&W.setLineDash(L.strokeLineDash),L.strokeLineDashOffset&&(W.lineDashOffset=L.strokeLineDashOffset),this._drawToContext(W,ee,Y),W.restore();break;case"fillPath":{W.save(),W.fillStyle=L.fill||"";const S=k.shape==="curve"||k.shape==="polygon"||k.shape==="path"?"evenodd":"nonzero";this._drawToContext(W,ee,Y,S),W.restore();break}case"fillSketch":this.fillSketch(W,ee,L)}}fillSketch(k,d,L){let W=L.fillWeight;W<0&&(W=L.strokeWidth/2),k.save(),L.fillLineDash&&k.setLineDash(L.fillLineDash),L.fillLineDashOffset&&(k.lineDashOffset=L.fillLineDashOffset),k.strokeStyle=L.fill||"",k.lineWidth=W,this._drawToContext(k,d,L.fixedDecimalPlaceDigits),k.restore()}_drawToContext(k,d,L,W="nonzero"){k.beginPath();for(const Y of d.ops){const ee=typeof L=="number"&&L>=0?Y.data.map(S=>+S.toFixed(L)):Y.data;switch(Y.op){case"move":k.moveTo(ee[0],ee[1]);break;case"bcurveTo":k.bezierCurveTo(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case"lineTo":k.lineTo(ee[0],ee[1])}}d.type==="fillPath"?k.fill(W):k.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(k,d,L,W,Y){const ee=this.gen.line(k,d,L,W,Y);return this.draw(ee),ee}rectangle(k,d,L,W,Y){const ee=this.gen.rectangle(k,d,L,W,Y);return this.draw(ee),ee}ellipse(k,d,L,W,Y){const ee=this.gen.ellipse(k,d,L,W,Y);return this.draw(ee),ee}circle(k,d,L,W){const Y=this.gen.circle(k,d,L,W);return this.draw(Y),Y}linearPath(k,d){const L=this.gen.linearPath(k,d);return this.draw(L),L}polygon(k,d){const L=this.gen.polygon(k,d);return this.draw(L),L}arc(k,d,L,W,Y,ee,S=!1,B){const he=this.gen.arc(k,d,L,W,Y,ee,S,B);return this.draw(he),he}curve(k,d){const L=this.gen.curve(k,d);return this.draw(L),L}path(k,d){const L=this.gen.path(k,d);return this.draw(L),L}}const f="http://www.w3.org/2000/svg";class u{constructor(k,d){this.svg=k,this.gen=new M.V(d)}draw(k){const d=k.sets||[],L=k.options||this.getDefaultOptions(),W=this.svg.ownerDocument||window.document,Y=W.createElementNS(f,"g"),ee=k.options.fixedDecimalPlaceDigits;for(const S of d){let B=null;switch(S.type){case"path":B=W.createElementNS(f,"path"),B.setAttribute("d",this.opsToPath(S,ee)),B.setAttribute("stroke",L.stroke),B.setAttribute("stroke-width",L.strokeWidth+""),B.setAttribute("fill","none"),L.strokeLineDash&&B.setAttribute("stroke-dasharray",L.strokeLineDash.join(" ").trim()),L.strokeLineDashOffset&&B.setAttribute("stroke-dashoffset",`${L.strokeLineDashOffset}`);break;case"fillPath":B=W.createElementNS(f,"path"),B.setAttribute("d",this.opsToPath(S,ee)),B.setAttribute("stroke","none"),B.setAttribute("stroke-width","0"),B.setAttribute("fill",L.fill||""),k.shape!=="curve"&&k.shape!=="polygon"||B.setAttribute("fill-rule","evenodd");break;case"fillSketch":B=this.fillSketch(W,S,L)}B&&Y.appendChild(B)}return Y}fillSketch(k,d,L){let W=L.fillWeight;W<0&&(W=L.strokeWidth/2);const Y=k.createElementNS(f,"path");return Y.setAttribute("d",this.opsToPath(d,L.fixedDecimalPlaceDigits)),Y.setAttribute("stroke",L.fill||""),Y.setAttribute("stroke-width",W+""),Y.setAttribute("fill","none"),L.fillLineDash&&Y.setAttribute("stroke-dasharray",L.fillLineDash.join(" ").trim()),L.fillLineDashOffset&&Y.setAttribute("stroke-dashoffset",`${L.fillLineDashOffset}`),Y}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(k,d){return this.gen.opsToPath(k,d)}line(k,d,L,W,Y){const ee=this.gen.line(k,d,L,W,Y);return this.draw(ee)}rectangle(k,d,L,W,Y){const ee=this.gen.rectangle(k,d,L,W,Y);return this.draw(ee)}ellipse(k,d,L,W,Y){const ee=this.gen.ellipse(k,d,L,W,Y);return this.draw(ee)}circle(k,d,L,W){const Y=this.gen.circle(k,d,L,W);return this.draw(Y)}linearPath(k,d){const L=this.gen.linearPath(k,d);return this.draw(L)}polygon(k,d){const L=this.gen.polygon(k,d);return this.draw(L)}arc(k,d,L,W,Y,ee,S=!1,B){const he=this.gen.arc(k,d,L,W,Y,ee,S,B);return this.draw(he)}curve(k,d){const L=this.gen.curve(k,d);return this.draw(L)}path(k,d){const L=this.gen.path(k,d);return this.draw(L)}}var E={canvas:(R,k)=>new p(R,k),svg:(R,k)=>new u(R,k),generator:R=>new M.V(R),newSeed:()=>M.V.newSeed()}},5714:function(Q){Q.exports=function(z,o,M){var p=[],f=z.length;if(f===0)return p;var u=o<0?Math.max(0,o+f):o||0;for(M!==void 0&&(f=M<0?M+f:M);f-- >u;)p[f-u]=z[f];return p}},2173:function(Q,z,o){var M=o(9787),p=typeof Object.is=="function"?Object.is:function(L,W){return L===W&&(L!==0||1/L==1/W)||L!=L&&W!=W},f=M.useState,u=M.useEffect,E=M.useLayoutEffect,R=M.useDebugValue;function k(L){var W=L.getSnapshot;L=L.value;try{var Y=W();return!p(L,Y)}catch{return!0}}var d=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(L,W){return W()}:function(L,W){var Y=W(),ee=f({inst:{value:Y,getSnapshot:W}}),S=ee[0].inst,B=ee[1];return E(function(){S.value=Y,S.getSnapshot=W,k(S)&&B({inst:S})},[L,Y,W]),u(function(){return k(S)&&B({inst:S}),L(function(){k(S)&&B({inst:S})})},[L]),R(Y),Y};z.useSyncExternalStore=M.useSyncExternalStore!==void 0?M.useSyncExternalStore:d},5917:function(Q,z,o){var M=o(9787),p=o(1374),f=typeof Object.is=="function"?Object.is:function(L,W){return L===W&&(L!==0||1/L==1/W)||L!=L&&W!=W},u=p.useSyncExternalStore,E=M.useRef,R=M.useEffect,k=M.useMemo,d=M.useDebugValue;z.useSyncExternalStoreWithSelector=function(L,W,Y,ee,S){var B=E(null);if(B.current===null){var he={hasValue:!1,value:null};B.current=he}else he=B.current;B=k(function(){function ve(O){if(!N){if(N=!0,me=O,O=ee(O),S!==void 0&&he.hasValue){var I=he.value;if(S(I,O))return le=I}return le=O}if(I=le,f(me,O))return I;var A=ee(O);return S!==void 0&&S(I,A)?I:(me=O,le=A)}var me,le,N=!1,oe=Y===void 0?null:Y;return[function(){return ve(W())},oe===null?void 0:function(){return ve(oe())}]},[W,Y,ee,S]);var ge=u(L,B[0],B[1]);return R(function(){he.hasValue=!0,he.value=ge},[ge]),d(ge),ge}},1374:function(Q,z,o){Q.exports=o(2173)},5668:function(Q,z,o){Q.exports=o(5917)},940:function(Q,z,o){var M={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function p(f){if(!o.o(M,f))return Promise.resolve().then(function(){var R=new Error("Cannot find module '"+f+"'");throw R.code="MODULE_NOT_FOUND",R});var u=M[f],E=u[0];return Promise.all(u.slice(1).map(o.e)).then(function(){return o.t(E,19)})}p.keys=function(){return Object.keys(M)},p.id=940,Q.exports=p},9713:function(Q){Q.exports=function(z,o,M){return o in z?Object.defineProperty(z,o,{value:M,enumerable:!0,configurable:!0,writable:!0}):z[o]=M,z}},6479:function(Q,z,o){var M=o(7316);Q.exports=function(p,f){if(p==null)return{};var u,E,R=M(p,f);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);for(E=0;E<k.length;E++)u=k[E],f.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(p,u)&&(R[u]=p[u])}return R}},7316:function(Q){Q.exports=function(z,o){if(z==null)return{};var M,p,f={},u=Object.keys(z);for(p=0;p<u.length;p++)M=u[p],o.indexOf(M)>=0||(f[M]=z[M]);return f}},4295:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(3940),o.b),d=new URL(o(3147),o.b),L=new URL(o(8303),o.b),W=new URL(o(1273),o.b),Y=new URL(o(9577),o.b),ee=new URL(o(9729),o.b),S=u()(p()),B=R()(k),he=R()(d),ge=R()(L),ve=R()(W),me=R()(Y),le=R()(ee);S.push([Q.id,'@font-face{font-family:"Virgil";src:url('+B+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+he+');font-display:swap}@font-face{font-family:"Assistant";src:url('+ge+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ve+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+me+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+le+");font-display:swap;font-weight:700}",""]),z.Z=S},6086:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),z.Z=u},3729:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),z.Z=u},3137:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(7984),o.b),d=new URL(o(1639),o.b),L=u()(p()),W=R()(k),Y=R()(d);L.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+W+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+Y+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),z.Z=L},4241:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),z.Z=u},6029:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),z.Z=u},4269:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(9669),o.b),d=u()(p()),L=R()(k);d.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+L+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+L+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),z.Z=d},9393:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),z.Z=u},6578:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),z.Z=u},9482:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),z.Z=u},6148:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),z.Z=u},5744:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),z.Z=u},7955:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(9669),o.b),d=u()(p()),L=R()(k);d.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+L+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),z.Z=d},7522:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),z.Z=u},8960:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),z.Z=u},3195:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),z.Z=u},2978:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),z.Z=u},1587:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),z.Z=u},9478:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),z.Z=u},9706:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(9669),o.b),d=u()(p()),L=R()(k);d.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+L+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),z.Z=d},7369:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),z.Z=u},7930:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),z.Z=u},1434:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),z.Z=u},8923:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),z.Z=u},6440:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),z.Z=u},5644:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),z.Z=u},5830:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(9669),o.b),d=u()(p()),L=R()(k);d.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+L+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),z.Z=d},6843:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),z.Z=u},9439:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),z.Z=u},8461:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),z.Z=u},9935:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),z.Z=u},532:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),z.Z=u},7589:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),z.Z=u},6217:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),z.Z=u},8208:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),z.Z=u},7051:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),z.Z=u},5892:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),z.Z=u},3874:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),z.Z=u},2681:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),z.Z=u},7802:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),z.Z=u},6759:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),z.Z=u},9650:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),z.Z=u},2044:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),z.Z=u},9144:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),z.Z=u},6626:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),z.Z=u},6359:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),z.Z=u},7399:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),z.Z=u},8793:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),z.Z=u},3397:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),z.Z=u},4343:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),z.Z=u},1569:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),z.Z=u},9915:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),z.Z=u},9310:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f),E=o(1667),R=o.n(E),k=new URL(o(7984),o.b),d=new URL(o(1639),o.b),L=u()(p()),W=R()(k),Y=R()(d);L.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+W+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+Y+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),z.Z=L},6464:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,"",""]),u.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},z.Z=u},5260:function(Q,z,o){var M=o(8081),p=o.n(M),f=o(3645),u=o.n(f)()(p());u.push([Q.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),z.Z=u},3645:function(Q){Q.exports=function(z){var o=[];return o.toString=function(){return this.map(function(M){var p="",f=M[5]!==void 0;return M[4]&&(p+="@supports (".concat(M[4],") {")),M[2]&&(p+="@media ".concat(M[2]," {")),f&&(p+="@layer".concat(M[5].length>0?" ".concat(M[5]):""," {")),p+=z(M),f&&(p+="}"),M[2]&&(p+="}"),M[4]&&(p+="}"),p}).join("")},o.i=function(M,p,f,u,E){typeof M=="string"&&(M=[[null,M,void 0]]);var R={};if(f)for(var k=0;k<this.length;k++){var d=this[k][0];d!=null&&(R[d]=!0)}for(var L=0;L<M.length;L++){var W=[].concat(M[L]);f&&R[W[0]]||(E!==void 0&&(W[5]===void 0||(W[1]="@layer".concat(W[5].length>0?" ".concat(W[5]):""," {").concat(W[1],"}")),W[5]=E),p&&(W[2]&&(W[1]="@media ".concat(W[2]," {").concat(W[1],"}")),W[2]=p),u&&(W[4]?(W[1]="@supports (".concat(W[4],") {").concat(W[1],"}"),W[4]=u):W[4]="".concat(u)),o.push(W))}},o}},1667:function(Q){Q.exports=function(z,o){return o||(o={}),z&&(z=String(z.__esModule?z.default:z),/^['"].*['"]$/.test(z)&&(z=z.slice(1,-1)),o.hash&&(z+=o.hash),/["'() \t\n]|(%20)/.test(z)||o.needQuotes?'"'.concat(z.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):z)}},8081:function(Q){Q.exports=function(z){return z[1]}},7392:function(Q,z,o){o.d(z,{JQ:function(){return me},vD:function(){return ge},y7:function(){return he}});var M=o(1930),p=o(7169),f=o(9937),u=o(7651),E=o(583),R=o(4761),k=o(3474),d=o(4183),L=o(9827),W=o(2767);function Y(le,N){var oe=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!oe){if(Array.isArray(le)||(oe=function(y,T){if(y){if(typeof y=="string")return ee(y,T);var s=Object.prototype.toString.call(y).slice(8,-1);if(s==="Object"&&y.constructor&&(s=y.constructor.name),s==="Map"||s==="Set")return Array.from(y);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ee(y,T)}}(le))||N&&le&&typeof le.length=="number"){oe&&(le=oe);var O=0,I=function(){};return{s:I,n:function(){return O>=le.length?{done:!0}:{done:!1,value:le[O++]}},e:function(y){throw y},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,C=!0,U=!1;return{s:function(){oe=oe.call(le)},n:function(){var y=oe.next();return C=y.done,y},e:function(y){U=!0,A=y},f:function(){try{C||oe.return==null||oe.return()}finally{if(U)throw A}}}}function ee(le,N){(N==null||N>le.length)&&(N=le.length);for(var oe=0,O=new Array(N);oe<N;oe++)O[oe]=le[oe];return O}function S(le,N){var oe=Object.keys(le);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(le);N&&(O=O.filter(function(I){return Object.getOwnPropertyDescriptor(le,I).enumerable})),oe.push.apply(oe,O)}return oe}function B(le){for(var N=1;N<arguments.length;N++){var oe=arguments[N]!=null?arguments[N]:{};N%2?S(Object(oe),!0).forEach(function(O){(0,p.Z)(le,O,oe[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(oe)):S(Object(oe)).forEach(function(O){Object.defineProperty(le,O,Object.getOwnPropertyDescriptor(oe,O))})}return le}var he=(0,W.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(le,N,oe,O){return O.scene.getSelectedElements(N).some(function(I){return(0,d.Xo)(I)})},perform:function(le,N,oe,O){return O.scene.getSelectedElements(N).forEach(function(I){var A=(0,R.WJ)(I);if(A){var C,U=(0,R.X1)(A.originalText,(0,L.mO)(A),A.lineHeight),y=U.width,T=U.height,s=U.baseline,D=(0,k.eR)(I.id);(0,k.kT)(I.id);var b=(0,R.FE)(I,A),v=b.x,x=b.y;(0,E.DR)(A,{containerId:null,width:y,height:T,baseline:s,text:A.originalText,x:v,y:x}),(0,E.DR)(I,{boundElements:(C=I.boundElements)===null||C===void 0?void 0:C.filter(function(j){return j.id!==A.id}),height:D||I.height})}}),{elements:le,appState:N,commitToHistory:!0}}}),ge=(0,W.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(le,N,oe,O){var I=O.scene.getSelectedElements(N);if(I.length===2){var A,C=(0,u.iB)(I[0])||(0,u.iB)(I[1]);if((0,d.mG)(I[0])?A=I[0]:(0,d.mG)(I[1])&&(A=I[1]),C&&A&&(0,R.WJ)(A)===null)return!0}return!1},perform:function(le,N,oe,O){var I,A,C=O.scene.getSelectedElements(N);(0,u.iB)(C[0])&&(0,d.mG)(C[1])?(I=C[0],A=C[1]):(I=C[1],A=C[0]),(0,E.DR)(I,{containerId:A.id,verticalAlign:f.oX.MIDDLE,textAlign:f.I8.CENTER}),(0,E.DR)(A,{boundElements:(A.boundElements||[]).concat({type:"text",id:I.id})});var U=A.height;return(0,R.oN)(I,A),(0,k.h_)(A.id,U),{elements:ve(le,A,I),appState:B(B({},N),{},{selectedElementIds:(0,p.Z)({},A.id,!0)}),commitToHistory:!0}}}),ve=function(le,N,oe){var O=le.slice(),I=O.findIndex(function(C){return C.id===oe.id});O.splice(I,1);var A=O.findIndex(function(C){return C.id===N.id});return O.splice(A+1,0,oe),O},me=(0,W.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(le,N,oe,O){var I=O.scene.getSelectedElements(N),A=I.every(function(C){return(0,u.iB)(C)});return I.length>0&&A},perform:function(le,N,oe,O){var I,A=O.scene.getSelectedElements(N),C=le.slice(),U={},y=Y(A);try{var T=function(){var s=I.value;if((0,u.iB)(s)){var D,b=(0,u.Up)({type:"rectangle",backgroundColor:N.currentItemBackgroundColor,boundElements:[].concat((0,M.Z)(s.boundElements||[]),[{id:s.id,type:"text"}]),angle:s.angle,fillStyle:N.currentItemFillStyle,strokeColor:N.currentItemStrokeColor,roughness:N.currentItemRoughness,strokeWidth:N.currentItemStrokeWidth,strokeStyle:N.currentItemStrokeStyle,roundness:N.currentItemRoundness==="round"?{type:(0,d.QI)("rectangle")?f.a6.ADAPTIVE_RADIUS:f.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:s.x-f.gK,y:s.y-f.gK,width:(0,R.NS)(s.width,"rectangle"),height:(0,R.NS)(s.height,"rectangle"),groupIds:s.groupIds,frameId:s.frameId});if((D=s.boundElements)!==null&&D!==void 0&&D.length){var v=s.boundElements.filter(function(x){return x.type==="arrow"}).map(function(x){return x.id});C.filter(function(x){return v.includes(x.id)}).forEach(function(x){var j,te,V=x.startBinding,F=x.endBinding;((j=V)===null||j===void 0?void 0:j.elementId)===s.id&&(V=B(B({},V),{},{elementId:b.id})),((te=F)===null||te===void 0?void 0:te.elementId)===s.id&&(F=B(B({},F),{},{elementId:b.id})),(V||F)&&(0,E.DR)(x,{startBinding:V,endBinding:F},!1)})}(0,E.DR)(s,{containerId:b.id,verticalAlign:f.oX.MIDDLE,boundElements:null,textAlign:f.I8.CENTER},!1),(0,R.oN)(s,b),C=function(x,j,te){var V=x.slice(),F=V.findIndex(function(ne){return ne.id===j.id});V.splice(F,1);var Z=V.findIndex(function(ne){return ne.id===te.id});return V.splice(Z,0,j),V}([].concat((0,M.Z)(C),[b]),b,s),U[b.id]=!0}};for(y.s();!(I=y.n()).done;)T()}catch(s){y.e(s)}finally{y.f()}return{elements:C,appState:B(B({},N),{},{selectedElementIds:U}),commitToHistory:!0}}})},6006:function(Q,z,o){o.d(z,{CZ:function(){return C},JB:function(){return U},Lo:function(){return A},Zp:function(){return y},eF:function(){return T},mo:function(){return I}});var M=o(2577),p=o(7169),f=o(193),u=o(8935),E=o(1512),R=o(9937),k=o(7651),d=o(8227),L=o(5491),W=o(4105),Y=o(2382),ee=o(4116),S=o(9827),B=o(2767),he=o(8925),ge=o(583),ve=o(6853),me=o(9240),le=o(7652),N=o(1020);function oe(s,D){var b=Object.keys(s);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(s);D&&(v=v.filter(function(x){return Object.getOwnPropertyDescriptor(s,x).enumerable})),b.push.apply(b,v)}return b}function O(s){for(var D=1;D<arguments.length;D++){var b=arguments[D]!=null?arguments[D]:{};D%2?oe(Object(b),!0).forEach(function(v){(0,p.Z)(s,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(b)):oe(Object(b)).forEach(function(v){Object.defineProperty(s,v,Object.getOwnPropertyDescriptor(b,v))})}return s}(0,B.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(s,D,b,v){return!!v.props.UIOptions.canvasActions.changeViewBackgroundColor&&!D.viewModeEnabled},perform:function(s,D,b){return{appState:O(O({},D),b),commitToHistory:!!b.viewBackgroundColor}},PanelComponent:function(s){var D=s.elements,b=s.appState,v=s.updateData;return s.appProps,(0,N.jsx)(f.z,{palette:null,topPicks:me.ay,label:(0,d.t)("labels.canvasBackground"),type:"canvasBackground",color:b.viewBackgroundColor,onChange:function(x){return v({viewBackgroundColor:x})},"data-testid":"canvas-background-picker",elements:D,appState:b,updateData:v})}});var I=(0,B.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(s,D,b,v){return!!v.props.UIOptions.canvasActions.clearCanvas&&!D.viewModeEnabled},perform:function(s,D,b,v){return v.imageCache.clear(),{elements:s.map(function(x){return(0,ge.BE)(x,{isDeleted:!0})}),appState:O(O({},(0,ve.im)()),{},{files:{},theme:D.theme,penMode:D.penMode,penDetected:D.penDetected,exportBackground:D.exportBackground,exportEmbedScene:D.exportEmbedScene,gridSize:D.gridSize,showStats:D.showStats,pasteDialog:D.pasteDialog,activeTool:D.activeTool.type==="image"?O(O({},D.activeTool),{},{type:"selection"}):D.activeTool}),commitToHistory:!0}}}),A=(0,B.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,D,b,v){return{appState:O(O({},D),(0,ee.E)({viewportX:D.width/2+D.offsetLeft,viewportY:D.height/2+D.offsetTop,nextZoom:(0,W.j)(D.zoom.value+R.V4)},D)),commitToHistory:!1}},PanelComponent:function(s){var D=s.updateData;return(0,N.jsx)(E.V,{type:"button",className:"zoom-in-button zoom-button",icon:u.Sd,title:"".concat((0,d.t)("buttons.zoomIn"),"  ").concat((0,S.uY)("CtrlOrCmd++")),"aria-label":(0,d.t)("buttons.zoomIn"),onClick:function(){D(null)}})},keyTest:function(s){return(s.code===L.aU.EQUAL||s.code===L.aU.NUM_ADD)&&(s[L.tW.CTRL_OR_CMD]||s.shiftKey)}}),C=(0,B.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,D,b,v){return{appState:O(O({},D),(0,ee.E)({viewportX:D.width/2+D.offsetLeft,viewportY:D.height/2+D.offsetTop,nextZoom:(0,W.j)(D.zoom.value-R.V4)},D)),commitToHistory:!1}},PanelComponent:function(s){var D=s.updateData;return(0,N.jsx)(E.V,{type:"button",className:"zoom-out-button zoom-button",icon:u.xL,title:"".concat((0,d.t)("buttons.zoomOut"),"  ").concat((0,S.uY)("CtrlOrCmd+-")),"aria-label":(0,d.t)("buttons.zoomOut"),onClick:function(){D(null)}})},keyTest:function(s){return(s.code===L.aU.MINUS||s.code===L.aU.NUM_SUBTRACT)&&(s[L.tW.CTRL_OR_CMD]||s.shiftKey)}}),U=((0,B.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,D,b,v){return{appState:O(O({},D),(0,ee.E)({viewportX:D.width/2+D.offsetLeft,viewportY:D.height/2+D.offsetTop,nextZoom:(0,W.j)(1)},D)),commitToHistory:!1}},PanelComponent:function(s){var D=s.updateData,b=s.appState;return(0,N.jsx)(he.u,{label:(0,d.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,N.jsxs)(E.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,d.t)("buttons.resetZoom"),"aria-label":(0,d.t)("buttons.resetZoom"),onClick:function(){D(null)},children:[(100*b.zoom.value).toFixed(0),"%"]})})},keyTest:function(s){return(s.code===L.aU.ZERO||s.code===L.aU.NUM_ZERO)&&(s[L.tW.CTRL_OR_CMD]||s.shiftKey)}}),function(s){var D,b,v,x=s.targetElements,j=s.appState,te=s.fitToViewport,V=te!==void 0&&te,F=s.viewportZoomFactor,Z=F===void 0?.7:F,ne=(0,k.KP)((0,k.Lm)(x)),ce=(0,M.Z)(ne,4),Se=ce[0],de=ce[1],_e=ce[2],we=ce[3],J=(Se+_e)/2,xe=(de+we)/2;if(V){var je=_e-Se,Ue=we-de;D=Math.min(j.width/je,j.height/Ue)*Math.min(1,Math.max(Z,.1)),D=Math.min(Math.max(D,.1),30),b=j.width/2*(1/D)-J,v=j.height/2*(1/D)-xe}else{D=function(He,Le){var De=(0,M.Z)(He,4),Be=De[0],Ze=De[1],ye=De[2],be=De[3],X=ye-Be,h=Le.width/X,m=be-Ze,_=Le.height/m,G=Math.min(h,_),$=Math.floor(G/R.V4)*R.V4;return Math.min(Math.max($,R.Zj),1)}(ne,{width:j.width,height:j.height});var et=(0,Y.s)({scenePoint:{x:J,y:xe},viewportDimensions:{width:j.width,height:j.height},zoom:{value:D}});b=et.scrollX,v=et.scrollY}return{appState:O(O({},j),{},{scrollX:b,scrollY:v,zoom:{value:D}}),commitToHistory:!1}}),y=((0,B.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(s,D,b,v){var x=v.scene.getSelectedElements(D);return U({targetElements:x.length?x:s,appState:D,fitToViewport:!1})},keyTest:function(s){return s.code===L.aU.TWO&&s.shiftKey&&!s.altKey&&!s[L.tW.CTRL_OR_CMD]}}),(0,B.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(s,D,b,v){var x=v.scene.getSelectedElements(D);return U({targetElements:x.length?x:s,appState:D,fitToViewport:!0})},keyTest:function(s){return s.code===L.aU.THREE&&s.shiftKey&&!s.altKey&&!s[L.tW.CTRL_OR_CMD]}}),(0,B.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,D){return U({targetElements:s,appState:D,fitToViewport:!1})},keyTest:function(s){return s.code===L.aU.ONE&&s.shiftKey&&!s.altKey&&!s[L.tW.CTRL_OR_CMD]}}),(0,B.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,D,b){return{appState:O(O({},D),{},{theme:b||(D.theme===R.C6.LIGHT?R.C6.DARK:R.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(s){return s.altKey&&s.shiftKey&&s.code===L.aU.D},predicate:function(s,D,b,v){return!!v.props.UIOptions.canvasActions.toggleTheme}})),T=((0,B.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(s,D){var b;return b=(0,ve.EN)(D)?(0,S.Om)(D,O(O({},D.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,S.Om)(D,{type:"eraser",lastActiveToolBeforeEraser:D.activeTool}),{appState:O(O({},D),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:b}),commitToHistory:!0}},keyTest:function(s){return s.key===L.tW.E}}),(0,B.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(s,D,b,v){var x;return(0,ve.l$)(D)?x=(0,S.Om)(D,O(O({},D.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(x=(0,S.Om)(D,{type:"hand",lastActiveToolBeforeEraser:D.activeTool}),(0,le.KJ)(v.interactiveCanvas,R.oc.GRAB)),{appState:O(O({},D),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:x}),commitToHistory:!0}},keyTest:function(s){return!s.altKey&&!s[L.tW.CTRL_OR_CMD]&&s.key===L.tW.H}}))},5047:function(Q,z,o){o.d(z,{FA:function(){return O},ZM:function(){return oe},jK:function(){return I},uN:function(){return le},yQ:function(){return N},zp:function(){return A}});var M=o(7169),p=o(8950),f=o(2975),u=o.n(f),E=o(5491),R=o(2767),k=o(4694),d=o(2448),L=o(2435),W=o(7651),Y=o(8227),ee=o(9937);function S(C,U){var y=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);U&&(T=T.filter(function(s){return Object.getOwnPropertyDescriptor(C,s).enumerable})),y.push.apply(y,T)}return y}function B(C){for(var U=1;U<arguments.length;U++){var y=arguments[U]!=null?arguments[U]:{};U%2?S(Object(y),!0).forEach(function(T){(0,M.Z)(C,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(y)):S(Object(y)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(y,T))})}return C}var he,ge,ve,me,le=(0,R.z)({name:"copy",trackEvent:{category:"element"},perform:(he=(0,p.Z)(u().mark(function C(U,y,T,s){var D;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=s.scene.getSelectedElements({selectedElementIds:y.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),b.prev=1,b.next=4,(0,k.vQ)(D,s.files,T);case 4:b.next=9;break;case 6:return b.prev=6,b.t0=b.catch(1),b.abrupt("return",{commitToHistory:!1,appState:B(B({},y),{},{errorMessage:b.t0.message})});case 9:return b.abrupt("return",{commitToHistory:!1});case 10:case"end":return b.stop()}},C,null,[[1,6]])})),function(C,U,y,T){return he.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),N=(0,R.z)({name:"paste",trackEvent:{category:"element"},perform:(ge=(0,p.Z)(u().mark(function C(U,y,T,s){var D;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,(0,k.Se)();case 3:D=b.sent,b.next=14;break;case 6:if(b.prev=6,b.t0=b.catch(0),b.t0.name!=="AbortError"&&b.t0.name!=="NotAllowedError"){b.next=10;break}return b.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(b.t0.name,": ").concat(b.t0.message)),!ee.vU){b.next=13;break}return b.abrupt("return",{commitToHistory:!1,appState:B(B({},y),{},{errorMessage:(0,Y.t)("hints.firefox_clipboard_write")})});case 13:return b.abrupt("return",{commitToHistory:!1,appState:B(B({},y),{},{errorMessage:(0,Y.t)("errors.asyncPasteFailedOnRead")})});case 14:b.prev=14,s.pasteFromClipboard((0,k.OO)({types:D})),b.next=22;break;case 18:return b.prev=18,b.t1=b.catch(14),console.error(b.t1),b.abrupt("return",{commitToHistory:!1,appState:B(B({},y),{},{errorMessage:(0,Y.t)("errors.asyncPasteFailedOnParse")})});case 22:return b.abrupt("return",{commitToHistory:!1});case 23:case"end":return b.stop()}},C,null,[[0,6],[14,18]])})),function(C,U,y,T){return ge.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),oe=(0,R.z)({name:"cut",trackEvent:{category:"element"},perform:function(C,U,y,T){return le.perform(C,U,y,T),d.X.perform(C,U)},contextItemLabel:"labels.cut",keyTest:function(C){return C[E.tW.CTRL_OR_CMD]&&C.key===E.tW.X}}),O=(0,R.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(ve=(0,p.Z)(u().mark(function C(U,y,T,s){var D,b,v;return u().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(s.canvas){x.next=2;break}return x.abrupt("return",{commitToHistory:!1});case 2:return D=(0,L.HD)(U,y,!0),b=D.exportedElements,v=D.exportingFrame,x.prev=3,x.next=6,(0,L.p1)("clipboard-svg",b,y,s.files,B(B({},y),{},{exportingFrame:v}));case 6:return x.abrupt("return",{commitToHistory:!1});case 9:return x.prev=9,x.t0=x.catch(3),console.error(x.t0),x.abrupt("return",{appState:B(B({},y),{},{errorMessage:x.t0.message}),commitToHistory:!1});case 13:case"end":return x.stop()}},C,null,[[3,9]])})),function(C,U,y,T){return ve.apply(this,arguments)}),predicate:function(C){return k.wx&&C.length>0},contextItemLabel:"labels.copyAsSvg"}),I=(0,R.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(me=(0,p.Z)(u().mark(function C(U,y,T,s){var D,b,v,x;return u().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(s.canvas){j.next=2;break}return j.abrupt("return",{commitToHistory:!1});case 2:return D=s.scene.getSelectedElements({selectedElementIds:y.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),b=(0,L.HD)(U,y,!0),v=b.exportedElements,x=b.exportingFrame,j.prev=4,j.next=7,(0,L.p1)("clipboard",v,y,s.files,B(B({},y),{},{exportingFrame:x}));case 7:return j.abrupt("return",{appState:B(B({},y),{},{toast:{message:(0,Y.t)("toast.copyToClipboardAsPng",{exportSelection:D.length?(0,Y.t)("toast.selection"):(0,Y.t)("toast.canvas"),exportColorScheme:y.exportWithDarkMode?(0,Y.t)("buttons.darkMode"):(0,Y.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return j.prev=10,j.t0=j.catch(4),console.error(j.t0),j.abrupt("return",{appState:B(B({},y),{},{errorMessage:j.t0.message}),commitToHistory:!1});case 14:case"end":return j.stop()}},C,null,[[4,10]])})),function(C,U,y,T){return me.apply(this,arguments)}),predicate:function(C){return k.vt&&C.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(C){return C.code===E.aU.C&&C.altKey&&C.shiftKey}}),A=(0,R.z)({name:"copyText",trackEvent:{category:"element"},perform:function(C,U,y,T){var s=T.scene.getSelectedElements({selectedElementIds:U.selectedElementIds,includeBoundTextElement:!0}).reduce(function(D,b){return(0,W.iB)(b)&&D.push(b.text),D},[]).join(`

`);return(0,k.dd)(s),{commitToHistory:!1}},predicate:function(C,U,y,T){return k.wx&&T.scene.getSelectedElements({selectedElementIds:U.selectedElementIds,includeBoundTextElement:!0}).some(W.iB)},contextItemLabel:"labels.copyText"})},2448:function(Q,z,o){o.d(z,{X:function(){return le}});var M=o(7169),p=o(4105),f=o(5491),u=o(1512),E=o(8227),R=o(2767),k=o(7651),d=o(583),L=o(9215),W=o(7422),Y=o(9645),ee=o(4183),S=o(9827),B=o(8935),he=o(1020);function ge(N,oe){var O=Object.keys(N);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(N);oe&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(N,A).enumerable})),O.push.apply(O,I)}return O}function ve(N){for(var oe=1;oe<arguments.length;oe++){var O=arguments[oe]!=null?arguments[oe]:{};oe%2?ge(Object(O),!0).forEach(function(I){(0,M.Z)(N,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(O)):ge(Object(O)).forEach(function(I){Object.defineProperty(N,I,Object.getOwnPropertyDescriptor(O,I))})}return N}var me=function(N,oe){if(N.editingGroupId){var O=(0,L.Fb)((0,k.Lm)(oe),N.editingGroupId);if(O.length)return ve(ve({},N),{},{selectedElementIds:(0,M.Z)({},O[0].id,!0)})}return N},le=(0,R.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(N,oe){if(oe.editingLinearElement){var O=oe.editingLinearElement,I=O.elementId,A=O.selectedPointsIndices,C=O.startBindingElement,U=O.endBindingElement,y=W._.getElement(I);if(!y||A==null)return!1;if(y.points.length<2){var T=N.map(function(x){return x.id===y.id?(0,d.BE)(x,{isDeleted:!0}):x});return{elements:T,appState:ve(ve({},me(oe,T)),{},{editingLinearElement:null}),commitToHistory:!1}}var s={startBindingElement:A!=null&&A.includes(0)?null:C,endBindingElement:A!=null&&A.includes(y.points.length-1)?null:U};return W._.deletePoints(y,A),{elements:N,appState:ve(ve({},oe),{},{editingLinearElement:ve(ve(ve({},oe.editingLinearElement),s),{},{selectedPointsIndices:(A==null?void 0:A[0])>0?[A[0]-1]:[0]})}),commitToHistory:!0}}var D=function(x,j){var te=new Set((0,p.eD)(x.filter(function(V){return V.type==="frame"}),j).map(function(V){return V.id}));return{elements:x.map(function(V){return j.selectedElementIds[V.id]||V.frameId&&te.has(V.frameId)||(0,ee.Xh)(V)&&j.selectedElementIds[V.containerId]?(0,d.BE)(V,{isDeleted:!0}):V}),appState:ve(ve({},j),{},{selectedElementIds:{},selectedGroupIds:{}})}}(N,oe),b=D.elements,v=D.appState;return(0,Y.$q)(b,N.filter(function(x){var j=x.id;return oe.selectedElementIds[j]})),{elements:b,appState:ve(ve({},v=me(v,b)),{},{activeTool:(0,S.Om)(oe,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,p.N)((0,k.Lm)(N),oe)}},contextItemLabel:"labels.delete",keyTest:function(N,oe,O){return(N.key===f.tW.BACKSPACE||N.key===f.tW.DELETE)&&!N[f.tW.CTRL_OR_CMD]},PanelComponent:function(N){var oe=N.elements,O=N.appState,I=N.updateData;return(0,he.jsx)(u.V,{type:"button",icon:B.XH,title:(0,E.t)("labels.delete"),"aria-label":(0,E.t)("labels.delete"),onClick:function(){return I(null)},visible:(0,p.N)((0,k.Lm)(oe),O)})}})},9672:function(Q,z,o){o.d(z,{$:function(){return L},U:function(){return W}});var M=o(7169),p=o(583),f=o(5491),u=o(9827),E=o(2767);function R(Y,ee){var S=Object.keys(Y);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(Y);ee&&(B=B.filter(function(he){return Object.getOwnPropertyDescriptor(Y,he).enumerable})),S.push.apply(S,B)}return S}function k(Y){for(var ee=1;ee<arguments.length;ee++){var S=arguments[ee]!=null?arguments[ee]:{};ee%2?R(Object(S),!0).forEach(function(B){(0,M.Z)(Y,B,S[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(S)):R(Object(S)).forEach(function(B){Object.defineProperty(Y,B,Object.getOwnPropertyDescriptor(S,B))})}return Y}var d=function(Y){return Y.every(function(ee){return!ee.locked})},L=(0,E.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(Y,ee,S,B){return!B.scene.getSelectedElements(ee).some(function(he){return he.locked&&he.frameId})},perform:function(Y,ee,S,B){var he=B.scene.getSelectedElements({selectedElementIds:ee.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!he.length)return!1;var ge=d(he),ve=(0,u.xn)(he);return{elements:Y.map(function(me){return ve.has(me.id)?(0,p.BE)(me,{locked:ge}):me}),appState:k(k({},ee),{},{selectedLinearElement:ge?null:ee.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(Y,ee,S){var B=S.scene.getSelectedElements({selectedElementIds:ee.selectedElementIds,includeBoundTextElement:!1});return B.length===1&&B[0].type!=="frame"?B[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":d(B)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(Y,ee,S,B){return Y.key.toLocaleLowerCase()===f.tW.L&&Y[f.tW.CTRL_OR_CMD]&&Y.shiftKey&&B.scene.getSelectedElements({selectedElementIds:ee.selectedElementIds,includeBoundTextElement:!1}).length>0}}),W=(0,E.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(Y){return Y.some(function(ee){return ee.locked})},perform:function(Y,ee){var S=Y.filter(function(B){return B.locked});return{elements:Y.map(function(B){return B.locked?(0,p.BE)(B,{locked:!1}):B}),appState:k(k({},ee),{},{selectedElementIds:Object.fromEntries(S.map(function(B){return[B.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(Q,z,o){o.d(z,{XA:function(){return Be},Du:function(){return Ze},sK:function(){return De},zX:function(){return Le},bJ:function(){return h},_d:function(){return X},mM:function(){return be},ns:function(){return ye}});var M=o(8950),p=o(2577),f=o(7169),u=o(2975),E=o.n(u),R=o(8935),k=o(3379),d=o.n(k),L=o(7795),W=o.n(L),Y=o(569),ee=o.n(Y),S=o(3565),B=o.n(S),he=o(9216),ge=o.n(he),ve=o(4589),me=o.n(ve),le=o(6759),N={};N.styleTagTransform=me(),N.setAttributes=B(),N.insert=ee().bind(null,"head"),N.domAPI=W(),N.insertStyleElement=ge(),d()(le.Z,N),le.Z&&le.Z.locals&&le.Z.locals;var oe=o(9787),O=o(9827),I=o(532),A={};A.styleTagTransform=me(),A.setAttributes=B(),A.insert=ee().bind(null,"head"),A.domAPI=W(),A.insertStyleElement=ge(),d()(I.Z,A),I.Z&&I.Z.locals&&I.Z.locals;var C=o(8242),U=o(5491),y=o(1020),T=function(m){var _=(0,C.J0)().id,G=(0,oe.useState)(m.value),$=(0,p.Z)(G,2),ue=$[0],ie=$[1];return(0,y.jsxs)("div",{className:"ProjectName",children:[(0,y.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(m.label).concat(m.isNameEditable?"":":")}),m.isNameEditable?(0,y.jsx)("input",{type:"text",className:"TextInput",onBlur:function(pe){m.ignoreFocus||(0,O.qz)(pe.target);var Pe=pe.target.value;Pe!==m.value&&m.onChange(Pe)},onKeyDown:function(pe){if(pe.key===U.tW.ENTER){if(pe.preventDefault(),pe.nativeEvent.isComposing||pe.keyCode===229)return;pe.currentTarget.blur()}},id:"".concat(_,"-filename"),value:ue,onChange:function(pe){return ie(pe.target.value)}}):(0,y.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(_,"-filename"),children:m.value})]})},s=o(1512),D=o(8925),b=(o(3041),o(8227)),v=o(9937),x=function(m){var _=m.title||(m.value==="dark"?(0,b.t)("buttons.lightMode"):(0,b.t)("buttons.darkMode"));return(0,y.jsx)(s.V,{type:"icon",icon:m.value===v.C6.LIGHT?j.MOON:j.SUN,title:_,"aria-label":_,onClick:function(){return m.onChange(m.value===v.C6.DARK?v.C6.LIGHT:v.C6.DARK)},"data-testid":"toggle-dark-mode"})},j={SUN:(0,y.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,y.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,y.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,y.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},te=o(2435),V=o(5796);function F(m,_){var G=Object.keys(m);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(m);_&&($=$.filter(function(ue){return Object.getOwnPropertyDescriptor(m,ue).enumerable})),G.push.apply(G,$)}return G}function Z(m){for(var _=1;_<arguments.length;_++){var G=arguments[_]!=null?arguments[_]:{};_%2?F(Object(G),!0).forEach(function($){(0,f.Z)(m,$,G[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(G)):F(Object(G)).forEach(function($){Object.defineProperty(m,$,Object.getOwnPropertyDescriptor(G,$))})}return m}var ne=function(){var m=(0,M.Z)(E().mark(function _(G,$,ue){var ie,pe,Pe,Me,$e,Ke,qe,Fe,ot;return E().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(pe=(ie=$).exportBackground,Pe=ie.viewBackgroundColor,Me=ie.name,$e=ie.fileHandle,Ke=(0,V.Qk)($e),$e&&(0,V.DQ)(Ke)){it.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return $=Z(Z({},$),{},{exportEmbedScene:!0}),qe=(0,te.HD)(G,$,!1),Fe=qe.exportedElements,ot=qe.exportingFrame,it.next=8,(0,te.p1)(Ke,Fe,$,ue,{exportBackground:pe,viewBackgroundColor:Pe,name:Me,fileHandle:$e,exportingFrame:ot});case 8:return it.abrupt("return",{fileHandle:$e});case 9:case"end":return it.stop()}},_)}));return function(_,G,$){return m.apply(this,arguments)}}(),ce=o(2767),Se=o(6238),de=o(3668),_e=o(4105),we=o(7651),J=o(6548);function xe(m,_){var G=Object.keys(m);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(m);_&&($=$.filter(function(ue){return Object.getOwnPropertyDescriptor(m,ue).enumerable})),G.push.apply(G,$)}return G}function je(m){for(var _=1;_<arguments.length;_++){var G=arguments[_]!=null?arguments[_]:{};_%2?xe(Object(G),!0).forEach(function($){(0,f.Z)(m,$,G[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(G)):xe(Object(G)).forEach(function($){Object.defineProperty(m,$,Object.getOwnPropertyDescriptor(G,$))})}return m}var Ue,et,He,Le=(0,ce.z)({name:"changeProjectName",trackEvent:!1,perform:function(m,_,G){return{appState:je(je({},_),{},{name:G}),commitToHistory:!1}},PanelComponent:function(m){var _,G=m.appState,$=m.updateData,ue=m.appProps,ie=m.data;return(0,y.jsx)(T,{label:(0,b.t)("labels.fileTitle"),value:G.name||"Unnamed",onChange:function(pe){return $(pe)},isNameEditable:ue.name===void 0&&!G.viewModeEnabled,ignoreFocus:(_=ie==null?void 0:ie.ignoreFocus)!==null&&_!==void 0&&_})}}),De=(0,ce.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(m,_,G){return{appState:je(je({},_),{},{exportScale:G}),commitToHistory:!1}},PanelComponent:function(m){var _=m.elements,G=m.appState,$=m.updateData,ue=(0,we.Lm)(_),ie=(0,_e.N)(ue,G)?(0,_e.eD)(ue,G):ue;return(0,y.jsx)(y.Fragment,{children:v.ZB.map(function(pe){var Pe=(0,de.Cg)(ie,v.qy,pe),Me=(0,p.Z)(Pe,2),$e=Me[0],Ke=Me[1],qe="".concat((0,b.t)("imageExportDialog.label.scale")," ").concat(pe,"x (").concat($e,"x").concat(Ke,")");return(0,y.jsx)(s.V,{size:"small",type:"radio",icon:"".concat(pe,"x"),name:"export-canvas-scale",title:qe,"aria-label":qe,id:"export-canvas-scale",checked:pe===G.exportScale,onChange:function(){return $(pe)}},pe)})})}}),Be=(0,ce.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(m,_,G){return{appState:je(je({},_),{},{exportBackground:G}),commitToHistory:!1}},PanelComponent:function(m){var _=m.appState,G=m.updateData;return(0,y.jsx)(Se.o,{checked:_.exportBackground,onChange:function($){return G($)},children:(0,b.t)("imageExportDialog.label.withBackground")})}}),Ze=(0,ce.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(m,_,G){return{appState:je(je({},_),{},{exportEmbedScene:G}),commitToHistory:!1}},PanelComponent:function(m){var _=m.appState,G=m.updateData;return(0,y.jsxs)(Se.o,{checked:_.exportEmbedScene,onChange:function($){return G($)},children:[(0,b.t)("imageExportDialog.label.embedScene"),(0,y.jsx)(D.u,{label:(0,b.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,y.jsx)("div",{className:"excalidraw-tooltip-icon",children:R.Vl})})]})}}),ye=(0,ce.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(m,_,G,$){return!!$.props.UIOptions.canvasActions.saveToActiveFile&&!!_.fileHandle&&!_.viewModeEnabled},perform:(Ue=(0,M.Z)(E().mark(function m(_,G,$,ue){var ie,pe,Pe;return E().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(ie=!!G.fileHandle,Me.prev=1,!(0,V.g8)(G.fileHandle)){Me.next=8;break}return Me.next=5,ne(_,G,ue.files);case 5:Me.t0=Me.sent,Me.next=11;break;case 8:return Me.next=10,(0,te.Um)(_,G,ue.files);case 10:Me.t0=Me.sent;case 11:return pe=Me.t0,Pe=pe.fileHandle,Me.abrupt("return",{commitToHistory:!1,appState:je(je({},G),{},{fileHandle:Pe,toast:ie?{message:Pe!=null&&Pe.name?(0,b.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(Pe.name,'"')):(0,b.t)("toast.fileSaved")}:null})});case 16:return Me.prev=16,Me.t1=Me.catch(1),(Me.t1===null||Me.t1===void 0?void 0:Me.t1.name)!=="AbortError"?console.error(Me.t1):console.warn(Me.t1),Me.abrupt("return",{commitToHistory:!1});case 20:case"end":return Me.stop()}},m,null,[[1,16]])})),function(m,_,G,$){return Ue.apply(this,arguments)}),keyTest:function(m){return m.key===U.tW.S&&m[U.tW.CTRL_OR_CMD]&&!m.shiftKey}}),be=(0,ce.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(et=(0,M.Z)(E().mark(function m(_,G,$,ue){var ie,pe;return E().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.prev=0,Pe.next=3,(0,te.Um)(_,je(je({},G),{},{fileHandle:null}),ue.files);case 3:return ie=Pe.sent,pe=ie.fileHandle,Pe.abrupt("return",{commitToHistory:!1,appState:je(je({},G),{},{openDialog:null,fileHandle:pe,toast:{message:(0,b.t)("toast.fileSaved")}})});case 8:return Pe.prev=8,Pe.t0=Pe.catch(0),(Pe.t0===null||Pe.t0===void 0?void 0:Pe.t0.name)!=="AbortError"?console.error(Pe.t0):console.warn(Pe.t0),Pe.abrupt("return",{commitToHistory:!1});case 12:case"end":return Pe.stop()}},m,null,[[0,8]])})),function(m,_,G,$){return et.apply(this,arguments)}),keyTest:function(m){return m.key===U.tW.S&&m.shiftKey&&m[U.tW.CTRL_OR_CMD]},PanelComponent:function(m){var _=m.updateData;return(0,y.jsx)(s.V,{type:"button",icon:R.po,title:(0,b.t)("buttons.saveAs"),"aria-label":(0,b.t)("buttons.saveAs"),showAriaLabel:(0,C.Fy)().editor.isMobile,hidden:!J.kr,onClick:function(){return _(null)},"data-testid":"save-as-button"})}}),X=(0,ce.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(m,_,G,$){return!!$.props.UIOptions.canvasActions.loadScene&&!_.viewModeEnabled},perform:(He=(0,M.Z)(E().mark(function m(_,G,$,ue){var ie,pe,Pe,Me;return E().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return $e.prev=0,$e.next=3,(0,te.n8)(G,_);case 3:return ie=$e.sent,pe=ie.elements,Pe=ie.appState,Me=ie.files,$e.abrupt("return",{elements:pe,appState:Pe,files:Me,commitToHistory:!0});case 10:if($e.prev=10,$e.t0=$e.catch(0),($e.t0===null||$e.t0===void 0?void 0:$e.t0.name)!=="AbortError"){$e.next=15;break}return console.warn($e.t0),$e.abrupt("return",!1);case 15:return $e.abrupt("return",{elements:_,appState:je(je({},G),{},{errorMessage:$e.t0.message}),files:ue.files,commitToHistory:!1});case 16:case"end":return $e.stop()}},m,null,[[0,10]])})),function(m,_,G,$){return He.apply(this,arguments)}),keyTest:function(m){return m[U.tW.CTRL_OR_CMD]&&m.key===U.tW.O}}),h=(0,ce.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(m,_,G){return{appState:je(je({},_),{},{exportWithDarkMode:G}),commitToHistory:!1}},PanelComponent:function(m){var _=m.appState,G=m.updateData;return(0,y.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,y.jsx)(x,{value:_.exportWithDarkMode?v.C6.DARK:v.C6.LIGHT,onChange:function($){G($===v.C6.DARK)},title:(0,b.t)("imageExportDialog.label.darkMode")})})}})},3361:function(Q,z,o){o.d(z,{Tu:function(){return et},Zq:function(){return He}});var M=o(1930),p=o(7169),f=o(9240),u=o(3646),E=o(45),R=o(1020),k=function(Le){return(0,R.jsx)("div",{className:"buttonList buttonListIcon",children:Le.options.map(function(De){var Be;return Le.type==="button"?(0,R.jsx)("button",{onClick:function(Ze){return Le.onClick(De.value,Ze)},className:(0,E.Z)({active:(Be=De.active)!==null&&Be!==void 0?Be:Le.value===De.value}),"data-testid":De.testId,title:De.text,children:De.icon},De.text):(0,R.jsxs)("label",{className:(0,E.Z)({active:Le.value===De.value}),title:De.text,children:[(0,R.jsx)("input",{type:"radio",name:Le.group,onChange:function(){return Le.onChange(De.value)},checked:Le.value===De.value,"data-testid":De.testId}),De.icon]},De.text)})})},d=o(193),L=o(2577),W=o(9787),Y=o.n(W),ee=o(3204),S=o(3379),B=o.n(S),he=o(7795),ge=o.n(he),ve=o(569),me=o.n(ve),le=o(3565),N=o.n(le),oe=o(9216),O=o.n(oe),I=o(4589),A=o.n(I),C=o(9478),U={};U.styleTagTransform=A(),U.setAttributes=N(),U.insert=me().bind(null,"head"),U.domAPI=ge(),U.insertStyleElement=O(),B()(C.Z,U),C.Z&&C.Z.locals&&C.Z.locals;var y=o(5491),T=o(8227);function s(Le,De){var Be=Object.keys(Le);if(Object.getOwnPropertySymbols){var Ze=Object.getOwnPropertySymbols(Le);De&&(Ze=Ze.filter(function(ye){return Object.getOwnPropertyDescriptor(Le,ye).enumerable})),Be.push.apply(Be,Ze)}return Be}function D(Le){for(var De=1;De<arguments.length;De++){var Be=arguments[De]!=null?arguments[De]:{};De%2?s(Object(Be),!0).forEach(function(Ze){(0,p.Z)(Le,Ze,Be[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(Be)):s(Object(Be)).forEach(function(Ze){Object.defineProperty(Le,Ze,Object.getOwnPropertyDescriptor(Be,Ze))})}return Le}function b(Le){var De=Le.options,Be=Le.value,Ze=Le.label,ye=Le.onChange,be=Le.onClose,X=Y().useRef(),h=Y().useRef(),m=Y().useRef(null);return Y().useEffect(function(){h.current?h.current.focus():m.current&&m.current.focus()},[]),(0,R.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Ze,onKeyDown:function(_){var G=De.find(function($e){return $e.keyBinding===_.key.toLowerCase()});if(_.metaKey||_.altKey||_.ctrlKey||!G)if(_.key===y.tW.TAB)setTimeout(function(){h.current!==document.activeElement&&be()},0);else if((0,y.Wl)(_.key)){var $=document.activeElement,ue=(0,T.G3)().rtl,ie=Array.prototype.indexOf.call(m.current.children,$);if(ie!==-1){var pe=De.length,Pe=ie;switch(_.key){case(ue?y.tW.ARROW_LEFT:y.tW.ARROW_RIGHT):case y.tW.ARROW_DOWN:Pe=(ie+1)%pe;break;case(ue?y.tW.ARROW_RIGHT:y.tW.ARROW_LEFT):case y.tW.ARROW_UP:Pe=(pe+ie-1)%pe}m.current.children[Pe].focus()}_.preventDefault()}else _.key!==y.tW.ESCAPE&&_.key!==y.tW.ENTER||(_.preventDefault(),be());else{var Me=De.indexOf(G);m.current.children[Me].focus(),_.preventDefault()}_.nativeEvent.stopImmediatePropagation(),_.stopPropagation()},children:(0,R.jsx)("div",{className:"picker-content",ref:m,children:De.map(function(_,G){return(0,R.jsxs)("button",{className:(0,E.Z)("picker-option",{active:Be===_.value}),onClick:function($){$.currentTarget.focus(),ye(_.value)},title:"".concat(_.text,"  ").concat(_.keyBinding.toUpperCase()),"aria-label":_.text||"none","aria-keyshortcuts":_.keyBinding,ref:function($){$&&G===0&&(X.current=$),$&&_.value===Be&&(h.current=$)},onFocus:function(){ye(_.value)},children:[_.icon,(0,R.jsx)("span",{className:"picker-keybinding",children:_.keyBinding})]},_.text)})})})}function v(Le){var De,Be=Le.value,Ze=Le.label,ye=Le.options,be=Le.onChange,X=Le.group,h=X===void 0?"":X,m=Y().useState(!1),_=(0,L.Z)(m,2),G=_[0],$=_[1],ue=Y().useRef(null),ie=(0,T.G3)().rtl;return(0,R.jsxs)("div",{children:[(0,R.jsx)("button",{name:h,className:G?"active":"","aria-label":Ze,onClick:function(){return $(!G)},ref:ue,children:(De=ye.find(function(pe){return pe.value===Be}))===null||De===void 0?void 0:De.icon}),(0,R.jsx)(Y().Suspense,{fallback:"",children:G?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(ee.J,D(D({onCloseRequest:function(pe){return pe.target!==ue.current&&$(!1)}},ie?{right:5.5}:{left:-5.5}),{},{children:(0,R.jsx)(b,{options:ye,value:Be,label:Ze,onChange:be,onClose:function(){var pe;$(!1),(pe=ue.current)===null||pe===void 0||pe.focus()}})})),(0,R.jsx)("div",{className:"picker-triangle"})]}):null})]})}var x=o(8935),j=o(9937),te=o(7651),V=o(583),F=o(4761),Z=o(4183),ne=o(4643),ce=o(4105),Se=o(1648),de=o(9827),_e=o(2767);function we(Le,De){var Be=Object.keys(Le);if(Object.getOwnPropertySymbols){var Ze=Object.getOwnPropertySymbols(Le);De&&(Ze=Ze.filter(function(ye){return Object.getOwnPropertyDescriptor(Le,ye).enumerable})),Be.push.apply(Be,Ze)}return Be}function J(Le){for(var De=1;De<arguments.length;De++){var Be=arguments[De]!=null?arguments[De]:{};De%2?we(Object(Be),!0).forEach(function(Ze){(0,p.Z)(Le,Ze,Be[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(Be)):we(Object(Be)).forEach(function(Ze){Object.defineProperty(Le,Ze,Object.getOwnPropertyDescriptor(Be,Ze))})}return Le}var xe=function(Le,De,Be){var Ze=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ye=(0,de.xn)((0,ce.eD)(Le,De,{includeBoundTextElement:Ze}));return Le.map(function(be){var X;return ye.get(be.id)||be.id===((X=De.editingElement)===null||X===void 0?void 0:X.id)?Be(be):be})},je=function(Le,De,Be,Ze,ye){var be,X=De.editingElement,h=(0,te.Lm)(Le),m=null;return X&&(m=Be(X)),m||(m=(0,ce.N)(h,De)?(be=(0,ce.PR)(Ze===!0?h:h.filter(function(_){return Ze(_)}),De,Be))!==null&&be!==void 0?be:typeof ye=="function"?ye(!0):ye:typeof ye=="function"?ye(!1):ye),m},Ue=function(Le,De,Be,Ze){var ye=new Set;return{elements:xe(Le,De,function(be){if((0,te.iB)(be)){var X=Be(be);ye.add(X);var h=(0,V.BE)(be,{fontSize:X});return(0,te.oN)(h,(0,F.tl)(be)),m=be,_=h,h=(0,Z.Xh)(_)?_:(0,V.DR)(_,{x:m.textAlign==="left"?m.x:m.x+(m.width-_.width)/(m.textAlign==="center"?2:1),y:m.y+(m.height-_.height)/2},!1)}var m,_;return be},!0),appState:J(J({},De),{},{currentItemFontSize:ye.size===1?(0,M.Z)(ye)[0]:Ze??De.currentItemFontSize}),commitToHistory:!0}},et=((0,_e.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Le,De,Be){return J(J({},Be.currentItemStrokeColor&&{elements:xe(Le,De,function(Ze){return(0,Se.PD)(Ze.type)?(0,V.BE)(Ze,{strokeColor:Be.currentItemStrokeColor}):Ze},!0)}),{},{appState:J(J({},De),Be),commitToHistory:!!Be.currentItemStrokeColor})},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return Le.appProps,(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h3",{"aria-hidden":"true",children:(0,T.t)("labels.stroke")}),(0,R.jsx)(d.z,{topPicks:f.fY,palette:f.Wk,type:"elementStroke",label:(0,T.t)("labels.stroke"),color:je(De,Be,function(ye){return ye.strokeColor},!0,Be.currentItemStrokeColor),onChange:function(ye){return Ze({currentItemStrokeColor:ye})},elements:De,appState:Be,updateData:Ze})]})}}),(0,_e.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Le,De,Be){return J(J({},Be.currentItemBackgroundColor&&{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{backgroundColor:Be.currentItemBackgroundColor})})}),{},{appState:J(J({},De),Be),commitToHistory:!!Be.currentItemBackgroundColor})},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return Le.appProps,(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h3",{"aria-hidden":"true",children:(0,T.t)("labels.background")}),(0,R.jsx)(d.z,{topPicks:f.eq,palette:f.SF,type:"elementBackground",label:(0,T.t)("labels.background"),color:je(De,Be,function(ye){return ye.backgroundColor},!0,Be.currentItemBackgroundColor),onChange:function(ye){return Ze({currentItemBackgroundColor:ye})},elements:De,appState:Be,updateData:Ze})]})}}),(0,_e.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Le,De,Be,Ze){return(0,u.L)("element","changeFillStyle","".concat(Be," (").concat(Ze.device.editor.isMobile?"mobile":"desktop",")")),{elements:xe(Le,De,function(ye){return(0,V.BE)(ye,{fillStyle:Be})}),appState:J(J({},De),{},{currentItemFillStyle:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData,ye=(0,ce.eD)(De,Be),be=ye.length>0&&ye.every(function(X){return X.fillStyle==="zigzag"});return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.fill")}),(0,R.jsx)(k,{type:"button",options:[{value:"hachure",text:"".concat(be?(0,T.t)("labels.zigzag"):(0,T.t)("labels.hachure")," (").concat((0,de.uY)("Alt-Click"),")"),icon:be?x.lF:x.a0,active:!!be||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,T.t)("labels.crossHatch"),icon:x.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,T.t)("labels.solid"),icon:x.X7,testId:"fill-solid"}],value:je(De,Be,function(X){return X.fillStyle},function(X){return X.hasOwnProperty("fillStyle")},function(X){return X?null:Be.currentItemFillStyle}),onClick:function(X,h){var m=h.altKey&&X==="hachure"&&ye.every(function(_){return _.fillStyle==="hachure"})?"zigzag":X;Ze(m)}})]})}}),(0,_e.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{strokeWidth:Be})}),appState:J(J({},De),{},{currentItemStrokeWidth:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.strokeWidth")}),(0,R.jsx)(k,{group:"stroke-width",options:[{value:j.dg.thin,text:(0,T.t)("labels.thin"),icon:x.ZA,testId:"strokeWidth-thin"},{value:j.dg.bold,text:(0,T.t)("labels.bold"),icon:x.Wl,testId:"strokeWidth-bold"},{value:j.dg.extraBold,text:(0,T.t)("labels.extraBold"),icon:x.m9,testId:"strokeWidth-extraBold"}],value:je(De,Be,function(ye){return ye.strokeWidth},function(ye){return ye.hasOwnProperty("strokeWidth")},function(ye){return ye?null:Be.currentItemStrokeWidth}),onChange:function(ye){return Ze(ye)}})]})}}),(0,_e.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{seed:(0,ne.LU)(),roughness:Be})}),appState:J(J({},De),{},{currentItemRoughness:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.sloppiness")}),(0,R.jsx)(k,{group:"sloppiness",options:[{value:0,text:(0,T.t)("labels.architect"),icon:x.bf},{value:1,text:(0,T.t)("labels.artist"),icon:x.kM},{value:2,text:(0,T.t)("labels.cartoonist"),icon:x.W2}],value:je(De,Be,function(ye){return ye.roughness},function(ye){return ye.hasOwnProperty("roughness")},function(ye){return ye?null:Be.currentItemRoughness}),onChange:function(ye){return Ze(ye)}})]})}}),(0,_e.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{strokeStyle:Be})}),appState:J(J({},De),{},{currentItemStrokeStyle:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.strokeStyle")}),(0,R.jsx)(k,{group:"strokeStyle",options:[{value:"solid",text:(0,T.t)("labels.strokeStyle_solid"),icon:x.ZA},{value:"dashed",text:(0,T.t)("labels.strokeStyle_dashed"),icon:x.a5},{value:"dotted",text:(0,T.t)("labels.strokeStyle_dotted"),icon:x.aT}],value:je(De,Be,function(ye){return ye.strokeStyle},function(ye){return ye.hasOwnProperty("strokeStyle")},function(ye){return ye?null:Be.currentItemStrokeStyle}),onChange:function(ye){return Ze(ye)}})]})}}),(0,_e.z)({name:"changeOpacity",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{opacity:Be})},!0),appState:J(J({},De),{},{currentItemOpacity:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De,Be=Le.elements,Ze=Le.appState,ye=Le.updateData;return(0,R.jsxs)("label",{className:"control-label",children:[(0,T.t)("labels.opacity"),(0,R.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(be){return ye(+be.target.value)},value:(De=je(Be,Ze,function(be){return be.opacity},!0,Ze.currentItemOpacity))!==null&&De!==void 0?De:void 0})]})}}),(0,_e.z)({name:"changeFontSize",trackEvent:!1,perform:function(Le,De,Be){return Ue(Le,De,function(){return Be},Be)},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.fontSize")}),(0,R.jsx)(k,{group:"font-size",options:[{value:16,text:(0,T.t)("labels.small"),icon:x.q0,testId:"fontSize-small"},{value:20,text:(0,T.t)("labels.medium"),icon:x.nq,testId:"fontSize-medium"},{value:28,text:(0,T.t)("labels.large"),icon:x.tW,testId:"fontSize-large"},{value:36,text:(0,T.t)("labels.veryLarge"),icon:x.OA,testId:"fontSize-veryLarge"}],value:je(De,Be,function(ye){if((0,te.iB)(ye))return ye.fontSize;var be=(0,F.WJ)(ye);return be?be.fontSize:null},function(ye){return(0,te.iB)(ye)||(0,F.WJ)(ye)!==null},function(ye){return ye?null:Be.currentItemFontSize||j.n5}),onChange:function(ye){return Ze(ye)}})]})}}),(0,_e.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Le,De,Be){return Ue(Le,De,function(Ze){return Math.round(1/1.1*Ze.fontSize)})},keyTest:function(Le){return Le[y.tW.CTRL_OR_CMD]&&Le.shiftKey&&(Le.key===y.tW.CHEVRON_LEFT||Le.key===y.tW.COMMA)}})),He=(0,_e.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Le,De,Be){return Ue(Le,De,function(Ze){return Math.round(1.1*Ze.fontSize)})},keyTest:function(Le){return Le[y.tW.CTRL_OR_CMD]&&Le.shiftKey&&(Le.key===y.tW.CHEVRON_RIGHT||Le.key===y.tW.PERIOD)}});(0,_e.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){if((0,te.iB)(Ze)){var ye=(0,V.BE)(Ze,{fontFamily:Be,lineHeight:(0,F.PT)(Be)});return(0,te.oN)(ye,(0,F.tl)(Ze)),ye}return Ze},!0),appState:J(J({},De),{},{currentItemFontFamily:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData,ye=[{value:j.ut.Virgil,text:(0,T.t)("labels.handDrawn"),icon:x.Pm,testId:"font-family-virgil"},{value:j.ut.Helvetica,text:(0,T.t)("labels.normal"),icon:x.vo,testId:"font-family-normal"},{value:j.ut.Cascadia,text:(0,T.t)("labels.code"),icon:x.z6,testId:"font-family-code"}];return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.fontFamily")}),(0,R.jsx)(k,{group:"font-family",options:ye,value:je(De,Be,function(be){if((0,te.iB)(be))return be.fontFamily;var X=(0,F.WJ)(be);return X?X.fontFamily:null},function(be){return(0,te.iB)(be)||(0,F.WJ)(be)!==null},function(be){return be?null:Be.currentItemFontFamily||j.rk}),onChange:function(be){return Ze(be)}})]})}}),(0,_e.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){if((0,te.iB)(Ze)){var ye=(0,V.BE)(Ze,{textAlign:Be});return(0,te.oN)(ye,(0,F.tl)(Ze)),ye}return Ze},!0),appState:J(J({},De),{},{currentItemTextAlign:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.textAlign")}),(0,R.jsx)(k,{group:"text-align",options:[{value:"left",text:(0,T.t)("labels.left"),icon:x.rr,testId:"align-left"},{value:"center",text:(0,T.t)("labels.center"),icon:x.o3,testId:"align-horizontal-center"},{value:"right",text:(0,T.t)("labels.right"),icon:x.oT,testId:"align-right"}],value:je(De,Be,function(ye){if((0,te.iB)(ye))return ye.textAlign;var be=(0,F.WJ)(ye);return be?be.textAlign:null},function(ye){return(0,te.iB)(ye)||(0,F.WJ)(ye)!==null},function(ye){return ye?null:Be.currentItemTextAlign}),onChange:function(ye){return Ze(ye)}})]})}}),(0,_e.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){if((0,te.iB)(Ze)){var ye=(0,V.BE)(Ze,{verticalAlign:Be});return(0,te.oN)(ye,(0,F.tl)(Ze)),ye}return Ze},!0),appState:J({},De),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData;return(0,R.jsx)("fieldset",{children:(0,R.jsx)(k,{group:"text-align",options:[{value:j.oX.TOP,text:(0,T.t)("labels.alignTop"),icon:(0,R.jsx)(x.EO,{theme:Be.theme}),testId:"align-top"},{value:j.oX.MIDDLE,text:(0,T.t)("labels.centerVertically"),icon:(0,R.jsx)(x.P7,{theme:Be.theme}),testId:"align-middle"},{value:j.oX.BOTTOM,text:(0,T.t)("labels.alignBottom"),icon:(0,R.jsx)(x.aA,{theme:Be.theme}),testId:"align-bottom"}],value:je(De,Be,function(ye){if((0,te.iB)(ye)&&ye.containerId)return ye.verticalAlign;var be=(0,F.WJ)(ye);return be?be.verticalAlign:null},function(ye){return(0,te.iB)(ye)||(0,F.WJ)(ye)!==null},function(ye){return ye?null:j.oX.MIDDLE}),onChange:function(ye){return Ze(ye)}})})}}),(0,_e.z)({name:"changeRoundness",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){return(0,V.BE)(Ze,{roundness:Be==="round"?{type:(0,Z.QI)(Ze.type)?j.a6.ADAPTIVE_RADIUS:j.a6.PROPORTIONAL_RADIUS}:null})}),appState:J(J({},De),{},{currentItemRoundness:Be}),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData,ye=(0,ce.Zs)((0,te.Lm)(De),Be).some(function(be){var X;return((X=be.roundness)===null||X===void 0?void 0:X.type)===j.a6.LEGACY});return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.edges")}),(0,R.jsx)(k,{group:"edges",options:[{value:"sharp",text:(0,T.t)("labels.sharp"),icon:x.wr},{value:"round",text:(0,T.t)("labels.round"),icon:x.DS}],value:je(De,Be,function(be){return ye?null:be.roundness?"round":"sharp"},function(be){return be.hasOwnProperty("roundness")},function(be){return be?null:Be.currentItemRoundness}),onChange:function(be){return Ze(be)}})]})}}),(0,_e.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Le,De,Be){return{elements:xe(Le,De,function(Ze){if((0,Z.bt)(Ze)){var ye=Be.position,be=Be.type;if(ye==="start")return(0,V.BE)(Ze,{startArrowhead:be});if(ye==="end")return(0,V.BE)(Ze,{endArrowhead:be})}return Ze}),appState:J(J({},De),{},(0,p.Z)({},Be.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Be.type)),commitToHistory:!0}},PanelComponent:function(Le){var De=Le.elements,Be=Le.appState,Ze=Le.updateData,ye=(0,T.G3)().rtl;return(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,T.t)("labels.arrowheads")}),(0,R.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,R.jsx)(v,{label:"arrowhead_start",options:[{value:null,text:(0,T.t)("labels.arrowhead_none"),icon:x.fr,keyBinding:"q"},{value:"arrow",text:(0,T.t)("labels.arrowhead_arrow"),icon:(0,R.jsx)(x.il,{flip:!ye}),keyBinding:"w"},{value:"bar",text:(0,T.t)("labels.arrowhead_bar"),icon:(0,R.jsx)(x.m,{flip:!ye}),keyBinding:"e"},{value:"dot",text:(0,T.t)("labels.arrowhead_dot"),icon:(0,R.jsx)(x.tn,{flip:!ye}),keyBinding:"r"},{value:"triangle",text:(0,T.t)("labels.arrowhead_triangle"),icon:(0,R.jsx)(x.j8,{flip:!ye}),keyBinding:"t"}],value:je(De,Be,function(be){return(0,Z.bt)(be)&&(0,ce.Un)(be.type)?be.startArrowhead:Be.currentItemStartArrowhead},!0,Be.currentItemStartArrowhead),onChange:function(be){return Ze({position:"start",type:be})}}),(0,R.jsx)(v,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,T.t)("labels.arrowhead_none"),keyBinding:"q",icon:x.fr},{value:"arrow",text:(0,T.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,R.jsx)(x.il,{flip:ye})},{value:"bar",text:(0,T.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,R.jsx)(x.m,{flip:ye})},{value:"dot",text:(0,T.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,R.jsx)(x.tn,{flip:ye})},{value:"triangle",text:(0,T.t)("labels.arrowhead_triangle"),icon:(0,R.jsx)(x.j8,{flip:ye}),keyBinding:"t"}],value:je(De,Be,function(be){return(0,Z.bt)(be)&&(0,ce.Un)(be.type)?be.endArrowhead:Be.currentItemEndArrowhead},!0,Be.currentItemEndArrowhead),onChange:function(be){return Ze({position:"end",type:be})}})]})]})}})},7080:function(Q,z,o){o.d(z,{u:function(){return R}});var M=o(7169),p=o(2767),f=o(5491);function u(k,d){var L=Object.keys(k);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(k);d&&(W=W.filter(function(Y){return Object.getOwnPropertyDescriptor(k,Y).enumerable})),L.push.apply(L,W)}return L}function E(k){for(var d=1;d<arguments.length;d++){var L=arguments[d]!=null?arguments[d]:{};d%2?u(Object(L),!0).forEach(function(W){(0,M.Z)(k,W,L[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(L)):u(Object(L)).forEach(function(W){Object.defineProperty(k,W,Object.getOwnPropertyDescriptor(L,W))})}return k}var R=(0,p.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(k,d){return{appState:E(E({},d),{},{showStats:!this.checked(d)}),commitToHistory:!1}},checked:function(k){return k.showStats},contextItemLabel:"stats.title",keyTest:function(k){return!k[f.tW.CTRL_OR_CMD]&&k.altKey&&k.code===f.aU.SLASH}})},5463:function(Q,z,o){o.d(z,{FL:function(){return Ut},vD:function(){return go.vD},yA:function(){return b},BZ:function(){return x},mo:function(){return ye.mo},uN:function(){return Ln.uN},jK:function(){return Ln.jK},FA:function(){return Ln.FA},pw:function(){return pe},ZM:function(){return Ln.ZM},X9:function(){return M.X},xF:function(){return Be},pL:function(){return _},jl:function(){return _n},kt:function(){return vn},EQ:function(){return Ge},nz:function(){return Oo.nz},_d:function(){return G._d},W3:function(){return Pe},mM:function(){return G.mM},ns:function(){return G.ns},Yy:function(){return ce},V:function(){return D},zi:function(){return v},jY:function(){return Ke},$h:function(){return Po.$},Pb:function(){return Cn},Qs:function(){return Xo},pm:function(){return jr},u0:function(){return no.u},Zp:function(){return ye.Zp},JN:function(){return ur},y7:function(){return go.y7},s:function(){return tt},zp:function(){return Ln.zp}});var M=o(2448),p=o(2577),f=o(1930),u=o(583),E=o(4183),R=o(9215),k=o(4105),d=o(457),L=o(9827);function W(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return Y(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return Y(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function Y(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}var ee=function(ke,Ne){return ke.frameId===Ne||ke.id===Ne},S=function(ke,Ne,We){for(var Je=[],Ot=[],sn=null,en=-1,pn=(0,L.xn)(We||(0,k.eD)(ke,Ne,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++en<ke.length;){var Mt=ke[en];pn.get(Mt.id)?(Ot.length&&(Je=Je.concat(Ot),Ot=[]),Je.push(en),sn=en+1):Mt.isDeleted&&sn===en?(sn=en+1,Ot.push(en)):Ot=[]}return Je},B=function(ke,Ne,We){if("containerId"in ke&&ke.containerId){if(We!=="left")return Ne.indexOf(ke);var Je=d.Z.getScene(ke).getElement(ke.containerId);if(Je)return Ne.indexOf(Je)}else{var Ot,sn,en=(Ot=ke.boundElements)===null||Ot===void 0||(sn=Ot.find(function(Mt){return Mt.type!=="arrow"}))===null||sn===void 0?void 0:sn.id;if(en){if(We==="left")return Ne.indexOf(ke);var pn=d.Z.getScene(ke).getElement(en);if(pn)return Ne.indexOf(pn)}}},he=function(ke,Ne,We,Je,Ot){var sn,en,pn,Mt,fn,mn=Ne[We],Vn=function(Tr){return!Tr.isDeleted&&(Ot?Tr.frameId===Ot:!ke.editingGroupId||Tr.groupIds.includes(ke.editingGroupId))},Kn=Je==="left"?(0,L.qr)(Ne,function(Tr){return Vn(Tr)},Math.max(0,We-1)):(0,L.cx)(Ne,function(Tr){return Vn(Tr)},We+1),Gn=Ne[Kn];if(!Gn)return-1;if(ke.editingGroupId){var dr;if((mn==null?void 0:mn.groupIds.join(""))===(Gn==null?void 0:Gn.groupIds.join("")))return(dr=B(Gn,Ne,Je))!==null&&dr!==void 0?dr:Kn;if(Gn==null||!Gn.groupIds.includes(ke.editingGroupId))return-1}if(!Ot&&(Gn.frameId||Gn.type==="frame")){var sr=(sn=Ne,en=Gn.frameId||Gn.id,pn=-1,Mt=-1,sn.forEach(function(Tr,So){ee(Tr,en)&&(pn===-1&&(pn=So),Mt=So)}),pn===-1?[]:sn.slice(pn,Mt+1));return Je==="left"?Ne.indexOf(sr[0]):Ne.indexOf(sr[sr.length-1])}if(!Gn.groupIds.length)return(fn=B(Gn,Ne,Je))!==null&&fn!==void 0?fn:Kn;var Wn=ke.editingGroupId?Gn.groupIds[Gn.groupIds.indexOf(ke.editingGroupId)-1]:Gn.groupIds[Gn.groupIds.length-1],br=(0,R.Fb)(Ne,Wn);return br.length?Je==="left"?Ne.indexOf(br[0]):Ne.indexOf(br[br.length-1]):Kn},ge=function(ke,Ne){return Ne.reduce(function(We,Je){var Ot=ke[Je];return We[Ot.id]=Ot,We},{})},ve=function(ke,Ne,We){var Je=S(ke,Ne),Ot=ge(ke,Je),sn=function(pn){var Mt=0;return pn.reduce(function(fn,mn,Vn){return Vn>0&&pn[Vn-1]!==mn-1&&(Mt=++Mt),(fn[Mt]||(fn[Mt]=[])).push(mn),fn},[])}(Je);We==="right"&&(sn=sn.reverse());var en=new Set(Je.filter(function(pn){return ke[pn].type==="frame"}).map(function(pn){return ke[pn].id}));return sn.forEach(function(pn,Mt){var fn,mn=pn[0],Vn=pn[pn.length-1],Kn=We==="left"?mn:Vn,Gn=pn.some(function(So){var No=ke[So];return No.frameId&&en.has(No.frameId)})?null:(fn=ke[Kn])===null||fn===void 0?void 0:fn.frameId,dr=he(Ne,ke,Kn,We,Gn);if(dr!==-1&&Kn!==dr){var sr=We==="left"?ke.slice(0,dr):ke.slice(0,mn),Wn=ke.slice(mn,Vn+1),br=We==="left"?ke.slice(dr,mn):ke.slice(Vn+1,dr+1),Tr=We==="left"?ke.slice(Vn+1):ke.slice(dr+1);ke=We==="left"?[].concat((0,f.Z)(sr),(0,f.Z)(Wn),(0,f.Z)(br),(0,f.Z)(Tr)):[].concat((0,f.Z)(sr),(0,f.Z)(br),(0,f.Z)(Wn),(0,f.Z)(Tr))}}),ke.map(function(pn){return Ot[pn.id]?(0,u.ZP)(pn):pn})},me=function(ke,Ne,We,Je,Ot){var sn,en,pn=S(ke,Ne,Ot),Mt=ge(ke,pn),fn=[];if(We==="left"){if(Je)sn=(0,L.cx)(ke,function(Wn){return ee(Wn,Je)});else if(Ne.editingGroupId){var mn=(0,R.Fb)(ke,Ne.editingGroupId);if(!mn.length)return ke;sn=ke.indexOf(mn[0])}else sn=0;en=pn[pn.length-1]}else{if(Je)en=(0,L.qr)(ke,function(Wn){return ee(Wn,Je)});else if(Ne.editingGroupId){var Vn=(0,R.Fb)(ke,Ne.editingGroupId);if(!Vn.length)return ke;en=ke.indexOf(Vn[Vn.length-1])}else en=ke.length-1;sn=pn[0]}sn===-1&&(sn=0);for(var Kn=sn;Kn<en+1;Kn++)pn.includes(Kn)||fn.push(ke[Kn]);var Gn=Object.values(Mt).map(function(Wn){return(0,u.ZP)(Wn)}),dr=ke.slice(0,sn),sr=ke.slice(en+1);return We==="left"?[].concat((0,f.Z)(dr),(0,f.Z)(Gn),fn,(0,f.Z)(sr)):[].concat((0,f.Z)(dr),fn,(0,f.Z)(Gn),(0,f.Z)(sr))};function le(ke,Ne,We,Je){var Ot,sn=(0,L.xn)((0,k.eD)(ke,Ne,{includeBoundTextElement:!0,includeElementsInFrames:!0})),en={regularElements:[],frameChildren:new Map},pn=new Set,Mt=W(ke);try{for(Mt.s();!(Ot=Mt.n()).done;){var fn=Ot.value;sn.has(fn.id)&&(0,E.He)(fn)&&pn.add(fn.id)}}catch(Tr){Mt.e(Tr)}finally{Mt.f()}var mn,Vn=W(ke);try{for(Vn.s();!(mn=Vn.n()).done;){var Kn=mn.value;if(sn.has(Kn.id))if((0,E.He)(Kn)||Kn.frameId&&pn.has(Kn.frameId))en.regularElements.push(Kn);else if(Kn.frameId){var Gn=en.frameChildren.get(Kn.frameId)||[];Gn.push(Kn),en.frameChildren.set(Kn.frameId,Gn)}else en.regularElements.push(Kn)}}catch(Tr){Vn.e(Tr)}finally{Vn.f()}for(var dr=ke,sr=0,Wn=Array.from(en.frameChildren.entries());sr<Wn.length;sr++){var br=(0,p.Z)(Wn[sr],2);dr=Je(ke,Ne,We,br[0],br[1])}return Je(dr,Ne,We,null,en.regularElements)}var N=function(ke,Ne){return ve(ke,Ne,"left")},oe=function(ke,Ne){return ve(ke,Ne,"right")},O=function(ke,Ne){return le(ke,Ne,"left",me)},I=function(ke,Ne){return le(ke,Ne,"right",me)},A=o(5491),C=o(8227),U=o(2767),y=o(8935),T=o(9937),s=o(1020),D=(0,U.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(ke,Ne){return{elements:N(ke,Ne),appState:Ne,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&!ke.shiftKey&&ke.code===A.aU.BRACKET_LEFT},PanelComponent:function(ke){var Ne=ke.updateData;return ke.appState,(0,s.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ne(null)},title:"".concat((0,C.t)("labels.sendBackward"),"  ").concat((0,L.uY)("CtrlOrCmd+[")),children:y.Gc})}}),b=(0,U.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(ke,Ne){return{elements:oe(ke,Ne),appState:Ne,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&!ke.shiftKey&&ke.code===A.aU.BRACKET_RIGHT},PanelComponent:function(ke){var Ne=ke.updateData;return ke.appState,(0,s.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ne(null)},title:"".concat((0,C.t)("labels.bringForward"),"  ").concat((0,L.uY)("CtrlOrCmd+]")),children:y.t5})}}),v=(0,U.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(ke,Ne){return{elements:O(ke,Ne),appState:Ne,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(ke){return T.Um?ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.BRACKET_LEFT:ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.code===A.aU.BRACKET_LEFT},PanelComponent:function(ke){var Ne=ke.updateData;return ke.appState,(0,s.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Ne(null)},title:"".concat((0,C.t)("labels.sendToBack"),"  ").concat(T.Um?(0,L.uY)("CtrlOrCmd+Alt+["):(0,L.uY)("CtrlOrCmd+Shift+[")),children:y.pw})}}),x=(0,U.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(ke,Ne){return{elements:I(ke,Ne),appState:Ne,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(ke){return T.Um?ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.BRACKET_RIGHT:ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.code===A.aU.BRACKET_RIGHT},PanelComponent:function(ke){var Ne=ke.updateData;return ke.appState,(0,s.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(We){return Ne(null)},title:"".concat((0,C.t)("labels.bringToFront"),"  ").concat(T.Um?(0,L.uY)("CtrlOrCmd+Alt+]"):(0,L.uY)("CtrlOrCmd+Shift+]")),children:y.IN})}}),j=o(7169),te=o(7651),V=o(7422),F=o(6264);function Z(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function ne(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Z(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Z(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var ce=(0,U.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(ke,Ne,We,Je){if(Ne.editingLinearElement)return!1;var Ot=(0,F.aI)(ke.filter(function(sn){return!(sn.isDeleted||(0,te.iB)(sn)&&sn.containerId||sn.locked)})).reduce(function(sn,en){return sn[en.id]=!0,sn},{});return{appState:ne(ne(ne({},Ne),(0,R.bO)({editingGroupId:null,selectedElementIds:Ot},(0,te.Lm)(ke),Ne,Je)),{},{selectedLinearElement:Object.keys(Ot).length===1&&(0,E.bt)(ke[0])?new V._(ke[0],Je.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.key===A.tW.A}}),Se=o(1512),de=o(9645),_e=o(4761);function we(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return J(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return J(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function J(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}var xe=function(ke){var Ne=ke.slice(),We=new Set,Je=function sn(en){var pn,Mt,fn,mn=(pn=en[0])===null||pn===void 0||(Mt=pn.groupIds)===null||Mt===void 0?void 0:Mt.join(""),Vn=[en[0]],Kn=[],Gn=we(en.slice(1));try{for(Gn.s();!(fn=Gn.n()).done;){var dr,sr=fn.value;((dr=sr.groupIds)===null||dr===void 0?void 0:dr.join(""))===mn?Vn.push(sr):Kn.push(sr)}}catch(Wn){Gn.e(Wn)}finally{Gn.f()}return Kn.length?[].concat(Vn,(0,f.Z)(sn(Kn))):Vn},Ot=new Map;return Ne.forEach(function(sn,en){var pn;if(!Ot.has(sn.id))if((pn=sn.groupIds)!==null&&pn!==void 0&&pn.length){var Mt,fn=sn.groupIds[sn.groupIds.length-1],mn=Ne.slice(en).filter(function(Gn){var dr,sr=Gn==null||(dr=Gn.groupIds)===null||dr===void 0?void 0:dr.some(function(Wn){return Wn===fn});return sr&&Ot.set(Gn.id,!0),sr}),Vn=we(Je(mn));try{for(Vn.s();!(Mt=Vn.n()).done;){var Kn=Mt.value;We.add(Kn)}}catch(Gn){Vn.e(Gn)}finally{Vn.f()}}else We.add(sn)}),We.size!==ke.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),ke):(0,f.Z)(We)},je=function(ke){var Ne=function(We){var Je=(0,L.I4)(We),Ot=We.slice(),sn=new Set;return Ot.forEach(function(en,pn){var Mt;if(en)if((Mt=en.boundElements)!==null&&Mt!==void 0&&Mt.length)sn.add(en),Ot[pn]=null,en.boundElements.forEach(function(Vn){var Kn=Je.get(Vn.id);Kn&&Vn.type==="text"&&(sn.add(Kn[0]),Ot[Kn[1]]=null)});else if(en.type==="text"&&en.containerId){var fn,mn=Je.get(en.containerId);mn!=null&&(fn=mn[0].boundElements)!==null&&fn!==void 0&&fn.find(function(Vn){return Vn.id===en.id})||(sn.add(en),Ot[pn]=null)}else sn.add(en),Ot[pn]=null}),sn.size!==We.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),We):(0,f.Z)(sn)}(xe(ke));return Ne},Ue=o(4682);function et(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return He(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return He(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function He(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}function Le(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function De(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Le(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Le(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var Be=(0,U.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(ke,Ne){if(Ne.editingLinearElement){var We=V._.duplicateSelectedPoints(Ne);return!!We&&{elements:ke,appState:We.appState,commitToHistory:!0}}return De(De({},Ze(ke,Ne)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.key===A.tW.D},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData;return(0,s.jsx)(Se.V,{type:"button",icon:y.NA,title:"".concat((0,C.t)("labels.duplicateSelection"),"  ").concat((0,L.uY)("CtrlOrCmd+D")),"aria-label":(0,C.t)("labels.duplicateSelection"),onClick:function(){return Je(null)},visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),Ze=function(ke,Ne){for(var We=je(ke),Je=new Map,Ot=[],sn=[],en=new Map,pn=function(Or){var Hr=(0,te.Sy)(Ne.editingGroupId,Je,Or,{x:Or.x+T.k/2,y:Or.y+T.k/2});return en.set(Or.id,Hr.id),sn.push(Or),Ot.push(Hr),Hr},Mt=(0,L.xn)((0,F.eD)(We,Ne,{includeBoundTextElement:!0,includeElementsInFrames:!0})),fn=new Map,mn=function(Or){var Hr,lo=et(Or);try{for(lo.s();!(Hr=lo.n()).done;){var qo=Hr.value;fn.set(qo.id,!0)}}catch(vi){lo.e(vi)}finally{lo.f()}return Or},Vn=[],Kn=-1;++Kn<We.length;){var Gn=We[Kn];if(!fn.get(Gn.id)){var dr=(0,_e.WJ)(Gn),sr=(0,E.He)(Gn);if(Mt.get(Gn.id)){if(Gn.groupIds.length||dr||sr){var Wn=(0,R.yO)(Ne,Gn);if(Wn){var br=(0,R.Fb)(We,Wn).flatMap(function(Or){return(0,E.He)(Or)?[].concat((0,f.Z)((0,Ue.zD)(ke,Or.id)),[Or]):[Or]});Vn.push.apply(Vn,(0,f.Z)(mn([].concat((0,f.Z)(br),(0,f.Z)(br.map(function(Or){return pn(Or)}))))));continue}if(dr){Vn.push.apply(Vn,(0,f.Z)(mn([Gn,dr,pn(Gn),pn(dr)])));continue}if(sr){var Tr=(0,Ue.zD)(We,Gn.id);Vn.push.apply(Vn,(0,f.Z)(mn([].concat((0,f.Z)(Tr),[Gn],(0,f.Z)(Tr.map(function(Or){return pn(Or)})),[pn(Gn)]))));continue}}Gn.frameId&&Mt.has(Gn.frameId)||Vn.push.apply(Vn,(0,f.Z)(mn([Gn,pn(Gn)])))}else Vn.push.apply(Vn,(0,f.Z)(mn([Gn])))}}var So=[],No=new Map;for(Kn=Vn.length;--Kn>=0;){var ui=Vn[Kn];No.get(ui.id)||(No.set(ui.id,!0),So.push(ui))}var ea=So.reverse();(0,_e.P7)(Vn,sn,en),(0,de.ek)(Vn,sn,en),(0,Ue.xr)(ea,sn,en);var Un=(0,F.aI)(Ot);return{elements:ea,appState:De(De({},Ne),(0,R.bO)({editingGroupId:Ne.editingGroupId,selectedElementIds:Un.reduce(function(Or,Hr){return(0,E.Xh)(Hr)||(Or[Hr.id]=!0),Or},{})},(0,te.Lm)(ea),Ne,null))}},ye=(o(3361),o(6006)),be=o(2361),X=o(7652);function h(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function m(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?h(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):h(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var _=(0,U.z)({name:"finalize",trackEvent:!1,perform:function(ke,Ne,We,Je){var Ot,sn=Je.interactiveCanvas,en=Je.focusContainer,pn=Je.scene;if(Ne.editingLinearElement){var Mt=Ne.editingLinearElement,fn=Mt.elementId,mn=Mt.startBindingElement,Vn=Mt.endBindingElement,Kn=V._.getElement(fn);if(Kn)return(0,E.Mn)(Kn)&&(0,de.HG)(Kn,mn,Vn),{elements:Kn.points.length<2||(0,te.QD)(Kn)?ke.filter(function(lo){return lo.id!==Kn.id}):void 0,appState:m(m({},Ne),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var Gn=ke,dr=Ne.pendingImageElementId&&pn.getElement(Ne.pendingImageElementId);dr&&(0,u.DR)(dr,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&en();var sr,Wn=Ne.multiElement?Ne.multiElement:((Ot=Ne.editingElement)===null||Ot===void 0?void 0:Ot.type)==="freedraw"?Ne.editingElement:null;if(Wn){if(Wn.type!=="freedraw"&&Ne.lastPointerDownWith!=="touch"){var br=Wn.points,Tr=Wn.lastCommittedPoint;Tr&&br[br.length-1]===Tr||(0,u.DR)(Wn,{points:Wn.points.slice(0,-1)})}(0,te.QD)(Wn)&&(Gn=Gn.filter(function(lo){return lo.id!==Wn.id}));var So=(0,be.g6)(Wn.points,Ne.zoom.value);if((Wn.type==="line"||Wn.type==="freedraw")&&So){var No=Wn.points,ui=No[0];(0,u.DR)(Wn,{points:No.map(function(lo,qo){return qo===No.length-1?[ui[0],ui[1]]:lo})})}if((0,E.Mn)(Wn)&&!So&&Wn.points.length>1){var ea=V._.getPointAtIndexGlobalCoordinates(Wn,-1),Un=(0,p.Z)(ea,2),Or=Un[0],Hr=Un[1];(0,de.R)(Wn,Ne,d.Z.getScene(Wn),{x:Or,y:Hr})}}return(Ne.activeTool.locked||Ne.activeTool.type==="freedraw")&&Wn||(0,X.z8)(sn),sr=Ne.activeTool.type==="eraser"?(0,L.Om)(Ne,m(m({},Ne.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,L.Om)(Ne,{type:"selection"}),{elements:Gn,appState:m(m({},Ne),{},{cursorButton:"up",activeTool:(Ne.activeTool.locked||Ne.activeTool.type==="freedraw")&&Wn?Ne.activeTool:sr,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Wn&&!Ne.activeTool.locked&&Ne.activeTool.type!=="freedraw"?m(m({},Ne.selectedElementIds),{},(0,j.Z)({},Wn.id,!0)):Ne.selectedElementIds,selectedLinearElement:Wn&&(0,E.bt)(Wn)?new V._(Wn,pn):Ne.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Ne.activeTool.type==="freedraw"}},keyTest:function(ke,Ne){return ke.key===A.tW.ESCAPE&&(Ne.editingLinearElement!==null||!Ne.draggingElement&&Ne.multiElement===null)||(ke.key===A.tW.ESCAPE||ke.key===A.tW.ENTER)&&Ne.multiElement!==null},PanelComponent:function(ke){var Ne=ke.appState,We=ke.updateData,Je=ke.data;return(0,s.jsx)(Se.V,{type:"button",icon:y.$c,title:(0,C.t)("buttons.done"),"aria-label":(0,C.t)("buttons.done"),onClick:We,visible:Ne.multiElement!=null,size:(Je==null?void 0:Je.size)||"medium"})}}),G=o(4406);function $(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function ue(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?$(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):$(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var ie="{}",pe=(0,U.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(ke,Ne){var We=[],Je=ke.find(function(sn){return Ne.selectedElementIds[sn.id]});if(We.push(Je),Je&&(0,E.Xo)(Je)){var Ot=(0,_e.WJ)(Je);We.push(Ot)}return Je&&(ie=JSON.stringify(We)),{appState:ue(ue({},Ne),{},{toast:{message:(0,C.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.C}}),Pe=(0,U.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(ke,Ne){var We=JSON.parse(ie),Je=We[0],Ot=We[1];if(!(0,te.r2)(Je))return{elements:ke,commitToHistory:!1};var sn=(0,k.eD)(ke,Ne,{includeBoundTextElement:!0}),en=sn.map(function(pn){return pn.id});return{elements:ke.map(function(pn){if(en.includes(pn.id)){var Mt,fn,mn,Vn,Kn,Gn,dr,sr=Je;if((0,te.iB)(pn)&&pn.containerId&&(sr=Ot),!sr)return pn;var Wn=(0,u.BE)(pn,{backgroundColor:(Mt=sr)===null||Mt===void 0?void 0:Mt.backgroundColor,strokeWidth:(fn=sr)===null||fn===void 0?void 0:fn.strokeWidth,strokeColor:(mn=sr)===null||mn===void 0?void 0:mn.strokeColor,strokeStyle:(Vn=sr)===null||Vn===void 0?void 0:Vn.strokeStyle,fillStyle:(Kn=sr)===null||Kn===void 0?void 0:Kn.fillStyle,opacity:(Gn=sr)===null||Gn===void 0?void 0:Gn.opacity,roughness:(dr=sr)===null||dr===void 0?void 0:dr.roughness,roundness:sr.roundness?(0,E.eK)(sr.roundness.type,pn)?sr.roundness:(0,E.UQ)(pn):null});if((0,te.iB)(Wn)){var br=sr.fontSize||T.n5,Tr=sr.fontFamily||T.rk,So=null;(Wn=(0,u.BE)(Wn,{fontSize:br,fontFamily:Tr,textAlign:sr.textAlign||T.Hg,lineHeight:sr.lineHeight||(0,_e.PT)(Tr)})).containerId&&(So=sn.find(function(No){return(0,te.iB)(Wn)&&No.id===Wn.containerId})||null),(0,te.oN)(Wn,So)}return Wn.type==="arrow"&&(0,E.Yv)(sr)&&(Wn=(0,u.BE)(Wn,{startArrowhead:sr.startArrowhead,endArrowhead:sr.endArrowhead})),(0,E.He)(pn)&&(Wn=(0,u.BE)(Wn,{roundness:null,backgroundColor:"transparent"})),Wn}return pn}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.V}});function Me(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function $e(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Me(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Me(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}(0,U.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(ke,Ne){return{appState:$e($e({},Ne),{},{openMenu:Ne.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(ke){var Ne=ke.appState,We=ke.updateData;return(0,s.jsx)(Se.V,{type:"button",icon:y.RY,"aria-label":(0,C.t)("buttons.menu"),onClick:We,selected:Ne.openMenu==="canvas"})}}),(0,U.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(ke,Ne){return{appState:$e($e({},Ne),{},{openMenu:Ne.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData;return(0,s.jsx)(Se.V,{visible:(0,te.RT)(We,(0,te.Lm)(Ne)),type:"button",icon:y.DG,"aria-label":(0,C.t)("buttons.edit"),onClick:Je,selected:We.openMenu==="shape"})}});var Ke=(0,U.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(ke,Ne,We,Je){var Ot=Je.focusContainer;return Ne.openDialog==="help"&&Ot(),{appState:$e($e({},Ne),{},{openDialog:Ne.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(ke){return ke.key===A.tW.QUESTION_MARK}}),qe=o(6655),Fe=o(4643);function ot(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function it(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?ot(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):ot(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}function ht(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return Te(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return Te(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function Te(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}var Ie=function(ke,Ne,We){var Je=We.scene.getSelectedElements({selectedElementIds:Ne.selectedElementIds,includeBoundTextElement:!0});return Je.length>=2&&!function(Ot){if(Ot.length>=2){var sn,en=ht(Ot[0].groupIds);try{var pn=function(){var fn=sn.value;if(Ot.reduce(function(mn,Vn){return mn&&(0,R.Nd)(Vn,fn)},!0))return{v:!0}};for(en.s();!(sn=en.n()).done;){var Mt=pn();if((0,qe.Z)(Mt)==="object")return Mt.v}}catch(fn){en.e(fn)}finally{en.f()}}return!1}(Je)},Ge=(0,U.z)({name:"group",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){var Ot=Je.scene.getSelectedElements({selectedElementIds:Ne.selectedElementIds,includeBoundTextElement:!0});if(Ot.length<2)return{appState:Ne,elements:ke,commitToHistory:!1};var sn=(0,R.iJ)(Ne);if(sn.length===1){var en=sn[0],pn=new Set((0,R.Fb)(ke,en).map(function(br){return br.id})),Mt=new Set(Ot.map(function(br){return br.id}));if(new Set([].concat((0,f.Z)(Array.from(pn)),(0,f.Z)(Array.from(Mt)))).size===pn.size)return{appState:Ne,elements:ke,commitToHistory:!1}}var fn=(0,f.Z)(ke);new Set(Ot.map(function(br){return br.frameId})).size>1&&(0,Ue.SH)(Ot).forEach(function(br,Tr){fn=(0,Ue.lz)(fn,br,Ne)});var mn=(0,Fe.kb)(),Vn=(0,L.xn)(Ot);fn=fn.map(function(br){return Vn.get(br.id)?(0,u.BE)(br,{groupIds:(0,R.S_)(br.groupIds,mn,Ne.editingGroupId)}):br});var Kn=(0,R.Fb)(fn,mn),Gn=Kn[Kn.length-1],dr=fn.lastIndexOf(Gn),sr=fn.slice(dr+1),Wn=fn.slice(0,dr).filter(function(br){return!(0,R.Nd)(br,mn)});return fn=[].concat((0,f.Z)(Wn),(0,f.Z)(Kn),(0,f.Z)(sr)),{appState:it(it({},Ne),(0,R.F$)(mn,it(it({},Ne),{},{selectedGroupIds:{}}),(0,te.Lm)(fn))),elements:fn,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(ke,Ne,We,Je){return Ie(0,Ne,Je)},keyTest:function(ke){return!ke.shiftKey&&ke[A.tW.CTRL_OR_CMD]&&ke.key===A.tW.G},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!Ie(0,We,Ot),type:"button",icon:(0,s.jsx)(y.BF,{theme:We.theme}),onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.group"),"  ").concat((0,L.uY)("CtrlOrCmd+G")),"aria-label":(0,C.t)("labels.group"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),tt=(0,U.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){if((0,R.iJ)(Ne).length===0)return{appState:Ne,elements:ke,commitToHistory:!1};var Ot=(0,f.Z)(ke),sn=[];Ot=Ot.map(function(fn){(0,E.Xh)(fn)&&sn.push(fn.id);var mn=(0,R.h6)(fn.groupIds,Ne.selectedGroupIds);return mn.length===fn.groupIds.length?fn:(0,u.BE)(fn,{groupIds:mn})});var en=(0,R.bO)(Ne,(0,te.Lm)(Ot),Ne,null),pn=Je.scene.getSelectedElements(Ne),Mt=new Set(pn.filter(function(fn){return fn.frameId}).map(function(fn){return fn.frameId}));return(0,Ue.wO)(ke).filter(function(fn){return Mt.has(fn.id)}).forEach(function(fn){fn&&(Ot=(0,Ue.pr)(Ot,(0,Ue.ni)(Ot,fn,Ne),fn,Ne))}),en.selectedElementIds=Object.entries(en.selectedElementIds).reduce(function(fn,mn){var Vn=(0,p.Z)(mn,2),Kn=Vn[0];return Vn[1]&&!sn.includes(Kn)&&(fn[Kn]=!0),fn},{}),{appState:it(it({},Ne),en),elements:Ot,commitToHistory:!0}},keyTest:function(ke){return ke.shiftKey&&ke[A.tW.CTRL_OR_CMD]&&ke.key===A.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(ke,Ne){return(0,R.iJ)(Ne).length>0},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData;return(0,s.jsx)(Se.V,{type:"button",hidden:(0,R.iJ)(We).length===0,icon:(0,s.jsx)(y.RJ,{theme:We.theme}),onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.ungroup"),"  ").concat((0,L.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,C.t)("labels.ungroup"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),dt=o(957),ct=o(3379),St=o.n(ct),Pt=o(7795),mt=o.n(Pt),Nt=o(569),Xt=o.n(Nt),Zt=o(3565),Dt=o.n(Zt),on=o(9216),an=o.n(on),st=o(4589),At=o.n(st),bt=o(3729),jt={};jt.styleTagTransform=At(),jt.setAttributes=Dt(),jt.insert=Xt().bind(null,"head"),jt.domAPI=mt(),jt.insertStyleElement=an(),St()(bt.Z,jt),bt.Z&&bt.Z.locals&&bt.Z.locals;var Et=o(9787),Vt=function(ke){var Ne=ke.color,We=ke.onClick,Je=ke.name,Ot=ke.src,sn=(0,dt.l)(Je),en=(0,Et.useState)(!1),pn=(0,p.Z)(en,2),Mt=pn[0],fn=pn[1],mn=!Mt&&Ot,Vn=mn?void 0:{background:Ne};return(0,s.jsx)("div",{className:"Avatar",style:Vn,onClick:We,children:mn?(0,s.jsx)("img",{className:"Avatar-img",src:Ot,alt:sn,referrerPolicy:"no-referrer",onError:function(){return fn(!0)}}):sn})},Kt=o(2382);function cn(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function Wt(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?cn(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):cn(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}(0,U.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(ke,Ne,We){var Je=We;return Je?{appState:Wt(Wt(Wt({},Ne),(0,Kt.s)({scenePoint:Je,viewportDimensions:{width:Ne.width,height:Ne.height},zoom:Ne.zoom})),{},{openMenu:Ne.openMenu==="canvas"?null:Ne.openMenu}),commitToHistory:!1}:{appState:Ne,commitToHistory:!1}},PanelComponent:function(ke){var Ne=ke.updateData,We=ke.data,Je=(0,p.Z)(We,2),Ot=Je[0],sn=Je[1],en=(0,dt.G)(Ot);return(0,s.jsx)(Vt,{color:en,onClick:function(){return Ne(sn.pointer)},name:sn.username||"",src:sn.avatarUrl})}});var Mn=o(5742);function wn(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function Jn(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?wn(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):wn(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}function yt(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return Qt(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return Qt(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function Qt(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}var Ut=(0,U.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){var Ot,sn=Je.scene.getSelectedElements({selectedElementIds:Ne.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),en=yt(T.PR);try{var pn=function(){var fn=Ot.value;if(sn.some(function(mn){return mn.type===fn}))return{v:{commitToHistory:!1,appState:Jn(Jn({},Ne),{},{errorMessage:(0,C.t)("errors.libraryElementTypeError.".concat(fn))})}}};for(en.s();!(Ot=en.n()).done;){var Mt=pn();if((0,qe.Z)(Mt)==="object")return Mt.v}}catch(fn){en.e(fn)}finally{en.f()}return Je.library.getLatestLibrary().then(function(fn){return Je.library.setLibrary([{id:(0,Fe.kb)(),status:"unpublished",elements:sn.map(Mn.OL),created:Date.now()}].concat((0,f.Z)(fn)))}).then(function(){return{commitToHistory:!1,appState:Jn(Jn({},Ne),{},{toast:{message:(0,C.t)("toast.addedToLibrary")}})}}).catch(function(fn){return{commitToHistory:!1,appState:Jn(Jn({},Ne),{},{errorMessage:fn.message})}})},contextItemLabel:"labels.addToLibrary"}),Yt=o(4949);function Bn(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function Fn(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Bn(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Bn(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var Hn=function(ke,Ne,We){var Je=We.axis,Ot=We.position,sn=(0,Yt.v2)(ke),en=Je==="x"?["minX","maxX"]:["minY","maxY"],pn=(0,p.Z)(en,2),Mt=pn[0],fn=pn[1],mn={x:0,y:0};return Fn(Fn({},mn),{},Ot==="start"?(0,j.Z)({},Je,Ne[Mt]-sn[Mt]):Ot==="end"?(0,j.Z)({},Je,Ne[fn]-sn[fn]):(0,j.Z)({},Je,(Ne[Mt]+Ne[fn])/2-(sn[Mt]+sn[fn])/2))},rr=function(ke,Ne,We,Je){var Ot=Je.scene.getSelectedElements(Ne);return Ot.length>1&&!Ot.some(function(sn){return sn.type==="frame"})},In=function(ke,Ne,We,Je){var Ot=function(en,pn){var Mt=(0,R.AI)(en),fn=(0,Yt.v2)(en);return Mt.flatMap(function(mn){var Vn=Hn(mn,fn,pn);return mn.map(function(Kn){return(0,u.BE)(Kn,{x:Kn.x+Vn.x,y:Kn.y+Vn.y})})})}(We.scene.getSelectedElements(Ne),Je),sn=(0,L.xn)(Ot);return(0,Ue.Tq)(ke.map(function(en){return sn.get(en.id)||en}),Ne,We)};(0,U.z)({name:"alignTop",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.key===A.tW.ARROW_UP},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.Ct,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.alignTop"),"  ").concat((0,L.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,C.t)("labels.alignTop"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.key===A.tW.ARROW_DOWN},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.HL,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.alignBottom"),"  ").concat((0,L.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,C.t)("labels.alignBottom"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.key===A.tW.ARROW_LEFT},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.xs,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.alignLeft"),"  ").concat((0,L.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,C.t)("labels.alignLeft"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"alignRight",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.shiftKey&&ke.key===A.tW.ARROW_RIGHT},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.mh,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.alignRight"),"  ").concat((0,L.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,C.t)("labels.alignRight"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.ST,onClick:function(){return Je(null)},title:(0,C.t)("labels.centerVertically"),"aria-label":(0,C.t)("labels.centerVertically"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:rr,perform:function(ke,Ne,We,Je){return{appState:Ne,elements:In(ke,Ne,Je,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!rr(0,We,0,Ot),type:"button",icon:y.gK,onClick:function(){return Je(null)},title:(0,C.t)("labels.centerHorizontally"),"aria-label":(0,C.t)("labels.centerHorizontally"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}});function _t(ke,Ne){var We=typeof Symbol<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!We){if(Array.isArray(ke)||(We=function(Mt,fn){if(Mt){if(typeof Mt=="string")return Ct(Mt,fn);var mn=Object.prototype.toString.call(Mt).slice(8,-1);if(mn==="Object"&&Mt.constructor&&(mn=Mt.constructor.name),mn==="Map"||mn==="Set")return Array.from(Mt);if(mn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mn))return Ct(Mt,fn)}}(ke))||Ne&&ke&&typeof ke.length=="number"){We&&(ke=We);var Je=0,Ot=function(){};return{s:Ot,n:function(){return Je>=ke.length?{done:!0}:{done:!1,value:ke[Je++]}},e:function(Mt){throw Mt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sn,en=!0,pn=!1;return{s:function(){We=We.call(ke)},n:function(){var Mt=We.next();return en=Mt.done,Mt},e:function(Mt){pn=!0,sn=Mt},f:function(){try{en||We.return==null||We.return()}finally{if(pn)throw sn}}}}function Ct(ke,Ne){(Ne==null||Ne>ke.length)&&(Ne=ke.length);for(var We=0,Je=new Array(Ne);We<Ne;We++)Je[We]=ke[We];return Je}var It=function(ke,Ne){var We=Ne.scene.getSelectedElements(ke);return We.length>1&&!We.some(function(Je){return Je.type==="frame"})},Bt=function(ke,Ne,We,Je){var Ot=function(en,pn){var Mt,fn=pn.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],mn=(0,p.Z)(fn,4),Vn=mn[0],Kn=mn[1],Gn=mn[2],dr=mn[3],sr=(0,Yt.v2)(en),Wn=(0,R.AI)(en).map(function(Hr){return[Hr,(0,Yt.v2)(Hr)]}).sort(function(Hr,lo){return Hr[1][Kn]-lo[1][Kn]}),br=0,Tr=_t(Wn);try{for(Tr.s();!(Mt=Tr.n()).done;)br+=Mt.value[1][dr]}catch(Hr){Tr.e(Hr)}finally{Tr.f()}var So=(sr[dr]-br)/(Wn.length-1);if(So<0){var No=Wn.findIndex(function(Hr){return Hr[1][Vn]===sr[Vn]}),ui=Wn.findIndex(function(Hr){return Hr[1][Gn]===sr[Gn]}),ea=(Wn[ui][1][Kn]-Wn[No][1][Kn])/(Wn.length-1),Un=Wn[No][1][Kn];return Wn.flatMap(function(Hr,lo){var qo=(0,p.Z)(Hr,2),vi=qo[0],Ia=qo[1],Ti={x:0,y:0};return lo!==No&&lo!==ui&&(Un+=ea,Ti[pn.axis]=Un-Ia[Kn]),vi.map(function(Zi){return(0,u.BE)(Zi,{x:Zi.x+Ti.x,y:Zi.y+Ti.y})})})}var Or=sr[Vn];return Wn.flatMap(function(Hr){var lo=(0,p.Z)(Hr,2),qo=lo[0],vi=lo[1],Ia={x:0,y:0};return Ia[pn.axis]=Or-vi[Vn],Or+=So,Or+=vi[dr],qo.map(function(Ti){return(0,u.BE)(Ti,{x:Ti.x+Ia.x,y:Ti.y+Ia.y})})})}(We.scene.getSelectedElements(Ne),Je),sn=(0,L.xn)(Ot);return(0,Ue.Tq)(ke.map(function(en){return sn.get(en.id)||en}),Ne,We)},yn=((0,U.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){return{appState:Ne,elements:Bt(ke,Ne,Je,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(ke){return!ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.H},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!It(We,Ot),type:"button",icon:y.uD,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.distributeHorizontally"),"  ").concat((0,L.uY)("Alt+H")),"aria-label":(0,C.t)("labels.distributeHorizontally"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),(0,U.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){return{appState:Ne,elements:Bt(ke,Ne,Je,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(ke){return!ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.V},PanelComponent:function(ke){var Ne=ke.elements,We=ke.appState,Je=ke.updateData,Ot=ke.app;return(0,s.jsx)(Se.V,{hidden:!It(We,Ot),type:"button",icon:y.W5,onClick:function(){return Je(null)},title:"".concat((0,C.t)("labels.distributeVertically"),"  ").concat((0,L.uY)("Alt+V")),"aria-label":(0,C.t)("labels.distributeVertically"),visible:(0,k.N)((0,te.Lm)(Ne),We)})}}),o(4381)),_n=(0,U.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){return{elements:(0,Ue.Tq)($n(ke,Ne,"horizontal"),Ne,Je),appState:Ne,commitToHistory:!0}},keyTest:function(ke){return ke.shiftKey&&ke.code===A.aU.H},contextItemLabel:"labels.flipHorizontal"}),vn=(0,U.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(ke,Ne,We,Je){return{elements:(0,Ue.Tq)($n(ke,Ne,"vertical"),Ne,Je),appState:Ne,commitToHistory:!0}},keyTest:function(ke){return ke.shiftKey&&ke.code===A.aU.V&&!ke[A.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),$n=function(ke,Ne,We){var Je=(0,k.eD)((0,te.Lm)(ke),Ne,{includeBoundTextElement:!0,includeElementsInFrames:!0}),Ot=jn(Je,Ne,We),sn=(0,L.xn)(Ot);return ke.map(function(en){return sn.get(en.id)||en})},jn=function(ke,Ne,We){var Je=(0,Yt.v2)(ke),Ot=Je.minX,sn=Je.minY,en=Je.maxX,pn=Je.maxY;return(0,yn.LM)({originalElements:(0,L.xn)(ke)},ke,"nw",!0,We==="horizontal"?en:Ot,We==="horizontal"?sn:pn),((0,de.N1)(Ne)?de.el:de.H)(ke),ke},Ln=o(5047);function ir(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function Sn(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?ir(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):ir(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var Cn=(0,U.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(ke){return!ke.gridSize}},perform:function(ke,Ne){return{appState:Sn(Sn({},Ne),{},{gridSize:this.checked(Ne)?null:T.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(ke){return ke.gridSize!==null},predicate:function(ke,Ne,We){return We.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(ke){return ke[A.tW.CTRL_OR_CMD]&&ke.code===A.aU.QUOTE}});function Nn(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function On(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Nn(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Nn(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var ur=(0,U.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(ke){return!ke.zenModeEnabled}},perform:function(ke,Ne){return{appState:On(On({},Ne),{},{zenModeEnabled:!this.checked(Ne)}),commitToHistory:!1}},checked:function(ke){return ke.zenModeEnabled},predicate:function(ke,Ne,We){return We.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(ke){return!ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.Z}});function zn(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function ar(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?zn(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):zn(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var jr=(0,U.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(ke){return!ke.objectsSnapModeEnabled}},perform:function(ke,Ne){return{appState:ar(ar({},Ne),{},{objectsSnapModeEnabled:!this.checked(Ne),gridSize:null}),commitToHistory:!1}},checked:function(ke){return ke.objectsSnapModeEnabled},predicate:function(ke,Ne,We){return We.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(ke){return!ke[A.tW.CTRL_OR_CMD]&&ke.altKey&&ke.code===A.aU.S}}),no=o(7080),go=o(7392),Oo=o(5992),Po=o(9672);function Gr(ke,Ne){var We=Object.keys(ke);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(ke);Ne&&(Je=Je.filter(function(Ot){return Object.getOwnPropertyDescriptor(ke,Ot).enumerable})),We.push.apply(We,Je)}return We}function Yr(ke){for(var Ne=1;Ne<arguments.length;Ne++){var We=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Gr(Object(We),!0).forEach(function(Je){(0,j.Z)(ke,Je,We[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(We)):Gr(Object(We)).forEach(function(Je){Object.defineProperty(ke,Je,Object.getOwnPropertyDescriptor(We,Je))})}return ke}var Xo=(0,U.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(ke,Ne,We,Je){var Ot=Je.scene.getSelectedElements(Ne);return!(Ot.length!==1||!(0,E.bt)(Ot[0]))},perform:function(ke,Ne,We,Je){var Ot,sn=Je.scene.getSelectedElements({selectedElementIds:Ne.selectedElementIds,includeBoundTextElement:!0})[0],en=((Ot=Ne.editingLinearElement)===null||Ot===void 0?void 0:Ot.elementId)===sn.id?null:new V._(sn,Je.scene);return{appState:Yr(Yr({},Ne),{},{editingLinearElement:en}),commitToHistory:!1}},contextItemLabel:function(ke,Ne,We){var Je,Ot=We.scene.getSelectedElements({selectedElementIds:Ne.selectedElementIds,includeBoundTextElement:!0})[0];return((Je=Ne.editingLinearElement)===null||Je===void 0?void 0:Je.elementId)===Ot.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(Q,z,o){o.d(z,{N:function(){return M},z:function(){return p}});var M=[],p=function(f){return M=M.concat(f),f}},2529:function(Q,z,o){o.d(z,{C:function(){return E}});var M=o(9937),p=o(8227),f=o(9827),u={toggleTheme:[(0,f.uY)("Shift+Alt+D")],saveScene:[(0,f.uY)("CtrlOrCmd+S")],loadScene:[(0,f.uY)("CtrlOrCmd+O")],clearCanvas:[(0,f.uY)("CtrlOrCmd+Delete")],imageExport:[(0,f.uY)("CtrlOrCmd+Shift+E")],cut:[(0,f.uY)("CtrlOrCmd+X")],copy:[(0,f.uY)("CtrlOrCmd+C")],paste:[(0,f.uY)("CtrlOrCmd+V")],copyStyles:[(0,f.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,f.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,f.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,f.uY)("Delete")],duplicateSelection:[(0,f.uY)("CtrlOrCmd+D"),(0,f.uY)("Alt+".concat((0,p.t)("helpDialog.drag")))],sendBackward:[(0,f.uY)("CtrlOrCmd+[")],bringForward:[(0,f.uY)("CtrlOrCmd+]")],sendToBack:[M.Um?(0,f.uY)("CtrlOrCmd+Alt+["):(0,f.uY)("CtrlOrCmd+Shift+[")],bringToFront:[M.Um?(0,f.uY)("CtrlOrCmd+Alt+]"):(0,f.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,f.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,f.uY)("CtrlOrCmd+G")],ungroup:[(0,f.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,f.uY)("CtrlOrCmd+'")],zenMode:[(0,f.uY)("Alt+Z")],objectsSnapMode:[(0,f.uY)("Alt+S")],stats:[(0,f.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,f.uY)("Shift+H")],flipVertical:[(0,f.uY)("Shift+V")],viewMode:[(0,f.uY)("Alt+R")],hyperlink:[(0,f.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,f.uY)("CtrlOrCmd+Shift+L")]},E=function(R){var k=u[R];return k&&k.length>0?k[0]:""}},3646:function(Q,z,o){o.d(z,{L:function(){return M}});var M=function(p,f,u,E){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.3",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(p))return;window.sa_event&&window.sa_event(f,{category:p,label:u,value:E})}catch(R){console.error("error during analytics",R)}}},6853:function(Q,z,o){o.d(z,{EN:function(){return Y},eS:function(){return W},im:function(){return R},l$:function(){return ee},s:function(){return L}});var M=o(9240),p=o(9937),f=o(8227),u=o(9827),E=p.ZB.includes(devicePixelRatio)?devicePixelRatio:1,R=function(){return{showWelcomeScreen:!1,theme:p.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:p.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:p.HN.fillStyle,currentItemFontFamily:p.rk,currentItemFontSize:p.n5,currentItemOpacity:p.HN.opacity,currentItemRoughness:p.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:p.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:p.HN.strokeStyle,currentItemStrokeWidth:p.HN.strokeWidth,currentItemTextAlign:p.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:p.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:E,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,f.t)("labels.untitled"),"-").concat((0,u.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:M.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},k={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},d=function(S,B){for(var he={},ge=0,ve=Object.keys(S);ge<ve.length;ge++){var me=ve[ge],le=k[me];if(le!=null&&le[B]){var N=S[me];he[me]=N}}return he},L=function(S){return d(S,"export")},W=function(S){return d(S,"server")},Y=function(S){return S.activeTool.type==="eraser"},ee=function(S){return S.activeTool.type==="hand"}},901:function(Q,z,o){o.d(z,{dz:function(){return N},i$:function(){return ge},ps:function(){return C}});var M=o(1930),p=o(7169),f=o(2577),u=o(9240),E=o(9937),R=o(7651),k=o(4643);function d(U,y){var T=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!T){if(Array.isArray(U)||(T=function(j,te){if(j){if(typeof j=="string")return L(j,te);var V=Object.prototype.toString.call(j).slice(8,-1);if(V==="Object"&&j.constructor&&(V=j.constructor.name),V==="Map"||V==="Set")return Array.from(j);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return L(j,te)}}(U))||y&&U&&typeof U.length=="number"){T&&(U=T);var s=0,D=function(){};return{s:D,n:function(){return s>=U.length?{done:!0}:{done:!1,value:U[s++]}},e:function(j){throw j},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,v=!0,x=!1;return{s:function(){T=T.call(U)},n:function(){var j=T.next();return v=j.done,j},e:function(j){x=!0,b=j},f:function(){try{v||T.return==null||T.return()}finally{if(x)throw b}}}}function L(U,y){(y==null||y>U.length)&&(y=U.length);for(var T=0,s=new Array(y);T<y;T++)s[T]=U[T];return s}function W(U,y){var T=Object.keys(U);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(U);y&&(s=s.filter(function(D){return Object.getOwnPropertyDescriptor(U,D).enumerable})),T.push.apply(T,s)}return T}function Y(U){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?W(Object(T),!0).forEach(function(s){(0,p.Z)(U,s,T[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(T)):W(Object(T)).forEach(function(s){Object.defineProperty(U,s,Object.getOwnPropertyDescriptor(T,s))})}return U}var ee=32,S=12,B=256,he="NOT_SPREADSHEET",ge="VALID_SPREADSHEET",ve=function(U){var y=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(U);return y?parseFloat("".concat((y[1]||y[2])+y[3]).replace(/,/g,"")):null},me=function(U,y){return U.slice(1).every(function(T){return ve(T[y])!==null})},le=function(U){var y=U[0].length;if(y>2)return{type:he,reason:"More than 2 columns"};if(y===1){if(!me(U,0))return{type:he,reason:"Value is not numeric"};var T=ve(U[0][0])===null,s=(T?U.slice(1):U).map(function(Z){return ve(Z[0])});return s.length<2?{type:he,reason:"Less than two rows"}:{type:ge,spreadsheet:{title:T?U[0][0]:null,labels:null,values:s}}}var D=me(U,0),b=me(U,1);if(!D&&!b)return{type:he,reason:"Value is not numeric"};var v=b?[0,1]:[1,0],x=(0,f.Z)(v,2),j=x[0],te=x[1],V=ve(U[0][te])===null,F=V?U.slice(1):U;return F.length<2?{type:he,reason:"Less than 2 rows"}:{type:ge,spreadsheet:{title:V?U[0][te]:null,labels:F.map(function(Z){return Z[j]}),values:F.map(function(Z){return ve(Z[te])})}}},N=function(U){var y=U.trim().split(`
`).map(function(b){return b.trim().split("	")});if(y.length&&y[0].length!==2&&(y=U.trim().split(`
`).map(function(b){return b.trim().split(",")})),y.length===0)return{type:he,reason:"No values"};var T=y[0].length;if(!y.every(function(b){return b.length===T}))return{type:he,reason:"All rows don't have same number of columns"};var s=le(y);if(s.type!==ge){var D=le(function(b){for(var v=[],x=0;x<b[0].length;x++){for(var j=[],te=0;te<b.length;te++)j.push(b[te][x]);v.push(j)}return v}(y));if(D.type===ge)return D}return s},oe=(0,u.sF)(u.C2),O={fillStyle:"hachure",fontFamily:E.rk,fontSize:E.n5,opacity:100,roughness:1,strokeColor:u.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:E.oX.MIDDLE,locked:!1},I=function(U){return{chartWidth:44*U.values.length+S,chartHeight:280}},A=function(U,y,T,s,D,b){var v=I(U),x=v.chartWidth,j=v.chartHeight,te=U.title?(0,R.VL)(Y(Y({backgroundColor:D,groupIds:[s]},O),{},{text:U.title,x:y+x/2,y:T-B-24-E.n5,roundness:null,textAlign:"center"})):null,V=b?(0,R.Up)(Y(Y({backgroundColor:D,groupIds:[s]},O),{},{type:"rectangle",x:y,y:T-j,width:x,height:j,strokeColor:u.HO.black,fillStyle:"solid",opacity:6})):null;return[].concat((0,M.Z)(V?[V]:[]),(0,M.Z)(te?[te]:[]),(0,M.Z)(function(F,Z,ne,ce,Se){var de;return((de=F.labels)===null||de===void 0?void 0:de.map(function(_e,we){return(0,R.VL)(Y(Y({groupIds:[ce],backgroundColor:Se},O),{},{text:_e.length>8?"".concat(_e.slice(0,5),"..."):_e,x:Z+44*we+24,y:ne+6,width:ee,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(U,y,T,s,D)),(0,M.Z)(function(F,Z,ne,ce,Se){var de=(0,R.VL)(Y(Y({groupIds:[ce],backgroundColor:Se},O),{},{x:Z-S,y:ne-S,text:"0",textAlign:"right"}));return[de,(0,R.VL)(Y(Y({groupIds:[ce],backgroundColor:Se},O),{},{x:Z-S,y:ne-B-de.height/2,text:Math.max.apply(Math,(0,M.Z)(F.values)).toLocaleString(),textAlign:"right"}))]}(U,y,T,s,D)),(0,M.Z)(function(F,Z,ne,ce,Se){var de=I(F),_e=de.chartWidth,we=de.chartHeight;return[(0,R.y8)(Y(Y({backgroundColor:Se,groupIds:[ce]},O),{},{type:"line",x:Z,y:ne,startArrowhead:null,endArrowhead:null,width:_e,points:[[0,0],[_e,0]]})),(0,R.y8)(Y(Y({backgroundColor:Se,groupIds:[ce]},O),{},{type:"line",x:Z,y:ne,startArrowhead:null,endArrowhead:null,height:we,points:[[0,0],[0,-we]]})),(0,R.y8)(Y(Y({backgroundColor:Se,groupIds:[ce]},O),{},{type:"line",x:Z,y:ne-B-S,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:_e,opacity:50,points:[[0,0],[_e,0]]}))]}(U,y,T,s,D)))},C=function(U,y,T,s){return U==="line"?function(D,b,v){var x,j=Math.max.apply(Math,(0,M.Z)(D.values)),te=(0,k.kb)(),V=oe[Math.floor(Math.random()*oe.length)],F=0,Z=[],ne=d(D.values);try{for(ne.s();!(x=ne.n()).done;){var ce=x.value,Se=44*F,de=-ce/j*B;Z.push([Se,de]),F++}}catch(He){ne.e(He)}finally{ne.f()}var _e=Math.max.apply(Math,(0,M.Z)(Z.map(function(He){return He[0]}))),we=Math.max.apply(Math,(0,M.Z)(Z.map(function(He){return He[1]}))),J=Math.min.apply(Math,(0,M.Z)(Z.map(function(He){return He[0]}))),xe=Math.min.apply(Math,(0,M.Z)(Z.map(function(He){return He[1]}))),je=(0,R.y8)(Y(Y({backgroundColor:V,groupIds:[te]},O),{},{type:"line",x:b+S+16,y:v-S,startArrowhead:null,endArrowhead:null,height:we-xe,width:_e-J,strokeWidth:2,points:Z})),Ue=D.values.map(function(He,Le){var De=44*Le+6,Be=-He/j*B+6;return(0,R.Up)(Y(Y({backgroundColor:V,groupIds:[te]},O),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:b+De+16,y:v+Be-24,width:S,height:S}))}),et=D.values.map(function(He,Le){var De=44*Le+6,Be=He/j*B+6+S;return(0,R.y8)(Y(Y({backgroundColor:V,groupIds:[te]},O),{},{type:"line",x:b+De+16+6,y:v-Be,startArrowhead:null,endArrowhead:null,height:Be,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Be]]}))});return[].concat((0,M.Z)(A(D,b,v,te,V,!1)),[je],(0,M.Z)(et),(0,M.Z)(Ue))}(y,T,s):function(D,b,v){var x=Math.max.apply(Math,(0,M.Z)(D.values)),j=(0,k.kb)(),te=oe[Math.floor(Math.random()*oe.length)],V=D.values.map(function(F,Z){var ne=F/x*B;return(0,R.Up)(Y(Y({backgroundColor:te,groupIds:[j]},O),{},{type:"rectangle",x:b+44*Z+S,y:v-ne-S,width:ee,height:ne}))});return[].concat((0,M.Z)(V),(0,M.Z)(A(D,b,v,j,te,!1)))}(y,T,s)}},957:function(Q,z,o){o.d(z,{G:function(){return M},l:function(){return p}});var M=function(f){var u=Math.abs(function(E){var R=0;if(E.length===0)return R;for(var k=0;k<E.length;k++)R=(R<<5)-R+E.charCodeAt(k);return R}(f));return"hsl(".concat(u%37*10,", ").concat(100,"%, ").concat(83,"%)")},p=function(f){var u,E=f==null||(u=f.trim())===null||u===void 0?void 0:u.codePointAt(0);return(E?String.fromCodePoint(E):"?").toUpperCase()}},4694:function(Q,z,o){o.d(z,{OO:function(){return le},Se:function(){return C},dd:function(){return s},mQ:function(){return y},uR:function(){return T},vQ:function(){return oe},vt:function(){return ve},wx:function(){return ge}});var M=o(7169),p=o(8950),f=o(2577),u=o(2975),E=o.n(u),R=o(901),k=o(9937),d=o(4183),L=o(5742),W=o(583),Y=o(4682),ee=o(9827),S=o(8227);function B(b,v){var x=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!x){if(Array.isArray(b)||(x=function(ne,ce){if(ne){if(typeof ne=="string")return he(ne,ce);var Se=Object.prototype.toString.call(ne).slice(8,-1);if(Se==="Object"&&ne.constructor&&(Se=ne.constructor.name),Se==="Map"||Se==="Set")return Array.from(ne);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return he(ne,ce)}}(b))||v&&b&&typeof b.length=="number"){x&&(b=x);var j=0,te=function(){};return{s:te,n:function(){return j>=b.length?{done:!0}:{done:!1,value:b[j++]}},e:function(ne){throw ne},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,F=!0,Z=!1;return{s:function(){x=x.call(b)},n:function(){var ne=x.next();return F=ne.done,ne},e:function(ne){Z=!0,V=ne},f:function(){try{F||x.return==null||x.return()}finally{if(Z)throw V}}}}function he(b,v){(v==null||v>b.length)&&(v=b.length);for(var x=0,j=new Array(v);x<v;x++)j[x]=b[x];return j}var ge="clipboard"in navigator&&"writeText"in navigator.clipboard,ve="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,me=function(b){return!(![k.r8.excalidraw,k.r8.excalidrawClipboard,k.r8.excalidrawClipboardWithAPI].includes(b==null?void 0:b.type)||!Array.isArray(b.elements))},le=function(b){var v=b.types,x=b.files;v||x||console.warn("createPasteEvent: no types or files provided");var j=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(v)for(var te=0,V=Object.entries(v);te<V.length;te++){var F=(0,f.Z)(V[te],2),Z=F[0],ne=F[1];try{var ce,Se;if((ce=j.clipboardData)===null||ce===void 0||ce.setData(Z,ne),((Se=j.clipboardData)===null||Se===void 0?void 0:Se.getData(Z))!==ne)throw new Error('Failed to set "'.concat(Z,'" as clipboardData item'))}catch(Ue){throw new Error(Ue.message)}}if(x){var de,_e=-1,we=B(x);try{for(we.s();!(de=we.n()).done;){var J=de.value;_e++;try{var xe,je;if((xe=j.clipboardData)===null||xe===void 0||xe.items.add(J),((je=j.clipboardData)===null||je===void 0?void 0:je.files[_e])!==J)throw new Error('Failed to set file "'.concat(J.name,'" as clipboardData item'))}catch(Ue){throw new Error(Ue.message)}}}catch(Ue){we.e(Ue)}finally{we.f()}}return j},N=function(b){var v=b.elements,x=b.files,j=new Set(v.filter(function(Z){return Z.type==="frame"})),te=!1,V=v.reduce(function(Z,ne){return(0,d.wi)(ne)&&(te=!0,x&&x[ne.fileId]&&(Z[ne.fileId]=x[ne.fileId])),Z},{});te&&!x&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var F={type:k.r8.excalidrawClipboard,elements:v.map(function(Z){if((0,Y.$Z)(Z)&&!j.has((0,Y.$Z)(Z))){var ne=(0,L.OL)(Z);return(0,W.DR)(ne,{frameId:null}),ne}return Z}),files:x?V:void 0};return JSON.stringify(F)},oe=function(){var b=(0,p.Z)(E().mark(function v(x,j,te){return E().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,s(N({elements:x,files:j}),te);case 2:case"end":return V.stop()}},v)}));return function(v,x,j){return b.apply(this,arguments)}}(),O=function(b){var v=(0,R.dz)(b);return v.type===R.i$?{spreadsheet:v.spreadsheet}:null};function I(b){var v,x=[],j=B(b.childNodes);try{for(j.s();!(v=j.n()).done;){var te=v.value;if(te.nodeType===3){var V,F=(V=te.textContent)===null||V===void 0?void 0:V.trim();F&&x.push({type:"text",value:F})}else if(te instanceof HTMLImageElement){var Z=te.getAttribute("src");Z&&Z.startsWith("http")&&x.push({type:"imageUrl",value:Z})}else x=x.concat(I(te))}}catch(ne){j.e(ne)}finally{j.f()}return x}var A=function(b){var v,x=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");if(!x)return null;try{var j=I(new DOMParser().parseFromString(x,"text/html").body);if(j.length)return{type:"mixedContent",value:j}}catch(te){console.error("error in parseHTMLFromPaste: ".concat(te.message))}return null},C=function(){var b=(0,p.Z)(E().mark(function v(){var x,j,te,V,F,Z,ne,ce,Se,de,_e,we;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(x={},J.prev=1,(j=navigator.clipboard)===null||j===void 0||!j.readText){J.next=7;break}return J.next=5,(te=navigator.clipboard)===null||te===void 0?void 0:te.readText();case 5:return J.t0=J.sent,J.abrupt("return",{"text/plain":J.t0});case 7:J.next=16;break;case 9:if(J.prev=9,J.t1=J.catch(1),(V=navigator.clipboard)===null||V===void 0||!V.read){J.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(J.t1.message,"). Failling back to navigator.clipboard.read()")),J.next=16;break;case 15:throw J.t1;case 16:return J.prev=16,J.next=19,(Z=navigator.clipboard)===null||Z===void 0?void 0:Z.read();case 19:F=J.sent,J.next=28;break;case 22:if(J.prev=22,J.t2=J.catch(16),J.t2.name!=="DataError"){J.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(J.t2.message)),J.abrupt("return",x);case 27:throw J.t2;case 28:ne=B(F),J.prev=29,ne.s();case 31:if((ce=ne.n()).done){J.next=63;break}Se=ce.value,de=B(Se.types),J.prev=34,de.s();case 36:if((_e=de.n()).done){J.next=53;break}if(we=_e.value,(0,ee.XF)(k.wL,we)){J.next=40;break}return J.abrupt("continue",51);case 40:return J.prev=40,J.next=43,Se.getType(we);case 43:return J.next=45,J.sent.text();case 45:x[we]=J.sent,J.next=51;break;case 48:J.prev=48,J.t3=J.catch(40),console.warn("Cannot retrieve ".concat(we," from clipboardItem: ").concat(J.t3.message));case 51:J.next=36;break;case 53:J.next=58;break;case 55:J.prev=55,J.t4=J.catch(34),de.e(J.t4);case 58:return J.prev=58,de.f(),J.finish(58);case 61:J.next=31;break;case 63:J.next=68;break;case 65:J.prev=65,J.t5=J.catch(29),ne.e(J.t5);case 68:return J.prev=68,ne.f(),J.finish(68);case 71:if(Object.keys(x).length!==0){J.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),J.abrupt("return",x);case 74:return J.abrupt("return",x);case 75:case"end":return J.stop()}},v,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return b.apply(this,arguments)}}(),U=function(){var b=(0,p.Z)(E().mark(function v(x){var j,te,V,F,Z,ne=arguments;return E().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(j=ne.length>1&&ne[1]!==void 0&&ne[1],ce.prev=1,!(V=!j&&x&&A(x))){ce.next=7;break}if(!V.value.every(function(Se){return Se.type==="text"})){ce.next=6;break}return ce.abrupt("return",{type:"text",value:((F=x.clipboardData)===null||F===void 0?void 0:F.getData("text/plain"))||V.value.map(function(Se){return Se.value}).join(`
`).trim()});case 6:return ce.abrupt("return",V);case 7:return Z=(te=x.clipboardData)===null||te===void 0?void 0:te.getData("text/plain"),ce.abrupt("return",{type:"text",value:(Z||"").trim()});case 11:return ce.prev=11,ce.t0=ce.catch(1),ce.abrupt("return",{type:"text",value:""});case 14:case"end":return ce.stop()}},v,null,[[1,11]])}));return function(v){return b.apply(this,arguments)}}(),y=function(){var b=(0,p.Z)(E().mark(function v(x){var j,te,V,F,Z,ne=arguments;return E().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return j=ne.length>1&&ne[1]!==void 0&&ne[1],ce.next=3,U(x,j);case 3:if((te=ce.sent).type!=="mixedContent"){ce.next=6;break}return ce.abrupt("return",{mixedContent:te.value});case 6:if(ce.prev=6,!(V=!j&&O(te.value))){ce.next=10;break}return ce.abrupt("return",V);case 10:ce.next=15;break;case 12:ce.prev=12,ce.t0=ce.catch(6),console.error(ce.t0);case 15:if(ce.prev=15,F=JSON.parse(te.value),Z=F.type===k.r8.excalidrawClipboardWithAPI,!me(F)){ce.next=20;break}return ce.abrupt("return",{elements:F.elements,files:F.files,text:j?JSON.stringify(F.elements,null,2):void 0,programmaticAPI:Z});case 20:ce.next=24;break;case 22:ce.prev=22,ce.t1=ce.catch(15);case 24:return ce.abrupt("return",{text:te.value});case 25:case"end":return ce.stop()}},v,null,[[6,12],[15,22]])}));return function(v){return b.apply(this,arguments)}}(),T=function(){var b=(0,p.Z)(E().mark(function v(x){return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,navigator.clipboard.write([new window.ClipboardItem((0,M.Z)({},k.LO.png,x))]);case 3:case 21:j.next=24;break;case 5:if(j.prev=5,j.t0=j.catch(0),!(0,ee.y8)(x)){j.next=23;break}return j.t1=navigator.clipboard,j.t2=window.ClipboardItem,j.t3=M.Z,j.t4={},j.t5=k.LO.png,j.next=15,x;case 15:return j.t6=j.sent,j.t7=(0,j.t3)(j.t4,j.t5,j.t6),j.t8=new j.t2(j.t7),j.t9=[j.t8],j.next=21,j.t1.write.call(j.t1,j.t9);case 23:throw j.t0;case 24:case"end":return j.stop()}},v,null,[[0,5]])}));return function(v){return b.apply(this,arguments)}}(),s=function(){var b=(0,p.Z)(E().mark(function v(x,j){var te,V;return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!ge){F.next=10;break}return F.prev=1,F.next=4,navigator.clipboard.writeText(x||"");case 4:return F.abrupt("return");case 7:F.prev=7,F.t0=F.catch(1),console.error(F.t0);case 10:if(F.prev=10,!j){F.next=16;break}if((te=j.clipboardData)===null||te===void 0||te.setData("text/plain",x||""),((V=j.clipboardData)===null||V===void 0?void 0:V.getData("text/plain"))===x){F.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return F.abrupt("return");case 16:F.next=21;break;case 18:F.prev=18,F.t1=F.catch(10),console.error(F.t1);case 21:if(D(x)){F.next=23;break}throw new Error((0,S.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return F.stop()}},v,null,[[1,7],[10,18]])}));return function(v,x){return b.apply(this,arguments)}}(),D=function(b){b||(b=" ");var v=document.documentElement.getAttribute("dir")==="rtl",x=document.createElement("textarea");x.style.border="0",x.style.padding="0",x.style.margin="0",x.style.position="absolute",x.style[v?"right":"left"]="-9999px";var j=window.pageYOffset||document.documentElement.scrollTop;x.style.top="".concat(j,"px"),x.style.fontSize="12pt",x.setAttribute("readonly",""),x.value=b,document.body.appendChild(x);var te=!1;try{x.select(),x.setSelectionRange(0,x.value.length),te=document.execCommand("copy")}catch(V){console.error(V)}return x.remove(),te}},9240:function(Q,z,o){o.d(z,{C2:function(){return d},HO:function(){return S},Lx:function(){return R},SF:function(){return le},Wk:function(){return me},_T:function(){return W},ay:function(){return ve},dC:function(){return k},eq:function(){return ge},fY:function(){return he},sF:function(){return N},vq:function(){return oe},z8:function(){return L}});var M=o(7169),p=o(5284);function f(O,I){var A=Object.keys(O);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(O);I&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable})),A.push.apply(A,C)}return A}function u(O){for(var I=1;I<arguments.length;I++){var A=arguments[I]!=null?arguments[I]:{};I%2?f(Object(A),!0).forEach(function(C){(0,M.Z)(O,C,A[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(A)):f(Object(A)).forEach(function(C){Object.defineProperty(O,C,Object.getOwnPropertyDescriptor(A,C))})}return O}var E,R=5,k=5,d=4,L=4,W=1,Y=[0,2,4,6,8],ee=function(O,I){return I.map(function(A){return p[O][A]})},S={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:ee("gray",Y),red:ee("red",Y),pink:ee("pink",Y),grape:ee("grape",Y),violet:ee("violet",Y),blue:ee("blue",Y),cyan:ee("cyan",Y),teal:ee("teal",Y),green:ee("green",Y),yellow:ee("yellow",Y),orange:ee("orange",Y),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},B=(E=S,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(O,I){return I in E&&(O[I]=E[I]),O},{})),he=[S.black,S.red[L],S.green[L],S.blue[L],S.yellow[L]],ge=[S.transparent,S.red[W],S.green[W],S.blue[W],S.yellow[W]],ve=[S.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],me=u({transparent:S.transparent,white:S.white,gray:S.gray,black:S.black,bronze:S.bronze},B),le=u({transparent:S.transparent,white:S.white,gray:S.gray,black:S.black,bronze:S.bronze},B),N=function(O){return[S.cyan[O],S.blue[O],S.violet[O],S.grape[O],S.pink[O],S.green[O],S.teal[O],S.yellow[O],S.orange[O],S.red[O]]},oe=function(O,I,A){return"#".concat(((1<<24)+(O<<16)+(I<<8)+A).toString(16).slice(1))}},8973:function(Q,z,o){o.d(z,{o:function(){return W},w:function(){return L}});var M=o(2577),p=o(3607),f=o(5463),u=o(8227),E=o(453),R=o(8242),k=o(6887),d=o(1020),L=(0,p.cn)(null),W=function(){var Y=(0,p.KO)(L,E.yE),ee=(0,M.Z)(Y,2),S=ee[0],B=ee[1],he=(0,R.eh)();return S&&S==="clearCanvas"?(0,d.jsx)(k.Z,{onConfirm:function(){he.executeAction(f.mo),B(null)},onCancel:function(){return B(null)},title:(0,u.t)("clearCanvasDialog.title"),children:(0,d.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,u.t)("alerts.clearReset")]})}):null}},8242:function(Q,z,o){var gm,vm;o.d(z,{ZP:function(){return FE},qD:function(){return sm},hY:function(){return kb},Fy:function(){return $f},eh:function(){return cm},gF:function(){return Eb},J0:function(){return lm},bd:function(){return Sb},n9:function(){return _b}});var M=o(6655),p=o(2577),f=o(1930),u=o(8950),E=o(8821),R=o(5169),k=o(3173),d=o(2248),L=o(7245),W=o(2312),Y=o(7169),ee=o(2975),S=o.n(ee),B=o(9787),he=o.n(B),ge=o(5156),ve=o(9845),me=o(45),le=o(5605),N=o(5463),oe=o(8935),O=o(1512),I=o(8227),A=o(5491),C=o(583),U=o(9645),y=o(9827),T=o(9937),s=o(1020);function D(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function b(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?D(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):D(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var v=function(l,P,H){var ae=!1;if(!(P.multiElement||P.resizingElement||P.editingElement||P.draggingElement)){var Ee=H();if(Ee===null)return{commitToHistory:ae};var Ae=(0,y.xn)(l),re=Ee.elements,q=(0,y.xn)(re),Oe=l.filter(function(ze){return!q.has(ze.id)}),Ve=re.map(function(ze){return(0,C.BE)(Ae.get(ze.id)||ze,ze)}).concat(Oe.map(function(ze){return(0,C.BE)(ze,{isDeleted:!0})}));return(0,U.$q)(Ve,Oe),{elements:Ve,appState:b(b({},P),Ee.appState),commitToHistory:ae,syncHistory:!0}}return{commitToHistory:ae}},x=o(3646),j=function(l,P,H,ae,Ee,Ae){if(l.trackEvent)try{(0,M.Z)(l.trackEvent)==="object"&&(!l.trackEvent.predicate||l.trackEvent.predicate(H,ae,Ae))&&(0,x.L)(l.trackEvent.category,l.trackEvent.action||l.name,"".concat(P," (").concat(Ee.device.editor.isMobile?"mobile":"desktop",")"))}catch(re){console.error("error while logging action:",re)}},te=function(){function l(P,H,ae,Ee){var Ae=this;(0,E.Z)(this,l),this.actions={},this.renderAction=function(re,q){var Oe=Ae.app.props.UIOptions.canvasActions;if(Ae.actions[re]&&"PanelComponent"in Ae.actions[re]&&(!(re in Oe)||Oe[re])){var Ve=Ae.actions[re],ze=Ve.PanelComponent;ze.displayName="PanelComponent";var nt=Ae.getElementsIncludingDeleted(),rt=Ae.getAppState();return(0,s.jsx)(ze,{elements:Ae.getElementsIncludingDeleted(),appState:Ae.getAppState(),updateData:function(at){j(Ve,"ui",rt,nt,Ae.app,at),Ae.updater(Ve.perform(Ae.getElementsIncludingDeleted(),Ae.getAppState(),at,Ae.app))},appProps:Ae.app.props,app:Ae.app,data:q})}return null},this.isActionEnabled=function(re){var q=Ae.getElementsIncludingDeleted(),Oe=Ae.getAppState();return!re.predicate||re.predicate(q,Oe,Ae.app.props,Ae.app)},this.updater=function(re){if(!re||!("then"in re))return P(re);re.then(function(q){return P(q)})},this.getAppState=H,this.getElementsIncludingDeleted=ae,this.app=Ee}return(0,R.Z)(l,[{key:"registerAction",value:function(P){this.actions[P.name]=P}},{key:"registerAll",value:function(P){var H=this;P.forEach(function(ae){return H.registerAction(ae)})}},{key:"handleKeyDown",value:function(P){var H=this,ae=this.app.props.UIOptions.canvasActions,Ee=Object.values(this.actions).sort(function(Oe,Ve){return(Ve.keyPriority||0)-(Oe.keyPriority||0)}).filter(function(Oe){return(!(Oe.name in ae)||ae[Oe.name])&&Oe.keyTest&&Oe.keyTest(P,H.getAppState(),H.getElementsIncludingDeleted(),H.app)});if(Ee.length!==1)return Ee.length>1&&console.warn("Canceling as multiple actions match this shortcut",Ee),!1;var Ae=Ee[0];if(this.getAppState().viewModeEnabled&&Ae.viewMode!==!0)return!1;var re=this.getElementsIncludingDeleted(),q=this.getAppState();return j(Ae,"keyboard",q,re,this.app,null),P.preventDefault(),P.stopPropagation(),this.updater(Ee[0].perform(re,q,null,this.app)),!0}},{key:"executeAction",value:function(P){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ee=this.getElementsIncludingDeleted(),Ae=this.getAppState();j(P,H,Ae,Ee,this.app,ae),this.updater(P.perform(Ee,Ae,ae,this.app))}}]),l}(),V=o(2767),F=o(6853),Z=o(4694),ne=o(2435),ce=o(9326),Se=o(7994),de=o(7651),_e=o(7422),we=o(5742),J=o(4183),xe=function(l){var P=Array.from(l.values());return{x:Ue(P,function(H){return H.x})/P.length,y:Ue(P,function(H){return H.y})/P.length}},je=function(l){var P=(0,p.Z)(l,2),H=P[0],ae=P[1];return Math.hypot(H.x-ae.x,H.y-ae.y)},Ue=function(l,P){return l.reduce(function(H,ae){return H+P(ae)},0)},et=o(9215);function He(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Le(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?He(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):He(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var De=function(l){return{selectedElementIds:l.selectedElementIds,selectedGroupIds:l.selectedGroupIds,viewBackgroundColor:l.viewBackgroundColor,editingLinearElement:l.editingLinearElement,editingGroupId:l.editingGroupId,name:l.name}},Be=function(){function l(){var P=this;(0,E.Z)(this,l),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(H,ae){return P.dehydrateHistoryEntry({appState:De(H),elements:ae.reduce(function(Ee,Ae){if((0,J.bt)(Ae)&&H.multiElement&&H.multiElement.id===Ae.id){if(H.multiElement&&H.multiElement.id===Ae.id&&Ae.points.length<2)return Ee;Ee.push(Le(Le({},Ae),{},{points:Ae.lastCommittedPoint!==Ae.points[Ae.points.length-1]?Ae.points.slice(0,-1):Ae.points}))}else Ee.push(Ae);return Ee},[])})}}return(0,R.Z)(l,[{key:"hydrateHistoryEntry",value:function(P){var H=this,ae=P.appState,Ee=P.elements;return{appState:JSON.parse(ae),elements:Ee.map(function(Ae){var re,q=(re=H.elementCache.get(Ae.id))===null||re===void 0?void 0:re.get(Ae.versionNonce);if(!q)throw new Error("Element not found: ".concat(Ae.id,":").concat(Ae.versionNonce));return q})}}},{key:"dehydrateHistoryEntry",value:function(P){var H=this,ae=P.appState,Ee=P.elements;return{appState:JSON.stringify(ae),elements:Ee.map(function(Ae){H.elementCache.has(Ae.id)||H.elementCache.set(Ae.id,new Map);var re=H.elementCache.get(Ae.id);return re.has(Ae.versionNonce)||re.set(Ae.versionNonce,(0,we.OL)(Ae)),{id:Ae.id,versionNonce:Ae.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var P=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(H){return P.hydrateHistoryEntry(H)}),redoStack:this.redoStack.map(function(H){return P.hydrateHistoryEntry(H)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(P){var H,ae=this.lastEntry;if(!ae||P.elements.length!==ae.elements.length)return!0;for(var Ee=P.elements.length-1;Ee>-1;Ee--){var Ae=P.elements[Ee],re=ae.elements[Ee];if(!Ae||!re||Ae.id!==re.id||Ae.versionNonce!==re.versionNonce)return!0}for(H in P.appState){var q,Oe;if(!(H==="editingLinearElement"&&((q=P.appState[H])===null||q===void 0?void 0:q.elementId)===((Oe=ae.appState[H])===null||Oe===void 0?void 0:Oe.elementId))&&H!=="selectedElementIds"&&H!=="selectedGroupIds"&&P.appState[H]!==ae.appState[H])return!0}return!1}},{key:"pushEntry",value:function(P,H){var ae=this.generateEntry(P,H),Ee=this.hydrateHistoryEntry(ae);if(Ee){if(!this.shouldCreateEntry(Ee))return;this.stateHistory.push(ae),this.lastEntry=Ee,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var P=this.redoStack.pop();return P!==void 0?(this.stateHistory.push(P),this.hydrateHistoryEntry(P)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var P=this.stateHistory.pop(),H=this.stateHistory[this.stateHistory.length-1];return P!==void 0?(this.redoStack.push(P),this.hydrateHistoryEntry(H)):null}},{key:"setCurrentState",value:function(P,H){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(P,H))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(P,H){this.recording&&(this.pushEntry(P,H),this.recording=!1)}}]),l}(),Ze=o(7935),ye=o(2361),be=o(4105),X=o(457),h=o(4116),m=[{icon:oe.zu,value:"selection",key:A.tW.V,numericKey:A.tW[1],fillable:!0},{icon:oe.OW,value:"rectangle",key:A.tW.R,numericKey:A.tW[2],fillable:!0},{icon:oe.nb,value:"diamond",key:A.tW.D,numericKey:A.tW[3],fillable:!0},{icon:oe.Re,value:"ellipse",key:A.tW.O,numericKey:A.tW[4],fillable:!0},{icon:oe.e0,value:"arrow",key:A.tW.A,numericKey:A.tW[5],fillable:!0},{icon:oe.zb,value:"line",key:A.tW.L,numericKey:A.tW[6],fillable:!0},{icon:oe.Pm,value:"freedraw",key:[A.tW.P,A.tW.X],numericKey:A.tW[7],fillable:!1},{icon:oe.VL,value:"text",key:A.tW.T,numericKey:A.tW[8],fillable:!1},{icon:oe.XB,value:"image",key:null,numericKey:A.tW[9],fillable:!1},{icon:oe.$q,value:"eraser",key:A.tW.E,numericKey:A.tW[0],fillable:!1}],_=o(761),G=o(3204),$=o(3379),ue=o.n($),ie=o(7795),pe=o.n(ie),Pe=o(569),Me=o.n(Pe),$e=o(3565),Ke=o.n($e),qe=o(9216),Fe=o.n(qe),ot=o(4589),it=o.n(ot),ht=o(6578),Te={};Te.styleTagTransform=it(),Te.setAttributes=Ke(),Te.insert=Me().bind(null,"head"),Te.domAPI=pe(),Te.insertStyleElement=Fe(),ue()(ht.Z,Te),ht.Z&&ht.Z.locals&&ht.Z.locals;var Ie=o(2529),Ge="separator",tt=he().memo(function(l){var P=l.actionManager,H=l.items,ae=l.top,Ee=l.left,Ae=l.onClose,re=Eb(),q=Sb(),Oe=H.reduce(function(Ve,ze){return!ze||ze!==Ge&&ze.predicate&&!ze.predicate(q,re,P.app.props,P.app)||Ve.push(ze),Ve},[]);return(0,s.jsx)(G.J,{onCloseRequest:function(){Ae()},top:ae,left:Ee,fitInViewport:!0,offsetLeft:re.offsetLeft,offsetTop:re.offsetTop,viewportWidth:re.width,viewportHeight:re.height,children:(0,s.jsx)("ul",{className:"context-menu",onContextMenu:function(Ve){return Ve.preventDefault()},children:Oe.map(function(Ve,ze){var nt;if(Ve===Ge)return Oe[ze-1]&&Oe[ze-1]!==Ge?(0,s.jsx)("hr",{className:"context-menu-item-separator"},ze):null;var rt=Ve.name,at="";return Ve.contextItemLabel&&(at=typeof Ve.contextItemLabel=="function"?(0,I.t)(Ve.contextItemLabel(q,re,P.app)):(0,I.t)(Ve.contextItemLabel)),(0,s.jsx)("li",{"data-testid":rt,onClick:function(){Ae(function(){P.executeAction(Ve,"contextMenu")})},children:(0,s.jsxs)("button",{className:(0,me.Z)("context-menu-item",{dangerous:rt==="deleteSelectedElements",checkmark:(nt=Ve.checked)===null||nt===void 0?void 0:nt.call(Ve,re)}),children:[(0,s.jsx)("div",{className:"context-menu-item__label",children:at}),(0,s.jsx)("kbd",{className:"context-menu-item__shortcut",children:rt?(0,Ie.C)(rt):""})]})},ze)})})})}),dt=o(2726),ct=o(2540),St=o(1648),Pt=o(8925),mt=o(4761),Nt=o(6086),Xt={};Xt.styleTagTransform=it(),Xt.setAttributes=Ke(),Xt.insert=Me().bind(null,"head"),Xt.domAPI=pe(),Xt.insertStyleElement=Fe(),ue()(Nt.Z,Xt),Nt.Z&&Nt.Z.locals&&Nt.Z.locals;var Zt=o(7104);function Dt(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return on(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return on(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function on(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}var an=function(l){var P,H=l.appState,ae=l.elements,Ee=l.renderAction,Ae=(0,be.Zs)((0,de.Lm)(ae),H),re=!1;Ae.length===2&&((0,J.Xo)(Ae[0])||(0,J.Xo)(Ae[1]))&&(re=!0);var q,Oe=!!H.editingElement,Ve=$f(),ze=document.documentElement.getAttribute("dir")==="rtl",nt=(0,be.$b)(H.activeTool.type)&&!(0,y.Qm)(H.currentItemBackgroundColor)||Ae.some(function(wt){return(0,be.$b)(wt.type)&&!(0,y.Qm)(wt.backgroundColor)}),rt=(0,be.$b)(H.activeTool.type)||Ae.some(function(wt){return(0,be.$b)(wt.type)}),at=Ae.length===1||re,gt=((P=Ae[0])===null||P===void 0?void 0:P.type)||null,xt=Dt(Ae);try{for(xt.s();!(q=xt.n()).done;)if(q.value.type!==gt){gt=null;break}}catch(wt){xt.e(wt)}finally{xt.f()}return(0,s.jsxs)("div",{className:"panelColumn",children:[(0,s.jsx)("div",{children:((0,St.PD)(H.activeTool.type)&&H.activeTool.type!=="image"&&gt!=="image"&&gt!=="frame"||Ae.some(function(wt){return(0,St.PD)(wt.type)}))&&Ee("changeStrokeColor")}),rt&&(0,s.jsx)("div",{children:Ee("changeBackgroundColor")}),nt&&Ee("changeFillStyle"),((0,be.Zd)(H.activeTool.type)||Ae.some(function(wt){return(0,be.Zd)(wt.type)}))&&Ee("changeStrokeWidth"),(H.activeTool.type==="freedraw"||Ae.some(function(wt){return wt.type==="freedraw"}))&&Ee("changeStrokeShape"),((0,be.M9)(H.activeTool.type)||Ae.some(function(wt){return(0,be.M9)(wt.type)}))&&(0,s.jsxs)(s.Fragment,{children:[Ee("changeStrokeStyle"),Ee("changeSloppiness")]}),((0,be.sh)(H.activeTool.type)||Ae.some(function(wt){return(0,be.sh)(wt.type)}))&&(0,s.jsx)(s.Fragment,{children:Ee("changeRoundness")}),(H.activeTool.type==="text"||Ae.some(J.iB))&&(0,s.jsxs)(s.Fragment,{children:[Ee("changeFontSize"),Ee("changeFontFamily"),(H.activeTool.type==="text"||(0,mt.aV)(Ae))&&Ee("changeTextAlign")]}),(0,mt.cn)(Ae)&&Ee("changeVerticalAlign"),((0,be.Un)(H.activeTool.type)||Ae.some(function(wt){return(0,be.Un)(wt.type)}))&&(0,s.jsx)(s.Fragment,{children:Ee("changeArrowhead")}),Ee("changeOpacity"),(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:(0,I.t)("labels.layers")}),(0,s.jsxs)("div",{className:"buttonList",children:[Ee("sendToBack"),Ee("sendBackward"),Ee("bringToFront"),Ee("bringForward")]})]}),Ae.length>1&&!re&&(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:(0,I.t)("labels.align")}),(0,s.jsxs)("div",{className:"buttonList",children:[ze?(0,s.jsxs)(s.Fragment,{children:[Ee("alignRight"),Ee("alignHorizontallyCentered"),Ee("alignLeft")]}):(0,s.jsxs)(s.Fragment,{children:[Ee("alignLeft"),Ee("alignHorizontallyCentered"),Ee("alignRight")]}),Ae.length>2&&Ee("distributeHorizontally"),(0,s.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[Ee("alignTop"),Ee("alignVerticallyCentered"),Ee("alignBottom"),Ae.length>2&&Ee("distributeVertically")]})]})]}),!Oe&&Ae.length>0&&(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:(0,I.t)("labels.actions")}),(0,s.jsxs)("div",{className:"buttonList",children:[!Ve.editor.isMobile&&Ee("duplicateSelection"),!Ve.editor.isMobile&&Ee("deleteSelectedElements"),Ee("group"),Ee("ungroup"),at&&Ee("hyperlink")]})]})]})},st=function(l){var P=l.activeTool,H=l.appState,ae=l.app,Ee=l.UIOptions,Ae=(0,B.useState)(!1),re=(0,p.Z)(Ae,2),q=re[0],Oe=re[1],Ve=P.type==="frame",ze=P.type==="laser",nt=P.type==="embeddable";return(0,s.jsxs)(s.Fragment,{children:[m.map(function(rt,at){var gt,xt=rt.value,wt=rt.icon,un=rt.key,Ft=rt.numericKey,kt=rt.fillable;if(((gt=Ee.tools)===null||gt===void 0?void 0:gt[xt])===!1)return null;var Lt=(0,I.t)("toolBar.".concat(xt)),$t=un&&(0,y.Oo)(typeof un=="string"?un:un[0]),dn=$t?"".concat($t," ").concat((0,I.t)("helpDialog.or")," ").concat(Ft):"".concat(Ft);return(0,s.jsx)(O.V,{className:(0,me.Z)("Shape",{fillable:kt}),type:"radio",icon:wt,checked:P.type===xt,name:"editor-current-shape",title:"".concat((0,y.Oo)(Lt),"  ").concat(dn),keyBindingLabel:Ft||$t,"aria-label":(0,y.Oo)(Lt),"aria-keyshortcuts":dn,"data-testid":"toolbar-".concat(xt),onPointerDown:function(rn){var Gt=rn.pointerType;H.penDetected||Gt!=="pen"||ae.togglePenMode(!0)},onChange:function(rn){var Gt=rn.pointerType;H.activeTool.type!==xt&&(0,x.L)("toolbar",xt,"ui"),xt==="image"?ae.setActiveTool({type:xt,insertOnCanvasDirectly:Gt!=="mouse"}):ae.setActiveTool({type:xt})}},xt)}),(0,s.jsx)("div",{className:"App-toolbar__divider"}),(0,s.jsxs)(Zt.Z,{open:q,children:[(0,s.jsx)(Zt.Z.Trigger,{className:(0,me.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":Ve||nt||ze&&!ae.props.isCollaborating}),onToggle:function(){return Oe(!q)},title:(0,I.t)("toolBar.extraTools"),children:oe.dg}),(0,s.jsxs)(Zt.Z.Content,{onClickOutside:function(){return Oe(!1)},onSelect:function(){return Oe(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,s.jsx)(Zt.Z.Item,{onSelect:function(){return ae.setActiveTool({type:"frame"})},icon:oe.zl,shortcut:A.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:Ve,children:(0,I.t)("toolBar.frame")}),(0,s.jsx)(Zt.Z.Item,{onSelect:function(){return ae.setActiveTool({type:"embeddable"})},icon:oe.FL,"data-testid":"toolbar-embeddable",selected:nt,children:(0,I.t)("toolBar.embeddable")}),(0,s.jsx)(Zt.Z.Item,{onSelect:function(){return ae.setActiveTool({type:"laser"})},icon:oe.d,"data-testid":"toolbar-laser",selected:ze,shortcut:A.tW.K.toLocaleUpperCase(),children:(0,I.t)("toolBar.laser")}),(0,s.jsx)(Zt.Z.Item,{onSelect:function(){return ae.setOpenDialog("mermaid")},icon:oe.II,"data-testid":"toolbar-embeddable",children:(0,I.t)("toolBar.mermaidToExcalidraw")})]})]})]})},At=function(l){var P=l.renderAction;return l.zoom,(0,s.jsx)(ct.Z.Col,{gap:1,className:"zoom-actions",children:(0,s.jsxs)(ct.Z.Row,{align:"center",children:[P("zoomOut"),P("resetZoom"),P("zoomIn")]})})},bt=function(l){var P=l.renderAction,H=l.className;return(0,s.jsxs)("div",{className:"undo-redo-buttons ".concat(H),children:[(0,s.jsx)("div",{className:"undo-button-container",children:(0,s.jsx)(Pt.u,{label:(0,I.t)("buttons.undo"),children:P("undo")})}),(0,s.jsx)("div",{className:"redo-button-container",children:(0,s.jsxs)(Pt.u,{label:(0,I.t)("buttons.redo"),children:[" ",P("redo")]})})]})},jt=function(l){var P=l.actionManager,H=l.showExitZenModeBtn;return(0,s.jsx)("button",{className:(0,me.Z)("disable-zen-mode",{"disable-zen-mode--visible":H}),onClick:function(){return P.executeAction(N.JN)},children:(0,I.t)("buttons.exitZenMode")})},Et=function(l){var P=l.renderAction,H=l.className;return(0,s.jsx)("div",{className:"finalize-button ".concat(H),children:P("finalize",{size:"small"})})},Vt=o(1300),Kt=function(l){var P=l.children,H=l.onClose,ae=(0,B.useState)(!!P),Ee=(0,p.Z)(ae,2),Ae=Ee[0],re=Ee[1],q=lm().container,Oe=he().useCallback(function(){re(!1),H&&H(),q==null||q.focus()},[H,q]);return(0,s.jsx)(s.Fragment,{children:Ae&&(0,s.jsx)(Vt.V,{size:"small",onCloseRequest:Oe,title:(0,I.t)("errorDialog.title"),children:(0,s.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:P})})})},cn=o(4406),Wt=o(5796),Mn=o(6548),wn=o(507),Jn=o(6217),yt={};yt.styleTagTransform=it(),yt.setAttributes=Ke(),yt.insert=Me().bind(null,"head"),yt.domAPI=pe(),yt.insertStyleElement=Fe(),ue()(Jn.Z,yt),Jn.Z&&Jn.Z.locals&&Jn.Z.locals;var Qt=function(l){var P=l.onChange,H=l.value,ae=l.choices,Ee=l.name;return(0,s.jsx)("div",{className:"RadioGroup",children:ae.map(function(Ae){return(0,s.jsxs)("div",{className:(0,me.Z)("RadioGroup__choice",{active:Ae.value===H}),children:[(0,s.jsx)("input",{name:Ee,type:"radio",checked:Ae.value===H,onChange:function(){return P(Ae.value)}}),Ae.label]},Ae.label)})})},Ut=o(7802),Yt={};Yt.styleTagTransform=it(),Yt.setAttributes=Ke(),Yt.insert=Me().bind(null,"head"),Yt.domAPI=pe(),Yt.insertStyleElement=Fe(),ue()(Ut.Z,Yt),Ut.Z&&Ut.Z.locals&&Ut.Z.locals;var Bn=function(l){var P=l.title,H=l.name,ae=l.checked,Ee=l.onChange,Ae=l.disabled,re=Ae!==void 0&&Ae;return(0,s.jsx)("div",{className:(0,me.Z)("Switch",{toggled:ae,disabled:re}),children:(0,s.jsx)("input",{name:H,id:H,title:P,type:"checkbox",checked:ae,disabled:re,onChange:function(){return Ee(!ae)},onKeyDown:function(q){q.key===" "&&Ee(!ae)}})})},Fn=o(9706),Hn={};Hn.styleTagTransform=it(),Hn.setAttributes=Ke(),Hn.insert=Me().bind(null,"head"),Hn.domAPI=pe(),Hn.insertStyleElement=Fe(),ue()(Fn.Z,Hn),Fn.Z&&Fn.Z.locals&&Fn.Z.locals;var rr=o(8960),In={};In.styleTagTransform=it(),In.setAttributes=Ke(),In.insert=Me().bind(null,"head"),In.domAPI=pe(),In.insertStyleElement=Fe(),ue()(rr.Z,In),rr.Z&&rr.Z.locals&&rr.Z.locals;var _t=(0,B.forwardRef)(function(l,P){var H=l.children,ae=l.startIcon,Ee=l.onClick,Ae=l.label,re=l.variant,q=re===void 0?"filled":re,Oe=l.color,Ve=Oe===void 0?"primary":Oe,ze=l.size,nt=ze===void 0?"medium":ze,rt=l.fullWidth,at=l.className;return(0,s.jsxs)("button",{className:(0,me.Z)("ExcButton","ExcButton--color-".concat(Ve),"ExcButton--variant-".concat(q),"ExcButton--size-".concat(nt),{"ExcButton--fullWidth":rt},at),onClick:Ee,type:"button","aria-label":Ae,ref:P,children:[ae&&(0,s.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:ae}),q!=="icon"&&(H??Ae)]})});function Ct(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function It(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?Ct(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):Ct(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var Bt="filter"in document.createElement("canvas").getContext("2d"),yn=function(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:(0,I.t)("canvasError.cannotShowPreview")}),(0,s.jsx)("p",{children:(0,s.jsx)("span",{children:(0,I.t)("canvasError.canvasTooBig")})}),(0,s.jsxs)("em",{children:["(",(0,I.t)("canvasError.canvasTooBigTip"),")"]})]})},_n=function(l){var P=l.appStateSnapshot,H=l.elementsSnapshot,ae=l.files,Ee=l.actionManager,Ae=l.onExportImage,re=(0,be.N)(H,P),q=kb(),Oe=(0,B.useState)(P.name),Ve=(0,p.Z)(Oe,2),ze=Ve[0],nt=Ve[1],rt=(0,B.useState)(re),at=(0,p.Z)(rt,2),gt=at[0],xt=at[1],wt=(0,B.useState)(P.exportBackground),un=(0,p.Z)(wt,2),Ft=un[0],kt=un[1],Lt=(0,B.useState)(P.exportWithDarkMode),$t=(0,p.Z)(Lt,2),dn=$t[0],rn=$t[1],Gt=(0,B.useState)(P.exportEmbedScene),ln=(0,p.Z)(Gt,2),Dn=ln[0],Xn=ln[1],lr=(0,B.useState)(P.exportScale),hr=(0,p.Z)(lr,2),_r=hr[0],kr=hr[1],qn=(0,B.useRef)(null),Pr=(0,B.useState)(null),cr=(0,p.Z)(Pr,2),Sr=cr[0],$r=cr[1],Xr=(0,ne.HD)(H,P,gt),Ur=Xr.exportedElements,yo=Xr.exportingFrame;return(0,B.useEffect)(function(){var yr=qn.current;if(yr){var Ir=yr.offsetWidth,Vo=yr.offsetHeight;Ir&&(0,wn.NL)({elements:Ur,appState:It(It({},P),{},{name:ze,exportBackground:Ft,exportWithDarkMode:dn,exportScale:_r,exportEmbedScene:Dn}),files:ae,exportPadding:T.qy,maxWidthOrHeight:Math.max(Ir,Vo),exportingFrame:yo}).then(function(uo){return $r(null),(0,Wt._c)(uo).then(function(){yr.replaceChildren(uo)})}).catch(function(uo){console.error(uo),$r(uo)})}},[P,ae,Ur,yo,ze,Ft,dn,_r,Dn]),(0,s.jsxs)("div",{className:"ImageExportModal",children:[(0,s.jsx)("h3",{children:(0,I.t)("imageExportDialog.header")}),(0,s.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,s.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:qn,children:Sr&&(0,s.jsx)(yn,{})}),(0,s.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Mn.kr&&(0,s.jsx)("input",{type:"text",className:"TextInput",value:ze,style:{width:"30ch"},disabled:q.name!==void 0||P.viewModeEnabled,onChange:function(yr){nt(yr.target.value),Ee.executeAction(cn.zX,"ui",yr.target.value)}})})]}),(0,s.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,s.jsx)("h3",{children:(0,I.t)("imageExportDialog.header")}),re&&(0,s.jsx)(vn,{label:(0,I.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,s.jsx)(Bn,{name:"exportOnlySelected",checked:gt,onChange:function(yr){xt(yr)}})}),(0,s.jsx)(vn,{label:(0,I.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,s.jsx)(Bn,{name:"exportBackgroundSwitch",checked:Ft,onChange:function(yr){kt(yr),Ee.executeAction(cn.XA,"ui",yr)}})}),Bt&&(0,s.jsx)(vn,{label:(0,I.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,s.jsx)(Bn,{name:"exportDarkModeSwitch",checked:dn,onChange:function(yr){rn(yr),Ee.executeAction(cn.bJ,"ui",yr)}})}),(0,s.jsx)(vn,{label:(0,I.t)("imageExportDialog.label.embedScene"),tooltip:(0,I.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,s.jsx)(Bn,{name:"exportEmbedSwitch",checked:Dn,onChange:function(yr){Xn(yr),Ee.executeAction(cn.Du,"ui",yr)}})}),(0,s.jsx)(vn,{label:(0,I.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,s.jsx)(Qt,{name:"exportScale",value:_r,onChange:function(yr){kr(yr),Ee.executeAction(cn.sK,"ui",yr)},choices:T.ZB.map(function(yr){return{value:yr,label:"".concat(yr,"")}})})}),(0,s.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,s.jsx)(_t,{className:"ImageExportModal__settings__buttons__button",label:(0,I.t)("imageExportDialog.title.exportToPng"),onClick:function(){return Ae(T.I_.png,Ur,{exportingFrame:yo})},startIcon:oe.aL,children:(0,I.t)("imageExportDialog.button.exportToPng")}),(0,s.jsx)(_t,{className:"ImageExportModal__settings__buttons__button",label:(0,I.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return Ae(T.I_.svg,Ur,{exportingFrame:yo})},startIcon:oe.aL,children:(0,I.t)("imageExportDialog.button.exportToSvg")}),(Z.vt||T.vU)&&(0,s.jsx)(_t,{className:"ImageExportModal__settings__buttons__button",label:(0,I.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return Ae(T.I_.clipboard,Ur,{exportingFrame:yo})},startIcon:oe.UI,children:(0,I.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},vn=function(l){var P=l.label,H=l.children,ae=l.tooltip,Ee=l.name;return(0,s.jsxs)("div",{className:"ImageExportModal__settings__setting",title:P,children:[(0,s.jsxs)("label",{htmlFor:Ee,className:"ImageExportModal__settings__setting__label",children:[P,ae&&(0,s.jsx)(Pt.u,{label:ae,long:!0,children:oe.mv})]}),(0,s.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:H})]})},$n=function(l){var P=l.elements,H=l.appState,ae=l.files,Ee=l.actionManager,Ae=l.onExportImage,re=l.onCloseRequest,q=(0,B.useState)(function(){return{appStateSnapshot:(0,y.xU)(H),elementsSnapshot:(0,y.xU)(P)}}),Oe=(0,p.Z)(q,1)[0],Ve=Oe.appStateSnapshot,ze=Oe.elementsSnapshot;return(0,s.jsx)(Vt.V,{onCloseRequest:re,size:"wide",title:!1,children:(0,s.jsx)(_n,{elementsSnapshot:ze,appStateSnapshot:Ve,files:ae,actionManager:Ee,onExportImage:Ae})})},jn=o(3195),Ln={};Ln.styleTagTransform=it(),Ln.setAttributes=Ke(),Ln.insert=Me().bind(null,"head"),Ln.domAPI=pe(),Ln.insertStyleElement=Fe(),ue()(jn.Z,Ln),jn.Z&&jn.Z.locals&&jn.Z.locals;var ir=function(l){var P=l.children,H=l.side,ae=l.className;return(0,s.jsx)("div",{className:(0,me.Z)("FixedSideContainer","FixedSideContainer_side_".concat(H),ae),children:P})},Sn=o(1587),Cn={};Cn.styleTagTransform=it(),Cn.setAttributes=Ke(),Cn.insert=Me().bind(null,"head"),Cn.domAPI=pe(),Cn.insertStyleElement=Fe(),ue()(Sn.Z,Cn),Sn.Z&&Sn.Z.locals&&Sn.Z.locals;var Nn=function(l){var P=function(H){var ae=H.appState,Ee=H.isMobile,Ae=H.device,re=H.app,q=ae.activeTool,Oe=ae.isResizing,Ve=ae.isRotating,ze=ae.lastPointerDownWith,nt=ae.multiElement!==null;if(ae.openSidebar&&!Ae.editor.canFitSidebar)return null;if((0,F.EN)(ae))return(0,I.t)("hints.eraserRevert");if(q.type==="arrow"||q.type==="line")return nt?(0,I.t)("hints.linearElementMulti"):(0,I.t)("hints.linearElement");if(q.type==="freedraw")return(0,I.t)("hints.freeDraw");if(q.type==="text")return(0,I.t)("hints.text");if(q.type==="embeddable")return(0,I.t)("hints.embeddable");if(ae.activeTool.type==="image"&&ae.pendingImageElementId)return(0,I.t)("hints.placeImage");var rt=re.scene.getSelectedElements(ae);if(Oe&&ze==="mouse"&&rt.length===1){var at=rt[0];return(0,J.bt)(at)&&at.points.length===2?(0,I.t)("hints.lockAngle"):(0,J.pC)(at)?(0,I.t)("hints.resizeImage"):(0,I.t)("hints.resize")}if(Ve&&ze==="mouse")return(0,I.t)("hints.rotate");if(rt.length===1&&(0,J.iB)(rt[0]))return(0,I.t)("hints.text_selected");if(ae.editingElement&&(0,J.iB)(ae.editingElement))return(0,I.t)("hints.text_editing");if(q.type==="selection"){var gt;if(((gt=ae.draggingElement)===null||gt===void 0?void 0:gt.type)==="selection"&&!rt.length&&!ae.editingElement&&!ae.editingLinearElement)return(0,I.t)("hints.deepBoxSelect");if(ae.gridSize&&ae.draggingElement)return(0,I.t)("hints.disableSnapping");if(!rt.length&&!Ee)return(0,I.t)("hints.canvasPanning");if(rt.length===1){if((0,J.bt)(rt[0]))return ae.editingLinearElement?ae.editingLinearElement.selectedPointsIndices?(0,I.t)("hints.lineEditor_pointSelected"):(0,I.t)("hints.lineEditor_nothingSelected"):(0,I.t)("hints.lineEditor_info");if(!ae.draggingElement&&(0,J.mG)(rt[0]))return(0,I.t)("hints.bindTextToElement")}}return null}({appState:l.appState,isMobile:l.isMobile,device:l.device,app:l.app});return P?(P=(0,y.uY)(P),(0,s.jsx)("div",{className:"HintViewer",children:(0,s.jsx)("span",{children:P})})):null},On=o(1404),ur=o(7165),zn=(o(3041),{CHECKED:oe.FC,UNCHECKED:oe._C}),ar=function(l){return(0,s.jsxs)("label",{className:(0,me.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":l.isMobile}),title:"".concat(l.title,"  Q"),children:[(0,s.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:l.name,onChange:l.onChange,checked:l.checked,"aria-label":l.title,"data-testid":"toolbar-lock"}),(0,s.jsx)("div",{className:"ToolIcon__icon",children:l.checked?zn.CHECKED:zn.UNCHECKED})]})},jr=["heading","children"];function no(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function go(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?no(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):no(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var Oo=function(l){var P=l.heading,H=l.children,ae=(0,dt.Z)(l,jr),Ee=lm().id,Ae=(0,s.jsx)("h2",{className:"visually-hidden",id:"".concat(Ee,"-").concat(P,"-title"),children:(0,I.t)("headings.".concat(P))});return(0,s.jsx)("section",go(go({},ae),{},{"aria-labelledby":"".concat(Ee,"-").concat(P,"-title"),children:typeof H=="function"?H(Ae):(0,s.jsxs)(s.Fragment,{children:[Ae,H]})}))},Po=o(4726),Gr=function(l){return l.penDetected?(0,s.jsxs)("label",{className:(0,me.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":l.isMobile}),title:"".concat(l.title),children:[(0,s.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:l.name,onChange:l.onChange,checked:l.checked,"aria-label":l.title}),(0,s.jsx)("div",{className:"ToolIcon__icon",children:oe.tb})]}):null},Yr=o(4949),Xo=o(2681),ke={};ke.styleTagTransform=it(),ke.setAttributes=Ke(),ke.insert=Me().bind(null,"head"),ke.domAPI=pe(),ke.insertStyleElement=Fe(),ue()(Xo.Z,ke),Xo.Z&&Xo.Z.locals&&Xo.Z.locals;var Ne=function(l){var P,H=(0,Yr.KP)(l.elements),ae=(0,be.Zs)(l.elements,l.appState),Ee=(0,Yr.KP)(ae);return(0,s.jsx)("div",{className:"Stats",children:(0,s.jsxs)(On.W,{padding:2,children:[(0,s.jsx)("div",{className:"close",onClick:l.onClose,children:oe.Tw}),(0,s.jsx)("h3",{children:(0,I.t)("stats.title")}),(0,s.jsx)("table",{children:(0,s.jsxs)("tbody",{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:2,children:(0,I.t)("stats.scene")})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.elements")}),(0,s.jsx)("td",{children:l.elements.length})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.width")}),(0,s.jsx)("td",{children:Math.round(H[2])-Math.round(H[0])})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.height")}),(0,s.jsx)("td",{children:Math.round(H[3])-Math.round(H[1])})]}),ae.length===1&&(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:2,children:(0,I.t)("stats.element")})}),ae.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("tr",{children:(0,s.jsx)("th",{colSpan:2,children:(0,I.t)("stats.selected")})}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.elements")}),(0,s.jsx)("td",{children:ae.length})]})]}),ae.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"x"}),(0,s.jsx)("td",{children:Math.round(Ee[0])})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"y"}),(0,s.jsx)("td",{children:Math.round(Ee[1])})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.width")}),(0,s.jsx)("td",{children:Math.round(Ee[2]-Ee[0])})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.height")}),(0,s.jsx)("td",{children:Math.round(Ee[3]-Ee[1])})]})]}),ae.length===1&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,I.t)("stats.angle")}),(0,s.jsx)("td",{children:"".concat(Math.round(180*ae[0].angle/Math.PI),"")})]}),(P=l.renderCustomStats)===null||P===void 0?void 0:P.call(l,l.elements,l.appState)]})})]})})},We=function(l){return(0,s.jsx)(O.V,{className:(0,me.Z)("Shape",{fillable:!1}),type:"radio",icon:oe.Hk,name:"editor-current-shape",checked:l.checked,title:"".concat(l.title,"  H"),keyBindingLabel:l.isMobile?void 0:A.tW.H.toLocaleUpperCase(),"aria-label":"".concat(l.title,"  H"),"aria-keyshortcuts":A.tW.H,"data-testid":"toolbar-hand",onChange:function(){var P;return(P=l.onChange)===null||P===void 0?void 0:P.call(l)}})},Je=o(4572);function Ot(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}var sn=function(l){var P=l.appState,H=l.elements,ae=l.actionManager,Ee=l.setAppState,Ae=l.onLockToggle,re=l.onHandToolToggle,q=l.onPenModeToggle,Oe=l.renderTopRightUI,Ve=l.renderCustomStats,ze=l.renderSidebars,nt=l.device,rt=l.renderWelcomeScreen,at=l.UIOptions,gt=l.app,xt=(0,Je.R6)(),wt=xt.WelcomeScreenCenterTunnel,un=xt.MainMenuTunnel,Ft=xt.DefaultSidebarTriggerTunnel;return(0,s.jsxs)(s.Fragment,{children:[ze(),!P.viewModeEnabled&&(0,s.jsxs)(ir,{side:"top",className:"App-top-bar",children:[rt&&(0,s.jsx)(wt.Out,{}),(0,s.jsx)(Oo,{heading:"shapes",children:function(kt){return(0,s.jsx)(ct.Z.Col,{gap:4,align:"center",children:(0,s.jsxs)(ct.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,s.jsxs)(On.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[kt,(0,s.jsx)(ct.Z.Row,{gap:1,children:(0,s.jsx)(st,{appState:P,activeTool:P.activeTool,UIOptions:at,app:gt})})]}),Oe&&Oe(!0,P),(0,s.jsxs)("div",{className:"mobile-misc-tools-container",children:[!P.viewModeEnabled&&(0,s.jsx)(Ft.Out,{}),(0,s.jsx)(Gr,{checked:P.penMode,onChange:function(){return q(null)},title:(0,I.t)("toolBar.penMode"),isMobile:!0,penDetected:P.penDetected}),(0,s.jsx)(ar,{checked:P.activeTool.locked,onChange:Ae,title:(0,I.t)("toolBar.lock"),isMobile:!0}),(0,s.jsx)(We,{checked:(0,F.l$)(P),onChange:function(){return re()},title:(0,I.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,s.jsx)(Nn,{appState:P,isMobile:!0,device:nt,app:gt})]}),!P.openMenu&&P.showStats&&(0,s.jsx)(Ne,{appState:P,setAppState:Ee,elements:H,onClose:function(){ae.executeAction(N.u0)},renderCustomStats:Ve}),(0,s.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Po.nn+2*Po.WM,marginLeft:Po.nn+2*Po.WM,marginRight:Po.nn+2*Po.WM},children:(0,s.jsxs)(On.W,{padding:0,children:[P.openMenu==="shape"&&!P.viewModeEnabled&&(0,de.RT)(P,H)?(0,s.jsx)(Oo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,s.jsx)(an,{appState:P,elements:H,renderAction:ae.renderAction})}):null,(0,s.jsxs)("footer",{className:"App-toolbar",children:[P.viewModeEnabled?(0,s.jsx)("div",{className:"App-toolbar-content",children:(0,s.jsx)(un.Out,{})}):(0,s.jsxs)("div",{className:"App-toolbar-content",children:[(0,s.jsx)(un.Out,{}),ae.renderAction("toggleEditMenu"),ae.renderAction("undo"),ae.renderAction("redo"),ae.renderAction(P.multiElement?"finalize":"duplicateSelection"),ae.renderAction("deleteSelectedElements")]}),P.scrolledOutside&&!P.openMenu&&!P.openSidebar&&(0,s.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Ee(function(kt){return function(Lt){for(var $t=1;$t<arguments.length;$t++){var dn=arguments[$t]!=null?arguments[$t]:{};$t%2?Ot(Object(dn),!0).forEach(function(rn){(0,Y.Z)(Lt,rn,dn[rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(dn)):Ot(Object(dn)).forEach(function(rn){Object.defineProperty(Lt,rn,Object.getOwnPropertyDescriptor(dn,rn))})}return Lt}({},(0,be.W)(H,kt))})},children:(0,I.t)("buttons.scrollBackToContent")})]})]})})]})},en=o(5284),pn=o(901),Mt=o(3668),fn=o(8461),mn={};mn.styleTagTransform=it(),mn.setAttributes=Ke(),mn.insert=Me().bind(null,"head"),mn.domAPI=pe(),mn.insertStyleElement=Fe(),ue()(fn.Z,mn),fn.Z&&fn.Z.locals&&fn.Z.locals;var Vn=function(l){var P=(0,B.useRef)(null),H=(0,B.useState)(null),ae=(0,p.Z)(H,2),Ee=ae[0],Ae=ae[1];return(0,B.useLayoutEffect)(function(){if(l.spreadsheet){var re,q=(0,pn.ps)(l.chartType,l.spreadsheet,0,0);Ae(q);var Oe=P.current;return(0,u.Z)(S().mark(function Ve(){var ze;return S().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,(0,Mt.$D)(q,{exportBackground:!1,viewBackgroundColor:en.white},null);case 2:re=nt.sent,(ze=re.querySelector(".style-fonts"))===null||ze===void 0||ze.remove(),Oe.replaceChildren(),Oe.appendChild(re),l.selected&&Oe.parentNode.focus();case 7:case"end":return nt.stop()}},Ve)}))(),function(){Oe.replaceChildren()}}},[l.spreadsheet,l.chartType,l.selected]),(0,s.jsx)("button",{className:"ChartPreview",onClick:function(){Ee&&l.onClick(l.chartType,Ee)},children:(0,s.jsx)("div",{ref:P})})},Kn=function(l){var P=l.setAppState,H=l.appState,ae=l.onClose,Ee=sm().onInsertElements,Ae=he().useCallback(function(){ae&&ae()},[ae]),re=function(q,Oe){Ee(Oe),(0,x.L)("magic","chart",q),P({currentChartType:q,pasteDialog:{shown:!1,data:null}})};return(0,s.jsx)(Vt.V,{size:"small",onCloseRequest:Ae,title:(0,I.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)(Vn,{chartType:"bar",spreadsheet:H.pasteDialog.data,selected:H.currentChartType==="bar",onClick:re}),(0,s.jsx)(Vn,{chartType:"line",spreadsheet:H.pasteDialog.data,selected:H.currentChartType==="line",onClick:re})]})})},Gn=o(2978),dr={};dr.styleTagTransform=it(),dr.setAttributes=Ke(),dr.insert=Me().bind(null,"head"),dr.domAPI=pe(),dr.insertStyleElement=Fe(),ue()(Gn.Z,dr),Gn.Z&&Gn.Z.locals&&Gn.Z.locals;function sr(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}var Wn=S().mark(ea);function br(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return Tr(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return Tr(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function Tr(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}var So=function(){return(0,s.jsxs)("div",{className:"HelpDialog__header",children:[(0,s.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,I.t)("helpDialog.documentation"),(0,s.jsx)("div",{className:"HelpDialog__link-icon",children:oe.h0})]}),(0,s.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,I.t)("helpDialog.blog"),(0,s.jsx)("div",{className:"HelpDialog__link-icon",children:oe.h0})]}),(0,s.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,I.t)("helpDialog.github"),(0,s.jsx)("div",{className:"HelpDialog__link-icon",children:oe.h0})]})]})},No=function(l){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{children:l.title}),(0,s.jsx)("div",{className:"HelpDialog__islands-container",children:l.children})]})},ui=function(l){return(0,s.jsxs)("div",{className:"HelpDialog__island ".concat(l.className),children:[(0,s.jsx)("h4",{className:"HelpDialog__island-title",children:l.caption}),(0,s.jsx)("div",{className:"HelpDialog__island-content",children:l.children})]})};function ea(l,P){var H,ae,Ee,Ae;return S().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:H=!0,ae=br(l),re.prev=2,ae.s();case 4:if((Ee=ae.n()).done){re.next=14;break}if(Ae=Ee.value,H){re.next=9;break}return re.next=9,P;case 9:return H=!1,re.next=12,Ae;case 12:re.next=4;break;case 14:re.next=19;break;case 16:re.prev=16,re.t0=re.catch(2),ae.e(re.t0);case 19:return re.prev=19,ae.f(),re.finish(19);case 22:case"end":return re.stop()}},Wn,null,[[2,16,19,22]])}var Un=function(l){var P=l.label,H=l.shortcuts,ae=l.isOr,Ee=ae===void 0||ae,Ae=H.map(function(re){return(re.endsWith("++")?[].concat((0,f.Z)(re.slice(0,-2).split("+")),["+"]):re.split("+")).map(function(q){return(0,s.jsx)(Or,{children:(Oe=q,Oe.replace(/\b[a-z]\b/,function(Ve){return Ve.toUpperCase()}))},q);var Oe})});return(0,s.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,s.jsx)("div",{children:P}),(0,s.jsx)("div",{className:"HelpDialog__key-container",children:(0,f.Z)(ea(Ae,Ee?(0,I.t)("helpDialog.or"):null))})]})},Or=function(l){return(0,s.jsx)("kbd",function(P){for(var H=1;H<arguments.length;H++){var ae=arguments[H]!=null?arguments[H]:{};H%2?sr(Object(ae),!0).forEach(function(Ee){(0,Y.Z)(P,Ee,ae[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ae)):sr(Object(ae)).forEach(function(Ee){Object.defineProperty(P,Ee,Object.getOwnPropertyDescriptor(ae,Ee))})}return P}({className:"HelpDialog__key"},l))},Hr=function(l){var P=l.onClose,H=he().useCallback(function(){P&&P()},[P]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Vt.V,{onCloseRequest:H,title:(0,I.t)("helpDialog.title"),className:"HelpDialog",children:[(0,s.jsx)(So,{}),(0,s.jsxs)(No,{title:(0,I.t)("helpDialog.shortcuts"),children:[(0,s.jsxs)(ui,{className:"HelpDialog__island--tools",caption:(0,I.t)("helpDialog.tools"),children:[(0,s.jsx)(Un,{label:(0,I.t)("toolBar.hand"),shortcuts:[A.tW.H]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.selection"),shortcuts:[A.tW.V,A.tW[1]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.rectangle"),shortcuts:[A.tW.R,A.tW[2]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.diamond"),shortcuts:[A.tW.D,A.tW[3]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.ellipse"),shortcuts:[A.tW.O,A.tW[4]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.arrow"),shortcuts:[A.tW.A,A.tW[5]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.line"),shortcuts:[A.tW.L,A.tW[6]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.freedraw"),shortcuts:[A.tW.P,A.tW[7]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.text"),shortcuts:[A.tW.T,A.tW[8]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.image"),shortcuts:[A.tW[9]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.eraser"),shortcuts:[A.tW.E,A.tW[0]]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.frame"),shortcuts:[A.tW.F]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.laser"),shortcuts:[A.tW.K]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.eyeDropper"),shortcuts:[A.tW.I,"Shift+S","Shift+G"]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,y.uY)("CtrlOrCmd+Enter")]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.editText"),shortcuts:[(0,y.uY)("Enter")]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.textNewLine"),shortcuts:[(0,y.uY)("Enter"),(0,y.uY)("Shift+Enter")]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.textFinish"),shortcuts:[(0,y.uY)("Esc"),(0,y.uY)("CtrlOrCmd+Enter")]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,I.t)("helpDialog.click"),(0,I.t)("helpDialog.click"),(0,I.t)("helpDialog.click")],isOr:!1}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.curvedLine"),shortcuts:["L",(0,I.t)("helpDialog.click"),(0,I.t)("helpDialog.click"),(0,I.t)("helpDialog.click")],isOr:!1}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.lock"),shortcuts:[A.tW.Q]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.preventBinding"),shortcuts:[(0,y.uY)("CtrlOrCmd")]}),(0,s.jsx)(Un,{label:(0,I.t)("toolBar.link"),shortcuts:[(0,y.uY)("CtrlOrCmd+K")]})]}),(0,s.jsxs)(ui,{className:"HelpDialog__island--view",caption:(0,I.t)("helpDialog.view"),children:[(0,s.jsx)(Un,{label:(0,I.t)("buttons.zoomIn"),shortcuts:[(0,y.uY)("CtrlOrCmd++")]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.zoomOut"),shortcuts:[(0,y.uY)("CtrlOrCmd+-")]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.resetZoom"),shortcuts:[(0,y.uY)("CtrlOrCmd+0")]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.zenMode"),shortcuts:[(0,y.uY)("Alt+Z")]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.objectsSnapMode"),shortcuts:[(0,y.uY)("Alt+S")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.showGrid"),shortcuts:[(0,y.uY)("CtrlOrCmd+'")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.viewMode"),shortcuts:[(0,y.uY)("Alt+R")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.toggleTheme"),shortcuts:[(0,y.uY)("Alt+Shift+D")]}),(0,s.jsx)(Un,{label:(0,I.t)("stats.title"),shortcuts:[(0,y.uY)("Alt+/")]})]}),(0,s.jsxs)(ui,{className:"HelpDialog__island--editor",caption:(0,I.t)("helpDialog.editor"),children:[(0,s.jsx)(Un,{label:(0,I.t)("labels.moveCanvas"),shortcuts:[(0,y.uY)("Space+".concat((0,I.t)("helpDialog.drag"))),(0,y.uY)("Wheel+".concat((0,I.t)("helpDialog.drag")))],isOr:!0}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.clearReset"),shortcuts:[(0,y.uY)("CtrlOrCmd+Delete")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.delete"),shortcuts:[(0,y.uY)("Delete")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.cut"),shortcuts:[(0,y.uY)("CtrlOrCmd+X")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.copy"),shortcuts:[(0,y.uY)("CtrlOrCmd+C")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.paste"),shortcuts:[(0,y.uY)("CtrlOrCmd+V")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.pasteAsPlaintext"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+V")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.selectAll"),shortcuts:[(0,y.uY)("CtrlOrCmd+A")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.multiSelect"),shortcuts:[(0,y.uY)("Shift+".concat((0,I.t)("helpDialog.click")))]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.deepSelect"),shortcuts:[(0,y.uY)("CtrlOrCmd+".concat((0,I.t)("helpDialog.click")))]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,y.uY)("CtrlOrCmd+".concat((0,I.t)("helpDialog.drag")))]}),(Z.vt||T.vU)&&(0,s.jsx)(Un,{label:(0,I.t)("labels.copyAsPng"),shortcuts:[(0,y.uY)("Shift+Alt+C")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.copyStyles"),shortcuts:[(0,y.uY)("CtrlOrCmd+Alt+C")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.pasteStyles"),shortcuts:[(0,y.uY)("CtrlOrCmd+Alt+V")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.sendToBack"),shortcuts:[T.Um?(0,y.uY)("CtrlOrCmd+Alt+["):(0,y.uY)("CtrlOrCmd+Shift+[")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.bringToFront"),shortcuts:[T.Um?(0,y.uY)("CtrlOrCmd+Alt+]"):(0,y.uY)("CtrlOrCmd+Shift+]")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.sendBackward"),shortcuts:[(0,y.uY)("CtrlOrCmd+[")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.bringForward"),shortcuts:[(0,y.uY)("CtrlOrCmd+]")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.alignTop"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+Up")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.alignBottom"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+Down")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.alignLeft"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+Left")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.alignRight"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+Right")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.duplicateSelection"),shortcuts:[(0,y.uY)("CtrlOrCmd+D"),(0,y.uY)("Alt+".concat((0,I.t)("helpDialog.drag")))]}),(0,s.jsx)(Un,{label:(0,I.t)("helpDialog.toggleElementLock"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+L")]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.undo"),shortcuts:[(0,y.uY)("CtrlOrCmd+Z")]}),(0,s.jsx)(Un,{label:(0,I.t)("buttons.redo"),shortcuts:T.ED?[(0,y.uY)("CtrlOrCmd+Y"),(0,y.uY)("CtrlOrCmd+Shift+Z")]:[(0,y.uY)("CtrlOrCmd+Shift+Z")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.group"),shortcuts:[(0,y.uY)("CtrlOrCmd+G")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.ungroup"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+G")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.flipHorizontal"),shortcuts:[(0,y.uY)("Shift+H")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.flipVertical"),shortcuts:[(0,y.uY)("Shift+V")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.showStroke"),shortcuts:[(0,y.uY)("S")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.showBackground"),shortcuts:[(0,y.uY)("G")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.decreaseFontSize"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+<")]}),(0,s.jsx)(Un,{label:(0,I.t)("labels.increaseFontSize"),shortcuts:[(0,y.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},lo=o(4704),qo=o(4241),vi={};vi.styleTagTransform=it(),vi.setAttributes=Ke(),vi.insert=Me().bind(null,"head"),vi.domAPI=pe(),vi.insertStyleElement=Fe(),ue()(qo.Z,vi),qo.Z&&qo.Z.locals&&qo.Z.locals;var Ia=function(l){var P,H=l.children,ae=l.color;return(0,s.jsx)("div",{className:"Card",style:(P={},(0,Y.Z)(P,"--card-color",ae==="primary"?"var(--color-primary)":en[ae][7]),(0,Y.Z)(P,"--card-color-darker",ae==="primary"?"var(--color-primary-darker)":en[ae][8]),(0,Y.Z)(P,"--card-color-darkest",ae==="primary"?"var(--color-primary-darkest)":en[ae][9]),P),children:H})},Ti=o(7955),Zi={};Zi.styleTagTransform=it(),Zi.setAttributes=Ke(),Zi.insert=Me().bind(null,"head"),Zi.domAPI=pe(),Zi.insertStyleElement=Fe(),ue()(Ti.Z,Zi),Ti.Z&&Ti.Z.locals&&Ti.Z.locals;var vu=function(l){var P=l.elements,H=l.appState,ae=l.setAppState,Ee=l.files,Ae=l.actionManager,re=l.exportOpts,q=l.canvas,Oe=l.onCloseRequest,Ve=re.onExportToBackend;return(0,s.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,s.jsxs)("div",{className:"ExportDialog-cards",children:[re.saveFileToDisk&&(0,s.jsxs)(Ia,{color:"lime",children:[(0,s.jsx)("div",{className:"Card-icon",children:oe.TP}),(0,s.jsx)("h2",{children:(0,I.t)("exportDialog.disk_title")}),(0,s.jsxs)("div",{className:"Card-details",children:[(0,I.t)("exportDialog.disk_details"),!Mn.kr&&Ae.renderAction("changeProjectName")]}),(0,s.jsx)(O.V,{className:"Card-button",type:"button",title:(0,I.t)("exportDialog.disk_button"),"aria-label":(0,I.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){Ae.executeAction(cn.mM,"ui")}})]}),Ve&&(0,s.jsxs)(Ia,{color:"pink",children:[(0,s.jsx)("div",{className:"Card-icon",children:oe.xP}),(0,s.jsx)("h2",{children:(0,I.t)("exportDialog.link_title")}),(0,s.jsx)("div",{className:"Card-details",children:(0,I.t)("exportDialog.link_details")}),(0,s.jsx)(O.V,{className:"Card-button",type:"button",title:(0,I.t)("exportDialog.link_button"),"aria-label":(0,I.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,u.Z)(S().mark(function ze(){return S().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.prev=0,(0,x.L)("export","link","ui (".concat((0,y.$h)(),")")),nt.next=4,Ve(P,H,Ee,q);case 4:Oe(),nt.next=10;break;case 7:nt.prev=7,nt.t0=nt.catch(0),ae({errorMessage:nt.t0.message});case 10:case"end":return nt.stop()}},ze,null,[[0,7]])}))})]}),re.renderCustomUI&&re.renderCustomUI(P,H,Ee,q)]})})},rc=function(l){var P=l.elements,H=l.appState,ae=l.files,Ee=l.actionManager,Ae=l.exportOpts,re=l.canvas,q=l.setAppState,Oe=he().useCallback(function(){q({openDialog:null})},[q]);return(0,s.jsx)(s.Fragment,{children:H.openDialog==="jsonExport"&&(0,s.jsx)(Vt.V,{onCloseRequest:Oe,title:(0,I.t)("buttons.export"),children:(0,s.jsx)(vu,{elements:P,appState:H,setAppState:q,files:ae,actionManager:Ee,onCloseRequest:Oe,exportOpts:Ae,canvas:re})})})},bf=o(7080),Bp=function(l){return(0,s.jsx)("button",{className:"help-icon",onClick:l.onClick,type:"button",title:"".concat((0,I.t)("helpDialog.title"),"  ?"),"aria-label":(0,I.t)("helpDialog.title"),children:oe.by})},xf=function(l){var P=l.appState,H=l.actionManager,ae=l.showExitZenModeBtn,Ee=l.renderWelcomeScreen,Ae=(0,Je.R6)(),re=Ae.FooterCenterTunnel,q=Ae.WelcomeScreenHelpHintTunnel,Oe=$f(),Ve=!P.viewModeEnabled&&P.multiElement&&Oe.isTouchScreen;return(0,s.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,s.jsx)("div",{className:(0,me.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":P.zenModeEnabled}),children:(0,s.jsx)(ct.Z.Col,{gap:2,children:(0,s.jsxs)(Oo,{heading:"canvasActions",children:[(0,s.jsx)(At,{renderAction:H.renderAction,zoom:P.zoom}),!P.viewModeEnabled&&(0,s.jsx)(bt,{renderAction:H.renderAction,className:(0,me.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":P.zenModeEnabled})}),Ve&&(0,s.jsx)(Et,{renderAction:H.renderAction,className:(0,me.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":P.zenModeEnabled})})]})})}),(0,s.jsx)(re.Out,{}),(0,s.jsx)("div",{className:(0,me.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":P.zenModeEnabled}),children:(0,s.jsxs)("div",{style:{position:"relative"},children:[Ee&&(0,s.jsx)(q.Out,{}),(0,s.jsx)(Bp,{onClick:function(){return H.executeAction(N.jY)}})]})}),(0,s.jsx)(jt,{actionManager:H,showExitZenModeBtn:ae})]})},wf=xf;xf.displayName="Footer";var kf=o(5902),Ra=o(453),oc=o(3607),yi=o(7021),Sf=o(8973),Zp=o(6922),yu=o(7827),xs=function(l){var P=l.title,H=l.children,ae=l.actionLabel,Ee=l.onClick;return(0,s.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,s.jsx)("h4",{children:P}),(0,s.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:H}),(0,s.jsx)(_t,{variant:"outlined",color:"muted",label:ae,size:"large",fullWidth:!0,onClick:Ee})]})},Ja=Object.assign(function(l){var P=l.children;return(0,s.jsx)("div",{className:"OverwriteConfirm__Actions",children:P})},{ExportToImage:function(){var l=(0,I.QT)().t,P=cm(),H=_b();return(0,s.jsx)(xs,{title:l("overwriteConfirm.action.exportToImage.title"),actionLabel:l("overwriteConfirm.action.exportToImage.button"),onClick:function(){P.executeAction(cn.Du,"ui",!0),H({openDialog:"imageExport"})},children:l("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var l=(0,I.QT)().t,P=cm();return(0,s.jsx)(xs,{title:l("overwriteConfirm.action.saveToDisk.title"),actionLabel:l("overwriteConfirm.action.saveToDisk.button"),onClick:function(){P.executeAction(N.mM,"ui")},children:l("overwriteConfirm.action.saveToDisk.description")})}}),cl=o(9439),Qa={};Qa.styleTagTransform=it(),Qa.setAttributes=Ke(),Qa.insert=Me().bind(null,"head"),Qa.domAPI=pe(),Qa.insertStyleElement=Fe(),ue()(cl.Z,Qa),cl.Z&&cl.Z.locals&&cl.Z.locals;function bu(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function ul(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?bu(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):bu(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var ws=Object.assign((0,Zp.$)("OverwriteConfirmDialog",function(l){var P=l.children,H=(0,Je.R6)().OverwriteConfirmDialogTunnel,ae=(0,oc.KO)(yu.K,Ra.yE),Ee=(0,p.Z)(ae,2),Ae=Ee[0],re=Ee[1];return Ae.active?(0,s.jsx)(H.In,{children:(0,s.jsx)(Vt.V,{onCloseRequest:function(){Ae.onClose(),re(function(q){return ul(ul({},q),{},{active:!1})})},title:!1,size:916,children:(0,s.jsxs)("div",{className:"OverwriteConfirm",children:[(0,s.jsx)("h3",{children:Ae.title}),(0,s.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(Ae.color),children:[(0,s.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:oe.UT}),(0,s.jsx)("div",{children:Ae.description}),(0,s.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,s.jsx)(_t,{color:Ae.color,size:"large",label:Ae.actionLabel,onClick:function(){Ae.onConfirm(),re(function(q){return ul(ul({},q),{},{active:!1})})}})]}),(0,s.jsx)(Ja,{children:P})]})})}):null}),{Actions:Ja,Action:xs}),Ef=o(100),xu=o(1925),wu=o(8924),ic=o(1434),Fi={};Fi.styleTagTransform=it(),Fi.setAttributes=Ke(),Fi.insert=Me().bind(null,"head"),Fi.domAPI=pe(),Fi.insertStyleElement=Fe(),ue()(ic.Z,Fi),ic.Z&&ic.Z.locals&&ic.Z.locals;var dl=o(9144),ks={};ks.styleTagTransform=it(),ks.setAttributes=Ke(),ks.insert=Me().bind(null,"head"),ks.domAPI=pe(),ks.insertStyleElement=Fe(),ue()(dl.Z,ks),dl.Z&&dl.Z.locals&&dl.Z.locals;var Aa=o(2921),Fp=function(l){return(0,s.jsxs)("label",{className:(0,me.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":l.isMobile}),title:"".concat(l.title),children:[(0,s.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:l.name,onChange:l.onChange,checked:l.checked,"aria-label":l.title,"data-testid":"toolbar-LaserPointer"}),(0,s.jsx)("div",{className:"ToolIcon__icon",children:oe.d})]})},_f=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],Cf=["canvas","appState"],wb=["canvas","appState"];function fl(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Up(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return es(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return es(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function es(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}var Vp=function(l){var P=l.UIOptions;return(0,s.jsxs)(yi.Z,{__fallback:!0,children:[(0,s.jsx)(yi.Z.DefaultItems.LoadScene,{}),(0,s.jsx)(yi.Z.DefaultItems.SaveToActiveFile,{}),P.canvasActions.export&&(0,s.jsx)(yi.Z.DefaultItems.Export,{}),P.canvasActions.saveAsImage&&(0,s.jsx)(yi.Z.DefaultItems.SaveAsImage,{}),(0,s.jsx)(yi.Z.DefaultItems.Help,{}),(0,s.jsx)(yi.Z.DefaultItems.ClearCanvas,{}),(0,s.jsx)(yi.Z.Separator,{}),(0,s.jsx)(yi.Z.Group,{title:"Excalidraw links",children:(0,s.jsx)(yi.Z.DefaultItems.Socials,{})}),(0,s.jsx)(yi.Z.Separator,{}),(0,s.jsx)(yi.Z.DefaultItems.ToggleTheme,{}),(0,s.jsx)(yi.Z.DefaultItems.ChangeCanvasBackground,{})]})},Wp=function(){return(0,s.jsxs)(ws,{__fallback:!0,children:[(0,s.jsx)(ws.Actions.SaveToDisk,{}),(0,s.jsx)(ws.Actions.ExportToImage,{})]})},Hp=function(l){var P,H,ae=l.actionManager,Ee=l.appState,Ae=l.files,re=l.setAppState,q=l.elements,Oe=l.canvas,Ve=l.onLockToggle,ze=l.onHandToolToggle,nt=l.onPenModeToggle,rt=l.showExitZenModeBtn,at=l.renderTopRightUI,gt=l.renderCustomStats,xt=l.UIOptions,wt=l.onExportImage,un=l.renderWelcomeScreen,Ft=l.children,kt=l.app,Lt=l.isCollaborating,$t=$f(),dn=(0,Je.ZC)(),rn=(0,oc.KO)(wu.$,Ra.yE),Gt=(0,p.Z)(rn,2),ln=Gt[0],Dn=Gt[1],Xn=function(){return xt.canvasActions.export?(0,s.jsx)(rc,{elements:q,appState:Ee,files:Ae,actionManager:ae,exportOpts:xt.canvasActions.export,canvas:Oe,setAppState:re}):null},lr=function(){return xt.canvasActions.saveAsImage&&Ee.openDialog==="imageExport"?(0,s.jsx)($n,{elements:q,appState:Ee,files:Ae,actionManager:ae,onExportImage:wt,onCloseRequest:function(){return re({openDialog:null})}}):null},hr=function(){return(0,s.jsx)(xu.O,{__fallback:!0,onDock:function(qn){(0,x.L)("sidebar","toggleDock (".concat(qn?"dock":"undock",")"),"(".concat($t.editor.isMobile?"mobile":"desktop",")"))}})},_r=(0,oc.Dv)(kf.t6,Ra.yE),kr=(0,s.jsxs)(s.Fragment,{children:[Ft,(0,s.jsx)(Vp,{UIOptions:xt}),(0,s.jsx)(xu.O.Trigger,{__fallback:!0,icon:oe.Vq,title:(0,y.Oo)((0,I.t)("toolBar.library")),onToggle:function(qn){qn&&(0,x.L)("sidebar","".concat(T.Cc.name," (open)"),"button (".concat($t.editor.isMobile?"mobile":"desktop",")"))},tab:T.Cc.defaultTab,children:(0,I.t)("toolBar.library")}),(0,s.jsx)(Wp,{}),Ee.isLoading&&(0,s.jsx)(ur.z,{delay:250}),Ee.errorMessage&&(0,s.jsx)(Kt,{onClose:function(){return re({errorMessage:null})},children:Ee.errorMessage}),ln&&!$t.editor.isMobile&&(0,s.jsx)(wu.p,{colorPickerType:ln.colorPickerType,onCancel:function(){Dn(null)},onChange:function(qn,Pr,cr,Sr){var $r=Sr.altKey;if(qn==="elementBackground"||qn==="elementStroke")if(cr.length){var Xr,Ur,yo=Up(cr);try{for(yo.s();!(Ur=yo.n()).done;){var yr=Ur.value;(0,C.DR)(yr,(0,Y.Z)({},$r&&ln.swapPreviewOnAlt?qn==="elementBackground"?"strokeColor":"backgroundColor":qn==="elementBackground"?"backgroundColor":"strokeColor",Pr),!1),Aa.R.delete(yr)}}catch(Ir){yo.e(Ir)}finally{yo.f()}(Xr=X.Z.getScene(cr[0]))===null||Xr===void 0||Xr.informMutation()}else re(qn==="elementBackground"?{currentItemBackgroundColor:Pr}:{currentItemStrokeColor:Pr})},onSelect:function(qn,Pr){var cr;Dn(function(Sr){return Sr!=null&&Sr.keepOpenOnAlt&&Pr.altKey?Sr:null}),ln==null||(cr=ln.onSelect)===null||cr===void 0||cr.call(ln,qn,Pr)}}),Ee.openDialog==="help"&&(0,s.jsx)(Hr,{onClose:function(){re({openDialog:null})}}),(0,s.jsx)(Sf.o,{}),(0,s.jsx)(dn.OverwriteConfirmDialogTunnel.Out,{}),lr(),Xn(),Ee.pasteDialog.shown&&(0,s.jsx)(Kn,{setAppState:re,appState:Ee,onClose:function(){return re({pasteDialog:{shown:!1,data:null}})}}),$t.editor.isMobile&&(0,s.jsx)(sn,{app:kt,appState:Ee,elements:q,actionManager:ae,renderJSONExportDialog:Xn,renderImageExportDialog:lr,setAppState:re,onLockToggle:Ve,onHandToolToggle:ze,onPenModeToggle:nt,renderTopRightUI:at,renderCustomStats:gt,renderSidebars:hr,device:$t,renderWelcomeScreen:un,UIOptions:xt}),!$t.editor.isMobile&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"layer-ui__wrapper",style:Ee.openSidebar&&_r&&$t.editor.canFitSidebar?{width:"calc(100% - ".concat(T.EE,"px)")}:{},children:[un&&(0,s.jsx)(dn.WelcomeScreenCenterTunnel.Out,{}),(H=(0,de.RT)(Ee,q),(0,s.jsx)(ir,{side:"top",children:(0,s.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,s.jsxs)(ct.Z.Col,{gap:6,className:(0,me.Z)("App-menu_top__left"),children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(dn.MainMenuTunnel.Out,{}),un&&(0,s.jsx)(dn.WelcomeScreenMenuHintTunnel.Out,{})]}),H&&(0,s.jsx)(Oo,{heading:"selectedShapeActions",className:(0,me.Z)("selected-shape-actions zen-mode-transition",{"transition-left":Ee.zenModeEnabled}),children:(0,s.jsx)(On.W,{className:T.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(Ee.height-166,"px")},children:(0,s.jsx)(an,{appState:Ee,elements:q,renderAction:ae.renderAction})})})]}),!Ee.viewModeEnabled&&(0,s.jsx)(Oo,{heading:"shapes",className:"shapes-section",children:function(qn){return(0,s.jsxs)("div",{style:{position:"relative"},children:[un&&(0,s.jsx)(dn.WelcomeScreenToolbarHintTunnel.Out,{}),(0,s.jsx)(ct.Z.Col,{gap:4,align:"start",children:(0,s.jsxs)(ct.Z.Row,{gap:1,className:(0,me.Z)("App-toolbar-container",{"zen-mode":Ee.zenModeEnabled}),children:[(0,s.jsxs)(On.W,{padding:1,className:(0,me.Z)("App-toolbar",{"zen-mode":Ee.zenModeEnabled}),children:[(0,s.jsx)(Nn,{appState:Ee,isMobile:$t.editor.isMobile,device:$t,app:kt}),qn,(0,s.jsxs)(ct.Z.Row,{gap:1,children:[(0,s.jsx)(Gr,{zenModeEnabled:Ee.zenModeEnabled,checked:Ee.penMode,onChange:function(){return nt(null)},title:(0,I.t)("toolBar.penMode"),penDetected:Ee.penDetected}),(0,s.jsx)(ar,{checked:Ee.activeTool.locked,onChange:Ve,title:(0,I.t)("toolBar.lock")}),(0,s.jsx)("div",{className:"App-toolbar__divider"}),(0,s.jsx)(We,{checked:(0,F.l$)(Ee),onChange:function(){return ze()},title:(0,I.t)("toolBar.hand"),isMobile:!0}),(0,s.jsx)(st,{appState:Ee,activeTool:Ee.activeTool,UIOptions:xt,app:kt})]})]}),Lt&&(0,s.jsx)(On.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,s.jsx)(Fp,{title:(0,I.t)("toolBar.laser"),checked:Ee.activeTool.type==="laser",onChange:function(){return kt.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,s.jsxs)("div",{className:(0,me.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":Ee.zenModeEnabled}),children:[(0,s.jsx)(lo.Z,{collaborators:Ee.collaborators}),at==null?void 0:at($t.editor.isMobile,Ee),!Ee.viewModeEnabled&&(!_r||((P=Ee.openSidebar)===null||P===void 0?void 0:P.name)!==T.Cc.name)&&(0,s.jsx)(dn.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,s.jsx)(wf,{appState:Ee,actionManager:ae,showExitZenModeBtn:rt,renderWelcomeScreen:un}),Ee.showStats&&(0,s.jsx)(Ne,{appState:Ee,setAppState:re,elements:q,onClose:function(){ae.executeAction(bf.u)},renderCustomStats:gt}),Ee.scrolledOutside&&(0,s.jsx)("button",{className:"scroll-back-to-content",onClick:function(){re(function(qn){return function(Pr){for(var cr=1;cr<arguments.length;cr++){var Sr=arguments[cr]!=null?arguments[cr]:{};cr%2?fl(Object(Sr),!0).forEach(function($r){(0,Y.Z)(Pr,$r,Sr[$r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pr,Object.getOwnPropertyDescriptors(Sr)):fl(Object(Sr)).forEach(function($r){Object.defineProperty(Pr,$r,Object.getOwnPropertyDescriptor(Sr,$r))})}return Pr}({},(0,be.W)(q,qn))})},children:(0,I.t)("buttons.scrollBackToContent")})]}),hr()]})]});return(0,s.jsx)(Ef.k.Provider,{value:Ee,children:(0,s.jsx)(oc.zt,{scope:dn.jotaiScope,children:(0,s.jsx)(Je.A3.Provider,{value:dn,children:kr})})})},ku=function(l){return l.suggestedBindings,l.startBoundElement,l.cursorButton,l.scrollX,l.scrollY,(0,dt.Z)(l,_f)},$p=function(l,P){if(l.children!==P.children)return!1;l.canvas;var H=l.appState,ae=(0,dt.Z)(l,Cf),Ee=(P.canvas,P.appState),Ae=(0,dt.Z)(P,wb);return(0,y.w8)(ku(H),ku(Ee),{selectedElementIds:y.w8,selectedGroupIds:y.w8})&&(0,y.w8)(ae,Ae)},Kp=he().memo(Hp,$p),ac=o(9650),ta={};ta.styleTagTransform=it(),ta.setAttributes=Ke(),ta.insert=Me().bind(null,"head"),ta.domAPI=pe(),ta.insertStyleElement=Fe(),ue()(ac.Z,ta),ac.Z&&ac.Z.locals&&ac.Z.locals;var Gp=function(l){var P=l.message,H=l.onClose,ae=l.closable,Ee=ae!==void 0&&ae,Ae=l.duration,re=Ae===void 0?5e3:Ae,q=(0,B.useRef)(0),Oe=re!==1/0,Ve=(0,B.useCallback)(function(){Oe&&(q.current=window.setTimeout(function(){return H()},re))},[H,re,Oe]);(0,B.useEffect)(function(){if(Oe)return Ve(),function(){return clearTimeout(q.current)}},[Ve,P,re,Oe]);var ze=Oe?function(){return clearTimeout(q==null?void 0:q.current)}:void 0,nt=Oe?Ve:void 0;return(0,s.jsxs)("div",{className:"Toast",onMouseEnter:ze,onMouseLeave:nt,children:[(0,s.jsx)("p",{className:"Toast__message",children:P}),Ee&&(0,s.jsx)(O.V,{icon:oe.Tw,"aria-label":"close",type:"icon",onClick:H,className:"close"})]})};function Tf(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Of(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?Tf(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):Tf(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var Su=(0,V.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(l){return!l.viewModeEnabled}},perform:function(l,P){return{appState:Of(Of({},P),{},{viewModeEnabled:!this.checked(P)}),commitToHistory:!1}},checked:function(l){return l.viewModeEnabled},predicate:function(l,P,H){return H.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(l){return!l[A.tW.CTRL_OR_CMD]&&l.altKey&&l.code===A.aU.R}}),sc=o(4178),Pf=o(200),Yp=o.n(Pf),jf=o(3528),ts=o(5992),hl=o(8020),Xp=o(4048),Eu=o(9672);function _u(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}var Mf=(0,R.Z)(function l(P){var H=this,ae=P.scene,Ee=P.onSceneUpdated;(0,E.Z)(this,l),this.onFontsLoaded=function(Ae){if(Ae.every(function(q){var Oe="".concat(q.family,"-").concat(q.style,"-").concat(q.weight);return!!l.loadedFontFaces.has(Oe)||(l.loadedFontFaces.add(Oe),!1)}))return!1;var re=!1;H.scene.mapElements(function(q){return(0,de.iB)(q)&&!(0,J.Xh)(q)?(Aa.R.delete(q),re=!0,(0,C.BE)(q,function(Oe){for(var Ve=1;Ve<arguments.length;Ve++){var ze=arguments[Ve]!=null?arguments[Ve]:{};Ve%2?_u(Object(ze),!0).forEach(function(nt){(0,Y.Z)(Oe,nt,ze[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(ze)):_u(Object(ze)).forEach(function(nt){Object.defineProperty(Oe,nt,Object.getOwnPropertyDescriptor(ze,nt))})}return Oe}({},(0,de.JZ)(q)))):q}),re&&H.onSceneUpdated()},this.loadFontsForElements=function(){var Ae=(0,u.Z)(S().mark(function re(q){var Oe;return S().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,Promise.all((0,f.Z)(new Set(q.filter(function(ze){return(0,de.iB)(ze)}).map(function(ze){return ze.fontFamily}))).map(function(ze){var nt,rt,at,gt,xt=(0,y.mO)({fontFamily:ze,fontSize:16});if((nt=document.fonts)===null||nt===void 0||(rt=nt.check)===null||rt===void 0||!rt.call(nt,xt))return(at=document.fonts)===null||at===void 0||(gt=at.load)===null||gt===void 0?void 0:gt.call(at,xt)}));case 2:Oe=Ve.sent,H.onFontsLoaded(Oe.flat().filter(Boolean));case 4:case"end":return Ve.stop()}},re)}));return function(re){return Ae.apply(this,arguments)}}(),this.scene=ae,this.onSceneUpdated=Ee});Mf.loadedFontFaces=new Set;var io=o(4682),Br=o(6264),If=o(5047),mr=o(7652);function Rf(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Oi(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?Rf(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):Rf(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var Af=function(l,P){var H=P.scene.getSelectedElements(l);return H.length===1&&H[0].type==="frame"},qp=(0,V.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(l,P,H,ae){var Ee=ae.scene.getSelectedElements(P)[0];if(Ee&&Ee.type==="frame"){var Ae=(0,io.zD)((0,de.Lm)(l),Ee.id).filter(function(re){return!(re.type==="text"&&re.containerId)});return{elements:l,appState:Oi(Oi({},P),{},{selectedElementIds:Ae.reduce(function(re,q){return re[q.id]=!0,re},{})}),commitToHistory:!1}}return{elements:l,appState:P,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(l,P,H,ae){return Af(P,ae)}}),Jp=(0,V.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(l,P,H,ae){var Ee=ae.scene.getSelectedElements(P)[0];return Ee&&Ee.type==="frame"?{elements:(0,io.yZ)(l,Ee,P),appState:Oi(Oi({},P),{},{selectedElementIds:(0,Y.Z)({},Ee.id,!0)}),commitToHistory:!0}:{elements:l,appState:P,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(l,P,H,ae){return Af(P,ae)}}),Df=((0,V.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(l,P){return{elements:l,appState:Oi(Oi({},P),{},{frameRendering:Oi(Oi({},P.frameRendering),{},{enabled:!P.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(l){return l.frameRendering.enabled}}),(0,V.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(l,P,H,ae){var Ee=(0,y.Om)(P,{type:"frame"});return(0,mr.Uk)(ae.interactiveCanvas,Oi(Oi({},P),{},{activeTool:Ee})),{elements:l,appState:Oi(Oi({},P),{},{activeTool:(0,y.Om)(P,{type:"frame"})}),commitToHistory:!1}},keyTest:function(l){return!l[A.tW.CTRL_OR_CMD]&&!l.shiftKey&&!l.altKey&&l.key.toLocaleLowerCase()===A.tW.F}}),o(6006)),Qp=o(3506);function Lf(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Nf(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?Lf(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):Lf(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}function Ui(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return pl(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return pl(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function pl(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}var ga=function(l){return 8/l},co=(0,R.Z)(function l(){(0,E.Z)(this,l)});co.referenceSnapPoints=null,co.visibleGaps=null,co.setReferenceSnapPoints=function(l){co.referenceSnapPoints=l},co.getReferenceSnapPoints=function(){return co.referenceSnapPoints},co.setVisibleGaps=function(l){co.visibleGaps=l},co.getVisibleGaps=function(){return co.visibleGaps},co.destroy=function(){co.referenceSnapPoints=null,co.visibleGaps=null};var va=function(l){var P=l.event,H=l.appState,ae=l.selectedElements;return P?H.objectsSnapModeEnabled&&!P[A.tW.CTRL_OR_CMD]||!H.objectsSnapModeEnabled&&P[A.tW.CTRL_OR_CMD]&&H.gridSize===null:(ae.length!==1||ae[0].type!=="arrow")&&H.objectsSnapModeEnabled},ml=function(l){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},H=P.omitCenter,ae=P.boundingBoxCorners,Ee=P.dragOffset,Ae=[];if(l.length===1){var re=l[0],q=(0,Yr.qf)(re),Oe=(0,p.Z)(q,6),Ve=Oe[0],ze=Oe[1],nt=Oe[2],rt=Oe[3],at=Oe[4],gt=Oe[5];Ee&&(Ve+=Ee.x,nt+=Ee.x,at+=Ee.x,ze+=Ee.y,rt+=Ee.y,gt+=Ee.y);var xt=(nt-Ve)/2,wt=(rt-ze)/2;if(re.type!=="diamond"&&re.type!=="ellipse"||ae){var un=(0,ye.xj)([Ve,ze],[at,gt],re.angle),Ft=(0,ye.xj)([nt,ze],[at,gt],re.angle),kt=(0,ye.xj)([Ve,rt],[at,gt],re.angle),Lt=(0,ye.xj)([nt,rt],[at,gt],re.angle),$t=[at,gt];Ae=H?[un,Ft,kt,Lt]:[un,Ft,kt,Lt,$t]}else{var dn=(0,ye.xj)([Ve,ze+wt],[at,gt],re.angle),rn=(0,ye.xj)([Ve+xt,ze],[at,gt],re.angle),Gt=(0,ye.xj)([nt,ze+wt],[at,gt],re.angle),ln=(0,ye.xj)([Ve+xt,rt],[at,gt],re.angle),Dn=[at,gt];Ae=H?[dn,rn,Gt,ln]:[dn,rn,Gt,ln,Dn]}}else if(l.length>1){var Xn=(0,Yr.hC)(l,Ee??{x:0,y:0}),lr=(0,p.Z)(Xn,4),hr=lr[0],_r=lr[1],kr=lr[2],qn=lr[3],Pr=kr-hr,cr=qn-_r,Sr=[hr,_r],$r=[kr,_r],Xr=[hr,qn],Ur=[kr,qn],yo=[hr+Pr/2,_r+cr/2];Ae=H?[Sr,$r,Xr,Ur]:[Sr,$r,Xr,Ur,yo]}return Ae.map(function(yr){return[Qe(yr[0]),Qe(yr[1])]})},zf=function(l,P,H){var ae=P.filter(function(Ee){return(0,J.He)(Ee)}).map(function(Ee){return Ee.id});return(0,Br.CF)(l,P,H).filter(function(Ee){return!(Ee.frameId&&ae.includes(Ee.frameId))})},em=function(l,P,H){var ae=zf(l,P,H),Ee=(0,et.AI)(ae).filter(function(cr){return!(cr.length===1&&(0,J.Xh)(cr[0]))}).map(function(cr){return(0,Yr.KP)(cr).map(function(Sr){return Qe(Sr)})}),Ae=Ee.sort(function(cr,Sr){return cr[0]-Sr[0]}),re=[],q=0;e:for(var Oe=0;Oe<Ae.length;Oe++)for(var Ve=Ae[Oe],ze=Oe+1;ze<Ae.length;ze++){if(++q>99999)break e;var nt=Ae[ze],rt=(0,p.Z)(Ve,4),at=rt[1],gt=rt[2],xt=rt[3],wt=(0,p.Z)(nt,4),un=wt[0],Ft=wt[1],kt=wt[3];gt<un&&(0,ye.ep)([at,xt],[Ft,kt])&&re.push({startBounds:Ve,endBounds:nt,startSide:[[gt,at],[gt,xt]],endSide:[[un,Ft],[un,kt]],length:un-gt,overlap:(0,ye.mW)([at,xt],[Ft,kt])})}var Lt=Ee.sort(function(cr,Sr){return cr[1]-Sr[1]}),$t=[];q=0;e:for(var dn=0;dn<Lt.length;dn++)for(var rn=Lt[dn],Gt=dn+1;Gt<Lt.length;Gt++){if(++q>99999)break e;var ln=Lt[Gt],Dn=(0,p.Z)(rn,4),Xn=Dn[0],lr=Dn[2],hr=Dn[3],_r=(0,p.Z)(ln,3),kr=_r[0],qn=_r[1],Pr=_r[2];hr<qn&&(0,ye.ep)([Xn,lr],[kr,Pr])&&$t.push({startBounds:rn,endBounds:ln,startSide:[[Xn,hr],[lr,hr]],endSide:[[kr,qn],[Pr,qn]],length:qn-hr,overlap:(0,ye.mW)([Xn,lr],[kr,Pr])})}return{horizontalGaps:re,verticalGaps:$t}},Ce=function(l,P,H,ae,Ee,Ae,re){if(!va({appState:H,event:ae,selectedElements:l}))return[];if(l.length===0)return[];var q=co.getVisibleGaps();if(q){var Oe,Ve=q.horizontalGaps,ze=q.verticalGaps,nt=(0,Yr.hC)(l,P).map(function(uo){return Qe(uo)}),rt=(0,p.Z)(nt,4),at=rt[0],gt=rt[1],xt=rt[2],wt=rt[3],un=(at+xt)/2,Ft=(gt+wt)/2,kt=Ui(Ve);try{for(kt.s();!(Oe=kt.n()).done;){var Lt=Oe.value;if((0,ye.ep)([gt,wt],Lt.overlap)){var $t=Lt.startSide[0][0]+Lt.length/2,dn=Qe($t-un);if(Lt.length>xt-at&&Math.abs(dn)<=re.x){Math.abs(dn)<re.x&&(Ee.length=0),re.x=Math.abs(dn);var rn={type:"gap",direction:"center_horizontal",gap:Lt,offset:dn};Ee.push(rn)}else{var Gt=at-(0,p.Z)(Lt.endBounds,3)[2],ln=Qe(Lt.length-Gt);if(Math.abs(ln)<=re.x){Math.abs(ln)<re.x&&(Ee.length=0),re.x=Math.abs(ln);var Dn={type:"gap",direction:"side_right",gap:Lt,offset:ln};Ee.push(Dn)}else{var Xn=(0,p.Z)(Lt.startBounds,3)[0],lr=Qe(Xn-xt-Lt.length);if(Math.abs(lr)<=re.x){Math.abs(lr)<re.x&&(Ee.length=0),re.x=Math.abs(lr);var hr={type:"gap",direction:"side_left",gap:Lt,offset:lr};Ee.push(hr)}}}}}}catch(uo){kt.e(uo)}finally{kt.f()}var _r,kr=Ui(ze);try{for(kr.s();!(_r=kr.n()).done;){var qn=_r.value;if((0,ye.ep)([at,xt],qn.overlap)){var Pr=qn.startSide[0][1]+qn.length/2,cr=Qe(Pr-Ft);if(qn.length>wt-gt&&Math.abs(cr)<=re.y){Math.abs(cr)<re.y&&(Ae.length=0),re.y=Math.abs(cr);var Sr={type:"gap",direction:"center_vertical",gap:qn,offset:cr};Ae.push(Sr)}else{var $r=(0,p.Z)(qn.startBounds,3)[1],Xr=Qe($r-wt-qn.length);if(Math.abs(Xr)<=re.y){Math.abs(Xr)<re.y&&(Ae.length=0),re.y=Math.abs(Xr);var Ur={type:"gap",direction:"side_top",gap:qn,offset:Xr};Ae.push(Ur)}else{var yo=(0,p.Z)(qn.endBounds,4)[3],yr=Qe(gt-yo),Ir=qn.length-yr;if(Math.abs(Ir)<=re.y){Math.abs(Ir)<re.y&&(Ae.length=0),re.y=Math.abs(Ir);var Vo={type:"gap",direction:"side_bottom",gap:qn,offset:Ir};Ae.push(Vo)}}}}}}catch(uo){kr.e(uo)}finally{kr.f()}}},Ye=function(l,P,H){var ae=zf(l,P,H);return(0,et.AI)(ae).filter(function(Ee){return!(Ee.length===1&&(0,J.Xh)(Ee[0]))}).flatMap(function(Ee){return ml(Ee)})},Xe=function(l,P,H,ae,Ee,Ae,re){if(!va({appState:H,event:ae,selectedElements:l})||l.length===0&&P.length===0)return[];var q=co.getReferenceSnapPoints();if(q){var Oe,Ve=Ui(P);try{for(Ve.s();!(Oe=Ve.n()).done;){var ze,nt=Oe.value,rt=Ui(q);try{for(rt.s();!(ze=rt.n()).done;){var at=ze.value,gt=at[0]-nt[0],xt=at[1]-nt[1];Math.abs(gt)<=re.x&&(Math.abs(gt)<re.x&&(Ee.length=0),Ee.push({type:"point",points:[nt,at],offset:gt}),re.x=Math.abs(gt)),Math.abs(xt)<=re.y&&(Math.abs(xt)<re.y&&(Ae.length=0),Ae.push({type:"point",points:[nt,at],offset:xt}),re.y=Math.abs(xt))}}catch(wt){rt.e(wt)}finally{rt.f()}}}catch(wt){Ve.e(wt)}finally{Ve.f()}}},Qe=function(l){return Math.round(l*Math.pow(10,6))/Math.pow(10,6)},lt=function(l){var P,H=new Map,ae=Ui(l);try{for(ae.s();!(P=ae.n()).done;){var Ee=P.value,Ae=Ee.join(",");H.has(Ae)||H.set(Ae,Ee)}}catch(re){ae.e(re)}finally{ae.f()}return Array.from(H.values())},ft=function(l,P){var H={},ae={};if(l.length>0){var Ee,Ae=Ui(l);try{for(Ae.s();!(Ee=Ae.n()).done;){var re=Ee.value;if(re.type==="point"){var q,Oe=Qe(re.points[0][0]);H[Oe]||(H[Oe]=[]),(q=H[Oe]).push.apply(q,(0,f.Z)(re.points.map(function(gt){return[Qe(gt[0]),Qe(gt[1])]})))}}}catch(gt){Ae.e(gt)}finally{Ae.f()}}if(P.length>0){var Ve,ze=Ui(P);try{for(ze.s();!(Ve=ze.n()).done;){var nt=Ve.value;if(nt.type==="point"){var rt,at=Qe(nt.points[0][1]);ae[at]||(ae[at]=[]),(rt=ae[at]).push.apply(rt,(0,f.Z)(nt.points.map(function(gt){return[Qe(gt[0]),Qe(gt[1])]})))}}}catch(gt){ze.e(gt)}finally{ze.f()}}return Object.entries(H).map(function(gt){var xt=(0,p.Z)(gt,2),wt=xt[0],un=xt[1];return{type:"points",points:lt(un.map(function(Ft){return[Number(wt),Ft[1]]}).sort(function(Ft,kt){return Ft[1]-kt[1]}))}}).concat(Object.entries(ae).map(function(gt){var xt=(0,p.Z)(gt,2),wt=xt[0],un=xt[1];return{type:"points",points:lt(un.map(function(Ft){return[Ft[0],Number(wt)]}).sort(function(Ft,kt){return Ft[0]-kt[0]}))}}))},vt=function(l,P,H){var ae,Ee=(0,Yr.hC)(l,P),Ae=(0,p.Z)(Ee,4),re=Ae[0],q=Ae[1],Oe=Ae[2],Ve=Ae[3],ze=[],nt=Ui(H);try{for(nt.s();!(ae=nt.n()).done;){var rt=ae.value,at=(0,p.Z)(rt.gap.startBounds,4),gt=at[0],xt=at[1],wt=at[2],un=at[3],Ft=(0,p.Z)(rt.gap.endBounds,4),kt=Ft[0],Lt=Ft[1],$t=Ft[2],dn=Ft[3],rn=(0,ye.mW)([q,Ve],rt.gap.overlap),Gt=(0,ye.mW)([re,Oe],rt.gap.overlap);switch(rt.direction){case"center_horizontal":if(rn){var ln=(rn[0]+rn[1])/2;ze.push({type:"gap",direction:"horizontal",points:[[rt.gap.startSide[0][0],ln],[re,ln]]},{type:"gap",direction:"horizontal",points:[[Oe,ln],[rt.gap.endSide[0][0],ln]]})}break;case"center_vertical":if(Gt){var Dn=(Gt[0]+Gt[1])/2;ze.push({type:"gap",direction:"vertical",points:[[Dn,rt.gap.startSide[0][1]],[Dn,q]]},{type:"gap",direction:"vertical",points:[[Dn,Ve],[Dn,rt.gap.endSide[0][1]]]})}break;case"side_right":if(rn){var Xn=(rn[0]+rn[1])/2;ze.push({type:"gap",direction:"horizontal",points:[[wt,Xn],[kt,Xn]]},{type:"gap",direction:"horizontal",points:[[$t,Xn],[re,Xn]]})}break;case"side_left":if(rn){var lr=(rn[0]+rn[1])/2;ze.push({type:"gap",direction:"horizontal",points:[[Oe,lr],[gt,lr]]},{type:"gap",direction:"horizontal",points:[[wt,lr],[kt,lr]]})}break;case"side_top":if(Gt){var hr=(Gt[0]+Gt[1])/2;ze.push({type:"gap",direction:"vertical",points:[[hr,Ve],[hr,xt]]},{type:"gap",direction:"vertical",points:[[hr,un],[hr,Lt]]})}break;case"side_bottom":if(Gt){var _r=(Gt[0]+Gt[1])/2;ze.push({type:"gap",direction:"vertical",points:[[_r,un],[_r,Lt]]},{type:"gap",direction:"vertical",points:[[_r,dn],[_r,q]]})}}}}catch(kr){nt.e(kr)}finally{nt.f()}return function(kr){var qn,Pr=new Map,cr=Ui(kr);try{for(cr.s();!(qn=cr.n()).done;){var Sr=qn.value,$r=Sr.points.flat().map(function(Xr){return[Qe(Xr)]}).join(",");Pr.has($r)||Pr.set($r,Sr)}}catch(Xr){cr.e(Xr)}finally{cr.f()}return Array.from(Pr.values())}(ze.map(function(kr){return Nf(Nf({},kr),{},{points:kr.points.map(function(qn){return[Qe(qn[0]),Qe(qn[1])]})})}))},ut=function(l,P,H,ae,Ee,Ae){var re,q,Oe,Ve;if(!va({event:ae,selectedElements:l,appState:H})||l.length===0||l.length===1&&!function(lr,hr){var _r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(lr-hr)<=_r}(l[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var ze=(0,Yr.KP)(P),nt=(0,p.Z)(ze,4),rt=nt[0],at=nt[1],gt=nt[2],xt=nt[3];Ae&&(Ae.includes("e")?gt+=Ee.x:Ae.includes("w")&&(rt+=Ee.x),Ae.includes("n")?at+=Ee.y:Ae.includes("s")&&(xt+=Ee.y));var wt=[];if(Ae)switch(Ae){case"e":wt.push([gt,at],[gt,xt]);break;case"w":wt.push([rt,at],[rt,xt]);break;case"n":wt.push([rt,at],[gt,at]);break;case"s":wt.push([rt,xt],[gt,xt]);break;case"ne":wt.push([gt,at]);break;case"nw":wt.push([rt,at]);break;case"se":wt.push([gt,xt]);break;case"sw":wt.push([rt,xt])}var un=ga(H.zoom.value),Ft={x:un,y:un},kt=[],Lt=[];Xe(P,wt,H,ae,kt,Lt,Ft);var $t={x:(re=(q=kt[0])===null||q===void 0?void 0:q.offset)!==null&&re!==void 0?re:0,y:(Oe=(Ve=Lt[0])===null||Ve===void 0?void 0:Ve.offset)!==null&&Oe!==void 0?Oe:0};Ft.x=0,Ft.y=0,kt.length=0,Lt.length=0;var dn=(0,Yr.KP)(l).map(function(lr){return Qe(lr)}),rn=(0,p.Z)(dn,4),Gt=rn[0],ln=rn[1],Dn=rn[2],Xn=rn[3];return Xe(l,[[Gt,ln],[Gt,Xn],[Dn,ln],[Dn,Xn]],H,ae,kt,Lt,Ft),{snapOffset:$t,snapLines:ft(kt,Lt)}},Ht=o(7392),gn=o(9247),tn=function(){return(0,s.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,s.jsx)("p",{children:(0,s.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(l){return(0,s.jsx)("span",{style:{fontWeight:600},children:l})}})}),(0,s.jsx)("p",{children:(0,s.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(l){return(0,s.jsx)("span",{style:{fontWeight:600},children:l})}})}),(0,s.jsx)("p",{children:(0,s.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(l){return(0,s.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:l})}})}),(0,s.jsx)("p",{children:(0,s.jsx)(gn.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(l){return(0,s.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:l})},discordLink:function(l){return(0,s.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[l,"."]})}})})]})},zt=o(6199),kn=o(7766),nn=function(l){var P=(0,B.useRef)(!1);return(0,B.useEffect)(function(){var H;if(P.current){var ae={},Ee={},Ae={},re={},q={};l.appState.collaborators.forEach(function(Ve,ze){if(Ve.selectedElementIds)for(var nt=0,rt=Object.keys(Ve.selectedElementIds);nt<rt.length;nt++){var at=rt[nt];at in Ae||(Ae[at]=[]),Ae[at].push(ze)}Ve.pointer&&(Ve.username&&(re[ze]=Ve.username),Ve.userState&&(q[ze]=Ve.userState),Ee[ze]=(0,y._i)({sceneX:Ve.pointer.x,sceneY:Ve.pointer.y},l.appState),ae[ze]=Ve.button)});var Oe=((H=l.containerRef)===null||H===void 0?void 0:H.current)&&getComputedStyle(l.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,kn.tp)({canvas:l.canvas,elements:l.elements,visibleElements:l.visibleElements,selectedElements:l.selectedElements,scale:window.devicePixelRatio,appState:l.appState,renderConfig:{remotePointerViewportCoords:Ee,remotePointerButton:ae,remoteSelectedElementIds:Ae,remotePointerUsernames:re,remotePointerUserStates:q,selectionColor:Oe,renderScrollbars:!1},callback:l.renderInteractiveSceneCallback},(0,y.G9)())}else P.current=!0}),(0,s.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:l.appState.width,height:l.appState.height,cursor:l.appState.viewModeEnabled?T.oc.GRAB:T.oc.AUTO},width:l.appState.width*l.scale,height:l.appState.height*l.scale,ref:l.handleCanvasRef,onContextMenu:l.onContextMenu,onPointerMove:l.onPointerMove,onPointerUp:l.onPointerUp,onPointerCancel:l.onPointerCancel,onTouchMove:l.onTouchMove,onPointerDown:l.onPointerDown,onDoubleClick:l.appState.viewModeEnabled?void 0:l.onDoubleClick,children:(0,I.t)("labels.drawingCanvas")})},En=function(l){return{zoom:l.zoom,scrollX:l.scrollX,scrollY:l.scrollY,width:l.width,height:l.height,viewModeEnabled:l.viewModeEnabled,editingGroupId:l.editingGroupId,editingLinearElement:l.editingLinearElement,selectedElementIds:l.selectedElementIds,frameToHighlight:l.frameToHighlight,offsetLeft:l.offsetLeft,offsetTop:l.offsetTop,theme:l.theme,pendingImageElementId:l.pendingImageElementId,selectionElement:l.selectionElement,selectedGroupIds:l.selectedGroupIds,selectedLinearElement:l.selectedLinearElement,multiElement:l.multiElement,isBindingEnabled:l.isBindingEnabled,suggestedBindings:l.suggestedBindings,isRotating:l.isRotating,elementsToHighlight:l.elementsToHighlight,openSidebar:l.openSidebar,showHyperlinkPopup:l.showHyperlinkPopup,collaborators:l.collaborators,activeEmbeddable:l.activeEmbeddable,snapLines:l.snapLines,zenModeEnabled:l.zenModeEnabled}},qt=function(l,P){return l.selectionNonce===P.selectionNonce&&l.versionNonce===P.versionNonce&&l.scale===P.scale&&l.elements===P.elements&&l.visibleElements===P.visibleElements&&l.selectedElements===P.selectedElements&&(0,y.w8)(En(l.appState),En(P.appState))},bn=he().memo(nn,qt),Rn=function(l){var P=(0,B.useRef)(null),H=(0,B.useRef)(!1);return(0,B.useEffect)(function(){var ae=P.current;if(ae){var Ee=l.canvas;H.current||(H.current=!0,ae.replaceChildren(Ee),Ee.classList.add("excalidraw__canvas","static"));var Ae="".concat(l.appState.width,"px"),re="".concat(l.appState.height,"px");Ee.style.width!==Ae&&(Ee.style.width=Ae),Ee.style.height!==re&&(Ee.style.height=re);var q=l.appState.width*l.scale,Oe=l.appState.height*l.scale;Ee.width!==q&&(Ee.width=q),Ee.height!==Oe&&(Ee.height=Oe),(0,kn.AW)({canvas:Ee,rc:l.rc,scale:l.scale,elements:l.elements,visibleElements:l.visibleElements,appState:l.appState,renderConfig:l.renderConfig},(0,y.G9)())}}),(0,s.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:P})},Zn=function(l){return{zoom:l.zoom,scrollX:l.scrollX,scrollY:l.scrollY,width:l.width,height:l.height,viewModeEnabled:l.viewModeEnabled,offsetLeft:l.offsetLeft,offsetTop:l.offsetTop,theme:l.theme,pendingImageElementId:l.pendingImageElementId,shouldCacheIgnoreZoom:l.shouldCacheIgnoreZoom,viewBackgroundColor:l.viewBackgroundColor,exportScale:l.exportScale,selectedElementsAreBeingDragged:l.selectedElementsAreBeingDragged,gridSize:l.gridSize,frameRendering:l.frameRendering,selectedElementIds:l.selectedElementIds,frameToHighlight:l.frameToHighlight,editingGroupId:l.editingGroupId}},An=function(l,P){return l.versionNonce===P.versionNonce&&l.scale===P.scale&&l.elements===P.elements&&l.visibleElements===P.visibleElements&&(0,y.w8)(Zn(l.appState),Zn(P.appState))&&(0,y.w8)(l.renderConfig,P.renderConfig)},Pn=he().memo(Rn,An),er=function(){function l(P){var H=this;(0,E.Z)(this,l),this.getRenderableElements=(0,y.HP)(function(ae){var Ee=ae.zoom,Ae=ae.offsetLeft,re=ae.offsetTop,q=ae.scrollX,Oe=ae.scrollY,Ve=ae.height,ze=ae.width,nt=ae.editingElement,rt=ae.pendingImageElementId,at=(ae.versionNonce,function(xt){var wt=xt.editingElement,un=xt.elements,Ft=xt.pendingImageElementId;return un.filter(function(kt){return!((0,J.pC)(kt)&&Ft===kt.id||wt&&wt.type==="text"&&kt.id===wt.id)})}({elements:H.scene.getNonDeletedElements(),editingElement:nt,pendingImageElementId:rt})),gt=function(xt){var wt=xt.elements,un=xt.zoom,Ft=xt.offsetLeft,kt=xt.offsetTop,Lt=xt.scrollX,$t=xt.scrollY,dn=xt.height,rn=xt.width;return wt.filter(function(Gt){return(0,Ze.PZ)(Gt,rn,dn,{zoom:un,offsetLeft:Ft,offsetTop:kt,scrollX:Lt,scrollY:$t})})}({elements:at,zoom:Ee,offsetLeft:Ae,offsetTop:re,scrollX:q,scrollY:Oe,height:Ve,width:ze});return{canvasElements:at,visibleElements:gt}}),this.scene=P}return(0,R.Z)(l,[{key:"destroy",value:function(){(0,kn.n_)(),this.getRenderableElements.clear()}}]),l}(),gr=o(8806),xr=o(4864),Yn=o(8531),fr=o(5830),vr={};vr.styleTagTransform=it(),vr.setAttributes=Ke(),vr.insert=Me().bind(null,"head"),vr.domAPI=pe(),vr.insertStyleElement=Fe(),ue()(fr.Z,vr),fr.Z&&fr.Z.locals&&fr.Z.locals;var wr="mermaid-to-excalidraw",Wr=function(l){var P=l.error;return(0,s.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,s.jsx)("p",{children:P})]})},Mr=function(){var l=(0,B.useState)({loaded:!1,api:null}),P=(0,p.Z)(l,2),H=P[0],ae=P[1],Ee=(0,B.useState)(""),Ae=(0,p.Z)(Ee,2),re=Ae[0],q=Ae[1],Oe=(0,B.useDeferredValue)(re.trim()),Ve=(0,B.useState)(null),ze=(0,p.Z)(Ve,2),nt=ze[0],rt=ze[1],at=(0,B.useRef)(null),gt=(0,B.useRef)({elements:[],files:null}),xt=sm(),wt=function(){var Ft=at.current;if(Ft){var kt=Ft.parentElement;kt&&(kt.style.background="",rt(null),Ft.replaceChildren())}};(0,B.useEffect)(function(){var Ft=function(){var kt=(0,u.Z)(S().mark(function Lt(){var $t;return S().wrap(function(dn){for(;;)switch(dn.prev=dn.next){case 0:return dn.next=2,o.e(4736).then(o.bind(o,1049));case 2:$t=dn.sent,ae({loaded:!0,api:$t});case 4:case"end":return dn.stop()}},Lt)}));return function(){return kt.apply(this,arguments)}}();Ft()},[]),(0,B.useEffect)(function(){var Ft=function(){try{var kt=localStorage.getItem(wr);if(kt)return kt}catch(Lt){console.error(Lt)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;q(Ft)},[]),(0,B.useEffect)(function(){var Ft=function(){var kt=(0,u.Z)(S().mark(function Lt(){var $t,dn,rn,Gt,ln,Dn;return S().wrap(function(Xn){for(;;)switch(Xn.prev=Xn.next){case 0:if($t=at.current,dn=$t==null?void 0:$t.parentElement,H.loaded&&$t&&dn&&H.api){Xn.next=4;break}return Xn.abrupt("return");case 4:if(Oe){Xn.next=7;break}return wt(),Xn.abrupt("return");case 7:return Xn.prev=7,Xn.next=10,H.api.parseMermaidToExcalidraw(Oe,{fontSize:T.n5});case 10:return rn=Xn.sent,Gt=rn.elements,ln=rn.files,rt(null),gt.current={elements:(0,xr.wc)(Gt,{regenerateIds:!0}),files:ln},Xn.next=17,(0,xr.NL)({elements:gt.current.elements,files:gt.current.files,exportPadding:T.qy,maxWidthOrHeight:Math.max(dn.offsetWidth,dn.offsetHeight)*window.devicePixelRatio});case 17:return Dn=Xn.sent,Xn.next=20,(0,Wt._c)(Dn);case 20:dn.style.background="var(--default-bg-color)",$t.replaceChildren(Dn),Xn.next=28;break;case 24:Xn.prev=24,Xn.t0=Xn.catch(7),dn.style.background="var(--default-bg-color)",Oe&&rt(Xn.t0.message);case 28:case"end":return Xn.stop()}},Lt,null,[[7,24]])}));return function(){return kt.apply(this,arguments)}}();Ft()},[Oe,H]);var un=function(){xt.setOpenDialog(null),function(Ft){try{localStorage.setItem(wr,Ft)}catch(kt){console.error(kt)}}(re)};return(0,s.jsx)(Vt.V,{className:"dialog-mermaid",onCloseRequest:un,size:1200,title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"dialog-mermaid-title",children:(0,I.t)("mermaid.title")}),(0,s.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,s.jsx)(gn.Z,{i18nKey:"mermaid.description",flowchartLink:function(Ft){return(0,s.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:Ft})},sequenceLink:function(Ft){return(0,s.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:Ft})}}),(0,s.jsx)("br",{})]})]}),children:(0,s.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,s.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,s.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,s.jsx)("label",{children:(0,I.t)("mermaid.syntax")}),(0,s.jsx)("textarea",{onChange:function(Ft){return q(Ft.target.value)},value:re})]}),(0,s.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,s.jsx)("label",{children:(0,I.t)("mermaid.preview")}),(0,s.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[nt&&(0,s.jsx)(Wr,{error:nt}),H.loaded?(0,s.jsx)("div",{ref:at,style:{opacity:nt?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,s.jsx)(Yn.Z,{size:"2rem"})]})]})]}),(0,s.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,s.jsxs)(gr.z,{className:"dialog-mermaid-insert",onSelect:function(){var Ft=gt.current,kt=Ft.elements,Lt=Ft.files;xt.addElementsFromPasteOrLibrary({elements:kt,files:Lt,position:"center",fitToContent:!0}),un()},children:[(0,I.t)("mermaid.button"),(0,s.jsx)("span",{children:oe.LZ})]})})]})})},eo=o(7930),to={};to.styleTagTransform=it(),to.setAttributes=Ke(),to.insert=Me().bind(null,"head"),to.domAPI=pe(),to.insertStyleElement=Fe(),ue()(eo.Z,to),eo.Z&&eo.Z.locals&&eo.Z.locals;var na=function(l){var P=l.manager,H=(0,B.useRef)(null);return(0,B.useEffect)(function(){return H.current&&P.start(H.current),function(){P.stop()}},[P]),(0,s.jsx)("div",{className:"LaserToolOverlay",children:(0,s.jsx)("svg",{ref:H,className:"LaserToolOverlayCanvas"})})},ii,Pi,ns,ra;function ro([l,P,H],[ae,Ee,Ae]){return[l+ae,P+Ee,H+Ae]}function ya([l,P,H],[ae,Ee,Ae]){return[l-ae,P-Ee,H-Ae]}function vo([l,P,H],ae){return[l*ae,P*ae,H*ae]}function Vi([l,P,H]){return[l/Math.sqrt(l**2+P**2),P/Math.sqrt(l**2+P**2),H]}function Ro([l,P,H],ae){return[Math.cos(ae)*l-Math.sin(ae)*P,Math.sin(ae)*l+Math.cos(ae)*P,H]}function lc(l,P,H){return Math.atan2(H[1]-l[1],H[0]-l[0])-Math.atan2(P[1]-l[1],P[0]-l[0])}function ba(l){return Math.atan2(Math.sin(l),Math.cos(l))}function cc([l,P]){return Math.sqrt(l**2+P**2)}function Wi([l,P],[H,ae]){return Math.sqrt((H-l)**2+(ae-P)**2)}ii={},Pi="LaserPointer",ns=()=>rs,Object.defineProperty(ii,Pi,{get:ns,set:ra,enumerable:!0,configurable:!0});function Bf(l,P,H){const ae=Wi(P,H);if(ae===0)return Wi(l,P);const Ee=((Ae,re,q)=>Math.max(re,Math.min(q,Ae)))(((l[0]-P[0])*(H[0]-P[0])+(l[1]-P[1])*(H[1]-P[1]))/ae**2,0,1);return Wi([P[0]+Ee*(H[0]-P[0]),P[1]+Ee*(H[1]-P[1]),l[2]],l)}function uc(l,P){if(P===0||l.length<=2)return l;const H=l[0],ae=l[l.length-1],[Ee,Ae]=l.reduce(([re,q],Oe,Ve)=>{const ze=Bf(Oe,H,ae);return ze>re?[ze,Ve]:[re,q]},[0,-1]);if(Ee>=P){const re=l[Ae];return[...uc([H,...l.slice(1,Ae),re],P).slice(0,-1),re,...uc([re,...l.slice(Ae,-1),ae],P).slice(1)]}return[H,ae]}const La=class La{constructor(P){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},La.defaults,P)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(P){const H=this.originalPoints[this.originalPoints.length-1];if(!H||H[0]!==P[0]||H[1]!==P[1]){if(this.originalPoints.push(P),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(P);var ae,Ee,Ae;this.options.streamline>0&&(ae=this.lastPoint,Ee=P,Ae=1-this.options.streamline,P=ro(ae,vo(ya(Ee,ae),Ae))),this.tailPoints.push(P),function(re){if(re.length<2)return 0;let q=0;for(let Oe=1;Oe<=re.length-1;Oe++)q+=Wi(re[Oe-1],re[Oe]);return q+=Wi(re[re.length-2],re[re.length-1]),q}(this.tailPoints)>La.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(P,H,ae,Ee,Ae){return(P??this.options.size)*this.options.sizeMapping({pressure:H,runningLength:Ae,currentIndex:ae,totalLength:Ee})}getStrokeOutline(P){if(this.isFresh)return[];let H=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(H=uc(H,this.options.simplify));const ae=H.length;if(ae===0)return[];if(ae===1){const rn=H[0],Gt=[];for(let ln=0;ln<=2*Math.PI;ln+=Math.PI/16)Gt.push(ro(rn,vo(Ro([1,0,0],ln),this.getSize(P,rn[2],0,ae,0))));return Gt.push(ro(rn,vo([1,0,0],this.getSize(P,rn[2],0,ae,0)))),Gt}if(ae===2){const rn=H[0],Gt=H[1],ln=[],Dn=lc(rn,[rn[0],rn[1]-100,rn[2]],Gt);for(let Xn=Dn;Xn<=Math.PI+Dn;Xn+=Math.PI/16)ln.push(ro(rn,vo(Ro([1,0,0],Xn),this.getSize(P,rn[2],0,ae,0))));for(let Xn=Math.PI+Dn;Xn<=2*Math.PI+Dn;Xn+=Math.PI/16)ln.push(ro(Gt,vo(Ro([1,0,0],Xn),this.getSize(P,Gt[2],0,ae,0))));return ln.push(ln[0]),ln}const Ee=[],Ae=[];let re=0,q=0,Oe=0,Ve=0;for(let rn=1;rn<ae-1;rn++){const Gt=H[rn-1],ln=H[rn],Dn=H[rn+1];let Xn=ln[2];const lr=Wi(Gt,ln);Ve+=lr,re=q+.2*(lr-q);const hr=this.getSize(P,Xn,rn,ae,Ve);if(hr===0){Oe=rn+1;continue}const _r=Vi(ya(Gt,ln)),kr=Vi(ya(Dn,ln)),qn=Ro(_r,Math.PI/2),Pr=Ro(_r,-Math.PI/2),cr=Ro(kr,Math.PI/2),Sr=Ro(kr,-Math.PI/2),$r=ro(ln,vo(qn,hr)),Xr=ro(ln,vo(Pr,hr)),Ur=ro(ln,vo(cr,hr)),yo=ro(ln,vo(Sr,hr)),yr=ro(qn,Sr),Ir=ro(Pr,cr),Vo=ro(ln,vo(cc(yr)===0?_r:Vi(yr),hr)),uo=ro(ln,vo(cc(Ir)===0?kr:Vi(Ir),hr)),Wo=ba(lc(ln,Gt,Dn)),Kr=La.constants.cornerDetectionMaxAngle/180*Math.PI*La.constants.cornerDetectionVariance(re);if(Math.abs(Wo)<Kr){const Ao=Math.abs(ba(Math.PI-Wo));if(Ao===0)continue;if(Wo<0){Ae.push(Xr,uo);for(let bo=0;bo<=Ao;bo+=Ao/4)Ee.push(ro(ln,Ro(vo(qn,hr),bo)));for(let bo=Ao;bo>=0;bo-=Ao/4)Ae.push(ro(ln,Ro(vo(qn,hr),bo)));Ae.push(uo,Ur)}else{Ee.push($r,Vo);for(let bo=0;bo<=Ao;bo+=Ao/4)Ae.push(ro(ln,Ro(vo(qn,-hr),-bo)));for(let bo=Ao;bo>=0;bo-=Ao/4)Ee.push(ro(ln,Ro(vo(qn,-hr),-bo)));Ee.push(Vo,yo)}}else Ee.push(Vo),Ae.push(uo);q=re}const ze=H[Oe],nt=H[Oe+1],rt=H[ae-2],at=H[ae-1];if(Oe>=ae-2)return[];const gt=Vi(ya(nt,ze)),xt=Vi(ya(rt,at)),wt=Ro(gt,-Math.PI/2),un=Ro(xt,Math.PI/2),Ft=this.getSize(P,ze[2],0,ae,0),kt=[],Lt=this.getSize(P,rt[2],ae-2,ae,Ve),$t=[];for(let rn=0;rn<=Math.PI;rn+=Math.PI/16)kt.unshift(ro(ze,Ro(vo(wt,Ft),-rn)));kt.unshift(ro(ze,vo(wt,-Ft)));for(let rn=0;rn<=Math.PI;rn+=Math.PI/16)$t.push(ro(at,Ro(vo(un,-Lt),-rn)));const dn=[...kt,...Ee,...$t.reverse(),...Ae.reverse()];return kt.length>0&&dn.push(kt[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?uc(dn,this.options.simplify):dn}};gm=new WeakMap,vm=new WeakMap,yl(La,gm,(()=>{La.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),yl(La,vm,(()=>{La.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:P=>P>35?.5:1,maxTailLength:50}})());let rs=La;var tm=o(957);function Zf(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return Ff(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return Ff(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function Ff(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}var Uf=1e3,dc=function(l,P){return(l+P)/2};function Vf(l){return 1-Math.pow(1-l,3)}function Da(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function Ss(){return rs.constants.cornerDetectionMaxAngle=70,new rs({simplify:0,streamline:.4,sizeMapping:function(l){var P=Math.max(0,1-(performance.now()-l.pressure)/1e3),H=(50-Math.min(50,l.totalLength-l.currentIndex))/50;return Math.min(Vf(H),Vf(P))}})}var Wf=function(){function l(P){(0,E.Z)(this,l),this.app=P,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=Da()}return(0,R.Z)(l,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Da(),this.collaboratorsState=new Map}},{key:"startPath",value:function(P,H){this.ownState.currentPath=Ss(),this.ownState.currentPath.addPoint([P,H,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(P,H){var ae;this.ownState.currentPath&&((ae=this.ownState.currentPath)===null||ae===void 0||ae.addPoint([P,H,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(P){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(P){P&&(this.container=P,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(P){var H=this;return function(ae){var Ee=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ae=ae.length;if(Ae<4)return"";for(var re=ae[0],q=ae[1],Oe=ae[2],Ve="M".concat(re[0].toFixed(2),",").concat(re[1].toFixed(2)," Q").concat(q[0].toFixed(2),",").concat(q[1].toFixed(2)," ").concat(dc(q[0],Oe[0]).toFixed(2),",").concat(dc(q[1],Oe[1]).toFixed(2)," T"),ze=2,nt=Ae-1;ze<nt;ze++)re=ae[ze],q=ae[ze+1],Ve+="".concat(dc(re[0],q[0]).toFixed(2),",").concat(dc(re[1],q[1]).toFixed(2)," ");return Ee&&(Ve+="Z"),Ve}(P.getStrokeOutline(P.options.size/this.app.state.zoom.value).map(function(ae){var Ee=(0,p.Z)(ae,2),Ae=Ee[0],re=Ee[1],q=(0,y._i)({sceneX:Ae,sceneY:re},H.app.state);return[q.x,q.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var P,H=Zf(this.app.state.collaborators.entries());try{for(H.s();!(P=H.n()).done;){var ae=(0,p.Z)(P.value,2),Ee=ae[0],Ae=ae[1];if(!this.collaboratorsState.has(Ee)){var re=Da();this.container.appendChild(re.svg),this.collaboratorsState.set(Ee,re),this.updatePath(re)}var q=this.collaboratorsState.get(Ee);Ae.pointer&&Ae.pointer.tool==="laser"&&(Ae.button==="down"&&q.currentPath===void 0&&(q.lastPoint=[Ae.pointer.x,Ae.pointer.y],q.currentPath=Ss(),q.currentPath.addPoint([Ae.pointer.x,Ae.pointer.y,performance.now()]),this.updatePath(q)),Ae.button==="down"&&q.currentPath!==void 0&&(Ae.pointer.x===q.lastPoint[0]&&Ae.pointer.y===q.lastPoint[1]||(q.lastPoint=[Ae.pointer.x,Ae.pointer.y],q.currentPath.addPoint([Ae.pointer.x,Ae.pointer.y,performance.now()]),this.updatePath(q))),Ae.button==="up"&&q.currentPath!==void 0&&(q.lastPoint=[Ae.pointer.x,Ae.pointer.y],q.currentPath.addPoint([Ae.pointer.x,Ae.pointer.y,performance.now()]),q.currentPath.close(),q.finishedPaths.push(q.currentPath),q.currentPath=void 0,this.updatePath(q)))}}catch(Oe){H.e(Oe)}finally{H.f()}}}},{key:"update",value:function(){var P=this;if(this.container){var H,ae=!1,Ee=Zf(this.collaboratorsState.entries());try{for(Ee.s();!(H=Ee.n()).done;){var Ae=(0,p.Z)(H.value,2),re=Ae[0],q=Ae[1];if(this.app.state.collaborators.has(re)){q.finishedPaths=q.finishedPaths.filter(function(ze){var nt=ze.originalPoints[ze.originalPoints.length-1];return!(nt&&nt[2]<performance.now()-Uf)});var Oe=q.finishedPaths.map(function(ze){return P.draw(ze)}).join(" ");q.currentPath&&(Oe+=" ".concat(this.draw(q.currentPath))),Oe.trim()&&(ae=!0),q.svg.setAttribute("d",Oe),q.svg.setAttribute("fill",(0,tm.G)(re))}else q.svg.remove(),this.collaboratorsState.delete(re)}}catch(ze){Ee.e(ze)}finally{Ee.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(ze){var nt=ze.originalPoints[ze.originalPoints.length-1];return!(nt&&nt[2]<performance.now()-Uf)});var Ve=this.ownState.finishedPaths.map(function(ze){return P.draw(ze)}).join(" ");this.ownState.currentPath&&(Ve+=" ".concat(this.draw(this.ownState.currentPath))),(Ve=Ve.trim())&&(ae=!0),this.ownState.svg.setAttribute("d",Ve),this.ownState.svg.setAttribute("fill","red"),ae||(this.isDrawing=!1)}}}]),l}(),Uo=function(){function l(P){var H;(0,E.Z)(this,l),this.subscribers=[],this.updateOnChangeOnly=(H=P==null?void 0:P.updateOnChangeOnly)!==null&&H!==void 0&&H,this.value=P==null?void 0:P.initialState}return(0,R.Z)(l,[{key:"on",value:function(){for(var P,H=this,ae=arguments.length,Ee=new Array(ae),Ae=0;Ae<ae;Ae++)Ee[Ae]=arguments[Ae];var re=Ee.flat().filter(function(q){return typeof q=="function"});return(P=this.subscribers).push.apply(P,(0,f.Z)(re)),function(){return H.off(re)}}},{key:"off",value:function(){for(var P=arguments.length,H=new Array(P),ae=0;ae<P;ae++)H[ae]=arguments[ae];var Ee=H.flat();this.subscribers=this.subscribers.filter(function(Ae){return!Ee.includes(Ae)})}},{key:"trigger",value:function(){for(var P=arguments.length,H=new Array(P),ae=0;ae<P;ae++)H[ae]=arguments[ae];return this.updateOnChangeOnly&&this.value===H?[]:(this.value=H,this.subscribers.map(function(Ee){return Ee.apply(void 0,H)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),l}();function xa(l,P){var H=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!H){if(Array.isArray(l)||(H=function(Oe,Ve){if(Oe){if(typeof Oe=="string")return Es(Oe,Ve);var ze=Object.prototype.toString.call(Oe).slice(8,-1);if(ze==="Object"&&Oe.constructor&&(ze=Oe.constructor.name),ze==="Map"||ze==="Set")return Array.from(Oe);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return Es(Oe,Ve)}}(l))||P&&l&&typeof l.length=="number"){H&&(l=H);var ae=0,Ee=function(){};return{s:Ee,n:function(){return ae>=l.length?{done:!0}:{done:!1,value:l[ae++]}},e:function(Oe){throw Oe},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,re=!0,q=!1;return{s:function(){H=H.call(l)},n:function(){var Oe=H.next();return re=Oe.done,Oe},e:function(Oe){q=!0,Ae=Oe},f:function(){try{re||H.return==null||H.return()}finally{if(q)throw Ae}}}}function Es(l,P){(P==null||P>l.length)&&(P=l.length);for(var H=0,ae=new Array(P);H<P;H++)ae[H]=l[H];return ae}function Hf(l){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,ae=(0,W.Z)(l);if(P){var Ee=(0,W.Z)(this).constructor;H=Reflect.construct(ae,arguments,Ee)}else H=ae.apply(this,arguments);return(0,L.Z)(this,H)}}function fc(l,P){var H=Object.keys(l);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(l);P&&(ae=ae.filter(function(Ee){return Object.getOwnPropertyDescriptor(l,Ee).enumerable})),H.push.apply(H,ae)}return H}function Jt(l){for(var P=1;P<arguments.length;P++){var H=arguments[P]!=null?arguments[P]:{};P%2?fc(Object(H),!0).forEach(function(ae){(0,Y.Z)(l,ae,H[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(H)):fc(Object(H)).forEach(function(ae){Object.defineProperty(l,ae,Object.getOwnPropertyDescriptor(H,ae))})}return l}var hc=he().createContext(null),pc=he().createContext(null),mc={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},gc=he().createContext(mc);gc.displayName="DeviceContext";var nm=he().createContext({container:null,id:null});nm.displayName="ExcalidrawContainerContext";var rm=he().createContext([]);rm.displayName="ExcalidrawElementsContext";var om=he().createContext(Jt(Jt({},(0,F.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));om.displayName="ExcalidrawAppStateContext";var im=he().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});im.displayName="ExcalidrawSetAppStateContext";var am=he().createContext(null);am.displayName="ExcalidrawActionManagerContext";var sm=function(){return(0,B.useContext)(hc)},kb=function(){return(0,B.useContext)(pc)},$f=function(){return(0,B.useContext)(gc)},lm=function(){return(0,B.useContext)(nm)},Sb=function(){return(0,B.useContext)(rm)},Eb=function(){return(0,B.useContext)(om)},_b=function(){return(0,B.useContext)(im)},cm=function(){return(0,B.useContext)(am)},Cb=typeof window<"u"&&"ResizeObserver"in window,Cu=!1,um=0,gl=!1,Tu=!1,dm=!1,fm={horizontal:null,vertical:null},_s=0,Ou=!1,hm=new Map,pm=!1,Tb=0,Ob=!1,Cs=null,Fr={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},mm=function(l){(0,d.Z)(Ae,l);var P,H,ae,Ee=Hf(Ae);function Ae(re){var q;(0,E.Z)(this,Ae),q=Ee.call(this,re),ZE.call((0,k.Z)(q));var Oe,Ve=(0,F.im)(),ze=re.excalidrawAPI,nt=re.viewModeEnabled,rt=nt!==void 0&&nt,at=re.zenModeEnabled,gt=at!==void 0&&at,xt=re.gridModeEnabled,wt=xt!==void 0&&xt,un=re.objectsSnapModeEnabled,Ft=un!==void 0&&un,kt=re.theme,Lt=kt===void 0?Ve.theme:kt,$t=re.name,dn=$t===void 0?Ve.name:$t;if(q.state=Jt(Jt(Jt({},Ve),{},{theme:Lt,isLoading:!0},q.getCanvasOffsets()),{},{viewModeEnabled:rt,zenModeEnabled:gt,objectsSnapModeEnabled:Ft,gridSize:wt?T.k:null,name:dn,width:window.innerWidth,height:window.innerHeight}),q.id=(0,le.x0)(),q.library=new ce.ZP((0,k.Z)(q)),q.scene=new X.Z,q.canvas=document.createElement("canvas"),q.rc=ve.Z.canvas(q.canvas),q.renderer=new er(q.scene),ze){var rn={updateScene:q.updateScene,updateLibrary:q.library.updateLibrary,addFiles:q.addFiles,resetScene:q.resetScene,getSceneElementsIncludingDeleted:q.getSceneElementsIncludingDeleted,history:{clear:q.resetHistory},scrollToContent:q.scrollToContent,getSceneElements:q.getSceneElements,getAppState:function(){return q.state},getFiles:function(){return q.files},refresh:q.refresh,setToast:q.setToast,id:q.id,setActiveTool:q.setActiveTool,setCursor:q.setCursor,resetCursor:q.resetCursor,updateFrameRendering:q.updateFrameRendering,toggleSidebar:q.toggleSidebar,onChange:function(Gt){return q.onChangeEmitter.on(Gt)},onPointerDown:function(Gt){return q.onPointerDownEmitter.on(Gt)},onPointerUp:function(Gt){return q.onPointerUpEmitter.on(Gt)}};typeof ze=="function"?ze(rn):console.error("excalidrawAPI should be a function!")}return q.excalidrawContainerValue={container:q.excalidrawContainerRef.current,id:q.id},q.fonts=new Mf({scene:q.scene,onSceneUpdated:q.onSceneUpdated}),q.history=new Be,q.actionManager=new te(q.syncActionResult,function(){return q.state},function(){return q.scene.getElementsIncludingDeleted()},(0,k.Z)(q)),q.actionManager.registerAll(V.N),q.actionManager.registerAction((Oe=q.history,{name:"undo",trackEvent:{category:"history"},perform:function(Gt,ln){return v(Gt,ln,function(){return Oe.undoOnce()})},keyTest:function(Gt){return Gt[A.tW.CTRL_OR_CMD]&&Gt.key.toLowerCase()===A.tW.Z&&!Gt.shiftKey},PanelComponent:function(Gt){var ln=Gt.updateData,Dn=Gt.data;return(0,s.jsx)(O.V,{type:"button",icon:oe.UE,"aria-label":(0,I.t)("buttons.undo"),onClick:ln,size:(Dn==null?void 0:Dn.size)||"medium"})},commitToHistory:function(){return!1}})),q.actionManager.registerAction(function(Gt){return{name:"redo",trackEvent:{category:"history"},perform:function(ln,Dn){return v(ln,Dn,function(){return Gt.redoOnce()})},keyTest:function(ln){return ln[A.tW.CTRL_OR_CMD]&&ln.shiftKey&&ln.key.toLowerCase()===A.tW.Z||T.ED&&ln.ctrlKey&&!ln.shiftKey&&ln.key===A.tW.Y},PanelComponent:function(ln){var Dn=ln.updateData,Xn=ln.data;return(0,s.jsx)(O.V,{type:"button",icon:oe.zG,"aria-label":(0,I.t)("buttons.redo"),onClick:Dn,size:(Xn==null?void 0:Xn.size)||"medium"})},commitToHistory:function(){return!1}}}(q.history)),q}return(0,R.Z)(Ae,[{key:"onWindowMessage",value:function(re){if(re.origin==="https://player.vimeo.com"||re.origin==="https://www.youtube.com"){var q=null;try{q=JSON.parse(re.data)}catch{}if(q)switch(re.origin){case"https://player.vimeo.com":if(q.method==="paused"){var Oe,Ve=null,ze=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!ze)break;var nt,rt=xa(ze);try{for(rt.s();!(nt=rt.n()).done;){var at=nt.value;at.contentWindow===re.source&&(Ve=at.contentWindow)}}catch(wt){rt.e(wt)}finally{rt.f()}(Oe=Ve)===null||Oe===void 0||Oe.postMessage(JSON.stringify({method:q.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(q.event==="infoDelivery"&&q.info&&q.id&&typeof q.info.playerState=="number"){var gt=q.id,xt=q.info.playerState;Object.values(T.vf).includes(xt)&&hm.set(gt,xt)}}}}},{key:"updateEmbeddableRef",value:function(re,q){q&&this.iFrameRefs.set(re,q)}},{key:"getHTMLIFrameElement",value:function(re){return this.iFrameRefs.get(re)}},{key:"handleEmbeddableCenterClick",value:function(re){var q,Oe,Ve,ze,nt=this;if(((q=this.state.activeEmbeddable)===null||q===void 0?void 0:q.element)!==re||((Oe=this.state.activeEmbeddable)===null||Oe===void 0?void 0:Oe.state)!=="active"){setTimeout(function(){nt.setState({activeEmbeddable:{element:re,state:"active"},selectedElementIds:(0,Y.Z)({},re.id,!0),draggingElement:null,selectionElement:null})},100);var rt=this.getHTMLIFrameElement(re.id);if(rt!=null&&rt.contentWindow){if(rt.src.includes("youtube")){var at=hm.get(re.id);switch(at||(hm.set(re.id,T.vf.UNSTARTED),rt.contentWindow.postMessage(JSON.stringify({event:"listening",id:re.id}),"*")),at){case T.vf.PLAYING:case T.vf.BUFFERING:(Ve=rt.contentWindow)===null||Ve===void 0||Ve.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(ze=rt.contentWindow)===null||ze===void 0||ze.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}rt.src.includes("player.vimeo.com")&&rt.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(re,q,Oe,Ve){var ze,nt;return re&&!q.altKey&&!q.shiftKey&&!q.metaKey&&!q.ctrlKey&&(((ze=this.state.activeEmbeddable)===null||ze===void 0?void 0:ze.element)!==re||((nt=this.state.activeEmbeddable)===null||nt===void 0?void 0:nt.state)==="hover"||!this.state.activeEmbeddable)&&Oe>=re.x+re.width/3&&Oe<=re.x+2*re.width/3&&Ve>=re.y+re.height/3&&Ve<=re.y+2*re.height/3}},{key:"renderEmbeddables",value:function(){var re=this,q=this.state.zoom.value,Oe=this.state.width,Ve=this.state.height,ze=this.scene.getNonDeletedElements().filter(function(nt){return(0,J.gs)(nt)&&!!nt.validated});return(0,s.jsx)(s.Fragment,{children:ze.map(function(nt){var rt,at,gt,xt,wt,un,Ft,kt,Lt=(0,y._i)({sceneX:nt.x,sceneY:nt.y},re.state),$t=Lt.x,dn=Lt.y,rn=(0,_.LM)((0,hl.ye)(nt.link||"")),Gt=(0,Ze.PZ)(nt,Oe,Ve,re.state),ln=((rt=re.state.activeEmbeddable)===null||rt===void 0?void 0:rt.element)===nt&&((at=re.state.activeEmbeddable)===null||at===void 0?void 0:at.state)==="active",Dn=((gt=re.state.activeEmbeddable)===null||gt===void 0?void 0:gt.element)===nt&&((xt=re.state.activeEmbeddable)===null||xt===void 0?void 0:xt.state)==="hover";return(0,s.jsx)("div",{className:(0,me.Z)("excalidraw__embeddable-container",{"is-hovered":Dn}),style:(0,Y.Z)({transform:Gt?"translate(".concat($t-re.state.offsetLeft,"px, ").concat(dn-re.state.offsetTop,"px) scale(").concat(q,")"):"none",display:Gt?"block":"none",opacity:nt.opacity/100},"--embeddable-radius","".concat((0,ye.yW)(Math.min(nt.width,nt.height),nt),"px")),children:(0,s.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:Gt?"".concat(nt.width,"px"):0,height:Gt?"".concat(nt.height,"px"):0,transform:Gt?"rotate(".concat(nt.angle,"rad)"):"none",pointerEvents:ln?T.XI.enabled:T.XI.disabled},children:[Dn&&(0,s.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,I.t)("buttons.embeddableInteractionButton")}),(0,s.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(nt.strokeWidth,"px")},children:(wt=(un=(Ft=re.props).renderEmbeddable)===null||un===void 0?void 0:un.call(Ft,nt,re.state))!==null&&wt!==void 0?wt:(0,s.jsx)("iframe",{ref:function(Xn){return re.updateEmbeddableRef(nt.id,Xn)},className:"excalidraw__embeddable",srcDoc:(rn==null?void 0:rn.type)==="document"?rn.srcdoc(re.state.theme):void 0,src:(rn==null?void 0:rn.type)!=="document"?(kt=rn==null?void 0:rn.link)!==null&&kt!==void 0?kt:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads"})})]})},nt.id)})})}},{key:"render",value:function(){var re,q,Oe,Ve=this,ze=this.scene.getSelectedElements(this.state),nt=this.props,rt=nt.renderTopRightUI,at=nt.renderCustomStats,gt=this.scene.getVersionNonce(),xt=this.renderer.getRenderableElements({versionNonce:gt,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),wt=xt.canvasElements,un=xt.visibleElements,Ft=!(this.state.editingElement&&(0,J.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,de.iB)(this.state.editingElement));return(0,s.jsx)("div",{className:(0,me.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,Y.Z)({},"--ui-pointerEvents",Ft?T.XI.disabled:T.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,s.jsx)(hc.Provider,{value:this,children:(0,s.jsx)(pc.Provider,{value:this.props,children:(0,s.jsx)(nm.Provider,{value:this.excalidrawContainerValue,children:(0,s.jsx)(gc.Provider,{value:this.device,children:(0,s.jsx)(im.Provider,{value:this.setAppState,children:(0,s.jsx)(om.Provider,{value:this.state,children:(0,s.jsxs)(rm.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,s.jsxs)(am.Provider,{value:this.actionManager,children:[(0,s.jsxs)(Kp,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,I.G3)().code,renderTopRightUI:rt,renderCustomStats:at,showExitZenModeBtn:((re=this.props)===null||re===void 0?void 0:re.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,s.jsx)(Mr,{})]}),(0,s.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,s.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,s.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,s.jsx)(na,{manager:this.laserPathManager}),ze.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,s.jsx)(ts.nW,{element:ze[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},ze[0].id),this.state.toast!==null&&(0,s.jsx)(Gp,{message:this.state.toast.message,onClose:function(){return Ve.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,s.jsx)(tt,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(kt){Ve.setState({contextMenu:null},function(){Ve.focusContainer(),kt==null||kt()})}}),(0,s.jsx)(Pn,{canvas:this.canvas,rc:this.rc,elements:wt,visibleElements:un,versionNonce:gt,selectionNonce:(q=this.state.selectionElement)===null||q===void 0?void 0:q.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,s.jsx)(bn,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:wt,visibleElements:un,selectedElements:ze,versionNonce:gt,selectionNonce:(Oe=this.state.selectionElement)===null||Oe===void 0?void 0:Oe.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(ae=(0,u.Z)(S().mark(function re(){var q,Oe=this;return S().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,T.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Oe.state}},setState:{configurable:!0,value:function(){return Oe.setState.apply(Oe,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,y.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),Cb&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){Oe.refreshEditorBreakpoints(),Oe.updateDOMRect()}),(q=this.resizeObserver)===null||q===void 0||q.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,T.jP)()&&!(0,mt.eB)()&&this.setState({errorMessage:(0,s.jsx)(tn,{})});case 11:case"end":return Ve.stop()}},re,this)})),function(){return ae.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var re;this.renderer.destroy(),this.scene=new X.Z,this.renderer=new er(this.scene),this.files={},this.imageCache.clear(),(re=this.resizeObserver)===null||re===void 0||re.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Aa.R.destroy(),co.destroy(),clearTimeout(_s),be.N.clearCache(),et.bO.clearCache(),_s=0}},{key:"removeEventListeners",value:function(){var re,q,Oe,Ve;document.removeEventListener(T.Ks.POINTER_UP,this.removePointer),document.removeEventListener(T.Ks.COPY,this.onCopy),document.removeEventListener(T.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(T.Ks.CUT,this.onCut),(re=this.excalidrawContainerRef.current)===null||re===void 0||re.removeEventListener(T.Ks.WHEEL,this.onWheel),(q=this.nearestScrollableContainer)===null||q===void 0||q.removeEventListener(T.Ks.SCROLL,this.onScroll),document.removeEventListener(T.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(T.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(T.Ks.KEYUP,this.onKeyUp),window.removeEventListener(T.Ks.RESIZE,this.onResize,!1),window.removeEventListener(T.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(T.Ks.BLUR,this.onBlur,!1),(Oe=this.excalidrawContainerRef.current)===null||Oe===void 0||Oe.removeEventListener(T.Ks.DRAG_OVER,this.disableEvent,!1),(Ve=this.excalidrawContainerRef.current)===null||Ve===void 0||Ve.removeEventListener(T.Ks.DROP,this.disableEvent,!1),document.removeEventListener(T.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(T.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(T.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(T.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var re,q,Oe,Ve,ze,nt=this;this.removeEventListeners(),window.addEventListener(T.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(T.Ks.POINTER_UP,this.removePointer),document.addEventListener(T.Ks.COPY,this.onCopy),(re=this.excalidrawContainerRef.current)===null||re===void 0||re.addEventListener(T.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(T.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(T.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(T.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(q=document.fonts)===null||q===void 0||(Oe=q.addEventListener)===null||Oe===void 0||Oe.call(q,"loadingdone",function(rt){var at=rt.fontfaces;nt.fonts.onFontsLoaded(at)}),document.addEventListener(T.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(T.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(T.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(T.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(T.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,y.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(T.Ks.SCROLL,this.onScroll)),window.addEventListener(T.Ks.RESIZE,this.onResize,!1),window.addEventListener(T.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(T.Ks.BLUR,this.onBlur,!1),(Ve=this.excalidrawContainerRef.current)===null||Ve===void 0||Ve.addEventListener(T.Ks.DRAG_OVER,this.disableEvent,!1),(ze=this.excalidrawContainerRef.current)===null||ze===void 0||ze.addEventListener(T.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(re,q){var Oe,Ve,ze,nt,rt=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),re.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(q.scrollX!==this.state.scrollX||q.scrollY!==this.state.scrollY)&&((ze=this.props)===null||ze===void 0||(nt=ze.onScrollChange)===null||nt===void 0||nt.call(ze,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,F.EN)(this.state)&&this.setState({activeTool:(0,y.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&q.theme!==this.state.theme&&(0,mr.OF)(this.interactiveCanvas,this.state.theme),q.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),re.langCode!==this.props.langCode&&this.updateLanguage(),re.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),q.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),re.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),re.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),re.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?T.k:null}),this.props.name&&re.name!==this.props.name&&this.setState({name:this.props.name}),(Oe=this.excalidrawContainerRef.current)===null||Oe===void 0||Oe.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){rt.state.editingLinearElement&&rt.actionManager.executeAction(N.pL)}),(Ve=this.state.editingElement)!==null&&Ve!==void 0&&Ve.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var at,gt,xt=q.multiElement;q.activeTool!==this.state.activeTool&&xt!=null&&(0,U.N1)(this.state)&&(0,J.Mn)(xt,!1)&&(0,U.R)(xt,this.state,this.scene,(0,y.AK)(_e._.getPointAtIndexGlobalCoordinates(xt,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((at=(gt=this.props).onChange)===null||at===void 0||at.call(gt,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(H=(0,u.Z)(S().mark(function re(q,Oe){var Ve,ze,nt,rt,at,gt,xt,wt,un,Ft,kt,Lt,$t,dn,rn;return S().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(Ve=Oe.isPlainPaste,ze=Oe.sceneX,nt=Oe.sceneY,Ve||!q.some(function(ln){return ln.type==="imageUrl"})||!this.isToolSupported("image")){Gt.next=35;break}return rt=q.filter(function(ln){return ln.type==="imageUrl"}).map(function(ln){return ln.value}),Gt.next=5,Promise.all(rt.map(function(){var ln=(0,u.Z)(S().mark(function Dn(Xn){return S().wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:return lr.prev=0,lr.next=3,(0,Wt._p)(Xn);case 3:return lr.t0=lr.sent,lr.abrupt("return",{file:lr.t0});case 7:return lr.prev=7,lr.t1=lr.catch(0),lr.abrupt("return",{errorMessage:lr.t1.message});case 10:case"end":return lr.stop()}},Dn,null,[[0,7]])}));return function(Dn){return ln.apply(this,arguments)}}()));case 5:at=Gt.sent,gt=nt,xt=!1,wt={},un=xa(at),Gt.prev=10,un.s();case 12:if((Ft=un.n()).done){Gt.next=22;break}if(!(kt=Ft.value).file){Gt.next=20;break}return Lt=this.createImageElement({sceneX:ze,sceneY:gt}),Gt.next=18,this.insertImageElement(Lt,kt.file);case 18:($t=Gt.sent)&&(xt||(xt=!0,gt-=$t.height/2),(0,C.DR)($t,{y:gt},!1),gt=Lt.y+Lt.height+25,wt[Lt.id]=!0);case 20:Gt.next=12;break;case 22:Gt.next=27;break;case 24:Gt.prev=24,Gt.t0=Gt.catch(10),un.e(Gt.t0);case 27:return Gt.prev=27,un.f(),Gt.finish(27);case 30:this.setState({selectedElementIds:(0,Br.Oh)(wt,this.state)}),dn=at.find(function(ln){return!!ln.errorMessage}),dn&&dn.errorMessage&&this.setState({errorMessage:dn.errorMessage}),Gt.next=37;break;case 35:(rn=q.filter(function(ln){return ln.type==="text"})).length&&this.addTextFromPaste(rn.map(function(ln){return ln.value}).join(`

`),Ve);case 37:case"end":return Gt.stop()}},re,this,[[10,24,27,30]])})),function(re,q){return H.apply(this,arguments)})},{key:"addTextFromPaste",value:function(re){var q=this,Oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ve=(0,y.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),ze=Ve.x,nt=Ve.y,rt={x:ze,y:nt,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:re,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:T.hs,locked:!1},at=10,gt=nt,xt=Oe?[re]:re.split(`
`),wt=xt.reduce(function(Ft,kt,Lt){var $t=kt.trim(),dn=(0,mt.PT)(rt.fontFamily);if($t.length){var rn=q.getTopLayerFrameAtSceneCoords({x:ze,y:gt}),Gt=(0,de.VL)(Jt(Jt({},rt),{},{x:ze,y:gt,text:$t,lineHeight:dn,frameId:rn?rn.id:null}));Ft.push(Gt),gt+=Gt.height+at}else{var ln;!((ln=xt[Lt-1])===null||ln===void 0)&&ln.trim()&&(gt+=(0,mt.Rg)(rt.fontSize,dn)+at)}return Ft},[]);if(wt.length!==0){var un=wt[0].frameId;un?this.scene.insertElementsAtIndex(wt,this.scene.getElementIndex(un)):this.scene.replaceAllElements([].concat((0,f.Z)(this.scene.getElementsIncludingDeleted()),(0,f.Z)(wt))),this.setState({selectedElementIds:(0,Br.Oh)(Object.fromEntries(wt.map(function(Ft){return[Ft.id,!0]})),this.state)}),!Oe&&wt.length>1&&Ob===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,I.t)("toast.pasteAsSingleElement",{shortcut:(0,y.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Ob=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(re,q){var Oe=this,Ve=q.isExistingElement,ze=Ve!==void 0&&Ve,nt=function(rt,at,gt){Oe.scene.replaceAllElements((0,f.Z)(Oe.scene.getElementsIncludingDeleted().map(function(xt){return xt.id===re.id&&(0,de.iB)(xt)?(0,de.N_)(xt,{text:rt,isDeleted:gt,originalText:at}):xt})))};(0,de.b_)({id:re.id,canvas:this.canvas,getViewportCoords:function(rt,at){var gt=(0,y._i)({sceneX:rt,sceneY:at},Oe.state),xt=gt.x,wt=gt.y;return[xt-Oe.state.offsetLeft,wt-Oe.state.offsetTop]},onChange:(0,y.tH)(function(rt){nt(rt,rt,!1),(0,de.qP)(re)&&(0,U.Ww)(re)}),onSubmit:(0,y.tH)(function(rt){var at=rt.text,gt=rt.viaKeyboard,xt=rt.originalText,wt=!at.trim();if(nt(at,xt,wt),!wt&&gt){var un=re.containerId?re.containerId:re.id;Oe.setState(function(Ft){return{selectedElementIds:(0,Br.Oh)(Jt(Jt({},Ft.selectedElementIds),{},(0,Y.Z)({},un,!0)),Ft)}})}wt&&(0,U.$q)(Oe.scene.getNonDeletedElements(),[re]),wt&&!ze||Oe.history.resumeRecording(),Oe.setState({draggingElement:null,editingElement:null}),Oe.state.activeTool.locked&&(0,mr.Uk)(Oe.interactiveCanvas,Oe.state),Oe.focusContainer()}),element:re,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),nt(re.text,re.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,Br.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(re,q){var Oe=this.getElementAtPosition(re,q,{includeBoundTextElement:!0});return Oe&&(0,de.iB)(Oe)&&!Oe.isDeleted?Oe:null}},{key:"getElementAtPosition",value:function(re,q,Oe){var Ve=this.getElementsAtPosition(re,q,Oe==null?void 0:Oe.includeBoundTextElement,Oe==null?void 0:Oe.includeLockedElements);if(Ve.length>1){if(Oe!=null&&Oe.preferSelected){for(var ze=Ve.length-1;ze>-1;ze--)if(this.state.selectedElementIds[Ve[ze].id])return Ve[ze]}var nt=Ve[Ve.length-1];return(0,de.wB)(nt,this.state,this.frameNameBoundsCache,re,q)?Ve[Ve.length-2]:nt}return Ve.length===1?Ve[0]:null}},{key:"getElementsAtPosition",value:function(re,q){var Oe=this,Ve=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ze=arguments.length>3&&arguments[3]!==void 0&&arguments[3],nt=Ve&&ze?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(rt){return(ze||!rt.locked)&&(Ve||!((0,de.iB)(rt)&&rt.containerId))});return(0,be.CJ)(nt,function(rt){return(0,de.wX)(rt,Oe.state,Oe.frameNameBoundsCache,re,q)}).filter(function(rt){var at=(0,io.$Z)(rt);return!(at&&Oe.state.frameRendering.enabled&&Oe.state.frameRendering.clip)||(0,io.Dn)({x:re,y:q},at)})}},{key:"handleHoverSelectedLinearElement",value:function(re,q,Oe){var Ve=_e._.getElement(re.elementId),ze=(0,mt.WJ)(Ve);if(Ve)if(this.state.selectedLinearElement){var nt=-1,rt=null;(0,jf.Qu)(Ve,this.state,this.frameNameBoundsCache,[q,Oe])?(nt=_e._.getPointIndexUnderCursor(Ve,this.state.zoom,q,Oe),rt=_e._.getSegmentMidpointHitCoords(re,{x:q,y:Oe},this.state),nt>=0||rt?(0,mr.KJ)(this.interactiveCanvas,T.oc.POINTER):(0,mr.KJ)(this.interactiveCanvas,T.oc.MOVE)):((0,Xp.oY)([Ve],this.state)&&(0,de.wB)(Ve,this.state,this.frameNameBoundsCache,q,Oe)||ze&&(0,de.wX)(ze,this.state,this.frameNameBoundsCache,q,Oe))&&(0,mr.KJ)(this.interactiveCanvas,T.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==nt&&this.setState({selectedLinearElement:Jt(Jt({},this.state.selectedLinearElement),{},{hoverPointIndex:nt})}),_e._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,rt)||this.setState({selectedLinearElement:Jt(Jt({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:rt})})}else(0,mr.KJ)(this.interactiveCanvas,T.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(re){Cs!==null&&Cs(re)}},{key:"updateGestureOnPointerDown",value:function(re){Fr.pointers.set(re.pointerId,{x:re.clientX,y:re.clientY}),Fr.pointers.size===2&&(Fr.lastCenter=xe(Fr.pointers),Fr.initialScale=this.state.zoom.value,Fr.initialDistance=je(Array.from(Fr.pointers.values())))}},{key:"initialPointerDownState",value:function(re){var q=(0,y.dE)(re,this.state),Oe=this.scene.getSelectedElements(this.state),Ve=(0,de.KP)(Oe),ze=(0,p.Z)(Ve,4),nt=ze[0],rt=ze[1],at=ze[2],gt=ze[3];return{origin:q,withCmdOrCtrl:re[A.tW.CTRL_OR_CMD],originInGrid:(0,y.AK)((0,ye.wC)(q.x,q.y,re[A.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,be._4)(fm,re.clientX-this.state.offsetLeft,re.clientY-this.state.offsetTop),lastCoords:Jt({},q),originalElements:this.scene.getNonDeletedElements().reduce(function(xt,wt){return xt.set(wt.id,(0,we.OL)(wt)),xt},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(at+nt)/2,y:(gt+rt)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(q,Oe)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(re,q){var Oe=this;if(!q.scrollbars.isOverEither||this.state.multiElement)return!1;dm=!0,q.lastCoords.x=re.clientX,q.lastCoords.y=re.clientY;var Ve=(0,y.$9)(function(nt){nt.target instanceof HTMLElement&&Oe.handlePointerMoveOverScrollbars(nt,q)}),ze=(0,y.tH)(function(){dm=!1,(0,mr.Uk)(Oe.interactiveCanvas,Oe.state),Cs=null,Oe.setState({cursorButton:"up"}),Oe.savePointer(re.clientX,re.clientY,"up"),window.removeEventListener(T.Ks.POINTER_MOVE,Ve),window.removeEventListener(T.Ks.POINTER_UP,ze),Ve.flush()});return Cs=ze,window.addEventListener(T.Ks.POINTER_MOVE,Ve),window.addEventListener(T.Ks.POINTER_UP,ze),!0}},{key:"isASelectedElement",value:function(re){return re!=null&&this.state.selectedElementIds[re.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(re,q){if(q.length<2)return!1;var Oe=10/this.state.zoom.value,Ve=(0,de.KP)(q),ze=(0,p.Z)(Ve,4),nt=ze[0],rt=ze[1],at=ze[2],gt=ze[3];return re.x>nt-Oe&&re.x<at+Oe&&re.y>rt-Oe&&re.y<gt+Oe}},{key:"getCurrentItemRoundness",value:function(re){return this.state.currentItemRoundness==="round"?{type:(0,J.QI)(re)?T.a6.ADAPTIVE_RADIUS:T.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(re,q){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!va({event:re,appState:this.state,selectedElements:q})||!Oe&&co.getReferenceSnapPoints()||co.setReferenceSnapPoints(Ye(this.scene.getNonDeletedElements(),q,this.state))}},{key:"maybeCacheVisibleGaps",value:function(re,q){var Oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!va({event:re,appState:this.state,selectedElements:q})||!Oe&&co.getVisibleGaps()||co.setVisibleGaps(em(this.scene.getNonDeletedElements(),q,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(re){var q=this;return(0,y.tH)(function(Oe){q.maybeHandleResize(re,Oe)||q.maybeDragNewGenericElement(re,Oe)})}},{key:"onKeyUpFromPointerDownHandler",value:function(re){var q=this;return(0,y.tH)(function(Oe){Oe.key===A.tW.ALT&&Oe.preventDefault(),q.maybeHandleResize(re,Oe)||q.maybeDragNewGenericElement(re,Oe)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(re){var q=this;return(0,y.$9)(function(Oe){var Ve;if(re.drag.offset===null&&(re.drag.offset=(0,y.AK)((0,de.$V)(q.scene.getSelectedElements(q.state),re.origin.x,re.origin.y))),Oe.target instanceof HTMLElement&&!q.handlePointerMoveOverScrollbars(Oe,re)){var ze=(0,y.dE)(Oe,q.state);if((0,F.EN)(q.state))q.handleEraser(Oe,re,ze);else{q.state.activeTool.type==="laser"&&q.laserPathManager.addPointToPath(ze.x,ze.y);var nt=(0,ye.wC)(ze.x,ze.y,Oe[A.tW.CTRL_OR_CMD]?null:q.state.gridSize),rt=(0,p.Z)(nt,2),at=rt[0],gt=rt[1];if(re.drag.hasOccurred||q.state.activeTool.type!=="arrow"&&q.state.activeTool.type!=="line"||!((0,ye.LW)(ze.x,ze.y,re.origin.x,re.origin.y)<T.f)){if(re.resize.isResizing&&(re.lastCoords.x=ze.x,re.lastCoords.y=ze.y,q.maybeHandleResize(re,Oe)))return!0;if(q.state.selectedLinearElement){var xt=q.state.editingLinearElement||q.state.selectedLinearElement;if(_e._.shouldAddMidpoint(q.state.selectedLinearElement,ze,q.state)){var wt=_e._.addMidpoint(q.state.selectedLinearElement,ze,q.state,!Oe[A.tW.CTRL_OR_CMD]);return wt?void(0,ge.flushSync)(function(){q.state.selectedLinearElement&&q.setState({selectedLinearElement:Jt(Jt({},q.state.selectedLinearElement),{},{pointerDownState:wt.pointerDownState,selectedPointsIndices:wt.selectedPointsIndices})}),q.state.editingLinearElement&&q.setState({editingLinearElement:Jt(Jt({},q.state.editingLinearElement),{},{pointerDownState:wt.pointerDownState,selectedPointsIndices:wt.selectedPointsIndices})})}):void 0}if(xt.pointerDownState.segmentMidpoint.value!==null&&!xt.pointerDownState.segmentMidpoint.added)return;var un=_e._.handlePointDragging(Oe,q.state,ze.x,ze.y,function(Ar,ei){q.maybeSuggestBindingsForLinearElementAtCoords(Ar,ei)},xt);if(un)return re.lastCoords.x=ze.x,re.lastCoords.y=ze.y,re.drag.hasOccurred=!0,q.state.editingLinearElement&&!q.state.editingLinearElement.isDragging&&q.setState({editingLinearElement:Jt(Jt({},q.state.editingLinearElement),{},{isDragging:!0})}),void(q.state.selectedLinearElement.isDragging||q.setState({selectedLinearElement:Jt(Jt({},q.state.selectedLinearElement),{},{isDragging:!0})}))}var Ft=re.hit.allHitElements.some(function(Ar){return q.isASelectedElement(Ar)}),kt=q.state.editingLinearElement&&Oe.shiftKey&&q.state.editingLinearElement.elementId===((Ve=re.hit.element)===null||Ve===void 0?void 0:Ve.id);if((Ft||re.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!kt){var Lt,$t=q.scene.getSelectedElements(q.state);if($t.every(function(Ar){return Ar.locked}))return;var dn=$t.find(function(Ar){return(0,J.He)(Ar)}),rn=q.getTopLayerFrameAtSceneCoords(ze);if(q.setState({frameToHighlight:rn&&!dn?rn:null}),re.drag.hasOccurred=!0,q.setState({selectedElementsAreBeingDragged:!0}),$t.length>0&&!re.withCmdOrCtrl&&!q.state.editingElement&&((Lt=q.state.activeEmbeddable)===null||Lt===void 0?void 0:Lt.state)!=="active"){var Gt={x:ze.x-re.origin.x,y:ze.y-re.origin.y},ln=(0,f.Z)(re.originalElements.values()),Dn=Oe.shiftKey;if(Dn){var Xn=Math.abs(Gt.x),lr=Math.abs(Gt.y),hr=Dn&&Xn>lr;Dn&&Xn<lr&&(Gt.x=0),hr&&(Gt.y=0)}q.maybeCacheVisibleGaps(Oe,$t),q.maybeCacheReferenceSnapPoints(Oe,$t);var _r=function(Ar,ei,Hi,vl){var ym,bm,xm,wm;if(!va({appState:Hi,event:vl,selectedElements:Ar})||Ar.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};ei.x=Qe(ei.x),ei.y=Qe(ei.y);var Ts=[],Os=[],Pb=ga(Hi.zoom.value),vc={x:Pb,y:Pb},UE=ml(Ar,{dragOffset:ei});Xe(Ar,UE,Hi,vl,Ts,Os,vc),Ce(Ar,ei,Hi,vl,Ts,Os,vc);var km={x:(ym=(bm=Ts[0])===null||bm===void 0?void 0:bm.offset)!==null&&ym!==void 0?ym:0,y:(xm=(wm=Os[0])===null||wm===void 0?void 0:wm.offset)!==null&&xm!==void 0?xm:0};vc.x=0,vc.y=0,Ts.length=0,Os.length=0;var Sm={x:Qe(ei.x+km.x),y:Qe(ei.y+km.y)};Xe(Ar,ml(Ar,{dragOffset:Sm}),Hi,vl,Ts,Os,vc),Ce(Ar,Sm,Hi,vl,Ts,Os,vc);var VE=ft(Ts,Os),WE=vt(Ar,Sm,[].concat(Ts,Os).filter(function(HE){return HE.type==="gap"}));return{snapOffset:km,snapLines:[].concat(VE,WE)}}((0,be.eD)(ln,q.state),Gt,q.state,Oe),kr=_r.snapOffset,qn=_r.snapLines;if(q.setState({snapLines:qn}),!q.state.editingFrame&&(0,de.o8)(re,$t,Gt,q.state,q.scene,kr,Oe[A.tW.CTRL_OR_CMD]?null:q.state.gridSize),q.maybeSuggestBindingForAll($t),Oe.altKey&&!re.hit.hasBeenDuplicated){re.hit.hasBeenDuplicated=!0;var Pr,cr=[],Sr=[],$r=new Map,Xr=new Map,Ur=re.hit.element,yo=new Set(q.scene.getSelectedElements({selectedElementIds:q.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(Ar){return Ar.id})),yr=xa(q.scene.getElementsIncludingDeleted());try{for(yr.s();!(Pr=yr.n()).done;){var Ir=Pr.value;if(yo.has(Ir.id)||Ir.id===(Ur==null?void 0:Ur.id)&&re.hit.wasAddedToSelection){var Vo=(0,de.Sy)(q.state.editingGroupId,$r,Ir),uo=re.originalElements.get(Ir.id);(0,C.DR)(Vo,{x:uo.x,y:uo.y}),re.originalElements.set(Vo.id,Vo),cr.push(Vo),Sr.push(Ir),Xr.set(Ir.id,Vo.id)}else cr.push(Ir)}}catch(Ar){yr.e(Ar)}finally{yr.f()}var Wo=[].concat(cr,Sr);(0,mt.P7)(cr,Sr,Xr),(0,U.ek)(Wo,Sr,Xr,"duplicatesServeAsOld"),(0,io.xr)(Wo,Sr,Xr),q.scene.replaceAllElements(Wo),q.maybeCacheVisibleGaps(Oe,$t,!0),q.maybeCacheReferenceSnapPoints(Oe,$t,!0)}return}}var Kr=q.state.draggingElement;if(Kr){if(Kr.type==="freedraw"){var Ao=Kr.points,bo=ze.x-Kr.x,Zr=ze.y-Kr.y,os=Ao.length>0&&Ao[Ao.length-1];if(!(os&&os[0]===bo&&os[1]===Zr)){var oa=Kr.simulatePressure?Kr.pressures:[].concat((0,f.Z)(Kr.pressures),[Oe.pressure]);(0,C.DR)(Kr,{points:[].concat((0,f.Z)(Ao),[[bo,Zr]]),pressures:oa})}}else if((0,J.bt)(Kr)){re.drag.hasOccurred=!0,q.setState({selectedElementsAreBeingDragged:!0});var or=Kr.points,qr=at-Kr.x,xo=gt-Kr.y;if((0,A.Ge)(Oe)&&or.length===2){var Jo=(0,de.o4)(Kr.x,Kr.y,ze.x,ze.y);qr=Jo.width,xo=Jo.height}or.length===1?(0,C.DR)(Kr,{points:[].concat((0,f.Z)(or),[[qr,xo]])}):or.length===2&&(0,C.DR)(Kr,{points:[].concat((0,f.Z)(or.slice(0,-1)),[[qr,xo]])}),(0,J.Mn)(Kr,!1)&&q.maybeSuggestBindingsForLinearElementAtCoords(Kr,[ze],q.state.startBoundElement)}else re.lastCoords.x=ze.x,re.lastCoords.y=ze.y,q.maybeDragNewGenericElement(re,Oe);if(q.state.activeTool.type==="selection"){re.boxSelection.hasOccurred=!0;var Qo=q.scene.getNonDeletedElements();if(q.state.editingLinearElement)_e._.handleBoxSelection(Oe,q.state,q.setState.bind(q));else{var ai=!0;!Oe.shiftKey&&(0,be.N)(Qo,q.state)&&(re.withCmdOrCtrl&&re.hit.element?q.setState(function(Ar){return(0,et.bO)(Jt(Jt({},Ar),{},{selectedElementIds:(0,Y.Z)({},re.hit.element.id,!0)}),q.scene.getNonDeletedElements(),Ar,q)}):ai=!1);var bi=(0,be.Yp)(Qo,Kr);q.setState(function(Ar){var ei=Jt(Jt({},ai&&Ar.selectedElementIds),bi.reduce(function(Hi,vl){return Hi[vl.id]=!0,Hi},{}));return re.hit.element&&(bi.length?delete ei[re.hit.element.id]:ei[re.hit.element.id]=!0),Ar=ai?Ar:Jt(Jt({},Ar),{},{selectedGroupIds:{},editingGroupId:null}),Jt(Jt({},(0,et.bO)({editingGroupId:Ar.editingGroupId,selectedElementIds:ei},q.scene.getNonDeletedElements(),Ar,q)),{},{selectedLinearElement:bi.length===1&&(0,J.bt)(bi[0])?new _e._(bi[0],q.scene):null,showHyperlinkPopup:!(bi.length!==1||!bi[0].link&&!(0,J.gs)(bi[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(re,q){if(q.scrollbars.isOverHorizontal){var Oe=re.clientX,Ve=Oe-q.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-Ve/this.state.zoom.value}),q.lastCoords.x=Oe,!0}if(q.scrollbars.isOverVertical){var ze=re.clientY,nt=ze-q.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-nt/this.state.zoom.value}),q.lastCoords.y=ze,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(re){var q=this;return(0,y.tH)(function(Oe){var Ve;re.eventListeners.onMove&&re.eventListeners.onMove.flush();var ze,nt,rt=q.state,at=rt.draggingElement,gt=rt.resizingElement,xt=rt.multiElement,wt=rt.activeTool,un=rt.isResizing,Ft=rt.isRotating;if(q.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:xt||(0,de.iB)(q.state.editingElement)?q.state.editingElement:null,snapLines:[],originSnapOffset:null}),co.setReferenceSnapPoints(null),co.setVisibleGaps(null),q.savePointer(Oe.clientX,Oe.clientY,"up"),q.setState({selectedElementsAreBeingDragged:!1}),q.state.editingLinearElement)if(re.boxSelection.hasOccurred||((ze=re.hit)===null||ze===void 0||(nt=ze.element)===null||nt===void 0?void 0:nt.id)===q.state.editingLinearElement.elementId){var kt=_e._.handlePointerUp(Oe,q.state.editingLinearElement,q.state);kt!==q.state.editingLinearElement&&q.setState({editingLinearElement:kt,suggestedBindings:[]})}else q.actionManager.executeAction(N.pL);else if(q.state.selectedLinearElement){var Lt,$t;if(((Lt=re.hit)===null||Lt===void 0||($t=Lt.element)===null||$t===void 0?void 0:$t.id)!==q.state.selectedLinearElement.elementId)q.scene.getSelectedElements(q.state).length>1&&q.setState({selectedLinearElement:null});else{var dn=_e._.handlePointerUp(Oe,q.state.selectedLinearElement,q.state),rn=dn.startBindingElement,Gt=dn.endBindingElement,ln=q.scene.getElement(dn.elementId);(0,J.Mn)(ln)&&(0,U.HG)(ln,rn,Gt),dn!==q.state.selectedLinearElement&&q.setState({selectedLinearElement:Jt(Jt({},dn),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Cs=null,window.removeEventListener(T.Ks.POINTER_MOVE,re.eventListeners.onMove),window.removeEventListener(T.Ks.POINTER_UP,re.eventListeners.onUp),window.removeEventListener(T.Ks.KEYDOWN,re.eventListeners.onKeyDown),window.removeEventListener(T.Ks.KEYUP,re.eventListeners.onKeyUp),q.state.pendingImageElementId&&q.setState({pendingImageElementId:null}),q.onPointerUpEmitter.trigger(q.state.activeTool,re,Oe),(at==null?void 0:at.type)==="freedraw"){var Dn=(0,y.dE)(Oe,q.state),Xn=at.points,lr=Dn.x-at.x,hr=Dn.y-at.y;lr===Xn[0][0]&&hr===Xn[0][1]&&(hr+=1e-4,lr+=1e-4);var _r=at.simulatePressure?[]:[].concat((0,f.Z)(at.pressures),[Oe.pressure]);return(0,C.DR)(at,{points:[].concat((0,f.Z)(Xn),[[lr,hr]]),pressures:_r,lastCommittedPoint:[lr,hr]}),void q.actionManager.executeAction(N.pL)}if((0,J.pC)(at)){var kr=at;try{q.initializeImageDimensions(kr),q.setState({selectedElementIds:(0,Br.Oh)((0,Y.Z)({},kr.id,!0),q.state)},function(){q.actionManager.executeAction(N.pL)})}catch(or){console.error(or),q.scene.replaceAllElements(q.scene.getElementsIncludingDeleted().filter(function(qr){return qr.id!==kr.id})),q.actionManager.executeAction(N.pL)}}else if((0,J.bt)(at)){at.points.length>1&&q.history.resumeRecording();var qn=(0,y.dE)(Oe,q.state);re.drag.hasOccurred||!at||xt?re.drag.hasOccurred&&!xt&&((0,U.N1)(q.state)&&(0,J.Mn)(at,!1)&&(0,U.R)(at,q.state,q.scene,qn),q.setState({suggestedBindings:[],startBoundElement:null}),wt.locked?q.setState(function(or){return{draggingElement:null}}):((0,mr.z8)(q.interactiveCanvas),q.setState(function(or){return{draggingElement:null,activeTool:(0,y.Om)(q.state,{type:"selection"}),selectedElementIds:(0,Br.Oh)(Jt(Jt({},or.selectedElementIds),{},(0,Y.Z)({},at.id,!0)),or),selectedLinearElement:new _e._(at,q.scene)}}))):((0,C.DR)(at,{points:[].concat((0,f.Z)(at.points),[[qn.x-at.x,qn.y-at.y]])}),q.setState({multiElement:at,editingElement:q.state.draggingElement}))}else{if(wt.type!=="selection"&&at&&(0,de.QD)(at))return q.scene.replaceAllElements(q.scene.getElementsIncludingDeleted().filter(function(or){return or.id!==at.id})),void q.setState({draggingElement:null});if(at){if(re.drag.hasOccurred){var Pr=(0,y.dE)(Oe,q.state);if(q.state.selectedLinearElement&&q.state.selectedLinearElement.isDragging){var cr=q.scene.getElement(q.state.selectedLinearElement.elementId);if(cr!=null&&cr.frameId){var Sr=(0,io.$Z)(cr);Sr&&cr&&((0,io.cO)(cr,Sr)||((0,C.DR)(cr,{groupIds:[]}),q.scene.replaceAllElements((0,io.lz)(q.scene.getElementsIncludingDeleted(),[cr],q.state))))}}else{var $r=q.getTopLayerFrameAtSceneCoords(Pr),Xr=q.scene.getSelectedElements(q.state),Ur=q.scene.getElementsIncludingDeleted(),yo=function(or){if(or.length>0){var qr,xo=xa(or);try{for(xo.s();!(qr=xo.n()).done;){var Jo=qr.value,Qo=Jo.groupIds.indexOf(q.state.editingGroupId);(0,C.DR)(Jo,{groupIds:Jo.groupIds.slice(0,Qo)},!1)}}catch(ai){xo.e(ai)}finally{xo.f()}Ur.forEach(function(ai){ai.groupIds.length&&(0,et.Fb)(Ur,ai.groupIds[ai.groupIds.length-1]).length<2&&(0,C.DR)(ai,{groupIds:[]},!1)}),q.setState({editingGroupId:null})}};if($r&&!q.state.selectedElementIds[$r.id]){var yr=Xr.filter(function(or){return or.frameId!==$r.id&&(0,io.Qs)(or,Ur,q.state)});q.state.editingGroupId&&yo(yr),Ur=(0,io.A_)(Ur,yr,$r)}else if(!$r&&q.state.editingGroupId){var Ir=Xr.filter(function(or){return or.frameId&&!(0,io.Qs)(or,Ur,q.state)});yo(Ir)}Ur=(0,io.Tq)(Ur,q.state,q),q.scene.replaceAllElements(Ur)}}if(at.type==="frame"){var Vo=(0,io.fj)(q.scene.getElementsIncludingDeleted(),at);q.scene.replaceAllElements((0,io.A_)(q.scene.getElementsIncludingDeleted(),Vo,at))}(0,C.DR)(at,(0,de.Qp)(at))}if(gt&&q.history.resumeRecording(),gt&&(0,de.QD)(gt)&&q.scene.replaceAllElements(q.scene.getElementsIncludingDeleted().filter(function(or){return or.id!==gt.id})),re.resize.isResizing){var uo,Wo=(0,io.Tq)(q.scene.getElementsIncludingDeleted(),q.state,q),Kr=q.scene.getSelectedElements(q.state).filter(function(or){return or.type==="frame"}),Ao=xa(Kr);try{for(Ao.s();!(uo=Ao.n()).done;){var bo=uo.value;Wo=(0,io.pr)(Wo,(0,io.ni)(q.scene.getElementsIncludingDeleted(),bo,q.state),bo,q.state)}}catch(or){Ao.e(or)}finally{Ao.f()}q.scene.replaceAllElements(Wo)}var Zr=re.hit.element;if(((Ve=q.state.selectedLinearElement)===null||Ve===void 0?void 0:Ve.elementId)!==(Zr==null?void 0:Zr.id)&&(0,J.bt)(Zr)&&q.scene.getSelectedElements(q.state).length===1&&q.setState({selectedLinearElement:new _e._(Zr,q.scene)}),(0,F.EN)(q.state)){if((0,ye.LW)(q.lastPointerDownEvent.clientX,q.lastPointerDownEvent.clientY,q.lastPointerUpEvent.clientX,q.lastPointerUpEvent.clientY)===0){var os=(0,y.dE)({clientX:q.lastPointerUpEvent.clientX,clientY:q.lastPointerUpEvent.clientY},q.state);q.getElementsAtPosition(os.x,os.y).forEach(function(or){return re.elementIdsToErase[or.id]={erase:!0,opacity:or.opacity}})}q.eraseElements(re)}else{var oa;Object.keys(re.elementIdsToErase).length&&q.restoreReadyToEraseElements(re),Zr&&!re.drag.hasOccurred&&!re.hit.wasAddedToSelection&&(!q.state.editingLinearElement||!re.boxSelection.hasOccurred)&&(Oe.shiftKey&&!q.state.editingLinearElement?q.state.selectedElementIds[Zr.id]?(0,et.zq)(q.state,Zr)?q.setState(function(or){var qr,xo=Jt({},or.selectedElementIds),Jo=xa(Zr.groupIds.flatMap(function(Qo){return(0,et.Fb)(q.scene.getNonDeletedElements(),Qo)}));try{for(Jo.s();!(qr=Jo.n()).done;)delete xo[qr.value.id]}catch(Qo){Jo.e(Qo)}finally{Jo.f()}return{selectedGroupIds:Jt(Jt({},or.selectedElementIds),Zr.groupIds.map(function(Qo){return(0,Y.Z)({},Qo,!1)}).reduce(function(Qo,ai){return Jt(Jt({},Qo),ai)},{})),selectedElementIds:(0,Br.Oh)(xo,or)}}):(oa=q.state.selectedLinearElement)!==null&&oa!==void 0&&oa.isDragging||q.setState(function(or){var qr=Jt({},or.selectedElementIds);delete qr[Zr.id];var xo=(0,be.eD)(q.scene.getNonDeletedElements(),{selectedElementIds:qr});return Jt(Jt({},(0,et.bO)({editingGroupId:or.editingGroupId,selectedElementIds:qr},q.scene.getNonDeletedElements(),or,q)),{},{selectedLinearElement:xo.length===1&&(0,J.bt)(xo[0])?new _e._(xo[0],q.scene):or.selectedLinearElement})}):Zr.frameId&&q.state.selectedElementIds[Zr.frameId]?q.setState(function(or){var qr,xo,Jo=Jt(Jt({},or.selectedElementIds),{},(0,Y.Z)({},Zr.id,!0));return delete Jo[Zr.frameId],((qr=(xo=q.scene.getElement(Zr.frameId))===null||xo===void 0?void 0:xo.groupIds)!==null&&qr!==void 0?qr:[]).flatMap(function(Qo){return(0,et.Fb)(q.scene.getNonDeletedElements(),Qo)}).forEach(function(Qo){delete Jo[Qo.id]}),Jt(Jt({},(0,et.bO)({editingGroupId:or.editingGroupId,selectedElementIds:Jo},q.scene.getNonDeletedElements(),or,q)),{},{showHyperlinkPopup:!(!Zr.link&&!(0,J.gs)(Zr))&&"info"})}):q.setState(function(or){return{selectedElementIds:(0,Br.Oh)(Jt(Jt({},or.selectedElementIds),{},(0,Y.Z)({},Zr.id,!0)),or)}}):q.setState(function(or){var qr;return Jt(Jt({},(0,et.bO)({editingGroupId:or.editingGroupId,selectedElementIds:(0,Y.Z)({},Zr.id,!0)},q.scene.getNonDeletedElements(),or,q)),{},{selectedLinearElement:(0,J.bt)(Zr)&&((qr=or.selectedLinearElement)===null||qr===void 0?void 0:qr.elementId)!==Zr.id?new _e._(Zr,q.scene):or.selectedLinearElement})})),re.drag.hasOccurred||q.state.isResizing||!(Zr&&(0,de.wB)(Zr,q.state,q.frameNameBoundsCache,re.origin.x,re.origin.y)||!Zr&&re.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!wt.locked&&wt.type!=="freedraw"&&at&&at.type!=="selection"&&q.setState(function(or){return{selectedElementIds:(0,Br.Oh)(Jt(Jt({},or.selectedElementIds),{},(0,Y.Z)({},at.id,!0)),or),showHyperlinkPopup:(0,J.gs)(at)&&!at.link?"editor":or.showHyperlinkPopup}}),(wt.type!=="selection"||(0,be.N)(q.scene.getNonDeletedElements(),q.state))&&q.history.resumeRecording(),(re.drag.hasOccurred||un||Ft)&&((0,U.N1)(q.state)?U.el:U.H)(q.scene.getSelectedElements(q.state)),wt.type!=="laser"?(wt.locked||wt.type==="freedraw"?q.setState({draggingElement:null,suggestedBindings:[]}):((0,mr.z8)(q.interactiveCanvas),q.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,y.Om)(q.state,{type:"selection"})})),Zr&&q.lastPointerUpEvent&&q.lastPointerDownEvent&&q.lastPointerUpEvent.timeStamp-q.lastPointerDownEvent.timeStamp<300&&Fr.pointers.size<=1&&(0,J.gs)(Zr)&&q.isEmbeddableCenter(Zr,q.lastPointerUpEvent,re.origin.x,re.origin.y)&&q.handleEmbeddableCenterClick(Zr)):q.laserPathManager.endPath()):q.state.editingLinearElement?q.setState({editingLinearElement:null}):q.setState({selectedElementIds:(0,Br.Oh)({},q.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(re){if(!(re.length>50)){var q=(0,U.ZB)(re);this.setState({suggestedBindings:q})}}},{key:"clearSelection",value:function(re){this.setState(function(q){return{selectedElementIds:(0,Br.Oh)({},q),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:q.editingGroupId&&re!=null&&(0,et.Nd)(re,q.editingGroupId)?q.editingGroupId:null}}),this.setState({selectedElementIds:(0,Br.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(re,q,Oe,Ve){if(Ve){var ze=Ve.x+Ve.width/2,nt=Ve.y+Ve.height/2,rt=(0,mt.TP)(Ve,Oe);if(rt&&(ze=rt.x,nt=rt.y),Math.hypot(re-ze,q-nt)<T.wZ){var at=(0,y._i)({sceneX:ze,sceneY:nt},Oe);return{viewportX:at.x,viewportY:at.y,elementCenterX:ze,elementCenterY:nt}}}}},{key:"getCanvasOffsets",value:function(){var re;if((re=this.excalidrawContainerRef)!==null&&re!==void 0&&re.current){var q=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:q.left,offsetTop:q.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(P=(0,u.Z)(S().mark(function re(){var q,Oe=this;return S().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return q=I.Mj.find(function(ze){return ze.code===Oe.props.langCode})||I.Fp,Ve.next=3,(0,I.m0)(q);case 3:this.setAppState({});case 4:case"end":return Ve.stop()}},re,this)})),function(){return P.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Cu=!1}}]),Ae}(he().Component);mm.defaultProps={UIOptions:T.cW};var ZE=function(){var l=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=mc,this.excalidrawContainerRef=he().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new Wf(this),this.onChangeEmitter=new Uo,this.onPointerDownEmitter=new Uo,this.onPointerUpEmitter=new Uo,this.updateEmbeddables=function(){var P=new Map,H=!1;l.scene.getNonDeletedElements().filter(function(ae){if((0,J.gs)(ae)&&(P.set(ae.id,!0),ae.validated==null)){H=!0;var Ee=(0,_.xm)(ae.link,l.props.validateEmbeddable);(0,C.DR)(ae,{validated:Ee},!1),Aa.R.delete(ae)}return!1}),H&&l.scene.informMutation(),l.iFrameRefs.forEach(function(ae,Ee){P.has(Ee)||l.iFrameRefs.delete(Ee)})},this.getFrameNameDOMId=function(P){return"".concat(l.id,"-frame-name-").concat(P.id)},this.frameNameBoundsCache={get:function(P){var H=l.frameNameBoundsCache._cache.get(P.id);if(!H||H.zoom!==l.state.zoom.value||H.versionNonce!==P.versionNonce){var ae=document.getElementById(l.getFrameNameDOMId(P));if(ae){var Ee=ae.getBoundingClientRect(),Ae=(0,y.dE)({clientX:Ee.x,clientY:Ee.y},l.state),re=(0,y.dE)({clientX:Ee.right,clientY:Ee.bottom},l.state);return H={x:Ae.x,y:Ae.y,width:re.x-Ae.x,height:re.y-Ae.y,angle:0,zoom:l.state.zoom.value,versionNonce:P.versionNonce},l.frameNameBoundsCache._cache.set(P.id,H),H}return null}return H},_cache:new Map},this.renderFrameNames=function(){if(!l.state.frameRendering.enabled||!l.state.frameRendering.name)return null;var P=l.state.theme==="dark";return l.scene.getNonDeletedFrames().map(function(H,ae){if(!(0,Ze.PZ)(H,l.canvas.width/window.devicePixelRatio,l.canvas.height/window.devicePixelRatio,{offsetLeft:l.state.offsetLeft,offsetTop:l.state.offsetTop,scrollX:l.state.scrollX,scrollY:l.state.scrollY,zoom:l.state.zoom}))return null;var Ee,Ae=(0,y._i)({sceneX:H.x,sceneY:H.y},l.state),re=Ae.x,q=Ae.y,Oe=function(){var ze;((ze=H.name)===null||ze===void 0?void 0:ze.trim())===""&&(0,C.DR)(H,{name:null}),l.setState({editingFrame:null})};if(H.id===l.state.editingFrame){var Ve=H.name==null?"Frame ".concat(ae+1):H.name;Ee=(0,s.jsx)("input",{autoFocus:!0,value:Ve,onChange:function(ze){(0,C.DR)(H,{name:ze.target.value})},onBlur:function(){return Oe()},onKeyDown:function(ze){ze.key!==A.tW.ESCAPE&&ze.key!==A.tW.ENTER||Oe()},style:{background:l.state.viewBackgroundColor,filter:P?T.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-re-6,"px")},size:Ve.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else Ee=H.name==null||H.name.trim()===""?"Frame ".concat(ae+1):H.name.trim();return(0,s.jsx)("div",{id:l.getFrameNameDOMId(H),style:{position:"absolute",bottom:"".concat(l.state.height+T.iG.nameOffsetY-q+l.state.offsetTop,"px"),left:"".concat(re-l.state.offsetLeft,"px"),zIndex:2,fontSize:T.iG.nameFontSize,color:P?T.iG.nameColorDarkTheme:T.iG.nameColorLightTheme,lineHeight:T.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(H.width,"px"),overflow:H.id===l.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:T.oc.MOVE,pointerEvents:l.state.viewModeEnabled?T.XI.disabled:T.XI.enabled},onPointerDown:function(ze){return l.handleCanvasPointerDown(ze)},onWheel:function(ze){return l.handleWheel(ze)},onContextMenu:l.handleCanvasContextMenu,onDoubleClick:function(){l.setState({editingFrame:H.id})},children:Ee},H.id)})},this.focusContainer=function(){var P;(P=l.excalidrawContainerRef.current)===null||P===void 0||P.focus()},this.getSceneElementsIncludingDeleted=function(){return l.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return l.scene.getNonDeletedElements()},this.onInsertElements=function(P){l.addElementsFromPasteOrLibrary({elements:P,position:"center",files:null})},this.onExportImage=function(){var P=(0,u.Z)(S().mark(function H(ae,Ee,Ae){var re;return S().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return(0,x.L)("export",ae,"ui"),q.next=3,(0,ne.p1)(ae,Ee,l.state,l.files,{exportBackground:l.state.exportBackground,name:l.state.name,viewBackgroundColor:l.state.viewBackgroundColor,exportingFrame:Ae.exportingFrame}).catch(y.FG).catch(function(Oe){console.error(Oe),l.setState({errorMessage:Oe.message})});case 3:re=q.sent,l.state.exportEmbedScene&&re&&(0,Wt.g8)(re)&&l.setState({fileHandle:re});case 5:case"end":return q.stop()}},H)}));return function(H,ae,Ee){return P.apply(this,arguments)}}(),this.openEyeDropper=function(P){var H=P.type;Ra.e_.set(wu.$,{swapPreviewOnAlt:!0,colorPickerType:H==="stroke"?"elementStroke":"elementBackground",onSelect:function(ae,Ee){var Ae=H==="background"&&Ee.altKey||H==="stroke"&&!Ee.altKey;l.scene.getSelectedElements(l.state).length&&l.state.activeTool.type==="selection"?l.updateScene({elements:l.scene.getElementsIncludingDeleted().map(function(re){return l.state.selectedElementIds[re.id]?(0,C.BE)(re,(0,Y.Z)({},Ae?"strokeColor":"backgroundColor",ae)):re})}):Ae?l.syncActionResult({appState:Jt(Jt({},l.state),{},{currentItemStrokeColor:ae}),commitToHistory:!0}):l.syncActionResult({appState:Jt(Jt({},l.state),{},{currentItemBackgroundColor:ae}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,y.tH)(function(P){if(!l.unmounted&&P!==!1){var H=null;if(P.elements&&(P.elements.forEach(function(kt){var Lt;((Lt=l.state.editingElement)===null||Lt===void 0?void 0:Lt.id)===kt.id&&l.state.editingElement!==kt&&(0,de.qP)(kt)&&(H=kt)}),l.scene.replaceAllElements(P.elements),P.commitToHistory&&l.history.resumeRecording()),P.files&&(l.files=P.replaceFiles?P.files:Jt(Jt({},l.files),P.files),l.addNewImagesToImageCache()),P.appState||H||l.state.contextMenu){var ae,Ee,Ae,re,q,Oe,Ve,ze,nt,rt;P.commitToHistory&&l.history.resumeRecording();var at=(P==null||(ae=P.appState)===null||ae===void 0?void 0:ae.viewModeEnabled)||!1,gt=(P==null||(Ee=P.appState)===null||Ee===void 0?void 0:Ee.zenModeEnabled)||!1,xt=(P==null||(Ae=P.appState)===null||Ae===void 0?void 0:Ae.gridSize)||null,wt=(P==null||(re=P.appState)===null||re===void 0?void 0:re.theme)||l.props.theme||T.C6.LIGHT,un=(q=P==null||(Oe=P.appState)===null||Oe===void 0?void 0:Oe.name)!==null&&q!==void 0?q:l.state.name,Ft=(Ve=P==null||(ze=P.appState)===null||ze===void 0?void 0:ze.errorMessage)!==null&&Ve!==void 0?Ve:l.state.errorMessage;l.props.viewModeEnabled!==void 0&&(at=l.props.viewModeEnabled),l.props.zenModeEnabled!==void 0&&(gt=l.props.zenModeEnabled),l.props.gridModeEnabled!==void 0&&(xt=l.props.gridModeEnabled?T.k:null),l.props.name!==void 0&&(un=l.props.name),(rt=H=H||((nt=P.appState)===null||nt===void 0?void 0:nt.editingElement)||null)!==null&&rt!==void 0&&rt.isDeleted&&(H=null),l.setState(function(kt){return Object.assign(P.appState||{},{contextMenu:null,editingElement:H,viewModeEnabled:at,zenModeEnabled:gt,gridSize:xt,theme:wt,name:un,errorMessage:Ft})},function(){P.syncHistory&&l.history.setCurrentState(l.state,l.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,y.tH)(function(){gl=!1,l.setState({isBindingEnabled:!0})}),this.onUnload=function(){l.onBlur()},this.disableEvent=function(P){P.preventDefault()},this.resetHistory=function(){l.history.clear()},this.resetScene=(0,y.tH)(function(P){l.scene.replaceAllElements([]),l.setState(function(H){return Jt(Jt({},(0,F.im)()),{},{isLoading:(P==null||!P.resetLoadingState)&&H.isLoading,theme:l.state.theme})}),l.resetHistory()}),this.initializeScene=(0,u.Z)(S().mark(function P(){var H,ae,Ee,Ae,re;return S().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Oe=(0,u.Z)(S().mark(function Ve(ze){var nt,rt;return S().wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(ze.files.length){at.next=2;break}return at.abrupt("return");case 2:return nt=ze.files[0],at.next=5,nt.getFile();case 5:rt=at.sent,l.loadFileToCanvas(new File([rt],rt.name||"",{type:rt.type}),nt);case 7:case"end":return at.stop()}},Ve)}));return function(Ve){return Oe.apply(this,arguments)}}()),l.props.theme&&l.setState({theme:l.props.theme}),l.state.isLoading||l.setState({isLoading:!0}),Ee=null,q.prev=4,q.next=7,l.props.initialData;case 7:if(q.t0=q.sent,q.t0){q.next=10;break}q.t0=null;case 10:Ee=q.t0,(Ae=Ee)!==null&&Ae!==void 0&&Ae.libraryItems&&l.library.updateLibrary({libraryItems:Ee.libraryItems,merge:!0}).catch(function(Oe){console.error(Oe)}),q.next=18;break;case 14:q.prev=14,q.t1=q.catch(4),console.error(q.t1),Ee={appState:{errorMessage:q.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(re=(0,Se.nu)(Ee,null,null,{repairBindings:!0})).appState=Jt(Jt({},re.appState),{},{theme:l.props.theme||re.appState.theme,openSidebar:((H=re.appState)===null||H===void 0?void 0:H.openSidebar)||l.state.openSidebar,activeTool:re.appState.activeTool.type==="image"?Jt(Jt({},re.appState.activeTool),{},{type:"selection"}):re.appState.activeTool,isLoading:!1,toast:l.state.toast}),(ae=Ee)!==null&&ae!==void 0&&ae.scrollToContent&&(re.appState=Jt(Jt({},re.appState),(0,be.W)(re.elements,Jt(Jt({},re.appState),{},{width:l.state.width,height:l.state.height,offsetTop:l.state.offsetTop,offsetLeft:l.state.offsetLeft})))),l.fonts.loadFontsForElements(re.elements),l.resetHistory(),l.syncActionResult(Jt(Jt({},re),{},{commitToHistory:!0}));case 24:case"end":return q.stop()}},P,null,[[4,14]])})),this.isMobileBreakpoint=function(P,H){return P<T.kV||H<T.Yx&&P<T.sS},this.refreshViewportBreakpoints=function(){if(l.excalidrawContainerRef.current){var P=document.body,H=P.clientWidth,ae=P.clientHeight,Ee=l.device.viewport,Ae=(0,y.v4)(Ee,{isLandscape:H>ae,isMobile:l.isMobileBreakpoint(H,ae)});return Ee!==Ae&&(l.device=Jt(Jt({},l.device),{},{viewport:Ae}),!0)}},this.refreshEditorBreakpoints=function(){var P=l.excalidrawContainerRef.current;if(P){var H=P.getBoundingClientRect(),ae=H.width,Ee=H.height,Ae=l.props.UIOptions.dockedSidebarBreakpoint!=null?l.props.UIOptions.dockedSidebarBreakpoint:T.sk,re=l.device.editor,q=(0,y.v4)(re,{isMobile:l.isMobileBreakpoint(ae,Ee),canFitSidebar:ae>Ae});return re!==q&&(l.device=Jt(Jt({},l.device),{},{editor:q}),!0)}},this.onResize=(0,y.tH)(function(){l.scene.getElementsIncludingDeleted().forEach(function(P){return Aa.R.delete(P)}),l.refreshViewportBreakpoints(),l.updateDOMRect(),Cb||l.refreshEditorBreakpoints(),l.setState({})}),this.renderInteractiveSceneCallback=function(P){var H=P.atLeastOneVisibleElement,ae=P.scrollBars,Ee=P.elements;ae&&(fm=ae);var Ae=!(0,de.iB)(l.state.editingElement)&&!H&&Ee.length>0;l.state.scrolledOutside!==Ae&&l.setState({scrolledOutside:Ae}),l.scheduleImageRefresh()},this.onScroll=(0,y.Ds)(function(){var P=l.getCanvasOffsets(),H=P.offsetTop,ae=P.offsetLeft;l.setState(function(Ee){return Ee.offsetLeft===ae&&Ee.offsetTop===H?null:{offsetTop:H,offsetLeft:ae}})},T.HM),this.onCut=(0,y.tH)(function(P){var H;!((H=l.excalidrawContainerRef.current)===null||H===void 0)&&H.contains(document.activeElement)&&!(0,y.s)(P.target)&&(l.actionManager.executeAction(N.ZM,"keyboard",P),P.preventDefault(),P.stopPropagation())}),this.onCopy=(0,y.tH)(function(P){var H;!((H=l.excalidrawContainerRef.current)===null||H===void 0)&&H.contains(document.activeElement)&&!(0,y.s)(P.target)&&(l.actionManager.executeAction(N.uN,"keyboard",P),P.preventDefault(),P.stopPropagation())}),this.onTouchStart=function(P){if(T.Dt||P.preventDefault(),!Cu)return Cu=!0,clearTimeout(um),void(um=window.setTimeout(mm.resetTapTwice,T.Gj));if(Cu&&P.touches.length===1){var H=P.touches[0];l.handleCanvasDoubleClick({clientX:H.clientX,clientY:H.clientY}),Cu=!1,clearTimeout(um)}T.Dt&&P.preventDefault(),P.touches.length===2&&l.setState({selectedElementIds:(0,Br.Oh)({},l.state),activeEmbeddable:null})},this.onTouchEnd=function(P){l.resetContextMenuTimer(),P.touches.length>0?l.setState({previousSelectedElementIds:{},selectedElementIds:(0,Br.Oh)(l.state.previousSelectedElementIds,l.state)}):Fr.pointers.clear()},this.pasteFromClipboard=(0,y.tH)(function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze,nt,rt,at,gt,xt,wt,un,Ft,kt,Lt;return S().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(re=!!pm,q=document.activeElement,Oe=(Ee=l.excalidrawContainerRef.current)===null||Ee===void 0?void 0:Ee.contains(q),!ae||Oe){$t.next=5;break}return $t.abrupt("return");case 5:if(Ve=document.elementFromPoint(l.lastViewportPosition.x,l.lastViewportPosition.y),!ae||Ve instanceof HTMLCanvasElement&&!(0,y.s)(q)){$t.next=8;break}return $t.abrupt("return");case 8:return ze=(0,y.dE)({clientX:l.lastViewportPosition.x,clientY:l.lastViewportPosition.y},l.state),nt=ze.x,rt=ze.y,at=ae==null||(Ae=ae.clipboardData)===null||Ae===void 0?void 0:Ae.files[0],$t.next=12,(0,Z.mQ)(ae,re);case 12:if(gt=$t.sent,at||re){$t.next=19;break}if(!gt.mixedContent){$t.next=18;break}return $t.abrupt("return",l.addElementsFromMixedContentPaste(gt.mixedContent,{isPlainPaste:re,sceneX:nt,sceneY:rt}));case 18:gt.text&&(xt=gt.text.trim()).startsWith("<svg")&&xt.endsWith("</svg>")&&(at=(0,Wt.Pn)(xt));case 19:if(!(0,Wt.Wr)(at)||gt.spreadsheet){$t.next=28;break}if(l.isToolSupported("image")){$t.next=23;break}return l.setState({errorMessage:(0,I.t)("errors.imageToolNotSupported")}),$t.abrupt("return");case 23:return wt=l.createImageElement({sceneX:nt,sceneY:rt}),l.insertImageElement(wt,at),l.initializeImageDimensions(wt),l.setState({selectedElementIds:(0,Br.Oh)((0,Y.Z)({},wt.id,!0),l.state)}),$t.abrupt("return");case 28:if(!l.props.onPaste){$t.next=40;break}return $t.prev=29,$t.next=32,l.props.onPaste(gt,ae);case 32:if($t.t0=$t.sent,$t.t0!==!1){$t.next=35;break}return $t.abrupt("return");case 35:$t.next=40;break;case 37:$t.prev=37,$t.t1=$t.catch(29),console.error($t.t1);case 40:if(!gt.errorMessage){$t.next=44;break}l.setState({errorMessage:gt.errorMessage}),$t.next=60;break;case 44:if(!gt.spreadsheet||re){$t.next=48;break}l.setState({pasteDialog:{data:gt.spreadsheet,shown:!0}}),$t.next=60;break;case 48:if(!gt.elements){$t.next=53;break}un=gt.programmaticAPI?(0,zt.w)(gt.elements):gt.elements,l.addElementsFromPasteOrLibrary({elements:un,files:gt.files||null,position:"cursor",retainSeed:re}),$t.next=60;break;case 53:if(!gt.text){$t.next=60;break}if(kt=(0,_.eX)(gt.text),re||!(0,_.xm)(kt,l.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(kt)&&((Ft=(0,_.LM)(kt))===null||Ft===void 0?void 0:Ft.type)!=="video"){$t.next=59;break}return(Lt=l.insertEmbeddableElement({sceneX:nt,sceneY:rt,link:(0,hl.$u)(kt)}))&&l.setState({selectedElementIds:(0,Y.Z)({},Lt.id,!0)}),$t.abrupt("return");case 59:l.addTextFromPaste(gt.text,re);case 60:l.setActiveTool({type:"selection"}),ae==null||ae.preventDefault();case 62:case"end":return $t.stop()}},H,null,[[29,37]])}));return function(H){return P.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(P){var H=(0,Se.ET)(P.elements,null,void 0),ae=(0,de.KP)(H),Ee=(0,p.Z)(ae,4),Ae=Ee[0],re=Ee[1],q=Ee[2],Oe=Ee[3],Ve=(0,y.TE)(Ae,q)/2,ze=(0,y.TE)(re,Oe)/2,nt=(0,M.Z)(P.position)==="object"?P.position.clientX:P.position==="cursor"?l.lastViewportPosition.x:l.state.width/2+l.state.offsetLeft,rt=(0,M.Z)(P.position)==="object"?P.position.clientY:P.position==="cursor"?l.lastViewportPosition.y:l.state.height/2+l.state.offsetTop,at=(0,y.dE)({clientX:nt,clientY:rt},l.state),gt=at.x-Ve,xt=at.y-ze,wt=(0,ye.wC)(gt,xt,l.state.gridSize),un=(0,p.Z)(wt,2),Ft=un[0],kt=un[1],Lt=(0,we._N)(H.map(function(rn){return(0,C.BE)(rn,{x:rn.x+Ft-Ae,y:rn.y+kt-re})}),{randomizeSeed:!P.retainSeed}),$t=[].concat((0,f.Z)(l.scene.getElementsIncludingDeleted()),(0,f.Z)(Lt));l.scene.replaceAllElements($t),Lt.forEach(function(rn){if((0,de.iB)(rn)&&(0,J.Xh)(rn)){var Gt=(0,mt.tl)(rn);(0,de.oN)(rn,Gt)}}),P.files&&(l.files=Jt(Jt({},l.files),P.files)),l.history.resumeRecording();var dn=(0,Br.aI)(Lt);l.setState(Jt(Jt({},l.state),{},{openSidebar:l.state.openSidebar&&l.device.editor.canFitSidebar&&Ra.e_.get(kf.t6)?l.state.openSidebar:null},(0,et.bO)({editingGroupId:null,selectedElementIds:dn.reduce(function(rn,Gt){return(0,J.Xh)(Gt)||(rn[Gt.id]=!0),rn},{})},l.scene.getNonDeletedElements(),l.state,l)),function(){P.files&&l.addNewImagesToImageCache()}),l.setActiveTool({type:"selection"}),P.fitToContent&&l.scrollToContent(Lt,{fitToContent:!0})},this.setAppState=function(P,H){l.setState(P,H)},this.removePointer=function(P){_s&&l.resetContextMenuTimer(),Fr.pointers.delete(P.pointerId)},this.toggleLock=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";l.state.activeTool.locked||(0,x.L)("toolbar","toggleLock","".concat(P," (").concat(l.device.editor.isMobile?"mobile":"desktop",")")),l.setState(function(H){return{activeTool:Jt(Jt(Jt({},H.activeTool),(0,y.Om)(l.state,H.activeTool.locked?{type:"selection"}:H.activeTool)),{},{locked:!H.activeTool.locked})}})},this.updateFrameRendering=function(P){l.setState(function(H){var ae,Ee,Ae,re,q=typeof P=="function"?P(H.frameRendering):P;return{frameRendering:{enabled:(ae=q==null?void 0:q.enabled)!==null&&ae!==void 0?ae:H.frameRendering.enabled,clip:(Ee=q==null?void 0:q.clip)!==null&&Ee!==void 0?Ee:H.frameRendering.clip,name:(Ae=q==null?void 0:q.name)!==null&&Ae!==void 0?Ae:H.frameRendering.name,outline:(re=q==null?void 0:q.outline)!==null&&re!==void 0?re:H.frameRendering.outline}}})},this.togglePenMode=function(P){l.setState(function(H){return{penMode:P??!H.penMode,penDetected:!0}})},this.onHandToolToggle=function(){l.actionManager.executeAction(Df.eF)},this.zoomCanvas=function(P){l.setState(Jt({},(0,h.E)({viewportX:l.state.width/2+l.state.offsetLeft,viewportY:l.state.height/2+l.state.offsetTop,nextZoom:(0,be.j)(P)},l.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var P,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.scene.getNonDeletedElements(),ae=arguments.length>1?arguments[1]:void 0;(P=l.cancelInProgresAnimation)===null||P===void 0||P.call(l);var Ee=Array.isArray(H)?H:[H],Ae=l.state.zoom,re=l.state.scrollX,q=l.state.scrollY;if(ae!=null&&ae.fitToContent||ae!=null&&ae.fitToViewport){var Oe=(0,Df.JB)({targetElements:Ee,appState:l.state,fitToViewport:!(ae==null||!ae.fitToViewport),viewportZoomFactor:ae==null?void 0:ae.viewportZoomFactor}),Ve=Oe.appState;Ae=Ve.zoom,re=Ve.scrollX,q=Ve.scrollY}else{var ze=(0,be.W)(Ee,l.state);re=ze.scrollX,q=ze.scrollY}if(ae!=null&&ae.animate){var nt,rt=l.state.scrollX,at=l.state.scrollY,gt=l.state.zoom.value,xt=(0,y.B4)({fromValues:{scrollX:rt,scrollY:at,zoom:gt},toValues:{scrollX:re,scrollY:q,zoom:Ae.value},interpolateValue:function(wt,un,Ft,kt){if(kt==="zoom")return wt*Math.pow(un/wt,(0,y.Vv)(Ft))},onStep:function(wt){var un=wt.scrollX,Ft=wt.scrollY,kt=wt.zoom;l.setState({scrollX:un,scrollY:Ft,zoom:{value:kt}})},onStart:function(){l.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){l.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){l.setState({shouldCacheIgnoreZoom:!1})},duration:(nt=ae==null?void 0:ae.duration)!==null&&nt!==void 0?nt:500});l.cancelInProgresAnimation=function(){xt(),l.cancelInProgresAnimation=null}}else l.setState({scrollX:re,scrollY:q,zoom:Ae})},this.translateCanvas=function(P){var H;(H=l.cancelInProgresAnimation)===null||H===void 0||H.call(l),l.setState(P)},this.setToast=function(P){l.setState({toast:P})},this.restoreFileFromShare=(0,u.Z)(S().mark(function P(){var H,ae,Ee,Ae;return S().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.prev=0,re.next=3,caches.open("web-share-target");case 3:return H=re.sent,re.next=6,H.match("shared-file");case 6:if(!(ae=re.sent)){re.next=16;break}return re.next=10,ae.blob();case 10:return Ee=re.sent,Ae=new File([Ee],Ee.name||"",{type:Ee.type}),l.loadFileToCanvas(Ae,null),re.next=15,H.delete("shared-file");case 15:window.history.replaceState(null,T.iC,window.location.pathname);case 16:re.next=21;break;case 18:re.prev=18,re.t0=re.catch(0),l.setState({errorMessage:re.t0.message});case 21:case"end":return re.stop()}},P,null,[[0,18]])})),this.addFiles=(0,y.tH)(function(P){var H=P.reduce(function(ae,Ee){return ae.set(Ee.id,Ee),ae},new Map);l.files=Jt(Jt({},l.files),Object.fromEntries(H)),l.scene.getNonDeletedElements().forEach(function(ae){(0,J.wi)(ae)&&H.has(ae.fileId)&&(l.imageCache.delete(ae.fileId),Aa.R.delete(ae))}),l.scene.informMutation(),l.addNewImagesToImageCache()}),this.updateScene=(0,y.tH)(function(P){P.commitToHistory&&l.history.resumeRecording(),P.appState&&l.setState(P.appState),P.elements&&l.scene.replaceAllElements(P.elements),P.collaborators&&l.setState({collaborators:P.collaborators})}),this.onSceneUpdated=function(){l.setState({})},this.toggleSidebar=function(P){var H,ae,Ee=P.name,Ae=P.tab,re=P.force;return re===void 0?H=((ae=l.state.openSidebar)===null||ae===void 0?void 0:ae.name)===Ee?null:Ee:H=re?Ee:null,l.setState({openSidebar:H?{name:H,tab:Ae}:null}),!!H},this.updateCurrentCursorPosition=(0,y.tH)(function(P){l.lastViewportPosition.x=P.clientX,l.lastViewportPosition.y=P.clientY}),this.onKeyDown=(0,y.tH)(function(P){if("Proxy"in window&&(!P.shiftKey&&/^[A-Z]$/.test(P.key)||P.shiftKey&&/^[a-z]$/.test(P.key))&&(P=new Proxy(P,{get:function(Ft,kt){var Lt=Ft[kt];return typeof Lt=="function"?Lt.bind(Ft):kt==="key"?P.shiftKey?Ft.key.toUpperCase():Ft.key.toLowerCase():Lt}})),P[A.tW.CTRL_OR_CMD]&&P.key.toLowerCase()===A.tW.V&&(pm=P.shiftKey,clearTimeout(Tb),Tb=window.setTimeout(function(){pm=!1},100)),!P[A.tW.CTRL_OR_CMD]||!(0,y.s)(P.target)||P.code!==A.aU.MINUS&&P.code!==A.aU.EQUAL){if(!((0,y.s)(P.target)&&P.key!==A.tW.ESCAPE||(0,A.Wl)(P.key)&&(0,y._Z)(P.target)))if(P.key!==A.tW.QUESTION_MARK){if(P.key.toLowerCase()===A.tW.E&&P.shiftKey&&P[A.tW.CTRL_OR_CMD])return P.preventDefault(),void l.setState({openDialog:"imageExport"});if(P.key===A.tW.PAGE_UP||P.key===A.tW.PAGE_DOWN){var H=(P.shiftKey?l.state.width:l.state.height)/l.state.zoom.value;P.key===A.tW.PAGE_DOWN&&(H=-H),P.shiftKey?l.translateCanvas(function(Ft){return{scrollX:Ft.scrollX+H}}):l.translateCanvas(function(Ft){return{scrollY:Ft.scrollY+H}})}if(!l.actionManager.handleKeyDown(P)&&!l.state.viewModeEnabled){if(P[A.tW.CTRL_OR_CMD]&&l.state.isBindingEnabled&&l.setState({isBindingEnabled:!1}),(0,A.Wl)(P.key)){var ae=l.state.gridSize&&(P.shiftKey?T.$e:l.state.gridSize)||(P.shiftKey?T.Iw:T.$e),Ee=0,Ae=0;P.key===A.tW.ARROW_LEFT?Ee=-ae:P.key===A.tW.ARROW_RIGHT?Ee=ae:P.key===A.tW.ARROW_UP?Ae=-ae:P.key===A.tW.ARROW_DOWN&&(Ae=ae);var re=l.scene.getSelectedElements({selectedElementIds:l.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});re.forEach(function(Ft){(0,C.DR)(Ft,{x:Ft.x+Ee,y:Ft.y+Ae}),(0,U.Ww)(Ft,{simultaneouslyUpdated:re})}),l.maybeSuggestBindingForAll(re),P.preventDefault()}else if(P.key===A.tW.ENTER){var q=l.scene.getSelectedElements(l.state);if(q.length===1){var Oe=q[0];if(P[A.tW.CTRL_OR_CMD])(0,J.bt)(Oe)&&(l.state.editingLinearElement&&l.state.editingLinearElement.elementId===q[0].id||(l.history.resumeRecording(),l.setState({editingLinearElement:new _e._(Oe,l.scene)})));else{if((0,de.iB)(Oe)||(0,mt.Zr)(Oe)){var Ve;(0,de.iB)(Oe)||(Ve=Oe);var ze=(0,mt.TP)(Oe,l.state),nt=ze.x,rt=ze.y;return l.startTextEditing({sceneX:nt,sceneY:rt,container:Ve}),void P.preventDefault()}(0,J.He)(Oe)&&l.setState({editingFrame:Oe.id})}}}else if(!P.ctrlKey&&!P.altKey&&!P.metaKey&&l.state.draggingElement===null){var at=function(Ft){var kt=m.find(function(Lt,$t){return Lt.numericKey!=null&&Ft===Lt.numericKey.toString()||Lt.key&&(typeof Lt.key=="string"?Lt.key===Ft:Lt.key.includes(Ft))});return(kt==null?void 0:kt.value)||null}(P.key);at?(l.state.activeTool.type!==at&&(0,x.L)("toolbar",at,"keyboard (".concat(l.device.editor.isMobile?"mobile":"desktop",")")),l.setActiveTool({type:at}),P.stopPropagation()):P.key===A.tW.Q&&(l.toggleLock("keyboard"),P.stopPropagation())}if(P.key===A.tW.SPACE&&Fr.pointers.size===0&&(gl=!0,(0,mr.KJ)(l.interactiveCanvas,T.oc.GRAB),P.preventDefault()),!(P.key!==A.tW.G&&P.key!==A.tW.S||P.altKey||P[A.tW.CTRL_OR_CMD])){var gt=l.scene.getSelectedElements(l.state);if(l.state.activeTool.type==="selection"&&!gt.length)return;P.key===A.tW.G&&((0,be.$b)(l.state.activeTool.type)||gt.some(function(Ft){return(0,be.$b)(Ft.type)}))&&(l.setState({openPopup:"elementBackground"}),P.stopPropagation()),P.key===A.tW.S&&(l.setState({openPopup:"elementStroke"}),P.stopPropagation())}if(P.key!==A.tW.K||P.altKey||P[A.tW.CTRL_OR_CMD]){!P[A.tW.CTRL_OR_CMD]||P.key!==A.tW.BACKSPACE&&P.key!==A.tW.DELETE||Ra.e_.set(Sf.w,"clearCanvas");var xt=P.key.toLocaleLowerCase(),wt=xt===A.tW.S&&P.shiftKey,un=P.key===A.tW.I||xt===A.tW.G&&P.shiftKey;(wt||un)&&l.openEyeDropper({type:wt?"stroke":"background"})}else l.state.activeTool.type==="laser"?l.setActiveTool({type:"selection"}):l.setActiveTool({type:"laser"})}}else l.setState({openDialog:"help"})}else P.preventDefault()}),this.onWheel=(0,y.tH)(function(P){P.target instanceof HTMLCanvasElement||!P.ctrlKey||P.preventDefault()}),this.onKeyUp=(0,y.tH)(function(P){if(P.key===A.tW.SPACE&&(l.state.viewModeEnabled?(0,mr.KJ)(l.interactiveCanvas,T.oc.GRAB):l.state.activeTool.type==="selection"?(0,mr.z8)(l.interactiveCanvas):((0,mr.Uk)(l.interactiveCanvas,l.state),l.setState({selectedElementIds:(0,Br.Oh)({},l.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),gl=!1),P[A.tW.CTRL_OR_CMD]||l.state.isBindingEnabled||l.setState({isBindingEnabled:!0}),(0,A.Wl)(P.key)){var H=l.scene.getSelectedElements(l.state);(0,U.N1)(l.state)?(0,U.el)(H):(0,U.H)(H),l.setState({suggestedBindings:[]})}}),this.isToolSupported=function(P){var H;return((H=l.props.UIOptions.tools)===null||H===void 0?void 0:H[P])!==!1},this.setActiveTool=function(P){if(l.isToolSupported(P.type)){var H,ae=(0,y.Om)(l.state,P);ae.type==="hand"?(0,mr.KJ)(l.interactiveCanvas,T.oc.GRAB):gl||(0,mr.Uk)(l.interactiveCanvas,l.state),(0,y.wO)(document.activeElement)&&l.focusContainer(),(0,J.dt)(ae.type)||l.setState({suggestedBindings:[]}),ae.type==="image"&&l.onImageAction({insertOnCanvasDirectly:(H=P.type==="image"&&P.insertOnCanvasDirectly)!==null&&H!==void 0&&H}),l.setState(function(Ee){var Ae={snapLines:Ee.snapLines.length?[]:Ee.snapLines,originSnapOffset:null,activeEmbeddable:null};return ae.type!=="selection"?Jt(Jt({},Ee),{},{activeTool:ae,selectedElementIds:(0,Br.Oh)({},Ee),selectedGroupIds:(0,Br.Oh)({},Ee),editingGroupId:null,multiElement:null},Ae):Jt(Jt({},Ee),{},{activeTool:ae},Ae)})}else console.warn('"'.concat(P.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(P.type,'"'))},this.setOpenDialog=function(P){l.setState({openDialog:P})},this.setCursor=function(P){(0,mr.KJ)(l.interactiveCanvas,P)},this.resetCursor=function(){(0,mr.z8)(l.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Fr.pointers.size>=2},this.onGestureStart=(0,y.tH)(function(P){P.preventDefault(),l.isTouchScreenMultiTouchGesture()&&l.setState({selectedElementIds:(0,Br.Oh)({},l.state),activeEmbeddable:null}),Fr.initialScale=l.state.zoom.value}),this.onGestureChange=(0,y.tH)(function(P){if(P.preventDefault(),!l.isTouchScreenMultiTouchGesture()){var H=Fr.initialScale;H&&l.setState(function(ae){return Jt({},(0,h.E)({viewportX:l.lastViewportPosition.x,viewportY:l.lastViewportPosition.y,nextZoom:(0,be.j)(H*P.scale)},ae))})}}),this.onGestureEnd=(0,y.tH)(function(P){P.preventDefault(),l.isTouchScreenMultiTouchGesture()&&l.setState({previousSelectedElementIds:{},selectedElementIds:(0,Br.Oh)(l.state.previousSelectedElementIds,l.state)}),Fr.initialScale=null}),this.startTextEditing=function(P){var H,ae,Ee,Ae,re=P.sceneX,q=P.sceneY,Oe=P.insertAtParentCenter,Ve=Oe===void 0||Oe,ze=P.container,nt=!1,rt=Ve&&l.getTextWysiwygSnappedToCenterPosition(re,q,l.state,ze);ze&&rt&&((0,mt.WJ)(ze)||(nt=!0));var at=null,gt=l.scene.getSelectedElements(l.state),xt=((H=at=gt.length===1?(0,de.iB)(gt[0])?gt[0]:ze?(0,mt.WJ)(gt[0]):l.getTextElementAtPosition(re,q):l.getTextElementAtPosition(re,q))===null||H===void 0?void 0:H.fontFamily)||l.state.currentItemFontFamily,wt=((ae=at)===null||ae===void 0?void 0:ae.lineHeight)||(0,mt.PT)(xt),un=l.state.currentItemFontSize;if(!at&&nt&&ze&&!(0,J.Yv)(ze)){var Ft={fontSize:un,fontFamily:xt},kt=(0,mt.AT)((0,y.mO)(Ft),wt),Lt=(0,mt.w_)(un,wt),$t=Math.max(ze.height,Lt),dn=Math.max(ze.width,kt);(0,C.DR)(ze,{height:$t,width:dn}),re=ze.x+dn/2,q=ze.y+$t/2,rt&&(rt=l.getTextWysiwygSnappedToCenterPosition(re,q,l.state,ze))}var rn=l.getTopLayerFrameAtSceneCoords({x:re,y:q}),Gt=at||(0,de.VL)({x:rt?rt.elementCenterX:re,y:rt?rt.elementCenterY:q,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,text:"",fontSize:un,fontFamily:xt,textAlign:rt?"center":l.state.currentItemTextAlign,verticalAlign:rt?T.oX.MIDDLE:T.hs,containerId:nt?ze==null?void 0:ze.id:void 0,groupIds:(Ee=ze==null?void 0:ze.groupIds)!==null&&Ee!==void 0?Ee:[],lineHeight:wt,angle:(Ae=ze==null?void 0:ze.angle)!==null&&Ae!==void 0?Ae:0,frameId:rn?rn.id:null});if(!at&&nt&&ze&&(0,C.DR)(ze,{boundElements:(ze.boundElements||[]).concat({type:"text",id:Gt.id})}),l.setState({editingElement:Gt}),!at)if(ze&&nt){var ln=l.scene.getElementIndex(ze.id);l.scene.insertElementAtIndex(Gt,ln+1)}else l.scene.addNewElement(Gt);l.setState({editingElement:Gt}),l.handleTextWysiwyg(Gt,{isExistingElement:!!at})},this.handleCanvasDoubleClick=function(P){if(!l.state.multiElement&&l.state.activeTool.type==="selection"){var H=l.scene.getSelectedElements(l.state);if(H.length===1&&(0,J.bt)(H[0])){if(P[A.tW.CTRL_OR_CMD]&&(!l.state.editingLinearElement||l.state.editingLinearElement.elementId!==H[0].id))return l.history.resumeRecording(),void l.setState({editingLinearElement:new _e._(H[0],l.scene)});if(l.state.editingLinearElement&&l.state.editingLinearElement.elementId===H[0].id)return}(0,mr.z8)(l.interactiveCanvas);var ae=(0,y.dE)(P,l.state),Ee=ae.x,Ae=ae.y;if((0,et.iJ)(l.state).length>0){var re=l.getElementAtPosition(Ee,Ae),q=re&&(0,et.YS)(re,l.state.selectedGroupIds);if(q)return void l.setState(function(nt){return Jt(Jt({},nt),(0,et.bO)({editingGroupId:q,selectedElementIds:(0,Y.Z)({},re.id,!0)},l.scene.getNonDeletedElements(),nt,l))})}if((0,mr.z8)(l.interactiveCanvas),!P[A.tW.CTRL_OR_CMD]&&!l.state.viewModeEnabled){var Oe=l.getElementAtPosition(Ee,Ae);if((0,J.gs)(Oe))return void l.setState({activeEmbeddable:{element:Oe,state:"active"}});var Ve=(0,mt.OW)(l.scene.getNonDeletedElements(),l.state,Ee,Ae);if(Ve&&((0,J.Xo)(Ve)||!(0,y.Qm)(Ve.backgroundColor)||(0,jf.Qu)(Ve,l.state,l.frameNameBoundsCache,[Ee,Ae]))){var ze=(0,mt.TP)(Ve,l.state);Ee=ze.x,Ae=ze.y}l.startTextEditing({sceneX:Ee,sceneY:Ae,insertAtParentCenter:!P.altKey,container:Ve})}}},this.getElementLinkAtPosition=function(P,H){var ae=l.scene.getNonDeletedElements().slice().reverse(),Ee=1/0;return ae.find(function(Ae,re){return H&&Ae.id===H.id&&(Ee=re),Ae.link&&re<=Ee&&(0,ts.Ni)(Ae,l.state,[P.x,P.y],l.device.editor.isMobile)})},this.redirectToLink=function(P,H){var ae=(0,ye.LW)(l.lastPointerDownEvent.clientX,l.lastPointerDownEvent.clientY,l.lastPointerUpEvent.clientX,l.lastPointerUpEvent.clientY);if(!(!l.hitLinkElement||H&&ae>T.f||!H&&ae!==0)){var Ee=(0,y.dE)(l.lastPointerDownEvent,l.state),Ae=(0,ts.Ni)(l.hitLinkElement,l.state,[Ee.x,Ee.y],l.device.editor.isMobile),re=(0,y.dE)(l.lastPointerUpEvent,l.state),q=(0,ts.Ni)(l.hitLinkElement,l.state,[re.x,re.y],l.device.editor.isMobile);if(Ae&&q){var Oe,Ve,ze=l.hitLinkElement.link;if(ze&&(ze=(0,hl.$u)(ze),l.props.onLinkOpen&&(Ve=(0,y.ag)(T.Ks.EXCALIDRAW_LINK,P.nativeEvent),l.props.onLinkOpen(Jt(Jt({},l.hitLinkElement),{},{link:ze}),Ve)),(Oe=Ve)===null||Oe===void 0||!Oe.defaultPrevented)){var nt=(0,hl.q$)(ze)?"_self":"_blank",rt=window.open(void 0,nt);rt&&(rt.opener=null,rt.location=ze)}}}},this.getTopLayerFrameAtSceneCoords=function(P){var H=l.scene.getNonDeletedFrames().filter(function(ae){return(0,io.Dn)(P,ae)});return H.length?H[H.length-1]:null},this.handleCanvasPointerMove=function(P){l.savePointer(P.clientX,P.clientY,l.state.cursorButton),Fr.pointers.has(P.pointerId)&&Fr.pointers.set(P.pointerId,{x:P.clientX,y:P.clientY});var H=Fr.initialScale;if(Fr.pointers.size===2&&Fr.lastCenter&&H&&Fr.initialDistance){var ae=xe(Fr.pointers),Ee=ae.x-Fr.lastCenter.x,Ae=ae.y-Fr.lastCenter.y;Fr.lastCenter=ae;var re=je(Array.from(Fr.pointers.values())),q=l.state.activeTool.type==="freedraw"&&l.state.penMode?1:re/Fr.initialDistance,Oe=q?(0,be.j)(H*q):l.state.zoom.value;l.setState(function(uo){var Wo=(0,h.E)({viewportX:ae.x,viewportY:ae.y,nextZoom:Oe},uo);l.translateCanvas({zoom:Wo.zoom,scrollX:Wo.scrollX+Ee/Oe,scrollY:Wo.scrollY+Ae/Oe,shouldCacheIgnoreZoom:!0})}),l.resetShouldCacheIgnoreZoomDebounced()}else Fr.lastCenter=Fr.initialDistance=Fr.initialScale=null;if(!(gl||Tu||dm||(0,F.l$)(l.state))){var Ve=(0,be._4)(fm,P.clientX-l.state.offsetLeft,P.clientY-l.state.offsetTop).isOverEither;l.state.draggingElement||l.state.multiElement||(Ve?(0,mr.z8)(l.interactiveCanvas):(0,mr.Uk)(l.interactiveCanvas,l.state));var ze,nt=(0,y.dE)(P,l.state),rt=nt.x,at=nt.y;if(l.state.draggingElement||(ze=l.state.activeTool.type)!=="rectangle"&&ze!=="ellipse"&&ze!=="diamond"&&ze!=="frame"&&ze!=="image")l.state.draggingElement||l.setState({snapLines:[]});else{var gt=function(uo,Wo,Kr,Ao){if(!va({event:Ao,selectedElements:[],appState:Wo}))return{originOffset:{x:0,y:0},snapLines:[]};var bo,Zr=(0,Br.CF)(uo,[],Wo),os=ga(Wo.zoom.value),oa={x:os,y:os},or=[],qr=[],xo=Ui(Zr);try{for(xo.s();!(bo=xo.n()).done;){var Jo,Qo=bo.value,ai=Ui(ml([Qo]));try{for(ai.s();!(Jo=ai.n()).done;){var bi=Jo.value,Ar=bi[0]-Kr.x;Math.abs(Ar)<=Math.abs(oa.x)&&(Math.abs(Ar)<Math.abs(oa.x)&&(qr.length=0),qr.push({type:"pointer",points:[bi,[bi[0],Kr.y]],direction:"vertical"}),oa.x=Ar);var ei=bi[1]-Kr.y;Math.abs(ei)<=Math.abs(oa.y)&&(Math.abs(ei)<Math.abs(oa.y)&&(or.length=0),or.push({type:"pointer",points:[bi,[Kr.x,bi[1]]],direction:"horizontal"}),oa.y=ei)}}catch(Hi){ai.e(Hi)}finally{ai.f()}}}catch(Hi){xo.e(Hi)}finally{xo.f()}return{originOffset:{x:qr.length>0?qr[0].points[0][0]-Kr.x:0,y:or.length>0?or[0].points[0][1]-Kr.y:0},snapLines:[].concat(qr,or)}}(l.scene.getNonDeletedElements(),l.state,{x:rt,y:at},P),xt=gt.originOffset,wt=gt.snapLines;l.setState({snapLines:wt,originSnapOffset:xt})}if(l.state.editingLinearElement&&!l.state.editingLinearElement.isDragging){var un=_e._.handlePointerMove(P,rt,at,l.state);un&&un!==l.state.editingLinearElement&&(0,ge.flushSync)(function(){l.setState({editingLinearElement:un})}),(un==null?void 0:un.lastUncommittedPoint)!=null?l.maybeSuggestBindingAtCursor(nt):(0,ge.flushSync)(function(){l.setState({suggestedBindings:[]})})}if((0,J.Lx)(l.state.activeTool.type)){var Ft=l.state.draggingElement;(0,J.Mn)(Ft,!1)?l.maybeSuggestBindingsForLinearElementAtCoords(Ft,[nt],l.state.startBoundElement):l.maybeSuggestBindingAtCursor(nt)}if(l.state.multiElement){var kt=l.state.multiElement,Lt=kt.x,$t=kt.y,dn=kt.points,rn=kt.lastCommittedPoint,Gt=dn[dn.length-1];if((0,mr.Uk)(l.interactiveCanvas,l.state),Gt===rn)(0,ye.LW)(rt-Lt,at-$t,Gt[0],Gt[1])>=T.qx?(0,C.DR)(kt,{points:[].concat((0,f.Z)(dn),[[rt-Lt,at-$t]])}):(0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER);else if(dn.length>2&&rn&&(0,ye.LW)(rt-Lt,at-$t,rn[0],rn[1])<T.qx)(0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER),(0,C.DR)(kt,{points:dn.slice(0,-1)});else{var ln,Dn=(0,ye.wC)(rt,at,P[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),Xn=(0,p.Z)(Dn,2),lr=Xn[0],hr=Xn[1],_r=(ln=kt==null?void 0:kt.lastCommittedPoint)!==null&&ln!==void 0?ln:[0,0],kr=(0,p.Z)(_r,2),qn=kr[0],Pr=kr[1],cr=lr-Lt-qn,Sr=hr-$t-Pr;if((0,A.Ge)(P)){var $r=(0,de.o4)(qn+Lt,Pr+$t,lr,hr);cr=$r.width,Sr=$r.height}(0,ye.g6)(dn,l.state.zoom.value)&&(0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER),(0,C.DR)(kt,{points:[].concat((0,f.Z)(dn.slice(0,-1)),[[qn+cr,Pr+Sr]])})}}else if(!(P.buttons||l.state.activeTool.type!=="selection"&&l.state.activeTool.type!=="text"&&l.state.activeTool.type!=="eraser")){var Xr=l.scene.getNonDeletedElements(),Ur=l.scene.getSelectedElements(l.state);if(Ur.length!==1||Ve||l.state.editingLinearElement){if(Ur.length>1&&!Ve){var yo=(0,de.n2)((0,de.KP)(Ur),rt,at,l.state.zoom,P.pointerType);if(yo)return void(0,mr.KJ)(l.interactiveCanvas,(0,de.Un)({transformHandleType:yo}))}}else{var yr=(0,de.jt)(Xr,l.state,rt,at,l.state.zoom,P.pointerType);if(yr&&yr.transformHandleType)return void(0,mr.KJ)(l.interactiveCanvas,(0,de.Un)(yr))}var Ir=l.getElementAtPosition(nt.x,nt.y);if(l.hitLinkElement=l.getElementLinkAtPosition(nt,Ir),!(0,F.EN)(l.state))if(l.hitLinkElement&&!l.state.selectedElementIds[l.hitLinkElement.id])(0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER),(0,ts.Pp)(l.hitLinkElement,l.state);else if((0,ts.lV)(),Ir&&(Ir.link||(0,J.gs)(Ir))&&l.state.selectedElementIds[Ir.id]&&!l.state.contextMenu&&!l.state.showHyperlinkPopup)l.setState({showHyperlinkPopup:"info"});else if(l.state.activeTool.type==="text")(0,mr.KJ)(l.interactiveCanvas,(0,de.iB)(Ir)?T.oc.TEXT:T.oc.CROSSHAIR);else if(l.state.viewModeEnabled)(0,mr.KJ)(l.interactiveCanvas,T.oc.GRAB);else if(Ve)(0,mr.KJ)(l.interactiveCanvas,T.oc.AUTO);else if(l.state.selectedLinearElement)l.handleHoverSelectedLinearElement(l.state.selectedLinearElement,rt,at);else if(P[A.tW.CTRL_OR_CMD])(0,mr.KJ)(l.interactiveCanvas,T.oc.AUTO);else{var Vo;(Ir||l.isHittingCommonBoundingBoxOfSelectedElements(nt,Ur))&&(Ir==null||!Ir.locked)&&(Ir&&(0,J.gs)(Ir)&&l.isEmbeddableCenter(Ir,P,rt,at)?((0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER),l.setState({activeEmbeddable:{element:Ir,state:"hover"}})):((0,mr.KJ)(l.interactiveCanvas,T.oc.MOVE),((Vo=l.state.activeEmbeddable)===null||Vo===void 0?void 0:Vo.state)==="hover"&&l.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(P,H,ae){for(var Ee=function(gt){gt.forEach(function(xt){xt.locked||(Ae.push(xt.id),P.altKey?H.elementIdsToErase[xt.id]&&H.elementIdsToErase[xt.id].erase&&(H.elementIdsToErase[xt.id].erase=!1):H.elementIdsToErase[xt.id]||(H.elementIdsToErase[xt.id]={erase:!0,opacity:xt.opacity}))})},Ae=[],re=(0,ye.LW)(H.lastCoords.x,H.lastCoords.y,ae.x,ae.y),q=10/l.state.zoom.value,Oe=Jt({},H.lastCoords),Ve=0;Ve<=re&&(Ee(l.getElementsAtPosition(Oe.x,Oe.y)),Ve!==re);){var ze=(Ve=Math.min(Ve+q,re))/re,nt=(1-ze)*Oe.x+ze*ae.x,rt=(1-ze)*Oe.y+ze*ae.y;Oe.x=nt,Oe.y=rt}var at=l.scene.getElementsIncludingDeleted().map(function(gt){var xt=(0,J.Xh)(gt)&&Ae.includes(gt.containerId)?gt.containerId:gt.id;if(Ae.includes(xt)){if(!P.altKey)return(0,C.BE)(gt,{opacity:T.xY});if(H.elementIdsToErase[xt]&&H.elementIdsToErase[xt].erase===!1)return(0,C.BE)(gt,{opacity:H.elementIdsToErase[xt].opacity})}return gt});l.scene.replaceAllElements(at),H.lastCoords.x=ae.x,H.lastCoords.y=ae.y},this.handleTouchMove=function(P){Ou=!0},this.handleCanvasPointerDown=function(P){var H,ae;if(l.state.contextMenu&&l.setState({contextMenu:null}),l.state.snapLines&&l.setAppState({snapLines:[]}),l.updateGestureOnPointerDown(P),P.pointerType==="touch"&&l.state.draggingElement&&l.state.draggingElement.type==="freedraw"){var Ee=l.state.draggingElement;l.updateScene(Jt(Jt({},Ee.points.length<10?{elements:l.scene.getElementsIncludingDeleted().filter(function(wt){return wt.id!==Ee.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,Br.Oh)(Object.keys(l.state.selectedElementIds).filter(function(wt){return wt!==Ee.id}).reduce(function(wt,un){return wt[un]=l.state.selectedElementIds[un],wt},{}),l.state)}}))}else{var Ae=document.getSelection();if(Ae!=null&&Ae.anchorNode&&Ae.removeAllRanges(),l.maybeOpenContextMenuAfterPointerDownOnTouchDevices(P),l.maybeCleanupAfterMissingPointerUp(P),l.state.penDetected||P.pointerType!=="pen"||l.setState(function(wt){return{penMode:!0,penDetected:!0}}),!l.device.isTouchScreen&&["pen","touch"].includes(P.pointerType)&&(l.device=(0,y.v4)(l.device,{isTouchScreen:!0})),!(Tu||(l.lastPointerDownEvent=P,l.handleCanvasPanUsingWheelOrSpaceDrag(P)||(l.setState({lastPointerDownWith:P.pointerType,cursorButton:"down"}),l.savePointer(P.clientX,P.clientY,"down"),P.button!==T.Oh.MAIN&&P.button!==T.Oh.TOUCH||Fr.pointers.size>1)))){var re=l.initialPointerDownState(P);if(l.setState({selectedElementsAreBeingDragged:!1}),!l.handleDraggingScrollBar(P,re)&&(l.clearSelectionIfNotUsingSelection(),l.updateBindingEnabledOnPointerMove(P),!l.handleSelectionOnPointerDown(P,re)&&(!l.state.penMode||P.pointerType!=="touch"||l.state.activeTool.type==="selection"||l.state.activeTool.type==="text"||l.state.activeTool.type==="image")))if(l.state.activeTool.type!=="text"){if(l.state.activeTool.type==="arrow"||l.state.activeTool.type==="line")l.handleLinearElementOnPointerDown(P,l.state.activeTool.type,re);else if(l.state.activeTool.type==="image"){(0,mr.KJ)(l.interactiveCanvas,T.oc.CROSSHAIR);var q=l.state.pendingImageElementId&&l.scene.getElement(l.state.pendingImageElementId);if(!q)return;l.setState({draggingElement:q,editingElement:q,pendingImageElementId:null,multiElement:null});var Oe=(0,y.dE)(P,l.state),Ve=Oe.x,ze=Oe.y,nt=l.getTopLayerFrameAtSceneCoords({x:Ve,y:ze});(0,C.DR)(q,{x:Ve,y:ze,frameId:nt?nt.id:null})}else l.state.activeTool.type==="freedraw"?l.handleFreeDrawElementOnPointerDown(P,l.state.activeTool.type,re):l.state.activeTool.type==="custom"?(0,mr.Uk)(l.interactiveCanvas,l.state):l.state.activeTool.type==="frame"?l.createFrameElementOnPointerDown(re):l.state.activeTool.type==="laser"?l.laserPathManager.startPath(re.lastCoords.x,re.lastCoords.y):l.state.activeTool.type!=="eraser"&&l.state.activeTool.type!=="hand"&&l.createGenericElementOnPointerDown(l.state.activeTool.type,re);(H=l.props)===null||H===void 0||(ae=H.onPointerDown)===null||ae===void 0||ae.call(H,l.state.activeTool,re),l.onPointerDownEmitter.trigger(l.state.activeTool,re,P);var rt=l.onPointerMoveFromPointerDownHandler(re),at=l.onPointerUpFromPointerDownHandler(re),gt=l.onKeyDownFromPointerDownHandler(re),xt=l.onKeyUpFromPointerDownHandler(re);Cs=at,l.state.viewModeEnabled&&l.state.activeTool.type!=="laser"||(window.addEventListener(T.Ks.POINTER_MOVE,rt),window.addEventListener(T.Ks.POINTER_UP,at),window.addEventListener(T.Ks.KEYDOWN,gt),window.addEventListener(T.Ks.KEYUP,xt),re.eventListeners.onMove=rt,re.eventListeners.onUp=at,re.eventListeners.onKeyUp=xt,re.eventListeners.onKeyDown=gt)}else l.handleTextOnPointerDown(P,re)}}},this.handleCanvasPointerUp=function(P){var H,ae;l.removePointer(P),l.lastPointerUpEvent=P;var Ee=(0,y.dE)({clientX:P.clientX,clientY:P.clientY},l.state),Ae=P.timeStamp-((H=(ae=l.lastPointerDownEvent)===null||ae===void 0?void 0:ae.timeStamp)!==null&&H!==void 0?H:0);if(l.device.editor.isMobile&&Ae<300){var re=l.getElementAtPosition(Ee.x,Ee.y);if((0,J.gs)(re)&&l.isEmbeddableCenter(re,P,Ee.x,Ee.y))return void l.handleEmbeddableCenterClick(re)}if(l.device.isTouchScreen){var q=l.getElementAtPosition(Ee.x,Ee.y);l.hitLinkElement=l.getElementLinkAtPosition(Ee,q)}l.hitLinkElement&&!l.state.selectedElementIds[l.hitLinkElement.id]?Ae<300&&l.hitLinkElement.type==="embeddable"&&!(0,ts.wq)(l.hitLinkElement,l.state,[Ee.x,Ee.y])?l.handleEmbeddableCenterClick(l.hitLinkElement):l.redirectToLink(P,l.device.isTouchScreen):l.state.viewModeEnabled&&l.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(P){P.pointerType==="touch"&&(Ou=!1,_s?Ou=!0:_s=window.setTimeout(function(){_s=0,Ou||l.handleCanvasContextMenu(P)},T.nM))},this.resetContextMenuTimer=function(){clearTimeout(_s),_s=0,Ou=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(P){if(!(Fr.pointers.size<=1&&(P.button===T.Oh.WHEEL||P.button===T.Oh.MAIN&&gl||(0,F.l$)(l.state)||l.state.viewModeEnabled))||(0,de.iB)(l.state.editingElement))return!1;Tu=!0,P.preventDefault();var H=!1,ae=/Linux/.test(window.navigator.platform);(0,mr.KJ)(l.interactiveCanvas,T.oc.GRABBING);var Ee=P.clientX,Ae=P.clientY,re=(0,y.$9)(function(Oe){var Ve=Ee-Oe.clientX,ze=Ae-Oe.clientY;if(Ee=Oe.clientX,Ae=Oe.clientY,ae&&!H&&(Math.abs(Ve)>1||Math.abs(ze)>1)){H=!0;var nt=function rt(at){document.body.removeEventListener(T.Ks.PASTE,rt),at.stopPropagation()};document.body.addEventListener(T.Ks.PASTE,nt),window.addEventListener(T.Ks.POINTER_UP,function rt(){setTimeout(function(){document.body.removeEventListener(T.Ks.PASTE,nt),window.removeEventListener(T.Ks.POINTER_UP,rt)},100)})}l.translateCanvas({scrollX:l.state.scrollX-Ve/l.state.zoom.value,scrollY:l.state.scrollY-ze/l.state.zoom.value})}),q=(0,y.tH)(Cs=function(){Cs=null,Tu=!1,gl||(l.state.viewModeEnabled?(0,mr.KJ)(l.interactiveCanvas,T.oc.GRAB):(0,mr.Uk)(l.interactiveCanvas,l.state)),l.setState({cursorButton:"up"}),l.savePointer(P.clientX,P.clientY,"up"),window.removeEventListener(T.Ks.POINTER_MOVE,re),window.removeEventListener(T.Ks.POINTER_UP,q),window.removeEventListener(T.Ks.BLUR,q),re.flush()});return window.addEventListener(T.Ks.BLUR,q),window.addEventListener(T.Ks.POINTER_MOVE,re,{passive:!0}),window.addEventListener(T.Ks.POINTER_UP,q),!0},this.clearSelectionIfNotUsingSelection=function(){l.state.activeTool.type!=="selection"&&l.setState({selectedElementIds:(0,Br.Oh)({},l.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(P,H){if(l.state.activeTool.type==="selection"){var ae=l.scene.getNonDeletedElements(),Ee=l.scene.getSelectedElements(l.state);if(Ee.length!==1||l.state.editingLinearElement)Ee.length>1&&(H.resize.handleType=(0,de.n2)((0,de.KP)(Ee),H.origin.x,H.origin.y,l.state.zoom,P.pointerType));else{var Ae=(0,de.jt)(ae,l.state,H.origin.x,H.origin.y,l.state.zoom,P.pointerType);Ae!=null&&(l.setState({resizingElement:Ae.element}),H.resize.handleType=Ae.transformHandleType)}if(H.resize.handleType)H.resize.isResizing=!0,H.resize.offset=(0,y.AK)((0,de.xx)(H.resize.handleType,Ee,H.origin.x,H.origin.y)),Ee.length===1&&(0,J.bt)(Ee[0])&&Ee[0].points.length===2&&(H.resize.arrowDirection=(0,de.T)(H.resize.handleType,Ee[0]));else{var re;if(l.state.selectedLinearElement){var q=l.state.editingLinearElement||l.state.selectedLinearElement,Oe=_e._.handlePointerDown(P,l.state,l.history,H.origin,q);if(Oe.hitElement&&(H.hit.element=Oe.hitElement),Oe.linearElementEditor&&(l.setState({selectedLinearElement:Oe.linearElementEditor}),l.state.editingLinearElement&&l.setState({editingLinearElement:Oe.linearElementEditor})),Oe.didAddPoint)return!0}if(H.hit.element=(re=H.hit.element)!==null&&re!==void 0?re:l.getElementAtPosition(H.origin.x,H.origin.y),H.hit.element&&l.getElementLinkAtPosition({x:H.origin.x,y:H.origin.y},H.hit.element))return!1;H.hit.allHitElements=l.getElementsAtPosition(H.origin.x,H.origin.y);var Ve=H.hit.element,ze=H.hit.allHitElements.some(function(nt){return l.isASelectedElement(nt)});if(Ve!==null&&ze||P.shiftKey||H.hit.hasHitCommonBoundingBoxOfSelectedElements||l.clearSelection(Ve),l.state.editingLinearElement)l.setState({selectedElementIds:(0,Br.Oh)((0,Y.Z)({},l.state.editingLinearElement.elementId,!0),l.state)});else if(Ve!=null){if(P[A.tW.CTRL_OR_CMD])return l.state.selectedElementIds[Ve.id]||(H.hit.wasAddedToSelection=!0),l.setState(function(nt){return Jt(Jt({},(0,et.iE)(nt,Ve)),{},{previousSelectedElementIds:l.state.selectedElementIds})}),!1;l.state.selectedElementIds[Ve.id]||(l.state.editingGroupId&&!(0,et.Nd)(Ve,l.state.editingGroupId)&&l.setState({selectedElementIds:(0,Br.Oh)({},l.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),ze||H.hit.hasHitCommonBoundingBoxOfSelectedElements||(l.setState(function(nt){var rt=Jt(Jt({},nt.selectedElementIds),{},(0,Y.Z)({},Ve.id,!0)),at=[];if(Object.keys(nt.selectedElementIds).forEach(function(wt){var un=l.scene.getElement(wt);un&&at.push(un)}),Ve.type==="frame")(0,io.zD)(at,Ve.id).forEach(function(wt){delete rt[wt.id]});else if(Ve.frameId)rt[Ve.frameId]&&delete rt[Ve.id];else{var gt=Ve.groupIds,xt=new Set(gt.flatMap(function(wt){return(0,et.Fb)(l.scene.getNonDeletedElements(),wt)}).filter(function(wt){return wt.type==="frame"}).map(function(wt){return wt.id}));xt.size>0&&at.forEach(function(wt){wt.frameId&&xt.has(wt.frameId)&&(delete rt[wt.id],wt.groupIds.flatMap(function(un){return(0,et.Fb)(l.scene.getNonDeletedElements(),un)}).forEach(function(un){delete rt[un.id]}))})}return Jt(Jt({},(0,et.bO)({editingGroupId:nt.editingGroupId,selectedElementIds:rt},l.scene.getNonDeletedElements(),nt,l)),{},{showHyperlinkPopup:!(!Ve.link&&!(0,J.gs)(Ve))&&"info"})}),H.hit.wasAddedToSelection=!0))}l.setState({previousSelectedElementIds:l.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(P,H){if(!(0,de.iB)(l.state.editingElement)){var ae=H.origin.x,Ee=H.origin.y,Ae=l.getElementAtPosition(ae,Ee,{includeBoundTextElement:!0}),re=(0,mt.OW)(l.scene.getNonDeletedElements(),l.state,ae,Ee);(0,J.Xo)(Ae)&&(re=Ae,ae=Ae.x+Ae.width/2,Ee=Ae.y+Ae.height/2),l.startTextEditing({sceneX:ae,sceneY:Ee,insertAtParentCenter:!P.altKey,container:re}),(0,mr.z8)(l.interactiveCanvas),l.state.activeTool.locked||l.setState({activeTool:(0,y.Om)(l.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(P,H,ae){var Ee=(0,ye.wC)(ae.origin.x,ae.origin.y,null),Ae=(0,p.Z)(Ee,2),re=Ae[0],q=Ae[1],Oe=l.getTopLayerFrameAtSceneCoords({x:re,y:q}),Ve=(0,we.KE)({type:H,x:re,y:q,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,roundness:null,simulatePressure:P.pressure===.5,locked:!1,frameId:Oe?Oe.id:null});l.setState(function(rt){var at=Jt({},rt.selectedElementIds);return delete at[Ve.id],{selectedElementIds:(0,Br.Oh)(at,rt)}});var ze=Ve.simulatePressure?Ve.pressures:[].concat((0,f.Z)(Ve.pressures),[P.pressure]);(0,C.DR)(Ve,{points:[[0,0]],pressures:ze});var nt=(0,U.Y9)(ae.origin,l.scene);l.scene.addNewElement(Ve),l.setState({draggingElement:Ve,editingElement:Ve,startBoundElement:nt,suggestedBindings:[]})},this.insertEmbeddableElement=function(P){var H,ae=P.sceneX,Ee=P.sceneY,Ae=P.link,re=(0,ye.wC)(ae,Ee,(H=l.lastPointerDownEvent)!==null&&H!==void 0&&H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),q=(0,p.Z)(re,2),Oe=q[0],Ve=q[1],ze=(0,_.LM)(Ae);if(ze){ze.warning&&l.setToast({message:ze.warning,closable:!0});var nt=(0,we.M)({type:"embeddable",x:Oe,y:Ve,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,roundness:l.getCurrentItemRoundness("embeddable"),opacity:l.state.currentItemOpacity,locked:!1,width:ze.aspectRatio.w,height:ze.aspectRatio.h,link:Ae,validated:null});return l.scene.replaceAllElements([].concat((0,f.Z)(l.scene.getElementsIncludingDeleted()),[nt])),nt}},this.createImageElement=function(P){var H,ae=P.sceneX,Ee=P.sceneY,Ae=P.addToFrameUnderCursor,re=Ae===void 0||Ae,q=(0,ye.wC)(ae,Ee,(H=l.lastPointerDownEvent)!==null&&H!==void 0&&H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),Oe=(0,p.Z)(q,2),Ve=Oe[0],ze=Oe[1],nt=re?l.getTopLayerFrameAtSceneCoords({x:Ve,y:ze}):null;return(0,de.vw)({type:"image",x:Ve,y:ze,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,roundness:null,opacity:l.state.currentItemOpacity,locked:!1,frameId:nt?nt.id:null})},this.handleLinearElementOnPointerDown=function(P,H,ae){if(l.state.multiElement){var Ee=l.state.multiElement;if(Ee.type==="line"&&(0,ye.g6)(Ee.points,l.state.zoom.value))return(0,C.DR)(Ee,{lastCommittedPoint:Ee.points[Ee.points.length-1]}),void l.actionManager.executeAction(N.pL);var Ae=Ee.x,re=Ee.y,q=Ee.lastCommittedPoint;if(Ee.points.length>1&&q&&(0,ye.LW)(ae.origin.x-Ae,ae.origin.y-re,q[0],q[1])<T.qx)return void l.actionManager.executeAction(N.pL);l.setState(function(dn){return{selectedElementIds:(0,Br.Oh)(Jt(Jt({},dn.selectedElementIds),{},(0,Y.Z)({},Ee.id,!0)),dn)}}),(0,C.DR)(Ee,{lastCommittedPoint:Ee.points[Ee.points.length-1]}),(0,mr.KJ)(l.interactiveCanvas,T.oc.POINTER)}else{var Oe=(0,ye.wC)(ae.origin.x,ae.origin.y,P[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),Ve=(0,p.Z)(Oe,2),ze=Ve[0],nt=Ve[1],rt=l.getTopLayerFrameAtSceneCoords({x:ze,y:nt}),at=l.state,gt=at.currentItemStartArrowhead,xt=at.currentItemEndArrowhead,wt=H==="arrow"?[gt,xt]:[null,null],un=(0,p.Z)(wt,2),Ft=un[0],kt=un[1],Lt=(0,de.y8)({type:H,x:ze,y:nt,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,roundness:l.state.currentItemRoundness==="round"?{type:T.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:Ft,endArrowhead:kt,locked:!1,frameId:rt?rt.id:null});l.setState(function(dn){var rn=Jt({},dn.selectedElementIds);return delete rn[Lt.id],{selectedElementIds:(0,Br.Oh)(rn,dn)}}),(0,C.DR)(Lt,{points:[].concat((0,f.Z)(Lt.points),[[0,0]])});var $t=(0,U.Y9)(ae.origin,l.scene);l.scene.addNewElement(Lt),l.setState({draggingElement:Lt,editingElement:Lt,startBoundElement:$t,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(P,H){var ae,Ee,Ae=(0,ye.wC)(H.origin.x,H.origin.y,(ae=l.lastPointerDownEvent)!==null&&ae!==void 0&&ae[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),re=(0,p.Z)(Ae,2),q=re[0],Oe=re[1],Ve=l.getTopLayerFrameAtSceneCoords({x:q,y:Oe}),ze={x:q,y:Oe,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,roundness:l.getCurrentItemRoundness(P),locked:!1,frameId:Ve?Ve.id:null};(Ee=P==="embeddable"?(0,we.M)(Jt({type:"embeddable",validated:null},ze)):(0,de.Up)(Jt({type:P},ze))).type==="selection"?l.setState({selectionElement:Ee,draggingElement:Ee}):(l.scene.addNewElement(Ee),l.setState({multiElement:null,draggingElement:Ee,editingElement:Ee}))},this.createFrameElementOnPointerDown=function(P){var H,ae=(0,ye.wC)(P.origin.x,P.origin.y,(H=l.lastPointerDownEvent)!==null&&H!==void 0&&H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),Ee=(0,p.Z)(ae,2),Ae=Ee[0],re=Ee[1],q=(0,we.M3)(Jt({x:Ae,y:re,opacity:l.state.currentItemOpacity,locked:!1},T.iG));l.scene.replaceAllElements([].concat((0,f.Z)(l.scene.getElementsIncludingDeleted()),[q])),l.setState({multiElement:null,draggingElement:q,editingElement:q})},this.restoreReadyToEraseElements=function(P){var H=l.scene.getElementsIncludingDeleted().map(function(ae){return P.elementIdsToErase[ae.id]&&P.elementIdsToErase[ae.id].erase?(0,C.BE)(ae,{opacity:P.elementIdsToErase[ae.id].opacity}):(0,J.Xh)(ae)&&P.elementIdsToErase[ae.containerId]&&P.elementIdsToErase[ae.containerId].erase?(0,C.BE)(ae,{opacity:P.elementIdsToErase[ae.containerId].opacity}):ae.frameId&&P.elementIdsToErase[ae.frameId]&&P.elementIdsToErase[ae.frameId].erase?(0,C.BE)(ae,{opacity:P.elementIdsToErase[ae.frameId].opacity}):ae});l.scene.replaceAllElements(H)},this.eraseElements=function(P){var H=l.scene.getElementsIncludingDeleted().map(function(ae){return P.elementIdsToErase[ae.id]&&P.elementIdsToErase[ae.id].erase||(0,J.Xh)(ae)&&P.elementIdsToErase[ae.containerId]&&P.elementIdsToErase[ae.containerId].erase||ae.frameId&&P.elementIdsToErase[ae.frameId]&&P.elementIdsToErase[ae.frameId].erase?(0,C.BE)(ae,{isDeleted:!0}):ae});l.history.resumeRecording(),l.scene.replaceAllElements(H)},this.initializeImage=function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze,nt,rt,at,gt,xt,wt,un,Ft;return S().wrap(function(kt){for(;;)switch(kt.prev=kt.next){case 0:if(q=ae.imageFile,Oe=ae.imageElement,Ve=ae.showCursorImagePreview,ze=Ve!==void 0&&Ve,(0,Wt.Wr)(q)){kt.next=3;break}throw new Error((0,I.t)("errors.unsupportedFileType"));case 3:if(nt=q.type,(0,mr.KJ)(l.interactiveCanvas,"wait"),nt!==T.LO.svg){kt.next=23;break}return kt.prev=6,kt.t0=Wt.Pn,kt.t1=sc.bp,kt.next=11,q.text();case 11:return kt.t2=kt.sent,kt.next=14,(0,kt.t1)(kt.t2);case 14:kt.t3=kt.sent,kt.t4=q.name,q=(0,kt.t0)(kt.t3,kt.t4),kt.next=23;break;case 19:throw kt.prev=19,kt.t5=kt.catch(6),console.warn(kt.t5),new Error((0,I.t)("errors.svgImageInsertError"));case 23:return kt.next=25,((Ee=(Ae=l.props).generateIdForFile)===null||Ee===void 0?void 0:Ee.call(Ae,q))||(0,Wt.tW)(q);case 25:if(rt=kt.sent){kt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,I.t)("errors.imageInsertError"));case 29:if((at=l.files[rt])!=null&&at.dataURL){kt.next=42;break}return kt.prev=31,kt.next=34,(0,Wt.Tu)(q,{maxWidthOrHeight:T.h6});case 34:q=kt.sent,kt.next=40;break;case 37:kt.prev=37,kt.t6=kt.catch(31),console.error("error trying to resing image file on insertion",kt.t6);case 40:if(!(q.size>T.$n)){kt.next=42;break}throw new Error((0,I.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(T.$n/1024/1024),"MB")}));case 42:if(ze&&(xt=(gt=l.files[rt])===null||gt===void 0?void 0:gt.dataURL,wt=xt&&(0,Wt.KG)(xt),l.setImagePreviewCursor(wt||q)),kt.t7=(re=l.files[rt])===null||re===void 0?void 0:re.dataURL,kt.t7){kt.next=48;break}return kt.next=47,(0,Wt.Sf)(q);case 47:kt.t7=kt.sent;case 48:return un=kt.t7,Ft=(0,C.DR)(Oe,{fileId:rt},!1),kt.abrupt("return",new Promise(function(){var Lt=(0,u.Z)(S().mark(function $t(dn,rn){var Gt,ln;return S().wrap(function(Dn){for(;;)switch(Dn.prev=Dn.next){case 0:if(Dn.prev=0,l.files=Jt(Jt({},l.files),{},(0,Y.Z)({},rt,{mimeType:nt,id:rt,dataURL:un,created:Date.now(),lastRetrieved:Date.now()})),ln=l.imageCache.get(rt)){Dn.next=7;break}return l.addNewImagesToImageCache(),Dn.next=7,l.updateImageCache([Ft]);case 7:if(!((ln==null?void 0:ln.image)instanceof Promise)){Dn.next=10;break}return Dn.next=10,ln.image;case 10:l.state.pendingImageElementId!==Ft.id&&((Gt=l.state.draggingElement)===null||Gt===void 0?void 0:Gt.id)!==Ft.id&&l.initializeImageDimensions(Ft,!0),dn(Ft),Dn.next=18;break;case 14:Dn.prev=14,Dn.t0=Dn.catch(0),console.error(Dn.t0),rn(new Error((0,I.t)("errors.imageInsertError")));case 18:return Dn.prev=18,ze||(0,mr.z8)(l.interactiveCanvas),Dn.finish(18);case 21:case"end":return Dn.stop()}},$t,null,[[0,14,18,21]])}));return function($t,dn){return Lt.apply(this,arguments)}}()));case 51:case"end":return kt.stop()}},H,null,[[6,19],[31,37]])}));return function(H){return P.apply(this,arguments)}}(),this.insertImageElement=function(){var P=(0,u.Z)(S().mark(function H(ae,Ee,Ae){return S().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(l.isToolSupported("image")){re.next=3;break}return l.setState({errorMessage:(0,I.t)("errors.imageToolNotSupported")}),re.abrupt("return");case 3:return l.scene.addNewElement(ae),re.prev=4,re.next=7,l.initializeImage({imageFile:Ee,imageElement:ae,showCursorImagePreview:Ae});case 7:return re.abrupt("return",re.sent);case 10:return re.prev=10,re.t0=re.catch(4),(0,C.DR)(ae,{isDeleted:!0}),l.actionManager.executeAction(N.pL),l.setState({errorMessage:re.t0.message||(0,I.t)("errors.imageInsertError")}),re.abrupt("return",null);case 16:case"end":return re.stop()}},H,null,[[4,10]])}));return function(H,ae,Ee){return P.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze;return S().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return Ee=96,nt.next=3,(0,Wt.Tu)(ae,{maxWidthOrHeight:Ee});case 3:return Ae=nt.sent,nt.next=6,(0,Wt.Sf)(Ae);case 6:if(re=nt.sent,ae.type!==T.LO.svg){nt.next=20;break}return nt.next=10,(0,sc.PK)(re);case 10:q=nt.sent,Oe=Math.min(q.height,Ee),(Ve=Oe*(q.width/q.height))>Ee&&(Oe=(Ve=Ee)*(q.height/q.width)),(ze=document.createElement("canvas")).height=Oe,ze.width=Ve,ze.getContext("2d").drawImage(q,0,0,Ve,Oe),re=ze.toDataURL(T.LO.svg);case 20:l.state.pendingImageElementId&&(0,mr.KJ)(l.interactiveCanvas,"url(".concat(re,") 4 4, auto"));case 21:case"end":return nt.stop()}},H)}));return function(H){return P.apply(this,arguments)}}(),this.onImageAction=function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze,nt;return S().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return Ee=ae.insertOnCanvasDirectly,rt.prev=1,Ae=l.state.width/2+l.state.offsetLeft,re=l.state.height/2+l.state.offsetTop,q=(0,y.dE)({clientX:Ae,clientY:re},l.state),Oe=q.x,Ve=q.y,rt.next=7,(0,Mn.I$)({description:"Image",extensions:Object.keys(T.KL)});case 7:ze=rt.sent,nt=l.createImageElement({sceneX:Oe,sceneY:Ve,addToFrameUnderCursor:!1}),Ee?(l.insertImageElement(nt,ze),l.initializeImageDimensions(nt),l.setState({selectedElementIds:(0,Br.Oh)((0,Y.Z)({},nt.id,!0),l.state)},function(){l.actionManager.executeAction(N.pL)})):l.setState({pendingImageElementId:nt.id},function(){l.insertImageElement(nt,ze,!0)}),rt.next=16;break;case 12:rt.prev=12,rt.t0=rt.catch(1),rt.t0.name!=="AbortError"?console.error(rt.t0):console.warn(rt.t0),l.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,y.Om)(l.state,{type:"selection"})},function(){l.actionManager.executeAction(N.pL)});case 16:case"end":return rt.stop()}},H,null,[[1,12]])}));return function(H){return P.apply(this,arguments)}}(),this.initializeImageDimensions=function(P){var H,ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ee=(0,J.wi)(P)&&((H=l.imageCache.get(P.fileId))===null||H===void 0?void 0:H.image);if(!Ee||Ee instanceof Promise){if(P.width<T.f/l.state.zoom.value&&P.height<T.f/l.state.zoom.value){var Ae=100/l.state.zoom.value;(0,C.DR)(P,{x:P.x-Ae/2,y:P.y-Ae/2,width:Ae,height:Ae})}}else if(ae||P.width<T.f/l.state.zoom.value&&P.height<T.f/l.state.zoom.value){var re=Math.max(l.state.height-120,160),q=Math.min(re,Math.floor(.5*l.state.height)/l.state.zoom.value),Oe=Math.min(Ee.naturalHeight,q),Ve=Oe*(Ee.naturalWidth/Ee.naturalHeight),ze=P.x+P.width/2-Ve/2,nt=P.y+P.height/2-Oe/2;(0,C.DR)(P,{x:ze,y:nt,width:Ve,height:Oe})}},this.updateImageCache=function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze,nt=arguments;return S().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return Ee=nt.length>1&&nt[1]!==void 0?nt[1]:l.files,rt.next=3,(0,sc.Xx)({imageCache:l.imageCache,fileIds:ae.map(function(at){return at.fileId}),files:Ee});case 3:if(Ae=rt.sent,re=Ae.updatedFiles,q=Ae.erroredFiles,re.size||q.size){Oe=xa(ae);try{for(Oe.s();!(Ve=Oe.n()).done;)ze=Ve.value,re.has(ze.fileId)&&Aa.R.delete(ze)}catch(at){Oe.e(at)}finally{Oe.f()}}return q.size&&l.scene.replaceAllElements(l.scene.getElementsIncludingDeleted().map(function(at){return(0,J.wi)(at)&&q.has(at.fileId)?(0,C.BE)(at,{status:"error"}):at})),rt.abrupt("return",{updatedFiles:re,erroredFiles:q});case 9:case"end":return rt.stop()}},H)}));return function(H){return P.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,u.Z)(S().mark(function P(){var H,ae,Ee,Ae,re=arguments;return S().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(H=re.length>0&&re[0]!==void 0?re[0]:(0,sc.oA)(l.scene.getNonDeletedElements()),ae=re.length>1&&re[1]!==void 0?re[1]:l.files,!(Ee=H.filter(function(Oe){return!Oe.isDeleted&&!l.imageCache.has(Oe.fileId)})).length){q.next=9;break}return q.next=6,l.updateImageCache(Ee,ae);case 6:Ae=q.sent,Ae.updatedFiles.size&&l.scene.informMutation();case 9:case"end":return q.stop()}},P)})),this.scheduleImageRefresh=Yp()(function(){l.addNewImagesToImageCache()},T.LL),this.updateBindingEnabledOnPointerMove=function(P){var H=(0,U.cz)(P);l.state.isBindingEnabled!==H&&l.setState({isBindingEnabled:H})},this.maybeSuggestBindingAtCursor=function(P){var H=(0,U.Y9)(P,l.scene);l.setState({suggestedBindings:H!=null?[H]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(P,H,ae){if(H.length){var Ee=H.reduce(function(Ae,re){var q=(0,U.Y9)(re,l.scene);return q==null||(0,U.DK)(P,ae==null?void 0:ae.id,q)||Ae.push(q),Ae},[]);l.setState({suggestedBindings:Ee})}},this.handleInteractiveCanvasRef=function(P){var H,ae,Ee;P!==null?(l.interactiveCanvas=P,l.interactiveCanvas.addEventListener(T.Ks.WHEEL,l.handleWheel),l.interactiveCanvas.addEventListener(T.Ks.TOUCH_START,l.onTouchStart),l.interactiveCanvas.addEventListener(T.Ks.TOUCH_END,l.onTouchEnd)):((H=l.interactiveCanvas)===null||H===void 0||H.removeEventListener(T.Ks.WHEEL,l.handleWheel),(ae=l.interactiveCanvas)===null||ae===void 0||ae.removeEventListener(T.Ks.TOUCH_START,l.onTouchStart),(Ee=l.interactiveCanvas)===null||Ee===void 0||Ee.removeEventListener(T.Ks.TOUCH_END,l.onTouchEnd))},this.handleAppOnDrop=function(){var P=(0,u.Z)(S().mark(function H(ae){var Ee,Ae,re,q,Oe,Ve,ze,nt,rt,at,gt,xt,wt,un,Ft,kt;return S().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,(0,Wt.bv)(ae);case 2:if(re=Lt.sent,q=re.file,Oe=re.fileHandle,Ve=(0,y.dE)(ae,l.state),ze=Ve.x,nt=Ve.y,Lt.prev=6,!(0,Wt.Wr)(q)||!l.isToolSupported("image")){Lt.next=26;break}if((q==null?void 0:q.type)!==T.LO.png&&(q==null?void 0:q.type)!==T.LO.svg){Lt.next=21;break}return Lt.prev=9,Lt.next=12,(0,ne.cT)(q,l.state,l.scene.getElementsIncludingDeleted(),Oe);case 12:return rt=Lt.sent,l.syncActionResult(Jt(Jt({},rt),{},{appState:Jt(Jt({},rt.appState||l.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),Lt.abrupt("return");case 17:if(Lt.prev=17,Lt.t0=Lt.catch(9),Lt.t0.name==="EncodingError"){Lt.next=21;break}throw Lt.t0;case 21:return at=l.createImageElement({sceneX:ze,sceneY:nt}),l.insertImageElement(at,q),l.initializeImageDimensions(at),l.setState({selectedElementIds:(0,Br.Oh)((0,Y.Z)({},at.id,!0),l.state)}),Lt.abrupt("return");case 26:Lt.next=31;break;case 28:return Lt.prev=28,Lt.t1=Lt.catch(6),Lt.abrupt("return",l.setState({isLoading:!1,errorMessage:Lt.t1.message}));case 31:if(!(gt=ae.dataTransfer.getData(T.LO.excalidrawlib))||typeof gt!="string"){Lt.next=35;break}try{xt=(0,Wt.wf)(gt),l.addElementsFromPasteOrLibrary({elements:(0,ce.WV)(xt),position:ae,files:null})}catch($t){l.setState({errorMessage:$t.message})}return Lt.abrupt("return");case 35:if(!q){Lt.next=38;break}return Lt.next=38,l.loadFileToCanvas(q,Oe);case 38:(Ee=ae.dataTransfer)!==null&&Ee!==void 0&&(Ae=Ee.types)!==null&&Ae!==void 0&&Ae.includes("text/plain")&&(Ft=(wt=ae.dataTransfer)===null||wt===void 0?void 0:wt.getData("text"))&&(0,_.xm)(Ft,l.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Ft)||((un=(0,_.LM)(Ft))===null||un===void 0?void 0:un.type)==="video")&&(kt=l.insertEmbeddableElement({sceneX:ze,sceneY:nt,link:(0,hl.$u)(Ft)}))&&l.setState({selectedElementIds:(0,Y.Z)({},kt.id,!0)});case 39:case"end":return Lt.stop()}},H,null,[[6,28],[9,17]])}));return function(H){return P.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var P=(0,u.Z)(S().mark(function H(ae,Ee){var Ae;return S().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,Wt.gY)(ae);case 2:return ae=re.sent,re.prev=3,re.next=6,(0,Wt.ZY)(ae,l.state,l.scene.getElementsIncludingDeleted(),Ee);case 6:if((Ae=re.sent).type!==T.LO.excalidraw){re.next=12;break}l.setState({isLoading:!0}),l.syncActionResult(Jt(Jt({},Ae.data),{},{appState:Jt(Jt({},Ae.data.appState||l.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),re.next=15;break;case 12:if(Ae.type!==T.LO.excalidrawlib){re.next=15;break}return re.next=15,l.library.updateLibrary({libraryItems:ae,merge:!0,openLibraryMenu:!0}).catch(function(q){console.error(q),l.setState({errorMessage:(0,I.t)("errors.importLibraryError")})});case 15:re.next=23;break;case 17:if(re.prev=17,re.t0=re.catch(3),!(re.t0 instanceof Qp.jk&&re.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||l.isToolSupported("image")){re.next=22;break}return l.setState({isLoading:!1,errorMessage:(0,I.t)("errors.imageToolNotSupported")}),re.abrupt("return");case 22:l.setState({isLoading:!1,errorMessage:re.t0.message});case 23:case"end":return re.stop()}},H,null,[[3,17]])}));return function(H,ae){return P.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(P){if(P.preventDefault(),!("pointerType"in P.nativeEvent&&P.nativeEvent.pointerType==="touch"||"pointerType"in P.nativeEvent&&P.nativeEvent.pointerType==="pen"&&P.button!==T.Oh.SECONDARY)||l.state.activeTool.type==="selection"){var H=(0,y.dE)(P,l.state),ae=H.x,Ee=H.y,Ae=l.getElementAtPosition(ae,Ee,{preferSelected:!0,includeLockedElements:!0}),re=l.scene.getSelectedElements(l.state),q=l.isHittingCommonBoundingBoxOfSelectedElements({x:ae,y:Ee},re),Oe=Ae||q?"element":"canvas",Ve=l.excalidrawContainerRef.current.getBoundingClientRect(),ze=Ve.top,nt=Ve.left,rt=P.clientX-nt,at=P.clientY-ze;(0,x.L)("contextMenu","openContextMenu",Oe),l.setState(Jt(Jt({},Ae&&!l.state.selectedElementIds[Ae.id]?Jt(Jt(Jt({},l.state),(0,et.bO)({editingGroupId:l.state.editingGroupId,selectedElementIds:(0,Y.Z)({},Ae.id,!0)},l.scene.getNonDeletedElements(),l.state,l)),{},{selectedLinearElement:(0,J.bt)(Ae)?new _e._(Ae,l.scene):null}):l.state),{},{showHyperlinkPopup:!1}),function(){l.setState({contextMenu:{top:at,left:rt,items:l.getContextMenuItems(Oe)}})})}},this.maybeDragNewGenericElement=function(P,H){var ae=l.state.draggingElement,Ee=P.lastCoords;if(ae)if(ae.type==="selection"&&l.state.activeTool.type!=="eraser")(0,de.EJ)(ae,l.state.activeTool.type,P.origin.x,P.origin.y,Ee.x,Ee.y,(0,y.TE)(P.origin.x,Ee.x),(0,y.TE)(P.origin.y,Ee.y),(0,A.E0)(H),(0,A.OA)(H));else{var Ae,re,q,Oe,Ve,ze=(0,ye.wC)(Ee.x,Ee.y,H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),nt=(0,p.Z)(ze,2),rt=nt[0],at=nt[1],gt=(0,J.wi)(ae)&&((Ae=l.imageCache.get(ae.fileId))===null||Ae===void 0?void 0:Ae.image),xt=!gt||gt instanceof Promise?null:gt.width/gt.height;l.maybeCacheReferenceSnapPoints(H,[ae]);var wt=function(kt,Lt,$t,dn,rn){var Gt,ln,Dn,Xn;if(!va({event:$t,selectedElements:[kt],appState:Lt}))return{snapOffset:{x:0,y:0},snapLines:[]};var lr=[[dn.x+rn.x,dn.y+rn.y]],hr=ga(Lt.zoom.value),_r={x:hr,y:hr},kr=[],qn=[];Xe([kt],lr,Lt,$t,kr,qn,_r);var Pr={x:(Gt=(ln=kr[0])===null||ln===void 0?void 0:ln.offset)!==null&&Gt!==void 0?Gt:0,y:(Dn=(Xn=qn[0])===null||Xn===void 0?void 0:Xn.offset)!==null&&Dn!==void 0?Dn:0};_r.x=0,_r.y=0,kr.length=0,qn.length=0;var cr=ml([kt],{boundingBoxCorners:!0,omitCenter:!0});return Xe([kt],cr,Lt,$t,kr,qn,_r),{snapOffset:Pr,snapLines:ft(kr,qn)}}(ae,l.state,H,{x:P.originInGrid.x+((re=(q=l.state.originSnapOffset)===null||q===void 0?void 0:q.x)!==null&&re!==void 0?re:0),y:P.originInGrid.y+((Oe=(Ve=l.state.originSnapOffset)===null||Ve===void 0?void 0:Ve.y)!==null&&Oe!==void 0?Oe:0)},{x:rt-P.originInGrid.x,y:at-P.originInGrid.y}),un=wt.snapOffset,Ft=wt.snapLines;rt+=un.x,at+=un.y,l.setState({snapLines:Ft}),(0,de.EJ)(ae,l.state.activeTool.type,P.originInGrid.x,P.originInGrid.y,rt,at,(0,y.TE)(P.originInGrid.x,rt),(0,y.TE)(P.originInGrid.y,at),(0,J.pC)(ae)?!(0,A.E0)(H):(0,A.E0)(H),(0,A.OA)(H),xt,l.state.originSnapOffset),l.maybeSuggestBindingForAll([ae]),l.state.activeTool.type==="frame"&&l.setState({elementsToHighlight:(0,io.ni)(l.scene.getNonDeletedElements(),ae,l.state)})}},this.maybeHandleResize=function(P,H){var ae=l.scene.getSelectedElements(l.state),Ee=ae.filter(function(dn){return dn.type==="frame"}),Ae=P.resize.handleType;if(Ee.length>0&&Ae==="rotation")return!1;l.setState({isResizing:Ae&&Ae!=="rotation",isRotating:Ae==="rotation",activeEmbeddable:null});var re=P.lastCoords,q=(0,ye.wC)(re.x-P.resize.offset.x,re.y-P.resize.offset.y,H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),Oe=(0,p.Z)(q,2),Ve=Oe[0],ze=Oe[1],nt=new Map;if(Ee.forEach(function(dn){(0,io.zD)(l.scene.getNonDeletedElements(),dn.id).forEach(function(rn){nt.set(dn.id+rn.id,{x:rn.x-dn.x,y:rn.y-dn.y})})}),!l.state.selectedElementsAreBeingDragged){var rt=(0,ye.wC)(re.x,re.y,H[A.tW.CTRL_OR_CMD]?null:l.state.gridSize),at=(0,p.Z)(rt,2),gt=at[0],xt=at[1],wt={x:gt-P.originInGrid.x,y:xt-P.originInGrid.y},un=(0,f.Z)(P.originalElements.values());l.maybeCacheReferenceSnapPoints(H,ae);var Ft=ut(ae,(0,be.eD)(un,l.state),l.state,H,wt,Ae),kt=Ft.snapOffset,Lt=Ft.snapLines;Ve+=kt.x,ze+=kt.y,l.setState({snapLines:Lt})}if((0,de.vY)(P,Ae,ae,P.resize.arrowDirection,(0,A.Ge)(H),(0,A.OA)(H),ae.length===1&&(0,J.pC)(ae[0])?!(0,A.E0)(H):(0,A.E0)(H),Ve,ze,P.resize.center.x,P.resize.center.y,l.state)){l.maybeSuggestBindingForAll(ae);var $t=new Set;return Ee.forEach(function(dn){var rn=(0,io.zD)(l.scene.getNonDeletedElements(),dn.id);Ae&&(Ae.includes("w")&&rn.forEach(function(Gt){var ln,Dn;(0,C.DR)(Gt,{x:dn.x+(((ln=nt.get(dn.id+Gt.id))===null||ln===void 0?void 0:ln.x)||0),y:dn.y+(((Dn=nt.get(dn.id+Gt.id))===null||Dn===void 0?void 0:Dn.y)||0)})}),Ae.includes("n")&&rn.forEach(function(Gt){var ln,Dn;(0,C.DR)(Gt,{x:dn.x+(((ln=nt.get(dn.id+Gt.id))===null||ln===void 0?void 0:ln.x)||0),y:dn.y+(((Dn=nt.get(dn.id+Gt.id))===null||Dn===void 0?void 0:Dn.y)||0)})})),(0,io.ni)(l.scene.getNonDeletedElements(),dn,l.state).forEach(function(Gt){return $t.add(Gt)})}),l.setState({elementsToHighlight:(0,f.Z)($t)}),!0}return!1},this.getContextMenuItems=function(P){var H=[];return H.push(N.jK,N.FA),P==="canvas"?l.state.viewModeEnabled?[].concat(H,[N.Pb,N.JN,Su,N.u0]):[If.yQ,Ge,N.jK,N.FA,N.zp,Ge,N.Yy,Eu.U,Ge,N.Pb,N.pm,N.JN,Su,N.u0]:(H.push(N.zp),l.state.viewModeEnabled?[N.uN].concat(H):[N.ZM,N.uN,If.yQ,qp,Jp,Ge].concat(H,[Ge,N.pw,N.W3,Ge,N.EQ,N.y7,N.vD,Ht.JQ,N.s,Ge,N.FL,Ge,N.V,N.yA,N.zi,N.BZ,Ge,N.jl,N.kt,Ge,N.Qs,N.nz,N.xF,N.$h,Ge,N.X9]))},this.handleWheel=(0,y.tH)(function(P){if(P.preventDefault(),!Tu){var H=P.deltaX,ae=P.deltaY;if(P.metaKey||P.ctrlKey){var Ee=Math.sign(ae),Ae=100*T.V4,re=Math.abs(ae),q=ae;re>Ae&&(q=Ae*Ee);var Oe=l.state.zoom.value-q/100;return Oe+=Math.log10(Math.max(1,l.state.zoom.value))*-Ee*Math.min(1,re/20),l.translateCanvas(function(Ve){return Jt(Jt({},(0,h.E)({viewportX:l.lastViewportPosition.x,viewportY:l.lastViewportPosition.y,nextZoom:(0,be.j)(Oe)},Ve)),{},{shouldCacheIgnoreZoom:!0})}),void l.resetShouldCacheIgnoreZoomDebounced()}P.shiftKey?l.translateCanvas(function(Ve){var ze=Ve.zoom;return{scrollX:Ve.scrollX-(ae||H)/ze.value}}):l.translateCanvas(function(Ve){var ze=Ve.zoom,nt=Ve.scrollX,rt=Ve.scrollY;return{scrollX:nt-H/ze.value,scrollY:rt-ae/ze.value}})}}),this.savePointer=function(P,H,ae){var Ee,Ae;if(P&&H){var re=(0,y.dE)({clientX:P,clientY:H},l.state),q=re.x,Oe=re.y,Ve={x:q,y:Oe,tool:l.state.activeTool.type==="laser"?"laser":"pointer"};(Ee=(Ae=l.props).onPointerUpdate)===null||Ee===void 0||Ee.call(Ae,{pointer:Ve,button:ae,pointersMap:Fr.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,y.Ds)(function(){l.unmounted||l.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(P){var H;if((H=l.excalidrawContainerRef)!==null&&H!==void 0&&H.current){var ae=l.excalidrawContainerRef.current.getBoundingClientRect(),Ee=ae.width,Ae=ae.height,re=ae.left,q=ae.top,Oe=l.state,Ve=Oe.width,ze=Oe.height,nt=Oe.offsetTop,rt=Oe.offsetLeft;if(Ee===Ve&&Ae===ze&&re===rt&&q===nt)return void(P&&P());l.setState({width:Ee,height:Ae,offsetLeft:re,offsetTop:q},function(){P&&P()})}},this.refresh=function(){l.setState(Jt({},l.getCanvasOffsets()))}};T.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var l;return(l=this.app)===null||l===void 0?void 0:l.scene.getElementsIncludingDeleted()},set:function(l){var P;return(P=this.app)===null||P===void 0?void 0:P.scene.replaceAllElements(l)}}}));var FE=mm},8806:function(Q,z,o){o.d(z,{z:function(){return I}});var M=o(7169),p=o(2726),f=o(45),u=o(9827),E=o(3379),R=o.n(E),k=o(7795),d=o.n(k),L=o(569),W=o.n(L),Y=o(3565),ee=o.n(Y),S=o(9216),B=o.n(S),he=o(4589),ge=o.n(he),ve=o(3137),me={};me.styleTagTransform=ge(),me.setAttributes=ee(),me.insert=W().bind(null,"head"),me.domAPI=d(),me.insertStyleElement=B(),R()(ve.Z,me),ve.Z&&ve.Z.locals&&ve.Z.locals;var le=o(1020),N=["type","onSelect","selected","children","className"];function oe(A,C){var U=Object.keys(A);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(A);C&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(A,T).enumerable})),U.push.apply(U,y)}return U}function O(A){for(var C=1;C<arguments.length;C++){var U=arguments[C]!=null?arguments[C]:{};C%2?oe(Object(U),!0).forEach(function(y){(0,M.Z)(A,y,U[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(U)):oe(Object(U)).forEach(function(y){Object.defineProperty(A,y,Object.getOwnPropertyDescriptor(U,y))})}return A}var I=function(A){var C=A.type,U=C===void 0?"button":C,y=A.onSelect,T=A.selected,s=A.children,D=A.className,b=D===void 0?"":D,v=(0,p.Z)(A,N);return(0,le.jsx)("button",O(O({onClick:(0,u.Mj)(v.onClick,function(x){y()}),type:U,className:(0,f.Z)("excalidraw-button",b,{selected:T})},v),{},{children:s}))}},6238:function(Q,z,o){o.d(z,{o:function(){return me}});var M=o(45),p=o(8935),f=o(3379),u=o.n(f),E=o(7795),R=o.n(E),k=o(569),d=o.n(k),L=o(3565),W=o.n(L),Y=o(9216),ee=o.n(Y),S=o(4589),B=o.n(S),he=o(6029),ge={};ge.styleTagTransform=B(),ge.setAttributes=W(),ge.insert=d().bind(null,"head"),ge.domAPI=R(),ge.insertStyleElement=ee(),u()(he.Z,ge),he.Z&&he.Z.locals&&he.Z.locals;var ve=o(1020),me=function(le){var N=le.children,oe=le.checked,O=le.onChange,I=le.className;return(0,ve.jsxs)("div",{className:(0,M.Z)("Checkbox",I,{"is-checked":oe}),onClick:function(A){O(!oe,A),A.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ve.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":oe,children:p.eQ}),(0,ve.jsx)("div",{className:"Checkbox-label",children:N})]})}},193:function(Q,z,o){o.d(z,{z:function(){return em},L:function(){return va}});var M=o(2577),p=o(9827),f=o(45),u=o(9240),E=o(1020),R=function(Ce){var Ye,Xe=Ce.onChange,Qe=Ce.type,lt=Ce.activeColor,ft=Ce.topPicks;return Qe==="elementStroke"&&(Ye=u.fY),Qe==="elementBackground"&&(Ye=u.eq),Qe==="canvasBackground"&&(Ye=u.ay),ft&&(Ye=ft),Ye?(0,E.jsx)("div",{className:"color-picker__top-picks",children:Ye.map(function(vt){return(0,E.jsx)("button",{className:(0,f.Z)("color-picker__button",{active:vt===lt,"is-transparent":vt==="transparent"||!vt}),style:{"--swatch-color":vt},type:"button",title:vt,onClick:function(){return Xe(vt)},"data-testid":"color-top-pick-".concat(vt),children:(0,E.jsx)("div",{className:"color-picker__button-outline"})},vt)})}):(console.error("Invalid type for TopPicks"),null)},k=o(9787),d=o.n(k),L=o(8227),W=o(3607),Y=o(1930),ee=function(Ce){for(var Ye=Ce.palette,Xe=Ce.color,Qe=0,lt=Object.entries(Ye);Qe<lt.length;Qe++){var ft=(0,M.Z)(lt[Qe],2),vt=ft[0],ut=ft[1];if(Array.isArray(ut)){var Ht=ut.indexOf(Xe);if(Ht>-1)return{colorName:vt,shade:Ht}}else if(ut===Xe)return{colorName:vt,shade:null}}return null},S=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),B=function(Ce){var Ye=Ce.color,Xe=Ce.palette;return!Object.values(Xe).flat().includes(Ye)},he=(0,W.cn)(null),ge=function(Ce,Ye,Xe){return(299*Ce+587*Ye+114*Xe)/1e3>=160?"black":"white"},ve=function(Ce,Ye){if(Ye){var Xe=new Option().style;if(Xe.color=Ce,Xe.color){var Qe=Xe.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),lt=parseInt(Qe[0]),ft=parseInt(Qe[1]),vt=parseInt(Qe[2]);return ge(lt,ft,vt)}}if(Ce==="transparent")return"black";var ut=parseInt(Ce.substring(1,3),16),Ht=parseInt(Ce.substring(3,5),16),gn=parseInt(Ce.substring(5,7),16);return ge(ut,Ht,gn)},me=function(Ce){var Ye=Ce.color,Xe=Ce.keyLabel,Qe=Ce.isCustomColor,lt=Qe!==void 0&&Qe,ft=Ce.isShade,vt=ft!==void 0&&ft;return(0,E.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:ve(Ye,lt)},children:[vt&&"",Xe]})},le=function(Ce){var Ye=Ce.hex,Xe=Ce.onChange,Qe=Ce.palette,lt=ee({color:Ye||"transparent",palette:Qe}),ft=(0,W.KO)(he),vt=(0,M.Z)(ft,2),ut=vt[0],Ht=vt[1],gn=(0,k.useRef)(null);if((0,k.useEffect)(function(){gn.current&&ut==="shades"&&gn.current.focus()},[lt,ut]),lt){var tn=lt.colorName,zt=lt.shade,kn=Qe[tn];if(Array.isArray(kn))return(0,E.jsx)("div",{className:"color-picker-content--default shades",children:kn.map(function(nn,En){return(0,E.jsxs)("button",{ref:En===zt&&ut==="shades"?gn:void 0,tabIndex:-1,type:"button",className:(0,f.Z)("color-picker__button color-picker__button--large",{active:En===zt}),"aria-label":"Shade",title:"".concat(tn," - ").concat(En+1),style:nn?{"--swatch-color":nn}:void 0,onClick:function(){Xe(nn),Ht("shades")},children:[(0,E.jsx)("div",{className:"color-picker__button-outline"}),(0,E.jsx)(me,{color:nn,keyLabel:En+1,isShade:!0})]},En)})})}return(0,E.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,E.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,E.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,L.t)("colorPicker.noShades")})]})},N=function(Ce){var Ye=Ce.palette,Xe=Ce.color,Qe=Ce.onChange,lt=(Ce.label,Ce.activeShade),ft=ee({color:Xe||"transparent",palette:Ye}),vt=(0,W.KO)(he),ut=(0,M.Z)(vt,2),Ht=ut[0],gn=ut[1],tn=(0,k.useRef)(null);return(0,k.useEffect)(function(){tn.current&&Ht==="baseColors"&&tn.current.focus()},[ft==null?void 0:ft.colorName,Ht]),(0,E.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Ye).map(function(zt,kn){var nn=(0,M.Z)(zt,2),En=nn[0],qt=nn[1],bn=(Array.isArray(qt)?qt[lt]:qt)||"transparent",Rn=S[kn],Zn=(0,L.t)("colors.".concat(En.replace(/\d+/,"")),null,"");return(0,E.jsxs)("button",{ref:(ft==null?void 0:ft.colorName)===En?tn:void 0,tabIndex:-1,type:"button",className:(0,f.Z)("color-picker__button color-picker__button--large",{active:(ft==null?void 0:ft.colorName)===En,"is-transparent":bn==="transparent"||!bn}),onClick:function(){Qe(bn),gn("baseColors")},title:"".concat(Zn).concat(bn.startsWith("#")?" ".concat(bn):"","  ").concat(Rn),"aria-label":"".concat(Zn,"  ").concat(Rn),style:bn?{"--swatch-color":bn}:void 0,"data-testid":"color-".concat(En),children:[(0,E.jsx)("div",{className:"color-picker__button-outline"}),(0,E.jsx)(me,{color:bn,keyLabel:Rn})]},En)})})},oe=function(Ce){var Ye=Ce.colors,Xe=Ce.color,Qe=Ce.onChange,lt=Ce.label,ft=(0,W.KO)(he),vt=(0,M.Z)(ft,2),ut=vt[0],Ht=vt[1],gn=(0,k.useRef)(null);return(0,k.useEffect)(function(){gn.current&&gn.current.focus()},[Xe,ut]),(0,E.jsx)("div",{className:"color-picker-content--default",children:Ye.map(function(tn,zt){return(0,E.jsxs)("button",{ref:Xe===tn?gn:void 0,tabIndex:-1,type:"button",className:(0,f.Z)("color-picker__button color-picker__button--large",{active:Xe===tn,"is-transparent":tn==="transparent"||!tn}),onClick:function(){Qe(tn),Ht("custom")},title:tn,"aria-label":lt,style:{"--swatch-color":tn},children:[(0,E.jsx)("div",{className:"color-picker__button-outline"}),(0,E.jsx)(me,{color:tn,keyLabel:zt+1,isCustomColor:!0})]},zt)})})},O=o(5491),I=function(Ce,Ye,Xe){var Qe,lt=Math.ceil(Xe/u.dC);switch(Ye=(Qe=Ye)!==null&&Qe!==void 0?Qe:-1,Ce){case"ArrowLeft":var ft=Ye-1;return ft<0?Xe-1:ft;case"ArrowRight":return(Ye+1)%Xe;case"ArrowDown":var vt=Ye+u.dC;return vt>=Xe?Ye%u.dC:vt;case"ArrowUp":var ut=Ye-u.dC,Ht=ut<0?u.dC*lt+ut:ut;return Ht>=Xe?void 0:Ht}},A=function(Ce){var Ye=Ce.event,Xe=Ce.activeColorPickerSection,Qe=Ce.palette,lt=Ce.color,ft=Ce.onChange,vt=Ce.customColors,ut=Ce.setActiveColorPickerSection,Ht=(Ce.updateData,Ce.activeShade),gn=Ce.onEyeDropperToggle,tn=Ce.onEscape;if(Ye[O.tW.CTRL_OR_CMD])return!1;if(Ye.key===O.tW.ESCAPE)return tn(Ye),!0;if(Ye.key===O.tW.ALT)return gn(!0),!0;if(Ye.key===O.tW.I)return gn(),!0;var zt=ee({color:lt,palette:Qe});if(Ye.key===O.tW.TAB){var kn={custom:!!vt.length,baseColors:!0,shades:(zt==null?void 0:zt.shade)!=null,hex:!0},nn=Object.entries(kn).reduce(function(vr,wr){var Wr=(0,M.Z)(wr,2),Mr=Wr[0];return Wr[1]&&vr.push(Mr),vr},[]),En=nn.indexOf(Xe),qt=Ye.shiftKey?-1:1,bn=nn[En+qt>nn.length-1?0:En+qt<0?nn.length-1:En+qt];return bn&&ut(bn),bn==="custom"?ft(vt[0]):bn==="baseColors"&&(Object.entries(Qe).find(function(vr){var wr=(0,M.Z)(vr,2),Wr=wr[0],Mr=wr[1];return Array.isArray(Mr)?Mr.includes(lt):Mr===lt?Wr:null})||ft(u.HO.black)),Ye.preventDefault(),Ye.stopPropagation(),!0}if(function(vr){var wr=vr.e,Wr=vr.colorObj,Mr=vr.onChange,eo=vr.palette,to=vr.customColors,na=vr.setActiveColorPickerSection,ii=vr.activeShade;if((Wr==null?void 0:Wr.shade)!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(wr.code)&&wr.shiftKey){var Pi=Number(wr.code.slice(-1))-1;return Mr(eo[Wr.colorName][Pi]),na("shades"),!0}if(["1","2","3","4","5"].includes(wr.key)&&to[Number(wr.key)-1])return Mr(to[Number(wr.key)-1]),na("custom"),!0;if(S.includes(wr.key)){var ns=S.indexOf(wr.key),ra=eo[Object.keys(eo)[ns]];return Mr(Array.isArray(ra)?ra[ii]:ra),na("baseColors"),!0}return!1}({e:Ye,colorObj:zt,onChange:ft,palette:Qe,customColors:vt,setActiveColorPickerSection:ut,activeShade:Ht}))return!0;if(Xe==="shades"&&zt){var Rn=zt.shade,Zn=I(Ye.key,Rn,u.dC);if(Zn!==void 0)return ft(Qe[zt.colorName][Zn]),!0}if(Xe==="baseColors"&&zt){var An=zt.colorName,Pn=Object.keys(Qe),er=Pn.indexOf(An),gr=I(Ye.key,er,Pn.length);if(gr!==void 0){var xr=Qe[Pn[gr]];return ft(Array.isArray(xr)?xr[Ht]:xr),!0}}if(Xe==="custom"){var Yn=vt.indexOf(lt),fr=I(Ye.key,Yn,vt.length);if(fr!==void 0)return ft(vt[fr]),!0}return!1},C=function(Ce){var Ye=Ce.children;return(0,E.jsx)("div",{className:"color-picker__heading",children:Ye})},U=o(9937),y=function(Ce){var Ye,Xe=Ce.color,Qe=Ce.onChange,lt=Ce.label,ft=Ce.type,vt=Ce.elements,ut=Ce.palette,Ht=Ce.updateData,gn=Ce.children,tn=Ce.onEyeDropperToggle,zt=Ce.onEscape,kn=d().useState(function(){return ft==="canvasBackground"?[]:function(Yn,fr,vr){var wr={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Wr=Yn.filter(function(eo){if(eo.isDeleted)return!1;var to=eo[wr[fr]];return B({color:to,palette:vr})}),Mr=new Map;return Wr.forEach(function(eo){var to=eo[wr[fr]];Mr.has(to)?Mr.set(to,Mr.get(to)+1):Mr.set(to,1)}),(0,Y.Z)(Mr.entries()).sort(function(eo,to){return to[1]-eo[1]}).map(function(eo){return eo[0]}).slice(0,u.Lx)}(vt,ft,ut)}),nn=(0,M.Z)(kn,1)[0],En=(0,W.KO)(he),qt=(0,M.Z)(En,2),bn=qt[0],Rn=qt[1],Zn=ee({color:Xe,palette:ut});(0,k.useEffect)(function(){if(!bn){var Yn=B({color:Xe,palette:ut}),fr=Yn&&!nn.includes(Xe);Rn(fr?"hex":Yn?"custom":(Zn==null?void 0:Zn.shade)!=null?"shades":"baseColors")}},[bn,Xe,ut,Rn,Zn,nn]);var An=(0,k.useState)((Ye=Zn==null?void 0:Zn.shade)!==null&&Ye!==void 0?Ye:ft==="elementBackground"?u._T:u.z8),Pn=(0,M.Z)(An,2),er=Pn[0],gr=Pn[1];(0,k.useEffect)(function(){(Zn==null?void 0:Zn.shade)!=null&&gr(Zn.shade);var Yn=function(fr){fr.key===O.tW.ALT&&tn(!1)};return document.addEventListener(U.Ks.KEYUP,Yn,{capture:!0}),function(){document.removeEventListener(U.Ks.KEYUP,Yn,{capture:!0})}},[Zn,tn]);var xr=d().useRef(null);return(0,E.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,L.t)("labels.colorPicker"),children:(0,E.jsxs)("div",{ref:xr,onKeyDown:function(Yn){A({event:Yn,activeColorPickerSection:bn,palette:ut,color:Xe,onChange:Qe,onEyeDropperToggle:tn,customColors:nn,setActiveColorPickerSection:Rn,updateData:Ht,activeShade:er,onEscape:zt})&&(Yn.preventDefault(),Yn.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!nn.length&&(0,E.jsxs)("div",{children:[(0,E.jsx)(C,{children:(0,L.t)("colorPicker.mostUsedCustomColors")}),(0,E.jsx)(oe,{colors:nn,color:Xe,label:(0,L.t)("colorPicker.mostUsedCustomColors"),onChange:Qe})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)(C,{children:(0,L.t)("colorPicker.colors")}),(0,E.jsx)(N,{color:Xe,label:lt,palette:ut,onChange:Qe,activeShade:er})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)(C,{children:(0,L.t)("colorPicker.shades")}),(0,E.jsx)(le,{hex:Xe,onChange:Qe,palette:ut})]}),gn]})})},T=o(11),s=o(7217),D=o(9335),b=o(1267),v=o(3119),x=o(3060);const j="dismissableLayer.update",te="dismissableLayer.pointerDownOutside",V="dismissableLayer.focusOutside";let F;const Z=(0,k.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ne=(0,k.forwardRef)((Ce,Ye)=>{var Xe;const{disableOutsidePointerEvents:Qe=!1,onEscapeKeyDown:lt,onPointerDownOutside:ft,onFocusOutside:vt,onInteractOutside:ut,onDismiss:Ht,...gn}=Ce,tn=(0,k.useContext)(Z),[zt,kn]=(0,k.useState)(null),nn=(Xe=zt==null?void 0:zt.ownerDocument)!==null&&Xe!==void 0?Xe:globalThis==null?void 0:globalThis.document,[,En]=(0,k.useState)({}),qt=(0,D.e)(Ye,Yn=>kn(Yn)),bn=Array.from(tn.layers),[Rn]=[...tn.layersWithOutsidePointerEventsDisabled].slice(-1),Zn=bn.indexOf(Rn),An=zt?bn.indexOf(zt):-1,Pn=tn.layersWithOutsidePointerEventsDisabled.size>0,er=An>=Zn,gr=function(Yn,fr=globalThis==null?void 0:globalThis.document){const vr=(0,x.W)(Yn),wr=(0,k.useRef)(!1),Wr=(0,k.useRef)(()=>{});return(0,k.useEffect)(()=>{const Mr=to=>{if(to.target&&!wr.current){let Pi=function(){Se(te,vr,ii,{discrete:!0})};var na=Pi;const ii={originalEvent:to};to.pointerType==="touch"?(fr.removeEventListener("click",Wr.current),Wr.current=Pi,fr.addEventListener("click",Wr.current,{once:!0})):Pi()}wr.current=!1},eo=window.setTimeout(()=>{fr.addEventListener("pointerdown",Mr)},0);return()=>{window.clearTimeout(eo),fr.removeEventListener("pointerdown",Mr),fr.removeEventListener("click",Wr.current)}},[fr,vr]),{onPointerDownCapture:()=>wr.current=!0}}(Yn=>{const fr=Yn.target,vr=[...tn.branches].some(wr=>wr.contains(fr));er&&!vr&&(ft==null||ft(Yn),ut==null||ut(Yn),Yn.defaultPrevented||Ht==null||Ht())},nn),xr=function(Yn,fr=globalThis==null?void 0:globalThis.document){const vr=(0,x.W)(Yn),wr=(0,k.useRef)(!1);return(0,k.useEffect)(()=>{const Wr=Mr=>{Mr.target&&!wr.current&&Se(V,vr,{originalEvent:Mr},{discrete:!1})};return fr.addEventListener("focusin",Wr),()=>fr.removeEventListener("focusin",Wr)},[fr,vr]),{onFocusCapture:()=>wr.current=!0,onBlurCapture:()=>wr.current=!1}}(Yn=>{const fr=Yn.target;[...tn.branches].some(vr=>vr.contains(fr))||(vt==null||vt(Yn),ut==null||ut(Yn),Yn.defaultPrevented||Ht==null||Ht())},nn);return function(Yn,fr=globalThis==null?void 0:globalThis.document){const vr=(0,x.W)(Yn);(0,k.useEffect)(()=>{const wr=Wr=>{Wr.key==="Escape"&&vr(Wr)};return fr.addEventListener("keydown",wr),()=>fr.removeEventListener("keydown",wr)},[vr,fr])}(Yn=>{An===tn.layers.size-1&&(lt==null||lt(Yn),!Yn.defaultPrevented&&Ht&&(Yn.preventDefault(),Ht()))},nn),(0,k.useEffect)(()=>{if(zt)return Qe&&(tn.layersWithOutsidePointerEventsDisabled.size===0&&(F=nn.body.style.pointerEvents,nn.body.style.pointerEvents="none"),tn.layersWithOutsidePointerEventsDisabled.add(zt)),tn.layers.add(zt),ce(),()=>{Qe&&tn.layersWithOutsidePointerEventsDisabled.size===1&&(nn.body.style.pointerEvents=F)}},[zt,nn,Qe,tn]),(0,k.useEffect)(()=>()=>{zt&&(tn.layers.delete(zt),tn.layersWithOutsidePointerEventsDisabled.delete(zt),ce())},[zt,tn]),(0,k.useEffect)(()=>{const Yn=()=>En({});return document.addEventListener(j,Yn),()=>document.removeEventListener(j,Yn)},[]),(0,k.createElement)(v.WV.div,(0,T.Z)({},gn,{ref:qt,style:{pointerEvents:Pn?er?"auto":"none":void 0,...Ce.style},onFocusCapture:(0,s.M)(Ce.onFocusCapture,xr.onFocusCapture),onBlurCapture:(0,s.M)(Ce.onBlurCapture,xr.onBlurCapture),onPointerDownCapture:(0,s.M)(Ce.onPointerDownCapture,gr.onPointerDownCapture)}))});function ce(){const Ce=new CustomEvent(j);document.dispatchEvent(Ce)}function Se(Ce,Ye,Xe,{discrete:Qe}){const lt=Xe.originalEvent.target,ft=new CustomEvent(Ce,{bubbles:!1,cancelable:!0,detail:Xe});Ye&&lt.addEventListener(Ce,Ye,{once:!0}),Qe?(0,v.jH)(lt,ft):lt.dispatchEvent(ft)}let de=0;function _e(){(0,k.useEffect)(()=>{var Ce,Ye;const Xe=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(Ce=Xe[0])!==null&&Ce!==void 0?Ce:we()),document.body.insertAdjacentElement("beforeend",(Ye=Xe[1])!==null&&Ye!==void 0?Ye:we()),de++,()=>{de===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Qe=>Qe.remove()),de--}},[])}function we(){const Ce=document.createElement("span");return Ce.setAttribute("data-radix-focus-guard",""),Ce.tabIndex=0,Ce.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",Ce}const J="focusScope.autoFocusOnMount",xe="focusScope.autoFocusOnUnmount",je={bubbles:!1,cancelable:!0},Ue=(0,k.forwardRef)((Ce,Ye)=>{const{loop:Xe=!1,trapped:Qe=!1,onMountAutoFocus:lt,onUnmountAutoFocus:ft,...vt}=Ce,[ut,Ht]=(0,k.useState)(null),gn=(0,x.W)(lt),tn=(0,x.W)(ft),zt=(0,k.useRef)(null),kn=(0,D.e)(Ye,qt=>Ht(qt)),nn=(0,k.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,k.useEffect)(()=>{if(Qe){let Rn=function(An){if(nn.paused||!ut)return;const Pn=An.target;ut.contains(Pn)?zt.current=Pn:De(zt.current,{select:!0})},Zn=function(An){!nn.paused&&ut&&(ut.contains(An.relatedTarget)||De(zt.current,{select:!0}))};var qt=Rn,bn=Zn;return document.addEventListener("focusin",Rn),document.addEventListener("focusout",Zn),()=>{document.removeEventListener("focusin",Rn),document.removeEventListener("focusout",Zn)}}},[Qe,ut,nn.paused]),(0,k.useEffect)(()=>{if(ut){Be.add(nn);const bn=document.activeElement;if(!ut.contains(bn)){const Rn=new CustomEvent(J,je);ut.addEventListener(J,gn),ut.dispatchEvent(Rn),Rn.defaultPrevented||(function(Zn,{select:An=!1}={}){const Pn=document.activeElement;for(const er of Zn)if(De(er,{select:An}),document.activeElement!==Pn)return}((qt=et(ut),qt.filter(Zn=>Zn.tagName!=="A")),{select:!0}),document.activeElement===bn&&De(ut))}return()=>{ut.removeEventListener(J,gn),setTimeout(()=>{const Rn=new CustomEvent(xe,je);ut.addEventListener(xe,tn),ut.dispatchEvent(Rn),Rn.defaultPrevented||De(bn??document.body,{select:!0}),ut.removeEventListener(xe,tn),Be.remove(nn)},0)}}var qt},[ut,gn,tn,nn]);const En=(0,k.useCallback)(qt=>{if(!Xe&&!Qe||nn.paused)return;const bn=qt.key==="Tab"&&!qt.altKey&&!qt.ctrlKey&&!qt.metaKey,Rn=document.activeElement;if(bn&&Rn){const Zn=qt.currentTarget,[An,Pn]=function(er){const gr=et(er),xr=He(gr,er),Yn=He(gr.reverse(),er);return[xr,Yn]}(Zn);An&&Pn?qt.shiftKey||Rn!==Pn?qt.shiftKey&&Rn===An&&(qt.preventDefault(),Xe&&De(Pn,{select:!0})):(qt.preventDefault(),Xe&&De(An,{select:!0})):Rn===Zn&&qt.preventDefault()}},[Xe,Qe,nn.paused]);return(0,k.createElement)(v.WV.div,(0,T.Z)({tabIndex:-1},vt,{ref:kn,onKeyDown:En}))});function et(Ce){const Ye=[],Xe=document.createTreeWalker(Ce,NodeFilter.SHOW_ELEMENT,{acceptNode:Qe=>{const lt=Qe.tagName==="INPUT"&&Qe.type==="hidden";return Qe.disabled||Qe.hidden||lt?NodeFilter.FILTER_SKIP:Qe.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Xe.nextNode();)Ye.push(Xe.currentNode);return Ye}function He(Ce,Ye){for(const Xe of Ce)if(!Le(Xe,{upTo:Ye}))return Xe}function Le(Ce,{upTo:Ye}){if(getComputedStyle(Ce).visibility==="hidden")return!0;for(;Ce;){if(Ye!==void 0&&Ce===Ye)return!1;if(getComputedStyle(Ce).display==="none")return!0;Ce=Ce.parentElement}return!1}function De(Ce,{select:Ye=!1}={}){if(Ce&&Ce.focus){const Xe=document.activeElement;Ce.focus({preventScroll:!0}),Ce!==Xe&&function(Qe){return Qe instanceof HTMLInputElement&&"select"in Qe}(Ce)&&Ye&&Ce.select()}}const Be=function(){let Ce=[];return{add(Ye){const Xe=Ce[0];Ye!==Xe&&(Xe==null||Xe.pause()),Ce=Ze(Ce,Ye),Ce.unshift(Ye)},remove(Ye){var Xe;Ce=Ze(Ce,Ye),(Xe=Ce[0])===null||Xe===void 0||Xe.resume()}}}();function Ze(Ce,Ye){const Xe=[...Ce],Qe=Xe.indexOf(Ye);return Qe!==-1&&Xe.splice(Qe,1),Xe}var ye=o(5622);function be(Ce){return Ce.split("-")[0]}function X(Ce){return Ce.split("-")[1]}function h(Ce){return["top","bottom"].includes(be(Ce))?"x":"y"}function m(Ce){return Ce==="y"?"height":"width"}function _(Ce,Ye,Xe){let{reference:Qe,floating:lt}=Ce;const ft=Qe.x+Qe.width/2-lt.width/2,vt=Qe.y+Qe.height/2-lt.height/2,ut=h(Ye),Ht=m(ut),gn=Qe[Ht]/2-lt[Ht]/2,tn=ut==="x";let zt;switch(be(Ye)){case"top":zt={x:ft,y:Qe.y-lt.height};break;case"bottom":zt={x:ft,y:Qe.y+Qe.height};break;case"right":zt={x:Qe.x+Qe.width,y:vt};break;case"left":zt={x:Qe.x-lt.width,y:vt};break;default:zt={x:Qe.x,y:Qe.y}}switch(X(Ye)){case"start":zt[ut]-=gn*(Xe&&tn?-1:1);break;case"end":zt[ut]+=gn*(Xe&&tn?-1:1)}return zt}function G(Ce){return typeof Ce!="number"?function(Ye){return{top:0,right:0,bottom:0,left:0,...Ye}}(Ce):{top:Ce,right:Ce,bottom:Ce,left:Ce}}function $(Ce){return{...Ce,top:Ce.y,left:Ce.x,right:Ce.x+Ce.width,bottom:Ce.y+Ce.height}}async function ue(Ce,Ye){var Xe;Ye===void 0&&(Ye={});const{x:Qe,y:lt,platform:ft,rects:vt,elements:ut,strategy:Ht}=Ce,{boundary:gn="clippingAncestors",rootBoundary:tn="viewport",elementContext:zt="floating",altBoundary:kn=!1,padding:nn=0}=Ye,En=G(nn),qt=ut[kn?zt==="floating"?"reference":"floating":zt],bn=$(await ft.getClippingRect({element:(Xe=await(ft.isElement==null?void 0:ft.isElement(qt)))==null||Xe?qt:qt.contextElement||await(ft.getDocumentElement==null?void 0:ft.getDocumentElement(ut.floating)),boundary:gn,rootBoundary:tn,strategy:Ht})),Rn=$(ft.convertOffsetParentRelativeRectToViewportRelativeRect?await ft.convertOffsetParentRelativeRectToViewportRelativeRect({rect:zt==="floating"?{...vt.floating,x:Qe,y:lt}:vt.reference,offsetParent:await(ft.getOffsetParent==null?void 0:ft.getOffsetParent(ut.floating)),strategy:Ht}):vt[zt]);return{top:bn.top-Rn.top+En.top,bottom:Rn.bottom-bn.bottom+En.bottom,left:bn.left-Rn.left+En.left,right:Rn.right-bn.right+En.right}}const ie=Math.min,pe=Math.max;function Pe(Ce,Ye,Xe){return pe(Ce,ie(Ye,Xe))}const Me=Ce=>({name:"arrow",options:Ce,async fn(Ye){const{element:Xe,padding:Qe=0}=Ce??{},{x:lt,y:ft,placement:vt,rects:ut,platform:Ht}=Ye;if(Xe==null)return{};const gn=G(Qe),tn={x:lt,y:ft},zt=h(vt),kn=X(vt),nn=m(zt),En=await Ht.getDimensions(Xe),qt=zt==="y"?"top":"left",bn=zt==="y"?"bottom":"right",Rn=ut.reference[nn]+ut.reference[zt]-tn[zt]-ut.floating[nn],Zn=tn[zt]-ut.reference[zt],An=await(Ht.getOffsetParent==null?void 0:Ht.getOffsetParent(Xe));let Pn=An?zt==="y"?An.clientHeight||0:An.clientWidth||0:0;Pn===0&&(Pn=ut.floating[nn]);const er=Rn/2-Zn/2,gr=gn[qt],xr=Pn-En[nn]-gn[bn],Yn=Pn/2-En[nn]/2+er,fr=Pe(gr,Yn,xr),vr=(kn==="start"?gn[qt]:gn[bn])>0&&Yn!==fr&&ut.reference[nn]<=ut.floating[nn];return{[zt]:tn[zt]-(vr?Yn<gr?gr-Yn:xr-Yn:0),data:{[zt]:fr,centerOffset:Yn-fr}}}}),$e={left:"right",right:"left",bottom:"top",top:"bottom"};function Ke(Ce){return Ce.replace(/left|right|bottom|top/g,Ye=>$e[Ye])}function qe(Ce,Ye,Xe){Xe===void 0&&(Xe=!1);const Qe=X(Ce),lt=h(Ce),ft=m(lt);let vt=lt==="x"?Qe===(Xe?"end":"start")?"right":"left":Qe==="start"?"bottom":"top";return Ye.reference[ft]>Ye.floating[ft]&&(vt=Ke(vt)),{main:vt,cross:Ke(vt)}}const Fe={start:"end",end:"start"};function ot(Ce){return Ce.replace(/start|end/g,Ye=>Fe[Ye])}const it=["top","right","bottom","left"],ht=(it.reduce((Ce,Ye)=>Ce.concat(Ye,Ye+"-start",Ye+"-end"),[]),function(Ce){return Ce===void 0&&(Ce={}),{name:"flip",options:Ce,async fn(Ye){var Xe;const{placement:Qe,middlewareData:lt,rects:ft,initialPlacement:vt,platform:ut,elements:Ht}=Ye,{mainAxis:gn=!0,crossAxis:tn=!0,fallbackPlacements:zt,fallbackStrategy:kn="bestFit",flipAlignment:nn=!0,...En}=Ce,qt=be(Qe),bn=zt||(qt!==vt&&nn?function(Yn){const fr=Ke(Yn);return[ot(Yn),fr,ot(fr)]}(vt):[Ke(vt)]),Rn=[vt,...bn],Zn=await ue(Ye,En),An=[];let Pn=((Xe=lt.flip)==null?void 0:Xe.overflows)||[];if(gn&&An.push(Zn[qt]),tn){const{main:Yn,cross:fr}=qe(Qe,ft,await(ut.isRTL==null?void 0:ut.isRTL(Ht.floating)));An.push(Zn[Yn],Zn[fr])}if(Pn=[...Pn,{placement:Qe,overflows:An}],!An.every(Yn=>Yn<=0)){var er,gr;const Yn=((er=(gr=lt.flip)==null?void 0:gr.index)!=null?er:0)+1,fr=Rn[Yn];if(fr)return{data:{index:Yn,overflows:Pn},reset:{placement:fr}};let vr="bottom";switch(kn){case"bestFit":{var xr;const wr=(xr=Pn.map(Wr=>[Wr,Wr.overflows.filter(Mr=>Mr>0).reduce((Mr,eo)=>Mr+eo,0)]).sort((Wr,Mr)=>Wr[1]-Mr[1])[0])==null?void 0:xr[0].placement;wr&&(vr=wr);break}case"initialPlacement":vr=vt}if(Qe!==vr)return{reset:{placement:vr}}}return{}}}});function Te(Ce,Ye){return{top:Ce.top-Ye.height,right:Ce.right-Ye.width,bottom:Ce.bottom-Ye.height,left:Ce.left-Ye.width}}function Ie(Ce){return it.some(Ye=>Ce[Ye]>=0)}const Ge=function(Ce){let{strategy:Ye="referenceHidden",...Xe}=Ce===void 0?{}:Ce;return{name:"hide",async fn(Qe){const{rects:lt}=Qe;switch(Ye){case"referenceHidden":{const ft=Te(await ue(Qe,{...Xe,elementContext:"reference"}),lt.reference);return{data:{referenceHiddenOffsets:ft,referenceHidden:Ie(ft)}}}case"escaped":{const ft=Te(await ue(Qe,{...Xe,altBoundary:!0}),lt.floating);return{data:{escapedOffsets:ft,escaped:Ie(ft)}}}default:return{}}}}},tt=function(Ce){return Ce===void 0&&(Ce=0),{name:"offset",options:Ce,async fn(Ye){const{x:Xe,y:Qe}=Ye,lt=await async function(ft,vt){const{placement:ut,platform:Ht,elements:gn}=ft,tn=await(Ht.isRTL==null?void 0:Ht.isRTL(gn.floating)),zt=be(ut),kn=X(ut),nn=h(ut)==="x",En=["left","top"].includes(zt)?-1:1,qt=tn&&nn?-1:1,bn=typeof vt=="function"?vt(ft):vt;let{mainAxis:Rn,crossAxis:Zn,alignmentAxis:An}=typeof bn=="number"?{mainAxis:bn,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...bn};return kn&&typeof An=="number"&&(Zn=kn==="end"?-1*An:An),nn?{x:Zn*qt,y:Rn*En}:{x:Rn*En,y:Zn*qt}}(Ye,Ce);return{x:Xe+lt.x,y:Qe+lt.y,data:lt}}}};function dt(Ce){return Ce==="x"?"y":"x"}const ct=function(Ce){return Ce===void 0&&(Ce={}),{name:"shift",options:Ce,async fn(Ye){const{x:Xe,y:Qe,placement:lt}=Ye,{mainAxis:ft=!0,crossAxis:vt=!1,limiter:ut={fn:bn=>{let{x:Rn,y:Zn}=bn;return{x:Rn,y:Zn}}},...Ht}=Ce,gn={x:Xe,y:Qe},tn=await ue(Ye,Ht),zt=h(be(lt)),kn=dt(zt);let nn=gn[zt],En=gn[kn];if(ft){const bn=zt==="y"?"bottom":"right";nn=Pe(nn+tn[zt==="y"?"top":"left"],nn,nn-tn[bn])}if(vt){const bn=kn==="y"?"bottom":"right";En=Pe(En+tn[kn==="y"?"top":"left"],En,En-tn[bn])}const qt=ut.fn({...Ye,[zt]:nn,[kn]:En});return{...qt,data:{x:qt.x-Xe,y:qt.y-Qe}}}}},St=function(Ce){return Ce===void 0&&(Ce={}),{options:Ce,fn(Ye){const{x:Xe,y:Qe,placement:lt,rects:ft,middlewareData:vt}=Ye,{offset:ut=0,mainAxis:Ht=!0,crossAxis:gn=!0}=Ce,tn={x:Xe,y:Qe},zt=h(lt),kn=dt(zt);let nn=tn[zt],En=tn[kn];const qt=typeof ut=="function"?ut({...ft,placement:lt}):ut,bn=typeof qt=="number"?{mainAxis:qt,crossAxis:0}:{mainAxis:0,crossAxis:0,...qt};if(Ht){const er=zt==="y"?"height":"width",gr=ft.reference[zt]-ft.floating[er]+bn.mainAxis,xr=ft.reference[zt]+ft.reference[er]-bn.mainAxis;nn<gr?nn=gr:nn>xr&&(nn=xr)}if(gn){var Rn,Zn,An,Pn;const er=zt==="y"?"width":"height",gr=["top","left"].includes(be(lt)),xr=ft.reference[kn]-ft.floating[er]+(gr&&(Rn=(Zn=vt.offset)==null?void 0:Zn[kn])!=null?Rn:0)+(gr?0:bn.crossAxis),Yn=ft.reference[kn]+ft.reference[er]+(gr?0:(An=(Pn=vt.offset)==null?void 0:Pn[kn])!=null?An:0)-(gr?bn.crossAxis:0);En<xr?En=xr:En>Yn&&(En=Yn)}return{[zt]:nn,[kn]:En}}}},Pt=function(Ce){return Ce===void 0&&(Ce={}),{name:"size",options:Ce,async fn(Ye){const{placement:Xe,rects:Qe,platform:lt,elements:ft}=Ye,{apply:vt,...ut}=Ce,Ht=await ue(Ye,ut),gn=be(Xe),tn=X(Xe);let zt,kn;gn==="top"||gn==="bottom"?(zt=gn,kn=tn===(await(lt.isRTL==null?void 0:lt.isRTL(ft.floating))?"start":"end")?"left":"right"):(kn=gn,zt=tn==="end"?"top":"bottom");const nn=pe(Ht.left,0),En=pe(Ht.right,0),qt=pe(Ht.top,0),bn=pe(Ht.bottom,0),Rn={availableHeight:Qe.floating.height-(["left","right"].includes(Xe)?2*(qt!==0||bn!==0?qt+bn:pe(Ht.top,Ht.bottom)):Ht[zt]),availableWidth:Qe.floating.width-(["top","bottom"].includes(Xe)?2*(nn!==0||En!==0?nn+En:pe(Ht.left,Ht.right)):Ht[kn])},Zn=await lt.getDimensions(ft.floating);vt==null||vt({...Ye,...Rn});const An=await lt.getDimensions(ft.floating);return Zn.width!==An.width||Zn.height!==An.height?{reset:{rects:!0}}:{}}}};function mt(Ce){return Ce&&Ce.document&&Ce.location&&Ce.alert&&Ce.setInterval}function Nt(Ce){if(Ce==null)return window;if(!mt(Ce)){const Ye=Ce.ownerDocument;return Ye&&Ye.defaultView||window}return Ce}function Xt(Ce){return Nt(Ce).getComputedStyle(Ce)}function Zt(Ce){return mt(Ce)?"":Ce?(Ce.nodeName||"").toLowerCase():""}function Dt(){const Ce=navigator.userAgentData;return Ce!=null&&Ce.brands?Ce.brands.map(Ye=>Ye.brand+"/"+Ye.version).join(" "):navigator.userAgent}function on(Ce){return Ce instanceof Nt(Ce).HTMLElement}function an(Ce){return Ce instanceof Nt(Ce).Element}function st(Ce){return typeof ShadowRoot<"u"&&(Ce instanceof Nt(Ce).ShadowRoot||Ce instanceof ShadowRoot)}function At(Ce){const{overflow:Ye,overflowX:Xe,overflowY:Qe}=Xt(Ce);return/auto|scroll|overlay|hidden/.test(Ye+Qe+Xe)}function bt(Ce){return["table","td","th"].includes(Zt(Ce))}function jt(Ce){const Ye=/firefox/i.test(Dt()),Xe=Xt(Ce);return Xe.transform!=="none"||Xe.perspective!=="none"||Xe.contain==="paint"||["transform","perspective"].includes(Xe.willChange)||Ye&&Xe.willChange==="filter"||Ye&&!!Xe.filter&&Xe.filter!=="none"}function Et(){return!/^((?!chrome|android).)*safari/i.test(Dt())}const Vt=Math.min,Kt=Math.max,cn=Math.round;function Wt(Ce,Ye,Xe){var Qe,lt,ft,vt;Ye===void 0&&(Ye=!1),Xe===void 0&&(Xe=!1);const ut=Ce.getBoundingClientRect();let Ht=1,gn=1;Ye&&on(Ce)&&(Ht=Ce.offsetWidth>0&&cn(ut.width)/Ce.offsetWidth||1,gn=Ce.offsetHeight>0&&cn(ut.height)/Ce.offsetHeight||1);const tn=an(Ce)?Nt(Ce):window,zt=!Et()&&Xe,kn=(ut.left+(zt&&(Qe=(lt=tn.visualViewport)==null?void 0:lt.offsetLeft)!=null?Qe:0))/Ht,nn=(ut.top+(zt&&(ft=(vt=tn.visualViewport)==null?void 0:vt.offsetTop)!=null?ft:0))/gn,En=ut.width/Ht,qt=ut.height/gn;return{width:En,height:qt,top:nn,right:kn+En,bottom:nn+qt,left:kn,x:kn,y:nn}}function Mn(Ce){return(Ye=Ce,(Ye instanceof Nt(Ye).Node?Ce.ownerDocument:Ce.document)||window.document).documentElement;var Ye}function wn(Ce){return an(Ce)?{scrollLeft:Ce.scrollLeft,scrollTop:Ce.scrollTop}:{scrollLeft:Ce.pageXOffset,scrollTop:Ce.pageYOffset}}function Jn(Ce){return Wt(Mn(Ce)).left+wn(Ce).scrollLeft}function yt(Ce,Ye,Xe){const Qe=on(Ye),lt=Mn(Ye),ft=Wt(Ce,Qe&&function(Ht){const gn=Wt(Ht);return cn(gn.width)!==Ht.offsetWidth||cn(gn.height)!==Ht.offsetHeight}(Ye),Xe==="fixed");let vt={scrollLeft:0,scrollTop:0};const ut={x:0,y:0};if(Qe||!Qe&&Xe!=="fixed")if((Zt(Ye)!=="body"||At(lt))&&(vt=wn(Ye)),on(Ye)){const Ht=Wt(Ye,!0);ut.x=Ht.x+Ye.clientLeft,ut.y=Ht.y+Ye.clientTop}else lt&&(ut.x=Jn(lt));return{x:ft.left+vt.scrollLeft-ut.x,y:ft.top+vt.scrollTop-ut.y,width:ft.width,height:ft.height}}function Qt(Ce){return Zt(Ce)==="html"?Ce:Ce.assignedSlot||Ce.parentNode||(st(Ce)?Ce.host:null)||Mn(Ce)}function Ut(Ce){return on(Ce)&&getComputedStyle(Ce).position!=="fixed"?Ce.offsetParent:null}function Yt(Ce){const Ye=Nt(Ce);let Xe=Ut(Ce);for(;Xe&&bt(Xe)&&getComputedStyle(Xe).position==="static";)Xe=Ut(Xe);return Xe&&(Zt(Xe)==="html"||Zt(Xe)==="body"&&getComputedStyle(Xe).position==="static"&&!jt(Xe))?Ye:Xe||function(Qe){let lt=Qt(Qe);for(st(lt)&&(lt=lt.host);on(lt)&&!["html","body"].includes(Zt(lt));){if(jt(lt))return lt;lt=lt.parentNode}return null}(Ce)||Ye}function Bn(Ce){if(on(Ce))return{width:Ce.offsetWidth,height:Ce.offsetHeight};const Ye=Wt(Ce);return{width:Ye.width,height:Ye.height}}function Fn(Ce){const Ye=Qt(Ce);return["html","body","#document"].includes(Zt(Ye))?Ce.ownerDocument.body:on(Ye)&&At(Ye)?Ye:Fn(Ye)}function Hn(Ce,Ye){var Xe;Ye===void 0&&(Ye=[]);const Qe=Fn(Ce),lt=Qe===((Xe=Ce.ownerDocument)==null?void 0:Xe.body),ft=Nt(Qe),vt=lt?[ft].concat(ft.visualViewport||[],At(Qe)?Qe:[]):Qe,ut=Ye.concat(vt);return lt?ut:ut.concat(Hn(vt))}function rr(Ce,Ye,Xe){return Ye==="viewport"?$(function(Qe,lt){const ft=Nt(Qe),vt=Mn(Qe),ut=ft.visualViewport;let Ht=vt.clientWidth,gn=vt.clientHeight,tn=0,zt=0;if(ut){Ht=ut.width,gn=ut.height;const kn=Et();(kn||!kn&&lt==="fixed")&&(tn=ut.offsetLeft,zt=ut.offsetTop)}return{width:Ht,height:gn,x:tn,y:zt}}(Ce,Xe)):an(Ye)?function(Qe,lt){const ft=Wt(Qe,!1,lt==="fixed"),vt=ft.top+Qe.clientTop,ut=ft.left+Qe.clientLeft;return{top:vt,left:ut,x:ut,y:vt,right:ut+Qe.clientWidth,bottom:vt+Qe.clientHeight,width:Qe.clientWidth,height:Qe.clientHeight}}(Ye,Xe):$(function(Qe){var lt;const ft=Mn(Qe),vt=wn(Qe),ut=(lt=Qe.ownerDocument)==null?void 0:lt.body,Ht=Kt(ft.scrollWidth,ft.clientWidth,ut?ut.scrollWidth:0,ut?ut.clientWidth:0),gn=Kt(ft.scrollHeight,ft.clientHeight,ut?ut.scrollHeight:0,ut?ut.clientHeight:0);let tn=-vt.scrollLeft+Jn(Qe);const zt=-vt.scrollTop;return Xt(ut||ft).direction==="rtl"&&(tn+=Kt(ft.clientWidth,ut?ut.clientWidth:0)-Ht),{width:Ht,height:gn,x:tn,y:zt}}(Mn(Ce)))}function In(Ce){const Ye=Hn(Ce),Xe=["absolute","fixed"].includes(Xt(Ce).position)&&on(Ce)?Yt(Ce):Ce;return an(Xe)?Ye.filter(Qe=>an(Qe)&&function(lt,ft){const vt=ft.getRootNode==null?void 0:ft.getRootNode();if(lt.contains(ft))return!0;if(vt&&st(vt)){let ut=ft;do{if(ut&&lt===ut)return!0;ut=ut.parentNode||ut.host}while(ut)}return!1}(Qe,Xe)&&Zt(Qe)!=="body"):[]}const _t={getClippingRect:function(Ce){let{element:Ye,boundary:Xe,rootBoundary:Qe,strategy:lt}=Ce;const ft=[...Xe==="clippingAncestors"?In(Ye):[].concat(Xe),Qe],vt=ft[0],ut=ft.reduce((Ht,gn)=>{const tn=rr(Ye,gn,lt);return Ht.top=Kt(tn.top,Ht.top),Ht.right=Vt(tn.right,Ht.right),Ht.bottom=Vt(tn.bottom,Ht.bottom),Ht.left=Kt(tn.left,Ht.left),Ht},rr(Ye,vt,lt));return{width:ut.right-ut.left,height:ut.bottom-ut.top,x:ut.left,y:ut.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(Ce){let{rect:Ye,offsetParent:Xe,strategy:Qe}=Ce;const lt=on(Xe),ft=Mn(Xe);if(Xe===ft)return Ye;let vt={scrollLeft:0,scrollTop:0};const ut={x:0,y:0};if((lt||!lt&&Qe!=="fixed")&&((Zt(Xe)!=="body"||At(ft))&&(vt=wn(Xe)),on(Xe))){const Ht=Wt(Xe,!0);ut.x=Ht.x+Xe.clientLeft,ut.y=Ht.y+Xe.clientTop}return{...Ye,x:Ye.x-vt.scrollLeft+ut.x,y:Ye.y-vt.scrollTop+ut.y}},isElement:an,getDimensions:Bn,getOffsetParent:Yt,getDocumentElement:Mn,getElementRects:Ce=>{let{reference:Ye,floating:Xe,strategy:Qe}=Ce;return{reference:yt(Ye,Yt(Xe),Qe),floating:{...Bn(Xe),x:0,y:0}}},getClientRects:Ce=>Array.from(Ce.getClientRects()),isRTL:Ce=>Xt(Ce).direction==="rtl"};function Ct(Ce,Ye,Xe,Qe){Qe===void 0&&(Qe={});const{ancestorScroll:lt=!0,ancestorResize:ft=!0,elementResize:vt=!0,animationFrame:ut=!1}=Qe,Ht=lt&&!ut,gn=ft&&!ut,tn=Ht||gn?[...an(Ce)?Hn(Ce):[],...Hn(Ye)]:[];tn.forEach(En=>{Ht&&En.addEventListener("scroll",Xe,{passive:!0}),gn&&En.addEventListener("resize",Xe)});let zt,kn=null;if(vt){let En=!0;kn=new ResizeObserver(()=>{En||Xe(),En=!1}),an(Ce)&&!ut&&kn.observe(Ce),kn.observe(Ye)}let nn=ut?Wt(Ce):null;return ut&&function En(){const qt=Wt(Ce);!nn||qt.x===nn.x&&qt.y===nn.y&&qt.width===nn.width&&qt.height===nn.height||Xe(),nn=qt,zt=requestAnimationFrame(En)}(),Xe(),()=>{var En;tn.forEach(qt=>{Ht&&qt.removeEventListener("scroll",Xe),gn&&qt.removeEventListener("resize",Xe)}),(En=kn)==null||En.disconnect(),kn=null,ut&&cancelAnimationFrame(zt)}}const It=(Ce,Ye,Xe)=>(async(Qe,lt,ft)=>{const{placement:vt="bottom",strategy:ut="absolute",middleware:Ht=[],platform:gn}=ft,tn=await(gn.isRTL==null?void 0:gn.isRTL(lt));let zt=await gn.getElementRects({reference:Qe,floating:lt,strategy:ut}),{x:kn,y:nn}=_(zt,vt,tn),En=vt,qt={},bn=0;for(let Rn=0;Rn<Ht.length;Rn++){const{name:Zn,fn:An}=Ht[Rn],{x:Pn,y:er,data:gr,reset:xr}=await An({x:kn,y:nn,initialPlacement:vt,placement:En,strategy:ut,middlewareData:qt,rects:zt,platform:gn,elements:{reference:Qe,floating:lt}});kn=Pn??kn,nn=er??nn,qt={...qt,[Zn]:{...qt[Zn],...gr}},xr&&bn<=50&&(bn++,typeof xr=="object"&&(xr.placement&&(En=xr.placement),xr.rects&&(zt=xr.rects===!0?await gn.getElementRects({reference:Qe,floating:lt,strategy:ut}):xr.rects),{x:kn,y:nn}=_(zt,En,tn)),Rn=-1)}return{x:kn,y:nn,placement:En,strategy:ut,middlewareData:qt}})(Ce,Ye,{platform:_t,...Xe});var Bt=o(5156),yn=o.n(Bt),_n=typeof document<"u"?k.useLayoutEffect:k.useEffect;function vn(Ce,Ye){if(Ce===Ye)return!0;if(typeof Ce!=typeof Ye)return!1;if(typeof Ce=="function"&&Ce.toString()===Ye.toString())return!0;let Xe,Qe,lt;if(Ce&&Ye&&typeof Ce=="object"){if(Array.isArray(Ce)){if(Xe=Ce.length,Xe!=Ye.length)return!1;for(Qe=Xe;Qe--!=0;)if(!vn(Ce[Qe],Ye[Qe]))return!1;return!0}if(lt=Object.keys(Ce),Xe=lt.length,Xe!==Object.keys(Ye).length)return!1;for(Qe=Xe;Qe--!=0;)if(!Object.prototype.hasOwnProperty.call(Ye,lt[Qe]))return!1;for(Qe=Xe;Qe--!=0;){const ft=lt[Qe];if((ft!=="_owner"||!Ce.$$typeof)&&!vn(Ce[ft],Ye[ft]))return!1}return!0}return Ce!=Ce&&Ye!=Ye}function $n(Ce){let{middleware:Ye,placement:Xe="bottom",strategy:Qe="absolute",whileElementsMounted:lt}=Ce===void 0?{}:Ce;const ft=k.useRef(null),vt=k.useRef(null),ut=function(An){const Pn=k.useRef(An);return _n(()=>{Pn.current=An}),Pn}(lt),Ht=k.useRef(null),[gn,tn]=k.useState({x:null,y:null,strategy:Qe,placement:Xe,middlewareData:{}}),[zt,kn]=k.useState(Ye);vn(zt==null?void 0:zt.map(An=>{let{options:Pn}=An;return Pn}),Ye==null?void 0:Ye.map(An=>{let{options:Pn}=An;return Pn}))||kn(Ye);const nn=k.useCallback(()=>{ft.current&&vt.current&&It(ft.current,vt.current,{middleware:zt,placement:Xe,strategy:Qe}).then(An=>{En.current&&Bt.flushSync(()=>{tn(An)})})},[zt,Xe,Qe]);_n(()=>{En.current&&nn()},[nn]);const En=k.useRef(!1);_n(()=>(En.current=!0,()=>{En.current=!1}),[]);const qt=k.useCallback(()=>{if(typeof Ht.current=="function"&&(Ht.current(),Ht.current=null),ft.current&&vt.current)if(ut.current){const An=ut.current(ft.current,vt.current,nn);Ht.current=An}else nn()},[nn,ut]),bn=k.useCallback(An=>{ft.current=An,qt()},[qt]),Rn=k.useCallback(An=>{vt.current=An,qt()},[qt]),Zn=k.useMemo(()=>({reference:ft,floating:vt}),[]);return k.useMemo(()=>({...gn,update:nn,refs:Zn,reference:bn,floating:Rn}),[gn,nn,Zn,bn,Rn])}const jn=Ce=>{const{element:Ye,padding:Xe}=Ce;return{name:"arrow",options:Ce,fn(Qe){return lt=Ye,Object.prototype.hasOwnProperty.call(lt,"current")?Ye.current!=null?Me({element:Ye.current,padding:Xe}).fn(Qe):{}:Ye?Me({element:Ye,padding:Xe}).fn(Qe):{};var lt}}},Ln=(0,k.forwardRef)((Ce,Ye)=>{const{children:Xe,width:Qe=10,height:lt=5,...ft}=Ce;return(0,k.createElement)(v.WV.svg,(0,T.Z)({},ft,{ref:Ye,width:Qe,height:lt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),Ce.asChild?Xe:(0,k.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),ir=Ln;var Sn=o(3348);const Cn="Popper",[Nn,On]=(0,b.b)(Cn),[ur,zn]=Nn(Cn),ar=Ce=>{const{__scopePopper:Ye,children:Xe}=Ce,[Qe,lt]=(0,k.useState)(null);return(0,k.createElement)(ur,{scope:Ye,anchor:Qe,onAnchorChange:lt},Xe)},jr="PopperAnchor",no=(0,k.forwardRef)((Ce,Ye)=>{const{__scopePopper:Xe,virtualRef:Qe,...lt}=Ce,ft=zn(jr,Xe),vt=(0,k.useRef)(null),ut=(0,D.e)(Ye,vt);return(0,k.useEffect)(()=>{ft.onAnchorChange((Qe==null?void 0:Qe.current)||vt.current)}),Qe?null:(0,k.createElement)(v.WV.div,(0,T.Z)({},lt,{ref:ut}))}),go="PopperContent",[Oo,Po]=Nn(go),[Gr,Yr]=Nn(go,{hasParent:!1,positionUpdateFns:new Set}),Xo=(0,k.forwardRef)((Ce,Ye)=>{var Xe,Qe,lt,ft,vt,ut,Ht,gn;const{__scopePopper:tn,side:zt="bottom",sideOffset:kn=0,align:nn="center",alignOffset:En=0,arrowPadding:qt=0,collisionBoundary:bn=[],collisionPadding:Rn=0,sticky:Zn="partial",hideWhenDetached:An=!1,avoidCollisions:Pn=!0,onPlaced:er,...gr}=Ce,xr=zn(go,tn),[Yn,fr]=(0,k.useState)(null),vr=(0,D.e)(Ye,Uo=>fr(Uo)),[wr,Wr]=(0,k.useState)(null),Mr=function(Uo){const[xa,Es]=(0,k.useState)(void 0);return(0,Sn.b)(()=>{if(Uo){Es({width:Uo.offsetWidth,height:Uo.offsetHeight});const Hf=new ResizeObserver(fc=>{if(!Array.isArray(fc)||!fc.length)return;const Jt=fc[0];let hc,pc;if("borderBoxSize"in Jt){const mc=Jt.borderBoxSize,gc=Array.isArray(mc)?mc[0]:mc;hc=gc.inlineSize,pc=gc.blockSize}else hc=Uo.offsetWidth,pc=Uo.offsetHeight;Es({width:hc,height:pc})});return Hf.observe(Uo,{box:"border-box"}),()=>Hf.unobserve(Uo)}Es(void 0)},[Uo]),xa}(wr),eo=(Xe=Mr==null?void 0:Mr.width)!==null&&Xe!==void 0?Xe:0,to=(Qe=Mr==null?void 0:Mr.height)!==null&&Qe!==void 0?Qe:0,na=zt+(nn!=="center"?"-"+nn:""),ii=typeof Rn=="number"?Rn:{top:0,right:0,bottom:0,left:0,...Rn},Pi=Array.isArray(bn)?bn:[bn],ns=Pi.length>0,ra={padding:ii,boundary:Pi.filter(Ot),altBoundary:ns},{reference:ro,floating:ya,strategy:vo,x:Vi,y:Ro,placement:lc,middlewareData:ba,update:cc}=$n({strategy:"fixed",placement:na,whileElementsMounted:Ct,middleware:[sn(),tt({mainAxis:kn+to,alignmentAxis:En}),Pn?ct({mainAxis:!0,crossAxis:!1,limiter:Zn==="partial"?St():void 0,...ra}):void 0,wr?jn({element:wr,padding:qt}):void 0,Pn?ht({...ra}):void 0,Pt({...ra,apply:({elements:Uo,availableWidth:xa,availableHeight:Es})=>{Uo.floating.style.setProperty("--radix-popper-available-width",`${xa}px`),Uo.floating.style.setProperty("--radix-popper-available-height",`${Es}px`)}}),en({arrowWidth:eo,arrowHeight:to}),An?Ge({strategy:"referenceHidden"}):void 0].filter(Je)});(0,Sn.b)(()=>{ro(xr.anchor)},[ro,xr.anchor]);const Wi=Vi!==null&&Ro!==null,[Bf,uc]=pn(lc),rs=(0,x.W)(er);(0,Sn.b)(()=>{Wi&&(rs==null||rs())},[Wi,rs]);const tm=(lt=ba.arrow)===null||lt===void 0?void 0:lt.x,Zf=(ft=ba.arrow)===null||ft===void 0?void 0:ft.y,Ff=((vt=ba.arrow)===null||vt===void 0?void 0:vt.centerOffset)!==0,[Uf,dc]=(0,k.useState)();(0,Sn.b)(()=>{Yn&&dc(window.getComputedStyle(Yn).zIndex)},[Yn]);const{hasParent:Vf,positionUpdateFns:Da}=Yr(go,tn),Ss=!Vf;(0,k.useLayoutEffect)(()=>{if(!Ss)return Da.add(cc),()=>{Da.delete(cc)}},[Ss,Da,cc]),(0,Sn.b)(()=>{Ss&&Wi&&Array.from(Da).reverse().forEach(Uo=>requestAnimationFrame(Uo))},[Ss,Wi,Da]);const Wf={"data-side":Bf,"data-align":uc,...gr,ref:vr,style:{...gr.style,animation:Wi?void 0:"none",opacity:(ut=ba.hide)!==null&&ut!==void 0&&ut.referenceHidden?0:void 0}};return(0,k.createElement)("div",{ref:ya,"data-radix-popper-content-wrapper":"",style:{position:vo,left:0,top:0,transform:Wi?`translate3d(${Math.round(Vi)}px, ${Math.round(Ro)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Uf,"--radix-popper-transform-origin":[(Ht=ba.transformOrigin)===null||Ht===void 0?void 0:Ht.x,(gn=ba.transformOrigin)===null||gn===void 0?void 0:gn.y].join(" ")},dir:Ce.dir},(0,k.createElement)(Oo,{scope:tn,placedSide:Bf,onArrowChange:Wr,arrowX:tm,arrowY:Zf,shouldHideArrow:Ff},Ss?(0,k.createElement)(Gr,{scope:tn,hasParent:!0,positionUpdateFns:Da},(0,k.createElement)(v.WV.div,Wf)):(0,k.createElement)(v.WV.div,Wf)))}),ke="PopperArrow",Ne={top:"bottom",right:"left",bottom:"top",left:"right"},We=(0,k.forwardRef)(function(Ce,Ye){const{__scopePopper:Xe,...Qe}=Ce,lt=Po(ke,Xe),ft=Ne[lt.placedSide];return(0,k.createElement)("span",{ref:lt.onArrowChange,style:{position:"absolute",left:lt.arrowX,top:lt.arrowY,[ft]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[lt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[lt.placedSide],visibility:lt.shouldHideArrow?"hidden":void 0}},(0,k.createElement)(ir,(0,T.Z)({},Qe,{ref:Ye,style:{...Qe.style,display:"block"}})))});function Je(Ce){return Ce!==void 0}function Ot(Ce){return Ce!==null}const sn=()=>({name:"anchorCssProperties",fn(Ce){const{rects:Ye,elements:Xe}=Ce,{width:Qe,height:lt}=Ye.reference;return Xe.floating.style.setProperty("--radix-popper-anchor-width",`${Qe}px`),Xe.floating.style.setProperty("--radix-popper-anchor-height",`${lt}px`),{}}}),en=Ce=>({name:"transformOrigin",options:Ce,fn(Ye){var Xe,Qe,lt,ft,vt;const{placement:ut,rects:Ht,middlewareData:gn}=Ye,tn=((Xe=gn.arrow)===null||Xe===void 0?void 0:Xe.centerOffset)!==0,zt=tn?0:Ce.arrowWidth,kn=tn?0:Ce.arrowHeight,[nn,En]=pn(ut),qt={start:"0%",center:"50%",end:"100%"}[En],bn=((Qe=(lt=gn.arrow)===null||lt===void 0?void 0:lt.x)!==null&&Qe!==void 0?Qe:0)+zt/2,Rn=((ft=(vt=gn.arrow)===null||vt===void 0?void 0:vt.y)!==null&&ft!==void 0?ft:0)+kn/2;let Zn="",An="";return nn==="bottom"?(Zn=tn?qt:`${bn}px`,An=-kn+"px"):nn==="top"?(Zn=tn?qt:`${bn}px`,An=`${Ht.floating.height+kn}px`):nn==="right"?(Zn=-kn+"px",An=tn?qt:`${Rn}px`):nn==="left"&&(Zn=`${Ht.floating.width+kn}px`,An=tn?qt:`${Rn}px`),{data:{x:Zn,y:An}}}});function pn(Ce){const[Ye,Xe="center"]=Ce.split("-");return[Ye,Xe]}const Mt=ar,fn=no,mn=Xo,Vn=We,Kn=(0,k.forwardRef)((Ce,Ye)=>{var Xe;const{container:Qe=globalThis==null||(Xe=globalThis.document)===null||Xe===void 0?void 0:Xe.body,...lt}=Ce;return Qe?yn().createPortal((0,k.createElement)(v.WV.div,(0,T.Z)({},lt,{ref:Ye})),Qe):null});var Gn=o(1483),dr=o(4801),sr=o(2673),Wn=function(Ce){return typeof document>"u"?null:(Array.isArray(Ce)?Ce[0]:Ce).ownerDocument.body},br=new WeakMap,Tr=new WeakMap,So={},No=0,ui=function(Ce){return Ce&&(Ce.host||ui(Ce.parentNode))},ea=function(Ce,Ye,Xe,Qe){var lt=function(zt,kn){return kn.map(function(nn){if(zt.contains(nn))return nn;var En=ui(nn);return En&&zt.contains(En)?En:(console.error("aria-hidden",nn,"in not contained inside",zt,". Doing nothing"),null)}).filter(function(nn){return!!nn})}(Ye,Array.isArray(Ce)?Ce:[Ce]);So[Xe]||(So[Xe]=new WeakMap);var ft=So[Xe],vt=[],ut=new Set,Ht=new Set(lt),gn=function(zt){zt&&!ut.has(zt)&&(ut.add(zt),gn(zt.parentNode))};lt.forEach(gn);var tn=function(zt){zt&&!Ht.has(zt)&&Array.prototype.forEach.call(zt.children,function(kn){if(ut.has(kn))tn(kn);else{var nn=kn.getAttribute(Qe),En=nn!==null&&nn!=="false",qt=(br.get(kn)||0)+1,bn=(ft.get(kn)||0)+1;br.set(kn,qt),ft.set(kn,bn),vt.push(kn),qt===1&&En&&Tr.set(kn,!0),bn===1&&kn.setAttribute(Xe,"true"),En||kn.setAttribute(Qe,"true")}})};return tn(Ye),ut.clear(),No++,function(){vt.forEach(function(zt){var kn=br.get(zt)-1,nn=ft.get(zt)-1;br.set(zt,kn),ft.set(zt,nn),kn||(Tr.has(zt)||zt.removeAttribute(Qe),Tr.delete(zt)),nn||zt.removeAttribute(Xe)}),--No||(br=new WeakMap,br=new WeakMap,Tr=new WeakMap,So={})}},Un=function(Ce,Ye,Xe){Xe===void 0&&(Xe="data-aria-hidden");var Qe=Array.from(Array.isArray(Ce)?Ce:[Ce]),lt=Ye||Wn(Ce);return lt?(Qe.push.apply(Qe,Array.from(lt.querySelectorAll("[aria-live]"))),ea(Qe,lt,Xe,"aria-hidden")):function(){return null}},Or=function(){return Or=Object.assign||function(Ce){for(var Ye,Xe=1,Qe=arguments.length;Xe<Qe;Xe++)for(var lt in Ye=arguments[Xe])Object.prototype.hasOwnProperty.call(Ye,lt)&&(Ce[lt]=Ye[lt]);return Ce},Or.apply(this,arguments)};function Hr(Ce,Ye){var Xe={};for(var Qe in Ce)Object.prototype.hasOwnProperty.call(Ce,Qe)&&Ye.indexOf(Qe)<0&&(Xe[Qe]=Ce[Qe]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function"){var lt=0;for(Qe=Object.getOwnPropertySymbols(Ce);lt<Qe.length;lt++)Ye.indexOf(Qe[lt])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Qe[lt])&&(Xe[Qe[lt]]=Ce[Qe[lt]])}return Xe}var lo="right-scroll-bar-position",qo="width-before-scroll-bar";function vi(Ce,Ye){return Xe=Ye||null,Qe=function(ft){return Ce.forEach(function(vt){return function(ut,Ht){return typeof ut=="function"?ut(Ht):ut&&(ut.current=Ht),ut}(vt,ft)})},(lt=(0,k.useState)(function(){return{value:Xe,callback:Qe,facade:{get current(){return lt.value},set current(ft){var vt=lt.value;vt!==ft&&(lt.value=ft,lt.callback(ft,vt))}}}})[0]).callback=Qe,lt.facade;var Xe,Qe,lt}function Ia(Ce){return Ce}function Ti(Ce,Ye){Ye===void 0&&(Ye=Ia);var Xe=[],Qe=!1,lt={read:function(){if(Qe)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Xe.length?Xe[Xe.length-1]:Ce},useMedium:function(ft){var vt=Ye(ft,Qe);return Xe.push(vt),function(){Xe=Xe.filter(function(ut){return ut!==vt})}},assignSyncMedium:function(ft){for(Qe=!0;Xe.length;){var vt=Xe;Xe=[],vt.forEach(ft)}Xe={push:function(ut){return ft(ut)},filter:function(){return Xe}}},assignMedium:function(ft){Qe=!0;var vt=[];if(Xe.length){var ut=Xe;Xe=[],ut.forEach(ft),vt=Xe}var Ht=function(){var tn=vt;vt=[],tn.forEach(ft)},gn=function(){return Promise.resolve().then(Ht)};gn(),Xe={push:function(tn){vt.push(tn),gn()},filter:function(tn){return vt=vt.filter(tn),Xe}}}};return lt}var Zi=function(Ce){Ce===void 0&&(Ce={});var Ye=Ti(null);return Ye.options=Or({async:!0,ssr:!1},Ce),Ye}(),vu=function(){},rc=k.forwardRef(function(Ce,Ye){var Xe=k.useRef(null),Qe=k.useState({onScrollCapture:vu,onWheelCapture:vu,onTouchMoveCapture:vu}),lt=Qe[0],ft=Qe[1],vt=Ce.forwardProps,ut=Ce.children,Ht=Ce.className,gn=Ce.removeScrollBar,tn=Ce.enabled,zt=Ce.shards,kn=Ce.sideCar,nn=Ce.noIsolation,En=Ce.inert,qt=Ce.allowPinchZoom,bn=Ce.as,Rn=bn===void 0?"div":bn,Zn=Hr(Ce,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),An=kn,Pn=vi([Xe,Ye]),er=Or(Or({},Zn),lt);return k.createElement(k.Fragment,null,tn&&k.createElement(An,{sideCar:Zi,removeScrollBar:gn,shards:zt,noIsolation:nn,inert:En,setCallbacks:ft,allowPinchZoom:!!qt,lockRef:Xe}),vt?k.cloneElement(k.Children.only(ut),Or(Or({},er),{ref:Pn})):k.createElement(Rn,Or({},er,{className:Ht,ref:Pn}),ut))});rc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},rc.classNames={fullWidth:qo,zeroRight:lo};var bf=function(Ce){var Ye=Ce.sideCar,Xe=Hr(Ce,["sideCar"]);if(!Ye)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Qe=Ye.read();if(!Qe)throw new Error("Sidecar medium not found");return k.createElement(Qe,Or({},Xe))};bf.isSideCarExport=!0;function Bp(){if(!document)return null;var Ce=document.createElement("style");Ce.type="text/css";var Ye=o.nc;return Ye&&Ce.setAttribute("nonce",Ye),Ce}var xf=function(){var Ce=0,Ye=null;return{add:function(Xe){var Qe,lt;Ce==0&&(Ye=Bp())&&(lt=Xe,(Qe=Ye).styleSheet?Qe.styleSheet.cssText=lt:Qe.appendChild(document.createTextNode(lt)),function(ft){(document.head||document.getElementsByTagName("head")[0]).appendChild(ft)}(Ye)),Ce++},remove:function(){!--Ce&&Ye&&(Ye.parentNode&&Ye.parentNode.removeChild(Ye),Ye=null)}}},wf=function(){var Ce,Ye=(Ce=xf(),function(Xe,Qe){k.useEffect(function(){return Ce.add(Xe),function(){Ce.remove()}},[Xe&&Qe])});return function(Xe){var Qe=Xe.styles,lt=Xe.dynamic;return Ye(Qe,lt),null}},kf={left:0,top:0,right:0,gap:0},Ra=function(Ce){return parseInt(Ce||"",10)||0},oc=function(Ce){if(Ce===void 0&&(Ce="margin"),typeof window>"u")return kf;var Ye=function(lt){var ft=window.getComputedStyle(document.body),vt=ft[lt==="padding"?"paddingLeft":"marginLeft"],ut=ft[lt==="padding"?"paddingTop":"marginTop"],Ht=ft[lt==="padding"?"paddingRight":"marginRight"];return[Ra(vt),Ra(ut),Ra(Ht)]}(Ce),Xe=document.documentElement.clientWidth,Qe=window.innerWidth;return{left:Ye[0],top:Ye[1],right:Ye[2],gap:Math.max(0,Qe-Xe+Ye[2]-Ye[0])}},yi=wf(),Sf=function(Ce,Ye,Xe,Qe){var lt=Ce.left,ft=Ce.top,vt=Ce.right,ut=Ce.gap;return Xe===void 0&&(Xe="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(Qe,`;
   padding-right: `).concat(ut,"px ").concat(Qe,`;
  }
  body {
    overflow: hidden `).concat(Qe,`;
    overscroll-behavior: contain;
    `).concat([Ye&&"position: relative ".concat(Qe,";"),Xe==="margin"&&`
    padding-left: `.concat(lt,`px;
    padding-top: `).concat(ft,`px;
    padding-right: `).concat(vt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(ut,"px ").concat(Qe,`;
    `),Xe==="padding"&&"padding-right: ".concat(ut,"px ").concat(Qe,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lo,` {
    right: `).concat(ut,"px ").concat(Qe,`;
  }
  
  .`).concat(qo,` {
    margin-right: `).concat(ut,"px ").concat(Qe,`;
  }
  
  .`).concat(lo," .").concat(lo,` {
    right: 0 `).concat(Qe,`;
  }
  
  .`).concat(qo," .").concat(qo,` {
    margin-right: 0 `).concat(Qe,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(ut,`px;
  }
`)},Zp=function(Ce){var Ye=Ce.noRelative,Xe=Ce.noImportant,Qe=Ce.gapMode,lt=Qe===void 0?"margin":Qe,ft=k.useMemo(function(){return oc(lt)},[lt]);return k.createElement(yi,{styles:Sf(ft,!Ye,lt,Xe?"":"!important")})},yu=!1;if(typeof window<"u")try{var xs=Object.defineProperty({},"passive",{get:function(){return yu=!0,!0}});window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{yu=!1}var Ja=!!yu&&{passive:!1},cl=function(Ce,Ye){var Xe=window.getComputedStyle(Ce);return Xe[Ye]!=="hidden"&&!(Xe.overflowY===Xe.overflowX&&!function(Qe){return Qe.tagName==="TEXTAREA"}(Ce)&&Xe[Ye]==="visible")},Qa=function(Ce,Ye){var Xe=Ye;do{if(typeof ShadowRoot<"u"&&Xe instanceof ShadowRoot&&(Xe=Xe.host),bu(Ce,Xe)){var Qe=ul(Ce,Xe);if(Qe[1]>Qe[2])return!0}Xe=Xe.parentNode}while(Xe&&Xe!==document.body);return!1},bu=function(Ce,Ye){return Ce==="v"?function(Xe){return cl(Xe,"overflowY")}(Ye):function(Xe){return cl(Xe,"overflowX")}(Ye)},ul=function(Ce,Ye){return Ce==="v"?[(Xe=Ye).scrollTop,Xe.scrollHeight,Xe.clientHeight]:function(Qe){return[Qe.scrollLeft,Qe.scrollWidth,Qe.clientWidth]}(Ye);var Xe},ws=function(Ce){return"changedTouches"in Ce?[Ce.changedTouches[0].clientX,Ce.changedTouches[0].clientY]:[0,0]},Ef=function(Ce){return[Ce.deltaX,Ce.deltaY]},xu=function(Ce){return Ce&&"current"in Ce?Ce.current:Ce},wu=function(Ce){return`
  .block-interactivity-`.concat(Ce,` {pointer-events: none;}
  .allow-interactivity-`).concat(Ce,` {pointer-events: all;}
`)},ic=0,Fi=[],dl,ks=(dl=function(Ce){var Ye=k.useRef([]),Xe=k.useRef([0,0]),Qe=k.useRef(),lt=k.useState(ic++)[0],ft=k.useState(function(){return wf()})[0],vt=k.useRef(Ce);k.useEffect(function(){vt.current=Ce},[Ce]),k.useEffect(function(){if(Ce.inert){document.body.classList.add("block-interactivity-".concat(lt));var qt=function(bn,Rn,Zn){if(Zn||arguments.length===2)for(var An,Pn=0,er=Rn.length;Pn<er;Pn++)!An&&Pn in Rn||(An||(An=Array.prototype.slice.call(Rn,0,Pn)),An[Pn]=Rn[Pn]);return bn.concat(An||Array.prototype.slice.call(Rn))}([Ce.lockRef.current],(Ce.shards||[]).map(xu),!0).filter(Boolean);return qt.forEach(function(bn){return bn.classList.add("allow-interactivity-".concat(lt))}),function(){document.body.classList.remove("block-interactivity-".concat(lt)),qt.forEach(function(bn){return bn.classList.remove("allow-interactivity-".concat(lt))})}}},[Ce.inert,Ce.lockRef.current,Ce.shards]);var ut=k.useCallback(function(qt,bn){if("touches"in qt&&qt.touches.length===2)return!vt.current.allowPinchZoom;var Rn,Zn=ws(qt),An=Xe.current,Pn="deltaX"in qt?qt.deltaX:An[0]-Zn[0],er="deltaY"in qt?qt.deltaY:An[1]-Zn[1],gr=qt.target,xr=Math.abs(Pn)>Math.abs(er)?"h":"v";if("touches"in qt&&xr==="h"&&gr.type==="range")return!1;var Yn=Qa(xr,gr);if(!Yn)return!0;if(Yn?Rn=xr:(Rn=xr==="v"?"h":"v",Yn=Qa(xr,gr)),!Yn)return!1;if(!Qe.current&&"changedTouches"in qt&&(Pn||er)&&(Qe.current=Rn),!Rn)return!0;var fr=Qe.current||Rn;return function(vr,wr,Wr,Mr,eo){var to=function(lc,ba){return lc==="h"&&ba==="rtl"?-1:1}(vr,window.getComputedStyle(wr).direction),na=to*Mr,ii=Wr.target,Pi=wr.contains(ii),ns=!1,ra=na>0,ro=0,ya=0;do{var vo=ul(vr,ii),Vi=vo[0],Ro=vo[1]-vo[2]-to*Vi;(Vi||Ro)&&bu(vr,ii)&&(ro+=Ro,ya+=Vi),ii=ii.parentNode}while(!Pi&&ii!==document.body||Pi&&(wr.contains(ii)||wr===ii));return(ra&&(eo&&ro===0||!eo&&na>ro)||!ra&&(eo&&ya===0||!eo&&-na>ya))&&(ns=!0),ns}(fr,bn,qt,fr==="h"?Pn:er,!0)},[]),Ht=k.useCallback(function(qt){var bn=qt;if(Fi.length&&Fi[Fi.length-1]===ft){var Rn="deltaY"in bn?Ef(bn):ws(bn),Zn=Ye.current.filter(function(Pn){return Pn.name===bn.type&&Pn.target===bn.target&&function(er,gr){return er[0]===gr[0]&&er[1]===gr[1]}(Pn.delta,Rn)})[0];if(Zn&&Zn.should)bn.cancelable&&bn.preventDefault();else if(!Zn){var An=(vt.current.shards||[]).map(xu).filter(Boolean).filter(function(Pn){return Pn.contains(bn.target)});(An.length>0?ut(bn,An[0]):!vt.current.noIsolation)&&bn.cancelable&&bn.preventDefault()}}},[]),gn=k.useCallback(function(qt,bn,Rn,Zn){var An={name:qt,delta:bn,target:Rn,should:Zn};Ye.current.push(An),setTimeout(function(){Ye.current=Ye.current.filter(function(Pn){return Pn!==An})},1)},[]),tn=k.useCallback(function(qt){Xe.current=ws(qt),Qe.current=void 0},[]),zt=k.useCallback(function(qt){gn(qt.type,Ef(qt),qt.target,ut(qt,Ce.lockRef.current))},[]),kn=k.useCallback(function(qt){gn(qt.type,ws(qt),qt.target,ut(qt,Ce.lockRef.current))},[]);k.useEffect(function(){return Fi.push(ft),Ce.setCallbacks({onScrollCapture:zt,onWheelCapture:zt,onTouchMoveCapture:kn}),document.addEventListener("wheel",Ht,Ja),document.addEventListener("touchmove",Ht,Ja),document.addEventListener("touchstart",tn,Ja),function(){Fi=Fi.filter(function(qt){return qt!==ft}),document.removeEventListener("wheel",Ht,Ja),document.removeEventListener("touchmove",Ht,Ja),document.removeEventListener("touchstart",tn,Ja)}},[]);var nn=Ce.removeScrollBar,En=Ce.inert;return k.createElement(k.Fragment,null,En?k.createElement(ft,{styles:wu(lt)}):null,nn?k.createElement(Zp,{gapMode:"margin"}):null)},Zi.useMedium(dl),bf),Aa=k.forwardRef(function(Ce,Ye){return k.createElement(rc,Or({},Ce,{ref:Ye,sideCar:ks}))});Aa.classNames=rc.classNames;var Fp=Aa;const _f="Popover",[Cf,wb]=(0,b.b)(_f,[On]),fl=On(),[Up,es]=Cf(_f),Vp=Ce=>{const{__scopePopover:Ye,children:Xe,open:Qe,defaultOpen:lt,onOpenChange:ft,modal:vt=!1}=Ce,ut=fl(Ye),Ht=(0,k.useRef)(null),[gn,tn]=(0,k.useState)(!1),[zt=!1,kn]=(0,sr.T)({prop:Qe,defaultProp:lt,onChange:ft});return(0,k.createElement)(Mt,ut,(0,k.createElement)(Up,{scope:Ye,contentId:(0,ye.M)(),triggerRef:Ht,open:zt,onOpenChange:kn,onOpenToggle:(0,k.useCallback)(()=>kn(nn=>!nn),[kn]),hasCustomAnchor:gn,onCustomAnchorAdd:(0,k.useCallback)(()=>tn(!0),[]),onCustomAnchorRemove:(0,k.useCallback)(()=>tn(!1),[]),modal:vt},Xe))},Wp="PopoverTrigger",Hp=(0,k.forwardRef)((Ce,Ye)=>{const{__scopePopover:Xe,...Qe}=Ce,lt=es(Wp,Xe),ft=fl(Xe),vt=(0,D.e)(Ye,lt.triggerRef),ut=(0,k.createElement)(v.WV.button,(0,T.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":lt.open,"aria-controls":lt.contentId,"data-state":Pf(lt.open)},Qe,{ref:vt,onClick:(0,s.M)(Ce.onClick,lt.onOpenToggle)}));return lt.hasCustomAnchor?ut:(0,k.createElement)(fn,(0,T.Z)({asChild:!0},ft),ut)}),ku="PopoverPortal",[$p,Kp]=Cf(ku,{forceMount:void 0}),ac=Ce=>{const{__scopePopover:Ye,forceMount:Xe,children:Qe,container:lt}=Ce,ft=es(ku,Ye);return(0,k.createElement)($p,{scope:Ye,forceMount:Xe},(0,k.createElement)(Gn.z,{present:Xe||ft.open},(0,k.createElement)(Kn,{asChild:!0,container:lt},Qe)))},ta="PopoverContent",Gp=(0,k.forwardRef)((Ce,Ye)=>{const Xe=Kp(ta,Ce.__scopePopover),{forceMount:Qe=Xe.forceMount,...lt}=Ce,ft=es(ta,Ce.__scopePopover);return(0,k.createElement)(Gn.z,{present:Qe||ft.open},ft.modal?(0,k.createElement)(Tf,(0,T.Z)({},lt,{ref:Ye})):(0,k.createElement)(Of,(0,T.Z)({},lt,{ref:Ye})))}),Tf=(0,k.forwardRef)((Ce,Ye)=>{const Xe=es(ta,Ce.__scopePopover),Qe=(0,k.useRef)(null),lt=(0,D.e)(Ye,Qe),ft=(0,k.useRef)(!1);return(0,k.useEffect)(()=>{const vt=Qe.current;if(vt)return Un(vt)},[]),(0,k.createElement)(Fp,{as:dr.g7,allowPinchZoom:!0},(0,k.createElement)(Su,(0,T.Z)({},Ce,{ref:lt,trapFocus:Xe.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(Ce.onCloseAutoFocus,vt=>{var ut;vt.preventDefault(),ft.current||(ut=Xe.triggerRef.current)===null||ut===void 0||ut.focus()}),onPointerDownOutside:(0,s.M)(Ce.onPointerDownOutside,vt=>{const ut=vt.detail.originalEvent,Ht=ut.button===0&&ut.ctrlKey===!0,gn=ut.button===2||Ht;ft.current=gn},{checkForDefaultPrevented:!1}),onFocusOutside:(0,s.M)(Ce.onFocusOutside,vt=>vt.preventDefault(),{checkForDefaultPrevented:!1})})))}),Of=(0,k.forwardRef)((Ce,Ye)=>{const Xe=es(ta,Ce.__scopePopover),Qe=(0,k.useRef)(!1);return(0,k.createElement)(Su,(0,T.Z)({},Ce,{ref:Ye,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:lt=>{var ft,vt;(ft=Ce.onCloseAutoFocus)===null||ft===void 0||ft.call(Ce,lt),lt.defaultPrevented||(Qe.current||(vt=Xe.triggerRef.current)===null||vt===void 0||vt.focus(),lt.preventDefault()),Qe.current=!1},onInteractOutside:lt=>{var ft,vt;(ft=Ce.onInteractOutside)===null||ft===void 0||ft.call(Ce,lt),lt.defaultPrevented||(Qe.current=!0);const ut=lt.target;!((vt=Xe.triggerRef.current)===null||vt===void 0)&&vt.contains(ut)&&lt.preventDefault()}}))}),Su=(0,k.forwardRef)((Ce,Ye)=>{const{__scopePopover:Xe,trapFocus:Qe,onOpenAutoFocus:lt,onCloseAutoFocus:ft,disableOutsidePointerEvents:vt,onEscapeKeyDown:ut,onPointerDownOutside:Ht,onFocusOutside:gn,onInteractOutside:tn,...zt}=Ce,kn=es(ta,Xe),nn=fl(Xe);return _e(),(0,k.createElement)(Ue,{asChild:!0,loop:!0,trapped:Qe,onMountAutoFocus:lt,onUnmountAutoFocus:ft},(0,k.createElement)(ne,{asChild:!0,disableOutsidePointerEvents:vt,onInteractOutside:tn,onEscapeKeyDown:ut,onPointerDownOutside:Ht,onFocusOutside:gn,onDismiss:()=>kn.onOpenChange(!1)},(0,k.createElement)(mn,(0,T.Z)({"data-state":Pf(kn.open),role:"dialog",id:kn.contentId},nn,zt,{ref:Ye,style:{...zt.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),sc=(0,k.forwardRef)((Ce,Ye)=>{const{__scopePopover:Xe,...Qe}=Ce,lt=fl(Xe);return(0,k.createElement)(Vn,(0,T.Z)({},lt,Qe,{ref:Ye}))});function Pf(Ce){return Ce?"open":"closed"}const Yp=Vp,jf=Hp,ts=ac,hl=Gp,Xp=sc;var Eu=o(8242),_u=o(453),Mf=o(8935),io=o(8924),Br=function(Ce){var Ye=Ce.color,Xe=Ce.onChange,Qe=Ce.label,lt=Ce.colorPickerType,ft=(0,Eu.Fy)(),vt=(0,k.useState)(Ye),ut=(0,M.Z)(vt,2),Ht=ut[0],gn=ut[1],tn=(0,W.KO)(he),zt=(0,M.Z)(tn,2),kn=zt[0],nn=zt[1];(0,k.useEffect)(function(){gn(Ye)},[Ye]);var En=(0,k.useCallback)(function(er){var gr=er.toLowerCase(),xr=va(gr);xr&&Xe(xr),gn(gr)},[Xe]),qt=(0,k.useRef)(null),bn=(0,k.useRef)(null);(0,k.useEffect)(function(){qt.current&&qt.current.focus()},[kn]);var Rn=(0,W.KO)(io.$,_u.yE),Zn=(0,M.Z)(Rn,2),An=Zn[0],Pn=Zn[1];return(0,k.useEffect)(function(){return function(){Pn(null)}},[Pn]),(0,E.jsxs)("div",{className:"color-picker__input-label",children:[(0,E.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,E.jsx)("input",{ref:kn==="hex"?qt:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":Qe,onChange:function(er){En(er.target.value)},value:(Ht||"").replace(/^#/,""),onBlur:function(){gn(Ye)},tabIndex:-1,onFocus:function(){return nn("hex")},onKeyDown:function(er){var gr;er.key!==O.tW.TAB&&(er.key===O.tW.ESCAPE&&((gr=bn.current)===null||gr===void 0||gr.focus()),er.stopPropagation())}}),!ft.editor.isMobile&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,E.jsx)("div",{ref:bn,className:(0,f.Z)("excalidraw-eye-dropper-trigger",{selected:An}),onClick:function(){return Pn(function(er){return er?null:{keepOpenOnAlt:!1,onSelect:function(gr){return Xe(gr)},colorPickerType:lt}})},title:"".concat((0,L.t)("labels.eyeDropper"),"  ").concat(O.tW.I.toLocaleUpperCase()," or ").concat((0,p.uY)("Alt")," "),children:Mf.$W})]})]})},If=o(3379),mr=o.n(If),Rf=o(7795),Oi=o.n(Rf),Af=o(569),qp=o.n(Af),Jp=o(3565),Df=o.n(Jp),Qp=o(9216),Lf=o.n(Qp),Nf=o(4589),Ui=o.n(Nf),pl=o(4269),ga={};ga.styleTagTransform=Ui(),ga.setAttributes=Df(),ga.insert=qp().bind(null,"head"),ga.domAPI=Oi(),ga.insertStyleElement=Lf(),mr()(pl.Z,ga),pl.Z&&pl.Z.locals&&pl.Z.locals;var co=function(Ce){var Ye=new Option().style;return Ye.color=Ce,!!Ye.color},va=function(Ce){return(0,p.Qm)(Ce)?Ce:co("#".concat(Ce))?"#".concat(Ce):co(Ce)?Ce:null},ml=function(Ce){var Ye=Ce.type,Xe=Ce.color,Qe=Ce.onChange,lt=Ce.label,ft=Ce.elements,vt=Ce.palette,ut=vt===void 0?u.HO:vt,Ht=Ce.updateData,gn=(0,W.KO)(he),tn=(0,M.Z)(gn,2)[1],zt=(0,W.KO)(io.$,_u.yE),kn=(0,M.Z)(zt,2),nn=kn[0],En=kn[1],qt=(0,Eu.J0)().container,bn=(0,Eu.Fy)(),Rn=(0,E.jsxs)("div",{children:[(0,E.jsx)(C,{children:(0,L.t)("colorPicker.hexCode")}),(0,E.jsx)(Br,{color:Xe,label:lt,onChange:function(Pn){Qe(Pn)},colorPickerType:Ye})]}),Zn=(0,k.useRef)(null),An=function(){var Pn,er;(Pn=Zn.current)===null||Pn===void 0||(er=Pn.querySelector(".color-picker-content"))===null||er===void 0||er.focus()};return(0,E.jsx)(ts,{container:qt,children:(0,E.jsxs)(hl,{ref:Zn,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(Pn){An(),Pn.preventDefault()},onPointerDownOutside:function(Pn){nn&&Pn.preventDefault()},onCloseAutoFocus:function(Pn){Pn.stopPropagation(),Pn.preventDefault(),qt&&!(0,p.y1)(document.activeElement)&&qt.focus(),Ht({openPopup:null}),tn(null)},side:bn.editor.isMobile&&!bn.viewport.isLandscape?"bottom":"right",align:bn.editor.isMobile&&!bn.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[ut?(0,E.jsx)(y,{palette:ut,color:Xe,onChange:function(Pn){Qe(Pn)},onEyeDropperToggle:function(Pn){En(function(er){return Pn?((er=er||{keepOpenOnAlt:!0,onSelect:Qe,colorPickerType:Ye}).keepOpenOnAlt=!0,er):Pn===!1||er?null:{keepOpenOnAlt:!1,onSelect:Qe,colorPickerType:Ye}})},onEscape:function(Pn){nn?En(null):(0,p.s)(Pn.target)?An():Ht({openPopup:null})},label:lt,type:Ye,elements:ft,updateData:Ht,children:Rn}):Rn,(0,E.jsx)(Xp,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},zf=function(Ce){var Ye=Ce.label,Xe=Ce.color,Qe=Ce.type;return(0,E.jsx)(jf,{type:"button",className:(0,f.Z)("color-picker__button active-color",{"is-transparent":Xe==="transparent"||!Xe}),"aria-label":Ye,style:Xe?{"--swatch-color":Xe}:void 0,title:Qe==="elementStroke"?(0,L.t)("labels.showStroke"):(0,L.t)("labels.showBackground"),children:(0,E.jsx)("div",{className:"color-picker__button-outline"})})},em=function(Ce){var Ye=Ce.type,Xe=Ce.color,Qe=Ce.onChange,lt=Ce.label,ft=Ce.elements,vt=Ce.palette,ut=vt===void 0?u.HO:vt,Ht=Ce.topPicks,gn=Ce.updateData,tn=Ce.appState;return(0,E.jsx)("div",{children:(0,E.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,E.jsx)(R,{activeColor:Xe,onChange:Qe,type:Ye,topPicks:Ht}),(0,E.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,E.jsxs)(Yp,{open:tn.openPopup===Ye,onOpenChange:function(zt){gn({openPopup:zt?Ye:null})},children:[(0,E.jsx)(zf,{color:Xe,label:lt,type:Ye}),tn.openPopup===Ye&&(0,E.jsx)(ml,{type:Ye,color:Xe,onChange:Qe,label:lt,elements:ft,palette:ut,updateData:gn})]})]})})}},6887:function(Q,z,o){o.d(z,{Z:function(){return T}});var M=o(7169),p=o(2726),f=o(8227),u=o(1300),E=o(3379),R=o.n(E),k=o(7795),d=o.n(k),L=o(569),W=o.n(L),Y=o(3565),ee=o.n(Y),S=o(9216),B=o.n(S),he=o(4589),ge=o.n(he),ve=o(9393),me={};me.styleTagTransform=ge(),me.setAttributes=ee(),me.insert=W().bind(null,"head"),me.domAPI=d(),me.insertStyleElement=B(),R()(ve.Z,me),ve.Z&&ve.Z.locals&&ve.Z.locals;var le=o(4932),N=o(3607),oe=o(3116),O=o(8242),I=o(453),A=o(1020),C=["onConfirm","onCancel","children","confirmText","cancelText","className"];function U(s,D){var b=Object.keys(s);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(s);D&&(v=v.filter(function(x){return Object.getOwnPropertyDescriptor(s,x).enumerable})),b.push.apply(b,v)}return b}function y(s){for(var D=1;D<arguments.length;D++){var b=arguments[D]!=null?arguments[D]:{};D%2?U(Object(b),!0).forEach(function(v){(0,M.Z)(s,v,b[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(b)):U(Object(b)).forEach(function(v){Object.defineProperty(s,v,Object.getOwnPropertyDescriptor(b,v))})}return s}var T=function(s){var D=s.onConfirm,b=s.onCancel,v=s.children,x=s.confirmText,j=x===void 0?(0,f.t)("buttons.confirm"):x,te=s.cancelText,V=te===void 0?(0,f.t)("buttons.cancel"):te,F=s.className,Z=F===void 0?"":F,ne=(0,p.Z)(s,C),ce=(0,O.n9)(),Se=(0,N.b9)(oe.uh,I.yE),de=(0,O.J0)().container;return(0,A.jsxs)(u.V,y(y({onCloseRequest:b,size:"small"},ne),{},{className:"confirm-dialog ".concat(Z),children:[v,(0,A.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,A.jsx)(le.Z,{label:V,onClick:function(){ce({openMenu:null}),Se(!1),b(),de==null||de.focus()}}),(0,A.jsx)(le.Z,{label:j,onClick:function(){ce({openMenu:null}),Se(!1),D(),de==null||de.focus()},actionType:"danger"})]})]}))}},1925:function(Q,z,o){o.d(z,{O:function(){return oe}});var M=o(2726),p=o(7169),f=o(45),u=o(9937),E=o(4572),R=o(100),k=o(8227),d=o(9827),L=o(8242),W=o(6922),Y=o(3116),ee=o(5902),S=o(1020),B=o(9787),he=["children"],ge=["children","className","onDock","docked"];function ve(O,I){var A=Object.keys(O);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(O);I&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable})),A.push.apply(A,C)}return A}function me(O){for(var I=1;I<arguments.length;I++){var A=arguments[I]!=null?arguments[I]:{};I%2?ve(Object(A),!0).forEach(function(C){(0,p.Z)(O,C,A[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(A)):ve(Object(A)).forEach(function(C){Object.defineProperty(O,C,Object.getOwnPropertyDescriptor(A,C))})}return O}var le=(0,W.$)("DefaultSidebarTrigger",function(O){var I=(0,E.R6)().DefaultSidebarTriggerTunnel;return(0,S.jsx)(I.In,{children:(0,S.jsx)(ee.YE.Trigger,me(me({},O),{},{className:"default-sidebar-trigger",name:u.Cc.name}))})});le.displayName="DefaultSidebarTrigger";var N=function(O){var I=O.children,A=(0,M.Z)(O,he),C=(0,E.R6)().DefaultSidebarTabTriggersTunnel;return(0,S.jsx)(C.In,{children:(0,S.jsx)(ee.YE.TabTriggers,me(me({},A),{},{children:I}))})};N.displayName="DefaultTabTriggers";var oe=Object.assign((0,W.$)("DefaultSidebar",function(O){var I=O.children,A=O.className,C=O.onDock,U=O.docked,y=(0,M.Z)(O,ge),T=(0,R.I)(),s=(0,L.n9)(),D=(0,E.R6)().DefaultSidebarTabTriggersTunnel;return(0,B.createElement)(ee.YE,me(me({},y),{},{name:"default",key:"default",className:(0,f.Z)("default-sidebar",A),docked:U??T.defaultSidebarDockedPreference,onDock:C===!1||!C&&U!=null?void 0:(0,d.Mj)(C,function(b){s({defaultSidebarDockedPreference:b})})}),(0,S.jsxs)(ee.YE.Tabs,{children:[(0,S.jsxs)(ee.YE.Header,{children:[y.__fallback&&(0,S.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,k.t)("toolBar.library")}),(0,S.jsx)(D.Out,{})]}),(0,S.jsx)(ee.YE.Tab,{tab:u.tf,children:(0,S.jsx)(Y.rY,{})}),I]}))}),{Trigger:le,TabTriggers:N})},1300:function(Q,z,o){o.d(z,{V:function(){return j}});var M=o(2577),p=o(45),f=o(9787),u=o(8227),E=o(8242),R=o(5491),k=o(3379),d=o.n(k),L=o(7795),W=o.n(L),Y=o(569),ee=o.n(Y),S=o(3565),B=o.n(S),he=o(9216),ge=o.n(he),ve=o(4589),me=o.n(ve),le=o(9482),N={};N.styleTagTransform=me(),N.setAttributes=B(),N.insert=ee().bind(null,"head"),N.domAPI=W(),N.insertStyleElement=ge(),d()(le.Z,N),le.Z&&le.Z.locals&&le.Z.locals;var oe=o(8935),O=o(1404),I=o(6843),A={};A.styleTagTransform=me(),A.setAttributes=B(),A.insert=ee().bind(null,"head"),A.domAPI=W(),A.insertStyleElement=ge(),d()(I.Z,A),I.Z&&I.Z.locals&&I.Z.locals;var C=o(5156),U=o(334),y=o(1020),T=function(te){var V=te.closeOnClickOutside,F=V===void 0||V,Z=(0,U.F)({className:"excalidraw-modal-container"});return Z?(0,C.createPortal)((0,y.jsxs)("div",{className:(0,p.Z)("Modal",te.className),role:"dialog","aria-modal":"true",onKeyDown:function(ne){ne.key===R.tW.ESCAPE&&(ne.nativeEvent.stopImmediatePropagation(),ne.stopPropagation(),te.onCloseRequest())},"aria-labelledby":te.labelledBy,"data-prevent-outside-click":!0,children:[(0,y.jsx)("div",{className:"Modal__background",onClick:F?te.onCloseRequest:void 0}),(0,y.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(te.maxWidth,"px")},tabIndex:0,children:te.children})]}),Z):null},s=o(9827),D=o(3607),b=o(3116),v=o(453);function x(te){if(te&&typeof te=="number")return te;switch(te){case"small":return 550;case"wide":return 1024;default:return 800}}var j=function(te){var V=function(){var je=(0,f.useState)(null),Ue=(0,M.Z)(je,2),et=Ue[0],He=Ue[1];return[et,(0,f.useCallback)(function(Le){return He(Le)},[])]}(),F=(0,M.Z)(V,2),Z=F[0],ne=F[1],ce=(0,f.useState)(document.activeElement),Se=(0,M.Z)(ce,1)[0],de=(0,E.J0)().id,_e=(0,E.Fy)().viewport.isMobile;(0,f.useEffect)(function(){if(Z){var je=(0,s.xp)(Z);je.length>0&&te.autofocus!==!1&&(je[1]||je[0]).focus();var Ue=function(et){if(et.key===R.tW.TAB){var He=(0,s.xp)(Z),Le=document.activeElement,De=He.findIndex(function(Be){return Be===Le});De===0&&et.shiftKey?(He[He.length-1].focus(),et.preventDefault()):De!==He.length-1||et.shiftKey||(He[0].focus(),et.preventDefault())}};return Z.addEventListener("keydown",Ue),function(){return Z.removeEventListener("keydown",Ue)}}},[Z,te.autofocus]);var we=(0,E.n9)(),J=(0,D.b9)(b.uh,v.yE),xe=function(){we({openMenu:null}),J(!1),Se.focus(),te.onCloseRequest()};return(0,y.jsx)(T,{className:(0,p.Z)("Dialog",te.className,{"Dialog--fullscreen":_e}),labelledBy:"dialog-title",maxWidth:x(te.size),onCloseRequest:xe,closeOnClickOutside:te.closeOnClickOutside,children:(0,y.jsxs)(O.W,{ref:ne,children:[te.title&&(0,y.jsx)("h2",{id:"".concat(de,"-dialog-title"),className:"Dialog__title",children:(0,y.jsx)("span",{className:"Dialog__titleContent",children:te.title})}),(0,y.jsx)("button",{className:"Dialog__close",onClick:xe,title:(0,u.t)("buttons.close"),"aria-label":(0,u.t)("buttons.close"),children:_e?oe.op:oe.Tw}),(0,y.jsx)("div",{className:"Dialog__content",children:te.children})]})})}},4932:function(Q,z,o){o.d(z,{Z:function(){return I}});var M=o(7169),p=o(2726),f=o(45),u=o(3379),E=o.n(u),R=o(7795),k=o.n(R),d=o(569),L=o.n(d),W=o(3565),Y=o.n(W),ee=o(9216),S=o.n(ee),B=o(4589),he=o.n(B),ge=o(6148),ve={};ve.styleTagTransform=he(),ve.setAttributes=Y(),ve.insert=L().bind(null,"head"),ve.domAPI=k(),ve.insertStyleElement=S(),E()(ge.Z,ve),ge.Z&&ge.Z.locals&&ge.Z.locals;var me=o(8531),le=o(1020),N=["label","onClick","className","children","actionType","type","isLoading"];function oe(A,C){var U=Object.keys(A);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(A);C&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(A,T).enumerable})),U.push.apply(U,y)}return U}function O(A){for(var C=1;C<arguments.length;C++){var U=arguments[C]!=null?arguments[C]:{};C%2?oe(Object(U),!0).forEach(function(y){(0,M.Z)(A,y,U[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(U)):oe(Object(U)).forEach(function(y){Object.defineProperty(A,y,Object.getOwnPropertyDescriptor(U,y))})}return A}var I=function(A){var C=A.label,U=A.onClick,y=A.className,T=A.children,s=A.actionType,D=A.type,b=D===void 0?"button":D,v=A.isLoading,x=(0,p.Z)(A,N),j=s?"Dialog__action-button--".concat(s):"";return(0,le.jsxs)("button",O(O({className:(0,f.Z)("Dialog__action-button",j,y),type:b,"aria-label":C,onClick:U},x),{},{children:[T&&(0,le.jsx)("div",{style:v?{visibility:"hidden"}:{},children:T}),(0,le.jsx)("div",{style:v?{visibility:"hidden"}:{},children:C}),v&&(0,le.jsx)("div",{style:{position:"absolute",inset:0},children:(0,le.jsx)(me.Z,{})})]}))}},8924:function(Q,z,o){o.d(z,{p:function(){return T},$:function(){return y}});var M=o(3607),p=o(9787),f=o(5156),u=o(9240),E=o(9937),R=o(100),k=o(334),d=o(1901),L=o(5491),W=o(4105),Y=o(8242),ee=o(3379),S=o.n(ee),B=o(7795),he=o.n(B),ge=o(569),ve=o.n(ge),me=o(3565),le=o.n(me),N=o(9216),oe=o.n(N),O=o(4589),I=o.n(O),A=o(7522),C={};C.styleTagTransform=I(),C.setAttributes=le(),C.insert=ve().bind(null,"head"),C.domAPI=he(),C.insertStyleElement=oe(),S()(A.Z,C),A.Z&&A.Z.locals&&A.Z.locals;var U=o(1020),y=(0,M.cn)(null),T=function(s){var D=s.onCancel,b=s.onChange,v=s.onSelect,x=s.colorPickerType,j=(0,k.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),te=(0,R.I)(),V=(0,Y.bd)(),F=(0,Y.qD)(),Z=(0,W.eD)(V,te),ne=function(de){var _e=(0,p.useRef)(de);return Object.assign(_e.current,de),_e.current}({app:F,onCancel:D,onChange:b,onSelect:v,selectedElements:Z}),ce=(0,Y.J0)().container;(0,p.useEffect)(function(){var de=Se.current;if(de&&F.canvas&&j){var _e=!1,we=F.canvas.getContext("2d"),J=function(Le){var De=Le.clientX,Be=Le.clientY,Ze=we.getImageData((De-te.offsetLeft)*window.devicePixelRatio,(Be-te.offsetTop)*window.devicePixelRatio,1,1).data;return(0,u.vq)(Ze[0],Ze[1],Ze[2])},xe=function(Le){var De=Le.clientX,Be=Le.clientY,Ze=Le.altKey;de.style.top="".concat(Be+20,"px"),de.style.left="".concat(De+20,"px");var ye=J({clientX:De,clientY:Be});_e&&ne.onChange(x,ye,ne.selectedElements,{altKey:Ze}),de.style.background=ye},je=function(){ne.onCancel()},Ue=function(Le){_e=!0,Le.stopImmediatePropagation()},et=function(Le){_e=!1,ce==null||ce.focus(),Le.stopImmediatePropagation(),Le.preventDefault(),function(De,Be){ne.onSelect(De,Be)}(J(Le),Le)},He=function(Le){Le.key===L.tW.ESCAPE&&(Le.preventDefault(),Le.stopImmediatePropagation(),je())};return j.tabIndex=-1,j.focus(),xe({clientX:ne.app.lastViewportPosition.x,clientY:ne.app.lastViewportPosition.y,altKey:!1}),j.addEventListener(E.Ks.KEYDOWN,He),j.addEventListener(E.Ks.POINTER_DOWN,Ue),j.addEventListener(E.Ks.POINTER_UP,et),window.addEventListener("pointermove",xe,{passive:!0}),window.addEventListener(E.Ks.BLUR,je),function(){_e=!1,j.removeEventListener(E.Ks.KEYDOWN,He),j.removeEventListener(E.Ks.POINTER_DOWN,Ue),j.removeEventListener(E.Ks.POINTER_UP,et),window.removeEventListener("pointermove",xe),window.removeEventListener(E.Ks.BLUR,je)}}},[ne,F.canvas,j,x,ce,te.offsetLeft,te.offsetTop]);var Se=(0,p.useRef)(null);return(0,d.O)(Se,function(){D()},function(de){return!!de.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),j?(0,f.createPortal)((0,U.jsx)("div",{ref:Se,className:"excalidraw-eye-dropper-preview"}),j):null}},1404:function(Q,z,o){o.d(z,{W:function(){return O}});var M=o(7169),p=o(3379),f=o.n(p),u=o(7795),E=o.n(u),R=o(569),k=o.n(R),d=o(3565),L=o.n(d),W=o(9216),Y=o.n(W),ee=o(4589),S=o.n(ee),B=o(7369),he={};he.styleTagTransform=S(),he.setAttributes=L(),he.insert=k().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=Y(),f()(B.Z,he),B.Z&&B.Z.locals&&B.Z.locals;var ge=o(9787),ve=o.n(ge),me=o(45),le=o(1020);function N(I,A){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(I);A&&(U=U.filter(function(y){return Object.getOwnPropertyDescriptor(I,y).enumerable})),C.push.apply(C,U)}return C}function oe(I){for(var A=1;A<arguments.length;A++){var C=arguments[A]!=null?arguments[A]:{};A%2?N(Object(C),!0).forEach(function(U){(0,M.Z)(I,U,C[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):N(Object(C)).forEach(function(U){Object.defineProperty(I,U,Object.getOwnPropertyDescriptor(C,U))})}return I}var O=ve().forwardRef(function(I,A){var C=I.children,U=I.padding,y=I.className,T=I.style;return(0,le.jsx)("div",{className:(0,me.Z)("Island",y),style:oe({"--padding":U},T),ref:A,children:C})})},3116:function(Q,z,o){o.d(z,{rY:function(){return an},uh:function(){return Zt}});var M=o(6655),p=o(1930),f=o(8950),u=o(2577),E=o(2975),R=o.n(E),k=o(9787),d=o.n(k),L=o(9326),W=o(8227),Y=o(4643),ee=o(7169),S=o(4419),B=o(9827),he=o(2540),ge=o(9937),ve=o(8531),me=o(5742),le=o(1020),N=function(st){var At=st.theme,bt=st.id,jt=st.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,le.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(jt,"&useHash=true&token=").concat(bt,"&theme=").concat(At,"&version=").concat(ge.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,W.t)("labels.libraries")})},oe=o(45),O=function(st){var At=st.libraryReturnUrl,bt=st.theme,jt=st.id,Et=st.style,Vt=st.children,Kt=st.className;return(0,le.jsxs)("div",{className:(0,oe.Z)("library-menu-control-buttons",Kt),style:Et,children:[(0,le.jsx)(N,{id:jt,libraryReturnUrl:At,theme:bt}),Vt]})},I=o(9247),A=o(453),C=o(8242),U=o(8935),y=o(1512),T=o(6548),s=o(3607),D=o(6887),b=o(5284),v=o(1300),x=o(507),j=o(5796),te=o(4932),V=o(3379),F=o.n(V),Z=o(7795),ne=o.n(Z),ce=o(569),Se=o.n(ce),de=o(3565),_e=o.n(de),we=o(9216),J=o.n(we),xe=o(4589),je=o.n(xe),Ue=o(7589),et={};et.styleTagTransform=je(),et.setAttributes=_e(),et.insert=Se().bind(null,"head"),et.domAPI=ne(),et.insertStyleElement=J(),F()(Ue.Z,et),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;function He(st,At){var bt=Object.keys(st);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(st);At&&(jt=jt.filter(function(Et){return Object.getOwnPropertyDescriptor(st,Et).enumerable})),bt.push.apply(bt,jt)}return bt}function Le(st){for(var At=1;At<arguments.length;At++){var bt=arguments[At]!=null?arguments[At]:{};At%2?He(Object(bt),!0).forEach(function(jt){(0,ee.Z)(st,jt,bt[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(bt)):He(Object(bt)).forEach(function(jt){Object.defineProperty(st,jt,Object.getOwnPropertyDescriptor(bt,jt))})}return st}function De(st,At){var bt=typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(!bt){if(Array.isArray(st)||(bt=function(Wt,Mn){if(Wt){if(typeof Wt=="string")return Be(Wt,Mn);var wn=Object.prototype.toString.call(Wt).slice(8,-1);if(wn==="Object"&&Wt.constructor&&(wn=Wt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Wt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return Be(Wt,Mn)}}(st))||At&&st&&typeof st.length=="number"){bt&&(st=bt);var jt=0,Et=function(){};return{s:Et,n:function(){return jt>=st.length?{done:!0}:{done:!1,value:st[jt++]}},e:function(Wt){throw Wt},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,Kt=!0,cn=!1;return{s:function(){bt=bt.call(st)},n:function(){var Wt=bt.next();return Kt=Wt.done,Wt},e:function(Wt){cn=!0,Vt=Wt},f:function(){try{Kt||bt.return==null||bt.return()}finally{if(cn)throw Vt}}}}function Be(st,At){(At==null||At>st.length)&&(At=st.length);for(var bt=0,jt=new Array(At);bt<At;bt++)jt[bt]=st[bt];return jt}var Ze="publish-library-data",ye=function(){var st=(0,f.Z)(R().mark(function At(bt){var jt,Et,Vt,Kt,cn,Wt,Mn,wn,Jn,yt,Qt,Ut,Yt,Bn,Fn,Hn,rr;return R().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:jt=6,Et=128,Vt=Math.round(Et/16),Kt=Math.max(Math.round(Et/64),2),cn=(0,B.yo)(bt,jt),(Wt=document.createElement("canvas")).width=cn[0].length*Et+(cn[0].length+1)*(2*Vt)-2*Vt,Wt.height=cn.length*Et+(cn.length+1)*(2*Vt)-2*Vt,(Mn=Wt.getContext("2d")).fillStyle=b.white,Mn.fillRect(0,0,Wt.width,Wt.height),wn=De(bt.entries()),In.prev=12,wn.s();case 14:if((Jn=wn.n()).done){In.next=28;break}return yt=(0,u.Z)(Jn.value,2),Qt=yt[0],Ut=yt[1],In.next=18,(0,x.NL)({elements:Ut.elements,files:null,maxWidthOrHeight:Et});case 18:Yt=In.sent,Bn=Yt.width,Fn=Yt.height,Hn=Math.floor(Qt/jt)*(Et+2*Vt),rr=Qt%jt*(Et+2*Vt),Mn.drawImage(Yt,rr+(Et-Bn)/2+Vt,Hn+(Et-Fn)/2+Vt),Mn.lineWidth=Kt,Mn.strokeStyle=b.gray[4],Mn.strokeRect(rr+Vt/2,Hn+Vt/2,Et+Vt,Et+Vt);case 26:In.next=14;break;case 28:In.next=33;break;case 30:In.prev=30,In.t0=In.catch(12),wn.e(In.t0);case 33:return In.prev=33,wn.f(),In.finish(33);case 36:return In.t1=j.Tu,In.t2=File,In.next=40,(0,j._c)(Wt);case 40:return In.t3=In.sent,In.t4=[In.t3],In.t5={type:ge.LO.png},In.t6=new In.t2(In.t4,"preview",In.t5),In.t7={outputType:ge.LO.jpg,maxWidthOrHeight:5e3},In.next=47,(0,In.t1)(In.t6,In.t7);case 47:return In.abrupt("return",In.sent);case 48:case"end":return In.stop()}},At,null,[[12,30,33,36]])}));return function(At){return st.apply(this,arguments)}}(),be=function(st){var At=st.libItem,bt=st.appState,jt=st.index,Et=st.onChange,Vt=st.onRemove,Kt=(0,k.useRef)(null),cn=(0,k.useRef)(null);return(0,k.useEffect)(function(){var Wt=Kt.current;Wt&&(0,f.Z)(R().mark(function Mn(){var wn;return R().wrap(function(Jn){for(;;)switch(Jn.prev=Jn.next){case 0:return Jn.next=2,(0,x.$D)({elements:At.elements,appState:Le(Le({},bt),{},{viewBackgroundColor:b.white,exportBackground:!0}),files:null});case 2:wn=Jn.sent,Wt.innerHTML=wn.outerHTML;case 4:case"end":return Jn.stop()}},Mn)}))()},[At.elements,bt]),(0,le.jsxs)("div",{className:"single-library-item",children:[At.status==="published"&&(0,le.jsx)("span",{className:"single-library-item-status",children:(0,W.t)("labels.statusPublished")}),(0,le.jsx)("div",{ref:Kt,className:"single-library-item__svg"}),(0,le.jsx)(y.V,{"aria-label":(0,W.t)("buttons.remove"),type:"button",icon:U.Tw,className:"single-library-item--remove",onClick:Vt.bind(null,At.id),title:(0,W.t)("buttons.remove")}),(0,le.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,le.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,le.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,le.jsx)("span",{style:{fontWeight:500,color:b.gray[6]},children:(0,W.t)("publishDialog.itemName")}),(0,le.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,le.jsx)("input",{type:"text",ref:cn,style:{width:"80%",padding:"0.2rem"},defaultValue:At.name,placeholder:"Item name",onChange:function(Wt){Et(Wt.target.value,jt)}})]}),(0,le.jsx)("span",{className:"error",children:At.error})]})]})},X=function(st){var At=st.onClose,bt=st.libraryItems,jt=st.appState,Et=st.onSuccess,Vt=st.onError,Kt=st.updateItemsInStorage,cn=st.onRemove,Wt=(0,k.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Mn=(0,u.Z)(Wt,2),wn=Mn[0],Jn=Mn[1],yt=(0,k.useState)(!1),Qt=(0,u.Z)(yt,2),Ut=Qt[0],Yt=Qt[1];(0,k.useEffect)(function(){var _n=function(){try{var vn=localStorage.getItem(Ze);if(vn)return JSON.parse(vn)}catch($n){console.error($n)}return null}();_n&&Jn(_n)},[]);var Bn=(0,k.useState)(bt.slice()),Fn=(0,u.Z)(Bn,2),Hn=Fn[0],rr=Fn[1];(0,k.useEffect)(function(){rr(bt.slice())},[bt]);var In,_t=function(_n){Jn(Le(Le({},wn),{},(0,ee.Z)({},_n.target.name,_n.target.value)))},Ct=function(){var _n=(0,f.Z)(R().mark(function vn($n){var jn,Ln,ir,Sn,Cn,Nn,On;return R().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:if($n.preventDefault(),Yt(!0),jn=[],Ln=!1,Hn.forEach(function(zn){var ar="";zn.name||(ar=(0,W.t)("publishDialog.errors.required"),Ln=!0),jn.push(Le(Le({},zn),{},{error:ar}))}),!Ln){ur.next=9;break}return rr(jn),Yt(!1),ur.abrupt("return");case 9:return ur.next=11,ye(Hn);case 11:ir=ur.sent,Sn={type:ge.r8.excalidrawLibrary,version:ge.Kr.excalidrawLibrary,source:ge.pb,libraryItems:Hn},Cn=JSON.stringify(Sn,null,2),Nn=new Blob([Cn],{type:"application/json"}),(On=new FormData).append("excalidrawLib",Nn),On.append("previewImage",ir),On.append("previewImageType",ir.type),On.append("title",wn.name),On.append("authorName",wn.authorName),On.append("githubHandle",wn.githubHandle),On.append("name",wn.name),On.append("description",wn.description),On.append("twitterHandle",wn.twitterHandle),On.append("website",wn.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:On}).then(function(zn){return zn.ok?zn.json().then(function(ar){var jr=ar.url;localStorage.removeItem(Ze),Et({url:jr,authorName:wn.authorName,items:Hn})}):zn.json().catch(function(){throw new Error(zn.statusText||"something went wrong")}).then(function(ar){throw new Error(ar.message||zn.statusText||"something went wrong")})},function(zn){console.error(zn),Vt(zn),Yt(!1)}).catch(function(zn){console.error(zn),Vt(zn),Yt(!1)});case 27:case"end":return ur.stop()}},vn)}));return function(vn){return _n.apply(this,arguments)}}(),It=(0,k.useCallback)(function(){Kt(Hn),function(_n){try{localStorage.setItem(Ze,JSON.stringify(_n))}catch(vn){console.error(vn)}}(wn),At()},[Hn,At,Kt,wn]),Bt=!!bt.length,yn=bt.some(function(_n){return _n.status==="published"});return(0,le.jsx)(v.V,{onCloseRequest:It,title:(0,W.t)("publishDialog.title"),className:"publish-library",children:Bt?(0,le.jsxs)("form",{onSubmit:Ct,children:[(0,le.jsx)("div",{className:"publish-library-note",children:(0,le.jsx)(I.Z,{i18nKey:"publishDialog.noteDescription",link:function(_n){return(0,le.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:_n})}})}),(0,le.jsx)("span",{className:"publish-library-note",children:(0,le.jsx)(I.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(_n){return(0,le.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:_n})}})}),(0,le.jsx)("div",{className:"publish-library-note",children:(0,W.t)("publishDialog.noteItems")}),yn&&(0,le.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,W.t)("publishDialog.republishWarning")}),(In=[],Hn.forEach(function(_n,vn){In.push((0,le.jsx)("div",{className:"single-library-item-wrapper",children:(0,le.jsx)(be,{libItem:_n,appState:jt,index:vn,onChange:function($n,jn){var Ln=Hn.slice();Ln[jn].name=$n,rr(Ln)},onRemove:cn})},vn))}),(0,le.jsx)("div",{className:"selected-library-items",children:In})),(0,le.jsxs)("div",{className:"publish-library__fields",children:[(0,le.jsxs)("label",{children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.libraryName")}),(0,le.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,le.jsx)("input",{type:"text",name:"name",required:!0,value:wn.name,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.libraryName")})]}),(0,le.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.libraryDesc")}),(0,le.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,le.jsx)("textarea",{name:"description",rows:4,required:!0,value:wn.description,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.libraryDesc")})]}),(0,le.jsxs)("label",{children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.authorName")}),(0,le.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,le.jsx)("input",{type:"text",name:"authorName",required:!0,value:wn.authorName,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.authorName")})]}),(0,le.jsxs)("label",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.githubUsername")}),(0,le.jsx)("input",{type:"text",name:"githubHandle",value:wn.githubHandle,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.githubHandle")})]}),(0,le.jsxs)("label",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.twitterUsername")}),(0,le.jsx)("input",{type:"text",name:"twitterHandle",value:wn.twitterHandle,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.twitterHandle")})]}),(0,le.jsxs)("label",{children:[(0,le.jsx)("span",{children:(0,W.t)("publishDialog.website")}),(0,le.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,W.t)("publishDialog.errors.website"),value:wn.website,onChange:_t,placeholder:(0,W.t)("publishDialog.placeholder.website")})]}),(0,le.jsx)("span",{className:"publish-library-note",children:(0,le.jsx)(I.Z,{i18nKey:"publishDialog.noteLicense",link:function(_n){return(0,le.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:_n})}})})]}),(0,le.jsxs)("div",{className:"publish-library__buttons",children:[(0,le.jsx)(te.Z,{label:(0,W.t)("buttons.cancel"),onClick:It,"data-testid":"cancel-clear-canvas-button"}),(0,le.jsx)(te.Z,{type:"submit",label:(0,W.t)("buttons.submit"),actionType:"primary",isLoading:Ut})]})]}):(0,le.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,W.t)("publishDialog.atleastOneLibItem")})})},h=o(7104),m=o(100),_=o(5832),G=function(st,At){return st.filter(function(bt){return At.includes(bt.id)})},$=function(st){var At,bt,jt=st.setAppState,Et=st.selectedItems,Vt=st.library,Kt=st.onRemoveFromLibrary,cn=st.resetLibrary,Wt=st.onSelectItems,Mn=st.appState,wn=st.className,Jn=(0,s.KO)(L.rF,A.yE),yt=(0,u.Z)(Jn,1)[0],Qt=(0,s.KO)(Zt,A.yE),Ut=(0,u.Z)(Qt,2),Yt=Ut[0],Bn=Ut[1],Fn=(0,k.useState)(!1),Hn=(0,u.Z)(Fn,2),rr=Hn[0],In=Hn[1],_t=!!Et.length,Ct=_t?yt.libraryItems.filter(function(On){return Et.includes(On.id)}):yt.libraryItems,It=_t?(0,W.t)("buttons.remove"):(0,W.t)("buttons.resetLibrary"),Bt=(0,k.useState)(!1),yn=(0,u.Z)(Bt,2),_n=yn[0],vn=yn[1],$n=(0,k.useState)(null),jn=(0,u.Z)($n,2),Ln=jn[0],ir=jn[1],Sn=(0,k.useCallback)(function(){return(0,le.jsxs)(v.V,{onCloseRequest:function(){return ir(null)},title:(0,W.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,le.jsx)("p",{children:(0,le.jsx)(I.Z,{i18nKey:"publishSuccessDialog.content",authorName:Ln.authorName,link:function(On){return(0,le.jsx)("a",{href:Ln==null?void 0:Ln.url,target:"_blank",rel:"noopener noreferrer",children:On})}})}),(0,le.jsx)(y.V,{type:"button",title:(0,W.t)("buttons.close"),"aria-label":(0,W.t)("buttons.close"),label:(0,W.t)("buttons.close"),onClick:function(){return ir(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[ir,Ln]),Cn=function(){var On=(0,f.Z)(R().mark(function ur(){return R().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:return zn.prev=0,zn.next=3,Vt.updateLibrary({libraryItems:(0,T.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:zn.next=11;break;case 5:if(zn.prev=5,zn.t0=zn.catch(0),(zn.t0===null||zn.t0===void 0?void 0:zn.t0.name)!=="AbortError"){zn.next=10;break}return console.warn(zn.t0),zn.abrupt("return");case 10:jt({errorMessage:(0,W.t)("errors.importLibraryError")});case 11:case"end":return zn.stop()}},ur,null,[[0,5]])}));return function(){return On.apply(this,arguments)}}(),Nn=function(){var On=(0,f.Z)(R().mark(function ur(){var zn;return R().wrap(function(ar){for(;;)switch(ar.prev=ar.next){case 0:if(!_t){ar.next=4;break}ar.t0=Ct,ar.next=7;break;case 4:return ar.next=6,Vt.getLatestLibrary();case 6:ar.t0=ar.sent;case 7:zn=ar.t0,(0,S.t1)(zn).catch(B.FG).catch(function(jr){jt({errorMessage:jr.message})});case 9:case"end":return ar.stop()}},ur)}));return function(){return On.apply(this,arguments)}}();return(0,le.jsxs)("div",{className:(0,oe.Z)("library-menu-dropdown-container",wn),children:[(0,le.jsxs)(h.Z,{open:Yt,children:[(0,le.jsx)(h.Z.Trigger,{onToggle:function(){return Bn(!Yt)},children:U.YA}),(0,le.jsxs)(h.Z.Content,{onClickOutside:function(){return Bn(!1)},onSelect:function(){return Bn(!1)},className:"library-menu",children:[!_t&&(0,le.jsx)(h.Z.Item,{onSelect:Cn,icon:U.Tl,"data-testid":"lib-dropdown--load",children:(0,W.t)("buttons.load")}),!!Ct.length&&(0,le.jsx)(h.Z.Item,{onSelect:Nn,icon:U.Hy,"data-testid":"lib-dropdown--export",children:(0,W.t)("buttons.export")}),!!Ct.length&&(0,le.jsx)(h.Z.Item,{onSelect:function(){return In(!0)},icon:U.XH,children:It}),_t&&(0,le.jsx)(h.Z.Item,{icon:U.Nw,onSelect:function(){return vn(!0)},"data-testid":"lib-dropdown--remove",children:(0,W.t)("buttons.publishLibrary")})]})]}),Et.length>0&&(0,le.jsx)("div",{className:"library-actions-counter",children:Et.length}),rr&&(At=Et.length?(0,W.t)("alerts.removeItemsFromsLibrary",{count:Et.length}):(0,W.t)("alerts.resetLibrary"),bt=Et.length?(0,W.t)("confirmDialog.removeItemsFromLib"):(0,W.t)("confirmDialog.resetLibrary"),(0,le.jsx)(D.Z,{onConfirm:function(){Et.length?Kt():cn(),In(!1)},onCancel:function(){In(!1)},title:bt,children:(0,le.jsx)("p",{children:At})})),_n&&(0,le.jsx)(X,{onClose:function(){return vn(!1)},libraryItems:G(yt.libraryItems,Et),appState:Mn,onSuccess:function(On){return function(ur,zn){vn(!1),ir({url:ur.url,authorName:ur.authorName});var ar=zn.slice();ar.forEach(function(jr){Et.includes(jr.id)&&(jr.status="published")}),Vt.setLibrary(ar)}(On,yt.libraryItems)},onError:function(On){return window.alert(On)},updateItemsInStorage:function(){return Vt.setLibrary(yt.libraryItems)},onRemove:function(On){return Wt(Et.filter(function(ur){return ur!==On}))}}),Ln&&Sn()]})},ue=function(st){var At=st.selectedItems,bt=st.onSelectItems,jt=st.className,Et=(0,C.qD)().library,Vt=(0,_.yT)(),Kt=Vt.clearLibraryCache,cn=Vt.deleteItemsFromLibraryCache,Wt=(0,m.I)(),Mn=(0,C.n9)(),wn=(0,s.KO)(L.rF,A.yE),Jn=(0,u.Z)(wn,1)[0],yt=function(){var Qt=(0,f.Z)(R().mark(function Ut(Yt){var Bn;return R().wrap(function(Fn){for(;;)switch(Fn.prev=Fn.next){case 0:Bn=Yt.filter(function(Hn){return!At.includes(Hn.id)}),Et.setLibrary(Bn).catch(function(){Mn({errorMessage:(0,W.t)("alerts.errorRemovingFromLibrary")})}),cn(At),bt([]);case 4:case"end":return Fn.stop()}},Ut)}));return function(Ut){return Qt.apply(this,arguments)}}();return(0,le.jsx)($,{appState:Wt,setAppState:Mn,selectedItems:At,onSelectItems:bt,library:Et,onRemoveFromLibrary:function(){return yt(Jn.libraryItems)},resetLibrary:function(){Et.resetLibrary(),Kt()},className:jt})},ie=o(5644),pe={};pe.styleTagTransform=je(),pe.setAttributes=_e(),pe.insert=Se().bind(null,"head"),pe.domAPI=ne(),pe.insertStyleElement=J(),F()(ie.Z,pe),ie.Z&&ie.Z.locals&&ie.Z.locals;var Pe=o(6238),Me=(0,k.memo)(function(st){var At=st.id,bt=st.elements,jt=st.isPending,Et=st.onClick,Vt=st.selected,Kt=st.onToggle,cn=st.onDrag,Wt=st.svgCache,Mn=(0,k.useRef)(null),wn=(0,_.mF)(At,bt,Wt);(0,k.useEffect)(function(){var Fn=Mn.current;if(Fn)return wn&&(Fn.innerHTML=wn.outerHTML),function(){Fn.innerHTML=""}},[wn]);var Jn=(0,k.useState)(!1),yt=(0,u.Z)(Jn,2),Qt=yt[0],Ut=yt[1],Yt=(0,C.Fy)().editor.isMobile,Bn=jt&&(0,le.jsx)("div",{className:"library-unit__adder",children:U.pO});return(0,le.jsxs)("div",{className:(0,oe.Z)("library-unit",{"library-unit__active":bt,"library-unit--hover":bt&&Qt,"library-unit--selected":Vt,"library-unit--skeleton":!wn}),onMouseEnter:function(){return Ut(!0)},onMouseLeave:function(){return Ut(!1)},children:[(0,le.jsx)("div",{className:(0,oe.Z)("library-unit__dragger",{"library-unit__pulse":!!jt}),ref:Mn,draggable:!!bt,onClick:bt||jt?function(Fn){At&&Fn.shiftKey?Kt(At,Fn):Et(At)}:void 0,onDragStart:function(Fn){At?(Ut(!1),cn(At,Fn)):Fn.preventDefault()}}),Bn,At&&bt&&(Qt||Yt||Vt)&&(0,le.jsx)(Pe.o,{checked:Vt,onChange:function(Fn,Hn){return Kt(At,Hn)},className:"library-unit__checkbox"})]})}),$e=function(){return(0,le.jsx)("div",{className:"library-unit library-unit--skeleton"})},Ke=d().useTransition||function(){return[!1,(0,k.useCallback)(function(st){return st()},[])]},qe=function(st){var At=st.children;return(0,le.jsx)("div",{className:"library-menu-items-container__grid",children:At})},Fe=(0,k.memo)(function(st){var At=st.items,bt=st.onItemSelectToggle,jt=st.onItemDrag,Et=st.isItemSelected,Vt=st.onClick,Kt=st.svgCache,cn=st.itemsRenderedPerBatch,Wt=Ke(),Mn=(0,u.Z)(Wt,2)[1],wn=(0,k.useState)(0),Jn=(0,u.Z)(wn,2),yt=Jn[0],Qt=Jn[1];return(0,k.useEffect)(function(){yt<At.length&&Mn(function(){Qt(yt+cn)})},[yt,At.length,Mn,cn]),(0,le.jsx)(le.Fragment,{children:At.map(function(Ut,Yt){var Bn;return Yt<yt?(0,le.jsx)(Me,{elements:Ut==null?void 0:Ut.elements,isPending:!(Ut!=null&&Ut.id||Ut==null||!Ut.elements),onClick:Vt,svgCache:Kt,id:Ut==null?void 0:Ut.id,selected:Et(Ut.id),onToggle:bt,onDrag:jt},(Bn=Ut==null?void 0:Ut.id)!==null&&Bn!==void 0?Bn:Yt):(0,le.jsx)($e,{},Yt)})})}),ot=o(200),it=o.n(ot),ht=(0,s.cn)(0),Te=o(6440),Ie={};Ie.styleTagTransform=je(),Ie.setAttributes=_e(),Ie.insert=Se().bind(null,"head"),Ie.domAPI=ne(),Ie.insertStyleElement=J(),F()(Te.Z,Ie),Te.Z&&Te.Z.locals&&Te.Z.locals;function Ge(st,At){var bt=Object.keys(st);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(st);At&&(jt=jt.filter(function(Et){return Object.getOwnPropertyDescriptor(st,Et).enumerable})),bt.push.apply(bt,jt)}return bt}function tt(st){for(var At=1;At<arguments.length;At++){var bt=arguments[At]!=null?arguments[At]:{};At%2?Ge(Object(bt),!0).forEach(function(jt){(0,ee.Z)(st,jt,bt[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(st,Object.getOwnPropertyDescriptors(bt)):Ge(Object(bt)).forEach(function(jt){Object.defineProperty(st,jt,Object.getOwnPropertyDescriptor(bt,jt))})}return st}function dt(st){var At=st.isLoading,bt=st.libraryItems,jt=st.onAddToLibrary,Et=st.onInsertLibraryItems,Vt=st.pendingElements,Kt=st.theme,cn=st.id,Wt=st.libraryReturnUrl,Mn=st.onSelectItems,wn=st.selectedItems,Jn=(0,k.useRef)(null),yt=function(jn){var Ln=(0,s.KO)(ht),ir=(0,u.Z)(Ln,2),Sn=ir[0],Cn=ir[1];return(0,k.useEffect)(function(){var Nn=jn.current;if(Nn){var On=it()(function(){var ur=Nn.scrollTop;Cn(ur)},200);return Nn.addEventListener("scroll",On),function(){On.cancel(),Nn.removeEventListener("scroll",On)}}},[jn,Cn]),Sn}(Jn);(0,k.useEffect)(function(){var jn;yt>0&&((jn=Jn.current)===null||jn===void 0||jn.scrollTo(0,yt))},[]);var Qt=(0,_.yT)().svgCache,Ut=(0,k.useMemo)(function(){return bt.filter(function(jn){return jn.status!=="published"})},[bt]),Yt=(0,k.useMemo)(function(){return bt.filter(function(jn){return jn.status==="published"})},[bt]),Bn=!bt.length&&!Vt.length,Fn=!Vt.length&&!Ut.length&&!Yt.length,Hn=(0,k.useState)(null),rr=(0,u.Z)(Hn,2),In=rr[0],_t=rr[1],Ct=(0,k.useCallback)(function(jn,Ln){var ir=!wn.includes(jn),Sn=[].concat((0,p.Z)(Ut),(0,p.Z)(Yt));if(ir){if(Ln.shiftKey&&In){var Cn=Sn.findIndex(function(zn){return zn.id===In}),Nn=Sn.findIndex(function(zn){return zn.id===jn});if(Cn===-1||Nn===-1)return void Mn([].concat((0,p.Z)(wn),[jn]));var On=(0,B.xn)(wn),ur=Sn.reduce(function(zn,ar,jr){return(jr>=Cn&&jr<=Nn||On.has(ar.id))&&zn.push(ar.id),zn},[]);Mn(ur)}else Mn([].concat((0,p.Z)(wn),[jn]));_t(jn)}else _t(null),Mn(wn.filter(function(zn){return zn!==jn}))},[In,Mn,Yt,wn,Ut]),It=(0,k.useCallback)(function(jn){return(wn.includes(jn)?bt.filter(function(Ln){return wn.includes(Ln.id)}):bt.filter(function(Ln){return Ln.id===jn})).map(function(Ln){return tt(tt({},Ln),{},{elements:(0,me._N)(Ln.elements,{randomizeSeed:!0})})})},[bt,wn]),Bt=(0,k.useCallback)(function(jn,Ln){Ln.dataTransfer.setData(ge.LO.excalidrawlib,(0,S.NI)(It(jn)))},[It]),yn=(0,k.useCallback)(function(jn){return!!jn&&wn.includes(jn)},[wn]),_n=(0,k.useCallback)(function(){jt(Vt)},[Vt,jt]),vn=(0,k.useCallback)(function(jn){jn&&Et(It(jn))},[It,Et]),$n=Qt.size>=bt.length?64:17;return(0,le.jsxs)("div",{className:"library-menu-items-container",style:Vt.length||Ut.length||Yt.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Fn&&(0,le.jsx)(ue,{selectedItems:wn,onSelectItems:Mn,className:"library-menu-dropdown-container--in-heading"}),(0,le.jsxs)(he.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Yt.length>0?1:"0 1 auto",marginBottom:0},ref:Jn,children:[(0,le.jsxs)(le.Fragment,{children:[!Fn&&(0,le.jsx)("div",{className:"library-menu-items-container__header",children:(0,W.t)("labels.personalLib")}),At&&(0,le.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,le.jsx)(ve.Z,{})}),Vt.length||Ut.length?(0,le.jsxs)(qe,{children:[Vt.length>0&&(0,le.jsx)(Fe,{itemsRenderedPerBatch:$n,items:[{id:null,elements:Vt}],onItemSelectToggle:Ct,onItemDrag:Bt,onClick:_n,isItemSelected:yn,svgCache:Qt}),(0,le.jsx)(Fe,{itemsRenderedPerBatch:$n,items:Ut,onItemSelectToggle:Ct,onItemDrag:Bt,onClick:vn,isItemSelected:yn,svgCache:Qt})]}):(0,le.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,le.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,W.t)("library.noItems")}),(0,le.jsx)("div",{className:"library-menu-items__no-items__hint",children:Yt.length>0?(0,W.t)("library.hint_emptyPrivateLibrary"):(0,W.t)("library.hint_emptyLibrary")})]})]}),(0,le.jsxs)(le.Fragment,{children:[(Yt.length>0||Vt.length>0||Ut.length>0)&&(0,le.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,W.t)("labels.excalidrawLib")}),Yt.length>0?(0,le.jsx)(qe,{children:(0,le.jsx)(Fe,{itemsRenderedPerBatch:$n,items:Yt,onItemSelectToggle:Ct,onItemDrag:Bt,onClick:vn,isItemSelected:yn,svgCache:Qt})}):Ut.length>0?(0,le.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,W.t)("library.noItems")}):null]}),Bn&&(0,le.jsx)(O,{style:{padding:"16px 0",width:"100%"},id:cn,libraryReturnUrl:Wt,theme:Kt,children:(0,le.jsx)(ue,{selectedItems:wn,onSelectItems:Mn})})]})]})}var ct=o(3646),St=o(4105),Pt=o(8923),mt={};mt.styleTagTransform=je(),mt.setAttributes=_e(),mt.insert=Se().bind(null,"head"),mt.domAPI=ne(),mt.insertStyleElement=J(),F()(Pt.Z,mt),Pt.Z&&Pt.Z.locals&&Pt.Z.locals;function Nt(st,At){var bt=typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(!bt){if(Array.isArray(st)||(bt=function(Wt,Mn){if(Wt){if(typeof Wt=="string")return Xt(Wt,Mn);var wn=Object.prototype.toString.call(Wt).slice(8,-1);if(wn==="Object"&&Wt.constructor&&(wn=Wt.constructor.name),wn==="Map"||wn==="Set")return Array.from(Wt);if(wn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wn))return Xt(Wt,Mn)}}(st))||At&&st&&typeof st.length=="number"){bt&&(st=bt);var jt=0,Et=function(){};return{s:Et,n:function(){return jt>=st.length?{done:!0}:{done:!1,value:st[jt++]}},e:function(Wt){throw Wt},f:Et}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,Kt=!0,cn=!1;return{s:function(){bt=bt.call(st)},n:function(){var Wt=bt.next();return Kt=Wt.done,Wt},e:function(Wt){cn=!0,Vt=Wt},f:function(){try{Kt||bt.return==null||bt.return()}finally{if(cn)throw Vt}}}}function Xt(st,At){(At==null||At>st.length)&&(At=st.length);for(var bt=0,jt=new Array(At);bt<At;bt++)jt[bt]=st[bt];return jt}var Zt=(0,s.cn)(!1),Dt=function(st){var At=st.children;return(0,le.jsx)("div",{className:"layer-ui__library",children:At})},on=function(st){var At=st.onInsertLibraryItems,bt=st.pendingElements,jt=st.onAddToLibrary,Et=st.setAppState,Vt=st.libraryReturnUrl,Kt=st.library,cn=st.id,Wt=st.theme,Mn=st.selectedItems,wn=st.onSelectItems,Jn=(0,s.KO)(L.rF,A.yE),yt=(0,u.Z)(Jn,1)[0],Qt=(0,k.useCallback)(function(Bn){var Fn=function(){var Hn=(0,f.Z)(R().mark(function rr(In,_t){var Ct,It,Bt,yn,_n;return R().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:(0,ct.L)("element","addToLibrary","ui"),Ct=Nt(ge.PR),vn.prev=2,Bt=function(){var $n=It.value;if(In.some(function(jn){return jn.type===$n}))return{v:Et({errorMessage:(0,W.t)("errors.libraryElementTypeError.".concat($n))})}},Ct.s();case 5:if((It=Ct.n()).done){vn.next=11;break}if(yn=Bt(),(0,M.Z)(yn)!=="object"){vn.next=9;break}return vn.abrupt("return",yn.v);case 9:vn.next=5;break;case 11:vn.next=16;break;case 13:vn.prev=13,vn.t0=vn.catch(2),Ct.e(vn.t0);case 16:return vn.prev=16,Ct.f(),vn.finish(16);case 19:_n=[{status:"unpublished",elements:In,id:(0,Y.kb)(),created:Date.now()}].concat((0,p.Z)(_t)),jt(),Kt.setLibrary(_n).catch(function(){Et({errorMessage:(0,W.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return vn.stop()}},rr,null,[[2,13,16,19]])}));return function(rr,In){return Hn.apply(this,arguments)}}();Fn(Bn,yt.libraryItems)},[jt,Kt,Et,yt.libraryItems]),Ut=(0,k.useMemo)(function(){return yt.libraryItems},[yt]);if(yt.status==="loading"&&!yt.isInitialized)return(0,le.jsx)(Dt,{children:(0,le.jsx)("div",{className:"layer-ui__library-message",children:(0,le.jsxs)("div",{children:[(0,le.jsx)(ve.Z,{size:"2em"}),(0,le.jsx)("span",{children:(0,W.t)("labels.libraryLoadingMessage")})]})})});var Yt=yt.libraryItems.length>0||bt.length>0;return(0,le.jsxs)(Dt,{children:[(0,le.jsx)(dt,{isLoading:yt.status==="loading",libraryItems:Ut,onAddToLibrary:Qt,onInsertLibraryItems:At,pendingElements:bt,id:cn,libraryReturnUrl:Vt,theme:Wt,onSelectItems:wn,selectedItems:Mn}),Yt&&(0,le.jsx)(O,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:cn,libraryReturnUrl:Vt,theme:Wt})]})},an=function(){var st=(0,C.qD)(),At=st.library,bt=st.id,jt=st.onInsertElements,Et=(0,C.hY)(),Vt=(0,m.I)(),Kt=(0,C.n9)(),cn=(0,C.bd)(),Wt=(0,k.useState)([]),Mn=(0,u.Z)(Wt,2),wn=Mn[0],Jn=Mn[1],yt=(0,k.useMemo)(function(){return At},[At]),Qt=function(Bn,Fn){var Hn=function(){return(0,St.eD)(Fn,Bn,{includeBoundTextElement:!0,includeElementsInFrames:!0})},rr=(0,k.useRef)(Hn()),In=(0,k.useRef)(Bn),_t=(0,k.useRef)(Fn);return(0,B.w8)(Bn.selectedElementIds,In.current.selectedElementIds)&&(0,B.w8)(Fn,_t.current)||(rr.current=Hn(),In.current=Bn,_t.current=Fn),rr.current}(Vt,cn),Ut=(0,k.useCallback)(function(Bn){jt((0,L.WV)(Bn))},[jt]),Yt=(0,k.useCallback)(function(){Kt({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[Kt]);return(0,le.jsx)(on,{pendingElements:Qt,onInsertLibraryItems:Ut,onAddToLibrary:Yt,setAppState:Kt,libraryReturnUrl:Et.libraryReturnUrl,library:yt,id:bt,theme:Vt.theme,selectedItems:wn,onSelectItems:Jn})}},7165:function(Q,z,o){o.d(z,{z:function(){return d}});var M=o(2577),p=o(8227),f=o(9787),u=o(8531),E=o(45),R=o(9937),k=o(1020),d=function(L){var W=L.delay,Y=L.theme,ee=(0,f.useState)(!!W),S=(0,M.Z)(ee,2),B=S[0],he=S[1];return(0,f.useEffect)(function(){if(W){var ge=setTimeout(function(){he(!1)},W);return function(){return clearTimeout(ge)}}},[W]),B?null:(0,k.jsxs)("div",{className:(0,E.Z)("LoadingMessage",{"LoadingMessage--dark":Y===R.C6.DARK}),children:[(0,k.jsx)("div",{children:(0,k.jsx)(u.Z,{})}),(0,k.jsx)("div",{className:"LoadingMessage-text",children:(0,p.t)("labels.loadingScene")})]})}},7827:function(Q,z,o){o.d(z,{K:function(){return R},_:function(){return k}});var M=o(8950),p=o(2975),f=o.n(p),u=o(3607),E=o(453),R=(0,u.cn)({active:!1});function k(L){return d.apply(this,arguments)}function d(){return(d=(0,M.Z)(f().mark(function L(W){var Y,ee,S,B;return f().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Y=W.title,ee=W.description,S=W.actionLabel,B=W.color,he.abrupt("return",new Promise(function(ge){E.e_.set(R,{active:!0,onConfirm:function(){return ge(!0)},onClose:function(){return ge(!1)},onReject:function(){return ge(!1)},title:Y,description:ee,actionLabel:S,color:B})}));case 2:case"end":return he.stop()}},L)}))).apply(this,arguments)}},3204:function(Q,z,o){o.d(z,{J:function(){return N}});var M=o(9787),p=o(3379),f=o.n(p),u=o(7795),E=o.n(u),R=o(569),k=o.n(R),d=o(3565),L=o.n(d),W=o(9216),Y=o.n(W),ee=o(4589),S=o.n(ee),B=o(9935),he={};he.styleTagTransform=S(),he.setAttributes=L(),he.insert=k().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=Y(),f()(B.Z,he),B.Z&&B.Z.locals&&B.Z.locals;var ge=o(5156),ve=o(9827),me=o(5491),le=o(1020),N=function(oe){var O=oe.children,I=oe.left,A=oe.top,C=oe.onCloseRequest,U=oe.fitInViewport,y=U!==void 0&&U,T=oe.offsetLeft,s=T===void 0?0:T,D=oe.offsetTop,b=D===void 0?0:D,v=oe.viewportWidth,x=v===void 0?window.innerWidth:v,j=oe.viewportHeight,te=j===void 0?window.innerHeight:j,V=(0,M.useRef)(null);(0,M.useEffect)(function(){var Z=V.current;if(Z){Z.contains(document.activeElement)||Z.focus();var ne=function(ce){if(ce.key===me.tW.TAB){var Se=(0,ve.xp)(Z),de=document.activeElement,_e=Se.findIndex(function(je){return je===de});if(de===Z){var we;ce.shiftKey?(we=Se[Se.length-1])===null||we===void 0||we.focus():Se[0].focus(),ce.preventDefault(),ce.stopImmediatePropagation()}else if(_e===0&&ce.shiftKey){var J;(J=Se[Se.length-1])===null||J===void 0||J.focus(),ce.preventDefault(),ce.stopImmediatePropagation()}else if(_e===Se.length-1&&!ce.shiftKey){var xe;(xe=Se[0])===null||xe===void 0||xe.focus(),ce.preventDefault(),ce.stopImmediatePropagation()}}};return Z.addEventListener("keydown",ne),function(){return Z.removeEventListener("keydown",ne)}}},[]);var F=(0,M.useRef)(null);return(0,M.useLayoutEffect)(function(){if(y&&V.current&&A!=null&&I!=null){var Z,ne,ce=V.current,Se=ce.getBoundingClientRect(),de=Se.width,_e=Se.height;if(((Z=F.current)===null||Z===void 0?void 0:Z.top)===A&&((ne=F.current)===null||ne===void 0?void 0:ne.left)===I)return;F.current={top:A,left:I},de>=x?(ce.style.width="".concat(x,"px"),ce.style.left="0px",ce.style.overflowX="scroll"):ce.style.left="".concat(I+de-s>x?x-de-10:I,"px"),_e>=te?(ce.style.height="".concat(te-20,"px"),ce.style.top="10px",ce.style.overflowY="scroll"):ce.style.top="".concat(A+_e-b>te?te-_e:A,"px")}},[A,I,y,x,te,s,b]),(0,M.useEffect)(function(){if(C){var Z=function(ne){var ce;(ce=V.current)!==null&&ce!==void 0&&ce.contains(ne.target)||(0,ge.unstable_batchedUpdates)(function(){return C(ne)})};return document.addEventListener("pointerdown",Z,!1),function(){return document.removeEventListener("pointerdown",Z,!1)}}},[C]),(0,le.jsx)("div",{className:"popover",ref:V,tabIndex:-1,children:O})}},5902:function(Q,z,o){o.d(z,{YE:function(){return In},t6:function(){return Hn}});var M=o(2577),p=o(7169),f=o(2726),u=o(9787),E=o.n(u),R=o(1404),k=o(3607),d=o(453),L=E().createContext({}),W=o(45),Y=o(8227),ee=o(8242),S=o(8935),B=o(8925),he=o(8806),ge=o(1020),ve=function(_t){var Ct=_t.children,It=_t.className,Bt=(0,ee.Fy)(),yn=(0,u.useContext)(L),_n=!(!Bt.editor.canFitSidebar||!yn.shouldRenderDockButton);return(0,ge.jsxs)("div",{className:(0,W.Z)("sidebar__header",It),"data-testid":"sidebar-header",children:[Ct,(0,ge.jsxs)("div",{className:"sidebar__header__buttons",children:[_n&&(0,ge.jsx)(B.u,{label:(0,Y.t)("labels.sidebarLock"),children:(0,ge.jsx)(he.z,{onSelect:function(){var vn;return(vn=yn.onDock)===null||vn===void 0?void 0:vn.call(yn,!yn.docked)},selected:!!yn.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,Y.t)("labels.sidebarLock"),children:S.qQ})}),(0,ge.jsx)(he.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:yn.onCloseRequest,"aria-label":(0,Y.t)("buttons.close"),children:S.Tw})]})]})};ve.displayName="SidebarHeader";var me=o(9827),le=o(5491),N=o(9937),oe=o(100),O=o(3379),I=o.n(O),A=o(7795),C=o.n(A),U=o(569),y=o.n(U),T=o(3565),s=o.n(T),D=o(9216),b=o.n(D),v=o(4589),x=o.n(v),j=o(7051),te={};te.styleTagTransform=x(),te.setAttributes=s(),te.insert=y().bind(null,"head"),te.domAPI=C(),te.insertStyleElement=b(),I()(j.Z,te),j.Z&&j.Z.locals&&j.Z.locals;var V=function(_t){var Ct,It=_t.name,Bt=_t.tab,yn=_t.icon,_n=_t.title,vn=_t.children,$n=_t.onToggle,jn=_t.className,Ln=_t.style,ir=(0,ee.n9)(),Sn=(0,oe.I)();return(0,ge.jsxs)("label",{title:_n,children:[(0,ge.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Cn){var Nn;(Nn=document.querySelector(".layer-ui__wrapper"))===null||Nn===void 0||Nn.classList.remove("animate");var On=Cn.target.checked;ir({openSidebar:On?{name:It,tab:Bt}:null}),$n==null||$n(On)},checked:((Ct=Sn.openSidebar)===null||Ct===void 0?void 0:Ct.name)===It,"aria-label":_n,"aria-keyshortcuts":"0"}),(0,ge.jsxs)("div",{className:(0,W.Z)("sidebar-trigger",jn),style:Ln,children:[yn&&(0,ge.jsx)("div",{children:yn}),vn&&(0,ge.jsx)("div",{className:"sidebar-trigger__label",children:vn})]})]})};V.displayName="SidebarTrigger";var F=o(11),Z=o(7217),ne=o(1267),ce=o(9335),Se=o(4801),de=o(5622),_e=o(3119),we=o(3060),J=o(2673);const xe=(0,u.createContext)(void 0);function je(_t){const Ct=(0,u.useContext)(xe);return _t||Ct||"ltr"}const Ue="rovingFocusGroup.onEntryFocus",et={bubbles:!1,cancelable:!0},He="RovingFocusGroup",[Le,De,Be]=function(_t){const Ct=_t+"CollectionProvider",[It,Bt]=(0,ne.b)(Ct),[yn,_n]=It(Ct,{collectionRef:{current:null},itemMap:new Map}),vn=Cn=>{const{scope:Nn,children:On}=Cn,ur=E().useRef(null),zn=E().useRef(new Map).current;return E().createElement(yn,{scope:Nn,itemMap:zn,collectionRef:ur},On)},$n=_t+"CollectionSlot",jn=E().forwardRef((Cn,Nn)=>{const{scope:On,children:ur}=Cn,zn=_n($n,On),ar=(0,ce.e)(Nn,zn.collectionRef);return E().createElement(Se.g7,{ref:ar},ur)}),Ln=_t+"CollectionItemSlot",ir="data-radix-collection-item",Sn=E().forwardRef((Cn,Nn)=>{const{scope:On,children:ur,...zn}=Cn,ar=E().useRef(null),jr=(0,ce.e)(Nn,ar),no=_n(Ln,On);return E().useEffect(()=>(no.itemMap.set(ar,{ref:ar,...zn}),()=>{no.itemMap.delete(ar)})),E().createElement(Se.g7,{[ir]:"",ref:jr},ur)});return[{Provider:vn,Slot:jn,ItemSlot:Sn},function(Cn){const Nn=_n(_t+"CollectionConsumer",Cn);return E().useCallback(()=>{const On=Nn.collectionRef.current;if(!On)return[];const ur=Array.from(On.querySelectorAll(`[${ir}]`));return Array.from(Nn.itemMap.values()).sort((zn,ar)=>ur.indexOf(zn.ref.current)-ur.indexOf(ar.ref.current))},[Nn.collectionRef,Nn.itemMap])},Bt]}(He),[Ze,ye]=(0,ne.b)(He,[Be]),[be,X]=Ze(He),h=(0,u.forwardRef)((_t,Ct)=>(0,u.createElement)(Le.Provider,{scope:_t.__scopeRovingFocusGroup},(0,u.createElement)(Le.Slot,{scope:_t.__scopeRovingFocusGroup},(0,u.createElement)(m,(0,F.Z)({},_t,{ref:Ct}))))),m=(0,u.forwardRef)((_t,Ct)=>{const{__scopeRovingFocusGroup:It,orientation:Bt,loop:yn=!1,dir:_n,currentTabStopId:vn,defaultCurrentTabStopId:$n,onCurrentTabStopIdChange:jn,onEntryFocus:Ln,...ir}=_t,Sn=(0,u.useRef)(null),Cn=(0,ce.e)(Ct,Sn),Nn=je(_n),[On=null,ur]=(0,J.T)({prop:vn,defaultProp:$n,onChange:jn}),[zn,ar]=(0,u.useState)(!1),jr=(0,we.W)(Ln),no=De(It),go=(0,u.useRef)(!1),[Oo,Po]=(0,u.useState)(0);return(0,u.useEffect)(()=>{const Gr=Sn.current;if(Gr)return Gr.addEventListener(Ue,jr),()=>Gr.removeEventListener(Ue,jr)},[jr]),(0,u.createElement)(be,{scope:It,orientation:Bt,dir:Nn,loop:yn,currentTabStopId:On,onItemFocus:(0,u.useCallback)(Gr=>ur(Gr),[ur]),onItemShiftTab:(0,u.useCallback)(()=>ar(!0),[]),onFocusableItemAdd:(0,u.useCallback)(()=>Po(Gr=>Gr+1),[]),onFocusableItemRemove:(0,u.useCallback)(()=>Po(Gr=>Gr-1),[])},(0,u.createElement)(_e.WV.div,(0,F.Z)({tabIndex:zn||Oo===0?-1:0,"data-orientation":Bt},ir,{ref:Cn,style:{outline:"none",..._t.style},onMouseDown:(0,Z.M)(_t.onMouseDown,()=>{go.current=!0}),onFocus:(0,Z.M)(_t.onFocus,Gr=>{const Yr=!go.current;if(Gr.target===Gr.currentTarget&&Yr&&!zn){const Xo=new CustomEvent(Ue,et);if(Gr.currentTarget.dispatchEvent(Xo),!Xo.defaultPrevented){const ke=no().filter(Ne=>Ne.focusable);ue([ke.find(Ne=>Ne.active),ke.find(Ne=>Ne.id===On),...ke].filter(Boolean).map(Ne=>Ne.ref.current))}}go.current=!1}),onBlur:(0,Z.M)(_t.onBlur,()=>ar(!1))})))}),_="RovingFocusGroupItem",G=(0,u.forwardRef)((_t,Ct)=>{const{__scopeRovingFocusGroup:It,focusable:Bt=!0,active:yn=!1,tabStopId:_n,...vn}=_t,$n=(0,de.M)(),jn=_n||$n,Ln=X(_,It),ir=Ln.currentTabStopId===jn,Sn=De(It),{onFocusableItemAdd:Cn,onFocusableItemRemove:Nn}=Ln;return(0,u.useEffect)(()=>{if(Bt)return Cn(),()=>Nn()},[Bt,Cn,Nn]),(0,u.createElement)(Le.ItemSlot,{scope:It,id:jn,focusable:Bt,active:yn},(0,u.createElement)(_e.WV.span,(0,F.Z)({tabIndex:ir?0:-1,"data-orientation":Ln.orientation},vn,{ref:Ct,onMouseDown:(0,Z.M)(_t.onMouseDown,On=>{Bt?Ln.onItemFocus(jn):On.preventDefault()}),onFocus:(0,Z.M)(_t.onFocus,()=>Ln.onItemFocus(jn)),onKeyDown:(0,Z.M)(_t.onKeyDown,On=>{if(On.key==="Tab"&&On.shiftKey)return void Ln.onItemShiftTab();if(On.target!==On.currentTarget)return;const ur=function(jr,no,go){const Oo=function(Po,Gr){return Gr!=="rtl"?Po:Po==="ArrowLeft"?"ArrowRight":Po==="ArrowRight"?"ArrowLeft":Po}(jr.key,go);return no==="vertical"&&["ArrowLeft","ArrowRight"].includes(Oo)||no==="horizontal"&&["ArrowUp","ArrowDown"].includes(Oo)?void 0:$[Oo]}(On,Ln.orientation,Ln.dir);if(ur!==void 0){On.preventDefault();let jr=Sn().filter(no=>no.focusable).map(no=>no.ref.current);if(ur==="last")jr.reverse();else if(ur==="prev"||ur==="next"){ur==="prev"&&jr.reverse();const no=jr.indexOf(On.currentTarget);jr=Ln.loop?(ar=no+1,(zn=jr).map((go,Oo)=>zn[(ar+Oo)%zn.length])):jr.slice(no+1)}setTimeout(()=>ue(jr))}var zn,ar})})))}),$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ue(_t){const Ct=document.activeElement;for(const It of _t)if(It===Ct||(It.focus(),document.activeElement!==Ct))return}const ie=h,pe=G;var Pe=o(1483);const Me="Tabs",[$e,Ke]=(0,ne.b)(Me,[ye]),qe=ye(),[Fe,ot]=$e(Me),it=(0,u.forwardRef)((_t,Ct)=>{const{__scopeTabs:It,value:Bt,onValueChange:yn,defaultValue:_n,orientation:vn="horizontal",dir:$n,activationMode:jn="automatic",...Ln}=_t,ir=je($n),[Sn,Cn]=(0,J.T)({prop:Bt,onChange:yn,defaultProp:_n});return(0,u.createElement)(Fe,{scope:It,baseId:(0,de.M)(),value:Sn,onValueChange:Cn,orientation:vn,dir:ir,activationMode:jn},(0,u.createElement)(_e.WV.div,(0,F.Z)({dir:ir,"data-orientation":vn},Ln,{ref:Ct})))}),ht="TabsList",Te=(0,u.forwardRef)((_t,Ct)=>{const{__scopeTabs:It,loop:Bt=!0,...yn}=_t,_n=ot(ht,It),vn=qe(It);return(0,u.createElement)(ie,(0,F.Z)({asChild:!0},vn,{orientation:_n.orientation,dir:_n.dir,loop:Bt}),(0,u.createElement)(_e.WV.div,(0,F.Z)({role:"tablist","aria-orientation":_n.orientation},yn,{ref:Ct})))}),Ie="TabsTrigger",Ge=(0,u.forwardRef)((_t,Ct)=>{const{__scopeTabs:It,value:Bt,disabled:yn=!1,..._n}=_t,vn=ot(Ie,It),$n=qe(It),jn=ct(vn.baseId,Bt),Ln=St(vn.baseId,Bt),ir=Bt===vn.value;return(0,u.createElement)(pe,(0,F.Z)({asChild:!0},$n,{focusable:!yn,active:ir}),(0,u.createElement)(_e.WV.button,(0,F.Z)({type:"button",role:"tab","aria-selected":ir,"aria-controls":Ln,"data-state":ir?"active":"inactive","data-disabled":yn?"":void 0,disabled:yn,id:jn},_n,{ref:Ct,onMouseDown:(0,Z.M)(_t.onMouseDown,Sn=>{yn||Sn.button!==0||Sn.ctrlKey!==!1?Sn.preventDefault():vn.onValueChange(Bt)}),onKeyDown:(0,Z.M)(_t.onKeyDown,Sn=>{[" ","Enter"].includes(Sn.key)&&vn.onValueChange(Bt)}),onFocus:(0,Z.M)(_t.onFocus,()=>{const Sn=vn.activationMode!=="manual";ir||yn||!Sn||vn.onValueChange(Bt)})})))}),tt="TabsContent",dt=(0,u.forwardRef)((_t,Ct)=>{const{__scopeTabs:It,value:Bt,forceMount:yn,children:_n,...vn}=_t,$n=ot(tt,It),jn=ct($n.baseId,Bt),Ln=St($n.baseId,Bt),ir=Bt===$n.value,Sn=(0,u.useRef)(ir);return(0,u.useEffect)(()=>{const Cn=requestAnimationFrame(()=>Sn.current=!1);return()=>cancelAnimationFrame(Cn)},[]),(0,u.createElement)(Pe.z,{present:yn||ir},({present:Cn})=>(0,u.createElement)(_e.WV.div,(0,F.Z)({"data-state":ir?"active":"inactive","data-orientation":$n.orientation,role:"tabpanel","aria-labelledby":jn,hidden:!Cn,id:Ln,tabIndex:0},vn,{ref:Ct,style:{..._t.style,animationDuration:Sn.current?"0s":void 0}}),Cn&&_n))});function ct(_t,Ct){return`${_t}-trigger-${Ct}`}function St(_t,Ct){return`${_t}-content-${Ct}`}const Pt=it,mt=Te,Nt=Ge,Xt=dt;var Zt=["children"];function Dt(_t,Ct){var It=Object.keys(_t);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(_t);Ct&&(Bt=Bt.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),It.push.apply(It,Bt)}return It}function on(_t){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Dt(Object(It),!0).forEach(function(Bt){(0,p.Z)(_t,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(It)):Dt(Object(It)).forEach(function(Bt){Object.defineProperty(_t,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return _t}var an=function(_t){var Ct=_t.children,It=(0,f.Z)(_t,Zt);return(0,ge.jsx)(mt,on(on({className:"sidebar-triggers"},It),{},{children:Ct}))};an.displayName="SidebarTabTriggers";var st=["children","tab","onSelect"];function At(_t,Ct){var It=Object.keys(_t);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(_t);Ct&&(Bt=Bt.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),It.push.apply(It,Bt)}return It}function bt(_t){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?At(Object(It),!0).forEach(function(Bt){(0,p.Z)(_t,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(It)):At(Object(It)).forEach(function(Bt){Object.defineProperty(_t,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return _t}var jt=function(_t){var Ct=_t.children,It=_t.tab,Bt=_t.onSelect,yn=(0,f.Z)(_t,st);return(0,ge.jsx)(Nt,{value:It,asChild:!0,onSelect:Bt,children:(0,ge.jsx)("button",bt(bt({type:"button",className:"excalidraw-button sidebar-tab-trigger"},yn),{},{children:Ct}))})};jt.displayName="SidebarTabTrigger";var Et=["children"];function Vt(_t,Ct){var It=Object.keys(_t);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(_t);Ct&&(Bt=Bt.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),It.push.apply(It,Bt)}return It}function Kt(_t){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Vt(Object(It),!0).forEach(function(Bt){(0,p.Z)(_t,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(It)):Vt(Object(It)).forEach(function(Bt){Object.defineProperty(_t,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return _t}var cn=function(_t){var Ct=_t.children,It=(0,f.Z)(_t,Et),Bt=(0,oe.I)(),yn=(0,ee.n9)();if(!Bt.openSidebar)return null;var _n=Bt.openSidebar.name;return(0,ge.jsx)(Pt,Kt(Kt({className:"sidebar-tabs-root",value:Bt.openSidebar.tab,onValueChange:function(vn){return yn(function($n){return Kt(Kt({},$n),{},{openSidebar:Kt(Kt({},$n.openSidebar),{},{name:_n,tab:vn})})})}},It),{},{children:Ct}))};cn.displayName="SidebarTabs";var Wt=["tab","children"];function Mn(_t,Ct){var It=Object.keys(_t);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(_t);Ct&&(Bt=Bt.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),It.push.apply(It,Bt)}return It}function wn(_t){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Mn(Object(It),!0).forEach(function(Bt){(0,p.Z)(_t,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(It)):Mn(Object(It)).forEach(function(Bt){Object.defineProperty(_t,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return _t}var Jn=function(_t){var Ct=_t.tab,It=_t.children,Bt=(0,f.Z)(_t,Wt);return(0,ge.jsx)(Xt,wn(wn({},Bt),{},{value:Ct,children:It}))};Jn.displayName="SidebarTab";var yt=o(1901),Qt=o(8208),Ut={};Ut.styleTagTransform=x(),Ut.setAttributes=s(),Ut.insert=y().bind(null,"head"),Ut.domAPI=C(),Ut.insertStyleElement=b(),I()(Qt.Z,Ut),Qt.Z&&Qt.Z.locals&&Qt.Z.locals;var Yt=["name","children","onDock","docked","className"];function Bn(_t,Ct){var It=Object.keys(_t);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(_t);Ct&&(Bt=Bt.filter(function(yn){return Object.getOwnPropertyDescriptor(_t,yn).enumerable})),It.push.apply(It,Bt)}return It}function Fn(_t){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Bn(Object(It),!0).forEach(function(Bt){(0,p.Z)(_t,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_t,Object.getOwnPropertyDescriptors(It)):Bn(Object(It)).forEach(function(Bt){Object.defineProperty(_t,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return _t}var Hn=(0,k.cn)(!1),rr=(0,u.forwardRef)(function(_t,Ct){_t.name;var It=_t.children,Bt=_t.onDock,yn=_t.docked,_n=_t.className,vn=(0,f.Z)(_t,Yt),$n=(0,ee.n9)(),jn=(0,k.b9)(Hn,d.yE);(0,u.useLayoutEffect)(function(){return jn(!!yn),function(){jn(!1)}},[jn,yn]);var Ln=(0,u.useRef)({});Ln.current.onCloseRequest=function(){$n({openSidebar:null})},Ln.current.onDock=function(Nn){return Bt==null?void 0:Bt(Nn)},Ln.current=(0,me.v4)(Ln.current,{docked:yn,shouldRenderDockButton:!!Bt&&yn!=null});var ir=(0,u.useRef)(null);(0,u.useImperativeHandle)(Ct,function(){return ir.current});var Sn=(0,ee.Fy)(),Cn=(0,u.useCallback)(function(){document.querySelector(".Dialog")||$n({openSidebar:null})},[$n]);return(0,yt.O)(ir,(0,u.useCallback)(function(Nn){Nn.target.closest(".sidebar-trigger")||yn&&Sn.editor.canFitSidebar||Cn()},[Cn,yn,Sn.editor.canFitSidebar])),(0,u.useEffect)(function(){var Nn=function(On){On.key!==le.tW.ESCAPE||yn&&Sn.editor.canFitSidebar||Cn()};return document.addEventListener(N.Ks.KEYDOWN,Nn),function(){document.removeEventListener(N.Ks.KEYDOWN,Nn)}},[Cn,yn,Sn.editor.canFitSidebar]),(0,ge.jsx)(R.W,Fn(Fn({},vn),{},{className:(0,W.Z)("sidebar",{"sidebar--docked":yn},_n),ref:ir,children:(0,ge.jsx)(L.Provider,{value:Ln.current,children:It})}))});rr.displayName="SidebarInner";var In=Object.assign((0,u.forwardRef)(function(_t,Ct){var It,Bt=(0,oe.I)(),yn=_t.onStateChange,_n=(0,u.useRef)(Bt.openSidebar);(0,u.useEffect)(function(){var ir,Sn,Cn,Nn,On;(!Bt.openSidebar&&(_n==null||(ir=_n.current)===null||ir===void 0?void 0:ir.name)===_t.name||((Sn=Bt.openSidebar)===null||Sn===void 0?void 0:Sn.name)===_t.name&&(_n==null||(Cn=_n.current)===null||Cn===void 0?void 0:Cn.name)!==_t.name||((Nn=_n.current)===null||Nn===void 0?void 0:Nn.name)===_t.name)&&Bt.openSidebar!==_n.current&&(yn==null||yn(((On=Bt.openSidebar)===null||On===void 0?void 0:On.name)!==_t.name?null:Bt.openSidebar)),_n.current=Bt.openSidebar},[Bt.openSidebar,yn,_t.name]);var vn=(0,u.useState)(!1),$n=(0,M.Z)(vn,2),jn=$n[0],Ln=$n[1];return(0,u.useLayoutEffect)(function(){return Ln(!0),function(){return Ln(!1)}},[]),jn&&((It=Bt.openSidebar)===null||It===void 0?void 0:It.name)===_t.name?(0,u.createElement)(rr,Fn(Fn({},_t),{},{ref:Ct,key:_t.name})):null}),{Header:ve,TabTriggers:an,TabTrigger:jt,Tabs:cn,Tab:Jn,Trigger:V});In.displayName="Sidebar"},8531:function(Q,z,o){o.d(z,{Z:function(){return le}});var M=o(7169),p=o(9787),f=o.n(p),u=o(3379),E=o.n(u),R=o(7795),k=o.n(R),d=o(569),L=o.n(d),W=o(3565),Y=o.n(W),ee=o(9216),S=o.n(ee),B=o(4589),he=o.n(B),ge=o(5892),ve={};ve.styleTagTransform=he(),ve.setAttributes=Y(),ve.insert=L().bind(null,"head"),ve.domAPI=k(),ve.insertStyleElement=S(),E()(ge.Z,ve),ge.Z&&ge.Z.locals&&ge.Z.locals;var me=o(1020),le=function(N){var oe=N.size,O=oe===void 0?"1em":oe,I=N.circleWidth,A=I===void 0?8:I,C=N.synchronized,U=C!==void 0&&C,y=-f().useRef(Date.now()).current%1600;return(0,me.jsx)("div",{className:"Spinner",children:(0,me.jsx)("svg",{viewBox:"0 0 100 100",style:(0,M.Z)({width:O,height:O},"--spinner-delay",U?"".concat(y,"ms"):0),children:(0,me.jsx)("circle",{cx:"50",cy:"50",r:50-A/2,strokeWidth:A,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(Q,z,o){o.d(z,{Z:function(){return oe}});var M=o(7169),p=o(3379),f=o.n(p),u=o(7795),E=o.n(u),R=o(569),k=o.n(R),d=o(3565),L=o.n(d),W=o(9216),Y=o.n(W),ee=o(4589),S=o.n(ee),B=o(3874),he={};he.styleTagTransform=S(),he.setAttributes=L(),he.insert=k().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=Y(),f()(B.Z,he),B.Z&&B.Z.locals&&B.Z.locals;var ge=o(9787),ve=o(45),me=o(1020);function le(O,I){var A=Object.keys(O);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(O);I&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable})),A.push.apply(A,C)}return A}function N(O){for(var I=1;I<arguments.length;I++){var A=arguments[I]!=null?arguments[I]:{};I%2?le(Object(A),!0).forEach(function(C){(0,M.Z)(O,C,A[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(A)):le(Object(A)).forEach(function(C){Object.defineProperty(O,C,Object.getOwnPropertyDescriptor(A,C))})}return O}var oe={Row:(0,ge.forwardRef)(function(O,I){var A=O.children,C=O.gap,U=O.align,y=O.justifyContent,T=O.className,s=O.style;return(0,me.jsx)("div",{className:(0,ve.Z)("Stack Stack_horizontal",T),style:N({"--gap":C,alignItems:U,justifyContent:y},s),ref:I,children:A})}),Col:(0,ge.forwardRef)(function(O,I){var A=O.children,C=O.gap,U=O.align,y=O.justifyContent,T=O.className,s=O.style;return(0,me.jsx)("div",{className:(0,ve.Z)("Stack Stack_vertical",T),style:N({"--gap":C,justifyItems:U,justifyContent:y},s),ref:I,children:A})})}},1512:function(Q,z,o){o.d(z,{V:function(){return ee}});var M=o(8950),p=o(2577),f=o(2975),u=o.n(f),E=(o(3041),o(9787)),R=o.n(E),k=o(45),d=o(8242),L=o(3506),W=o(8531),Y=o(1020),ee=R().forwardRef(function(S,B){var he=(0,d.J0)().id,ge=R().useRef(null);R().useImperativeHandle(B,function(){return ge.current});var ve="ToolIcon_size_".concat(S.size),me=(0,E.useState)(!1),le=(0,p.Z)(me,2),N=le[0],oe=le[1],O=(0,E.useRef)(!0),I=function(){var U=(0,M.Z)(u().mark(function y(T){var s,D;return u().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(D="onClick"in S&&((s=S.onClick)===null||s===void 0?void 0:s.call(S,T)))||!("then"in D)){b.next=18;break}return b.prev=2,oe(!0),b.next=6,D;case 6:b.next=15;break;case 8:if(b.prev=8,b.t0=b.catch(2),b.t0 instanceof L._L){b.next=14;break}throw b.t0;case 14:console.warn(b.t0);case 15:return b.prev=15,O.current&&oe(!1),b.finish(15);case 18:case"end":return b.stop()}},y,null,[[2,8,15,18]])}));return function(y){return U.apply(this,arguments)}}();(0,E.useEffect)(function(){return O.current=!0,function(){O.current=!1}},[]);var A=(0,E.useRef)(null);if(S.type==="button"||S.type==="icon"||S.type==="submit"){var C=S.type==="icon"?"button":S.type;return(0,Y.jsxs)("button",{className:(0,k.Z)("ToolIcon_type_button",ve,S.className,S.visible&&!S.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!S.hidden,"ToolIcon--selected":S.selected,"ToolIcon--plain":S.type==="icon"}),style:S.style,"data-testid":S["data-testid"],hidden:S.hidden,title:S.title,"aria-label":S["aria-label"],type:C,onClick:I,ref:ge,disabled:N||S.isLoading,children:[(S.icon||S.label)&&(0,Y.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[S.icon||S.label,S.keyBindingLabel&&(0,Y.jsx)("span",{className:"ToolIcon__keybinding",children:S.keyBindingLabel}),S.isLoading&&(0,Y.jsx)(W.Z,{})]}),S.showAriaLabel&&(0,Y.jsxs)("div",{className:"ToolIcon__label",children:[S["aria-label"]," ",N&&(0,Y.jsx)(W.Z,{})]}),S.children]})}return(0,Y.jsxs)("label",{className:(0,k.Z)("ToolIcon",S.className),title:S.title,onPointerDown:function(U){var y;A.current=U.pointerType||null,(y=S.onPointerDown)===null||y===void 0||y.call(S,{pointerType:U.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){A.current=null})},children:[(0,Y.jsx)("input",{className:"ToolIcon_type_radio ".concat(ve),type:"radio",name:S.name,"aria-label":S["aria-label"],"aria-keyshortcuts":S["aria-keyshortcuts"],"data-testid":S["data-testid"],id:"".concat(he,"-").concat(S.id),onChange:function(){var U;(U=S.onChange)===null||U===void 0||U.call(S,{pointerType:A.current})},checked:S.checked,ref:ge}),(0,Y.jsxs)("div",{className:"ToolIcon__icon",children:[S.icon,S.keyBindingLabel&&(0,Y.jsx)("span",{className:"ToolIcon__keybinding",children:S.keyBindingLabel})]})]})});ee.defaultProps={visible:!0,className:"",size:"medium"},ee.displayName="ToolButton"},8925:function(Q,z,o){o.d(z,{u:function(){return le},bK:function(){return ve},Js:function(){return me}});var M=o(3379),p=o.n(M),f=o(7795),u=o.n(f),E=o(569),R=o.n(E),k=o(3565),d=o.n(k),L=o(9216),W=o.n(L),Y=o(4589),ee=o.n(Y),S=o(6626),B={};B.styleTagTransform=ee(),B.setAttributes=d(),B.insert=R().bind(null,"head"),B.domAPI=u(),B.insertStyleElement=W(),p()(S.Z,B),S.Z&&S.Z.locals&&S.Z.locals;var he=o(9787),ge=o(1020),ve=function(){var N=document.querySelector(".excalidraw-tooltip");if(N)return N;var oe=document.createElement("div");return document.body.appendChild(oe),oe.classList.add("excalidraw-tooltip"),oe},me=function(N,oe){var O,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",A=N.getBoundingClientRect(),C=window.innerWidth,U=window.innerHeight,y=5,T=oe.left+oe.width/2-A.width/2;T<0?T=y:T+A.width>=C&&(T=C-A.width-y),I==="bottom"?(O=oe.top+oe.height+y)+A.height>=U&&(O=oe.top-A.height-y):(O=oe.top-A.height-y)<0&&(O=oe.top+oe.height+y),Object.assign(N.style,{top:"".concat(O,"px"),left:"".concat(T,"px")})},le=function(N){var oe=N.children,O=N.label,I=N.long,A=I!==void 0&&I,C=N.style;return(0,he.useEffect)(function(){return function(){return ve().classList.remove("excalidraw-tooltip--visible")}},[]),(0,ge.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(U){return function(y,T,s,D){T.classList.add("excalidraw-tooltip--visible"),T.style.minWidth=D?"50ch":"10ch",T.style.maxWidth=D?"50ch":"15ch",T.textContent=s;var b=y.getBoundingClientRect();me(T,b)}(U.currentTarget,ve(),O,A)},onPointerLeave:function(){return ve().classList.remove("excalidraw-tooltip--visible")},style:C,children:oe})}},9247:function(Q,z,o){var M=o(2726),p=o(1930),f=o(9787),u=o.n(f),E=o(8227),R=["i18nKey","children"],k=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,d=/{{([\w-]+)}}/,L=/<([\w-]+)>/,W=/<\/([\w-]+)>/;z.Z=function(Y){var ee=Y.i18nKey,S=(Y.children,(0,M.Z)(Y,R)),B=(0,E.QT)().t;return u().createElement.apply(u(),[u().Fragment,{}].concat((0,p.Z)(function(he,ge){var ve=[{name:"",children:[]}];return he.split(k).filter(Boolean).forEach(function(me){var le=me.match(L),N=me.match(W),oe=me.match(d);if(le!==null){var O=le[1];ge.hasOwnProperty(O)?ve.push({name:O,children:[]}):console.warn("Trans: missed to pass in prop ".concat(O," for interpolating ").concat(he))}else if(N!==null)if(N[1]===ve[ve.length-1].name){var I=ve.pop(),A=u().createElement.apply(u(),[u().Fragment,{}].concat((0,p.Z)(I.children))),C=ge[I.name];typeof C=="function"&&ve[ve.length-1].children.push(C(A))}else console.warn("Trans: unexpected end tag ".concat(me," for interpolating ").concat(he));else if(oe!==null){var U=oe[1];ge.hasOwnProperty(U)?ve[ve.length-1].children.push(ge[U]):console.warn("Trans: key ".concat(U," not in props for interpolating ").concat(he))}else ve[ve.length-1].children.push(me)}),ve.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(he)),ve[0].children}(B(ee),S))))}},4704:function(Q,z,o){o.d(z,{Z:function(){return O}});var M=o(2577),p=o(3379),f=o.n(p),u=o(7795),E=o.n(u),R=o(569),k=o.n(R),d=o(3565),L=o.n(d),W=o(9216),Y=o.n(W),ee=o(4589),S=o.n(ee),B=o(6359),he={};he.styleTagTransform=S(),he.setAttributes=L(),he.insert=k().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=Y(),f()(B.Z,he),B.Z&&B.Z.locals&&B.Z.locals;var ge=o(9787),ve=o.n(ge),me=o(45),le=o(8925),N=o(8242),oe=o(1020),O=function(I){var A=I.className,C=I.mobile,U=I.collaborators,y=(0,N.eh)(),T=new Map;U.forEach(function(D,b){T.set(D.id||b,D)});var s=T.size>0&&Array.from(T).filter(function(D){var b=(0,M.Z)(D,2),v=(b[0],b[1]);return Object.keys(v).length!==0}).map(function(D){var b=(0,M.Z)(D,2),v=b[0],x=b[1],j=y.renderAction("goToCollaborator",[v,x]);return C?(0,oe.jsx)(le.u,{label:x.username||"Unknown user",children:j},v):(0,oe.jsx)(ve().Fragment,{children:j},v)});return(0,oe.jsx)("div",{className:(0,me.Z)("UserList",A,{UserList_mobile:C}),children:s})}},7104:function(Q,z,o){o.d(z,{Z:function(){return we}});var M=o(7169),p=o(2726),f=o(45),u=o(8242),E=o(1020),R=["className","children","onToggle","title"];function k(J,xe){var je=Object.keys(J);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(J);xe&&(Ue=Ue.filter(function(et){return Object.getOwnPropertyDescriptor(J,et).enumerable})),je.push.apply(je,Ue)}return je}function d(J){for(var xe=1;xe<arguments.length;xe++){var je=arguments[xe]!=null?arguments[xe]:{};xe%2?k(Object(je),!0).forEach(function(Ue){(0,M.Z)(J,Ue,je[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(je)):k(Object(je)).forEach(function(Ue){Object.defineProperty(J,Ue,Object.getOwnPropertyDescriptor(je,Ue))})}return J}var L=function(J){var xe=J.className,je=xe===void 0?"":xe,Ue=J.children,et=J.onToggle,He=J.title,Le=(0,p.Z)(J,R),De=(0,u.Fy)(),Be=(0,f.Z)("dropdown-menu-button ".concat(je),"zen-mode-transition",{"dropdown-menu-button--mobile":De.editor.isMobile}).trim();return(0,E.jsx)("button",d(d({"data-prevent-outside-click":!0,className:Be,onClick:et,type:"button","data-testid":"dropdown-menu-button",title:He},Le),{},{children:Ue}))},W=L;L.displayName="DropdownMenuTrigger";var Y=o(5735),ee=function(){return(0,E.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},S=ee;ee.displayName="DropdownMenuSeparator";var B=function(J){var xe=J.children,je=J.className,Ue=je===void 0?"":je,et=J.style,He=J.title;return(0,E.jsxs)("div",{className:"dropdown-menu-group ".concat(Ue),style:et,children:[He&&(0,E.jsx)("p",{className:"dropdown-menu-group-title",children:He}),xe]})},he=B;B.displayName="DropdownMenuGroup";var ge=o(1404),ve=o(2540),me=o(9787),le=o.n(me),N=o(7009),oe=o(1901),O=function(J){var xe=J.children,je=J.onClickOutside,Ue=J.className,et=Ue===void 0?"":Ue,He=J.onSelect,Le=J.style,De=(0,u.Fy)(),Be=(0,me.useRef)(null);(0,oe.O)(Be,function(){je==null||je()});var Ze=(0,f.Z)("dropdown-menu ".concat(et),{"dropdown-menu--mobile":De.editor.isMobile}).trim();return(0,E.jsx)(N.N7.Provider,{value:{onSelect:He},children:(0,E.jsx)("div",{ref:Be,className:Ze,style:Le,"data-testid":"dropdown-menu",children:De.editor.isMobile?(0,E.jsx)(ve.Z.Col,{className:"dropdown-menu-container",children:xe}):(0,E.jsx)(ge.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:xe})})})};O.displayName="DropdownMenuContent";var I=O,A=o(3858),C=["children","className","selected"];function U(J,xe){var je=Object.keys(J);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(J);xe&&(Ue=Ue.filter(function(et){return Object.getOwnPropertyDescriptor(J,et).enumerable})),je.push.apply(je,Ue)}return je}function y(J){for(var xe=1;xe<arguments.length;xe++){var je=arguments[xe]!=null?arguments[xe]:{};xe%2?U(Object(je),!0).forEach(function(Ue){(0,M.Z)(J,Ue,je[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(je)):U(Object(je)).forEach(function(Ue){Object.defineProperty(J,Ue,Object.getOwnPropertyDescriptor(je,Ue))})}return J}var T=function(J){var xe=J.children,je=J.className,Ue=je===void 0?"":je,et=J.selected,He=(0,p.Z)(J,C);return(0,E.jsx)("div",y(y({},He),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Ue," ").concat(et?"dropdown-menu-item--selected":"").trim(),children:xe}))},s=o(3379),D=o.n(s),b=o(7795),v=o.n(b),x=o(569),j=o.n(x),te=o(3565),V=o.n(te),F=o(9216),Z=o.n(F),ne=o(4589),ce=o.n(ne),Se=o(7399),de={};de.styleTagTransform=ce(),de.setAttributes=V(),de.insert=j().bind(null,"head"),de.domAPI=v(),de.insertStyleElement=Z(),D()(Se.Z,de),Se.Z&&Se.Z.locals&&Se.Z.locals;var _e=function(J){var xe=J.children,je=J.open,Ue=function(He){return le().Children.toArray(He).find(function(Le){return le().isValidElement(Le)&&typeof Le.type!="string"&&(Le==null?void 0:Le.type.displayName)&&Le.type.displayName==="DropdownMenuTrigger"})||null}(xe),et=function(He){return le().Children.toArray(He).find(function(Le){return le().isValidElement(Le)&&typeof Le.type!="string"&&(Le==null?void 0:Le.type.displayName)&&Le.type.displayName==="DropdownMenuContent"})||null}(xe);return(0,E.jsxs)(E.Fragment,{children:[Ue,je&&et]})};_e.Trigger=W,_e.Content=I,_e.Item=Y.Z,_e.ItemLink=A.Z,_e.ItemCustom=T,_e.Group=he,_e.Separator=S;var we=_e;_e.displayName="DropdownMenu"},5735:function(Q,z,o){var M=o(7169),p=o(2726),f=o(7009),u=o(6732),E=o(1020),R=["icon","onSelect","children","shortcut","className","selected"];function k(W,Y){var ee=Object.keys(W);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(W);Y&&(S=S.filter(function(B){return Object.getOwnPropertyDescriptor(W,B).enumerable})),ee.push.apply(ee,S)}return ee}function d(W){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y]!=null?arguments[Y]:{};Y%2?k(Object(ee),!0).forEach(function(S){(0,M.Z)(W,S,ee[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ee)):k(Object(ee)).forEach(function(S){Object.defineProperty(W,S,Object.getOwnPropertyDescriptor(ee,S))})}return W}var L=function(W){var Y,ee=W.icon,S=W.onSelect,B=W.children,he=W.shortcut,ge=W.className,ve=W.selected,me=(0,p.Z)(W,R),le=(0,f.qZ)(me.onClick,S);return(0,E.jsx)("button",d(d({},me),{},{onClick:le,type:"button",className:(0,f.n)(ge,ve),title:(Y=me.title)!==null&&Y!==void 0?Y:me["aria-label"],children:(0,E.jsx)(u.Z,{icon:ee,shortcut:he,children:B})}))};z.Z=L,L.displayName="DropdownMenuItem"},6732:function(Q,z,o){var M=o(8242),p=o(1020);z.Z=function(f){var u=f.icon,E=f.shortcut,R=f.children,k=(0,M.Fy)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"dropdown-menu-item__icon",children:u}),(0,p.jsx)("div",{className:"dropdown-menu-item__text",children:R}),E&&!k.editor.isMobile&&(0,p.jsx)("div",{className:"dropdown-menu-item__shortcut",children:E})]})}},3858:function(Q,z,o){var M=o(7169),p=o(2726),f=o(6732),u=o(7009),E=o(1020),R=["icon","shortcut","href","children","onSelect","className","selected"];function k(W,Y){var ee=Object.keys(W);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(W);Y&&(S=S.filter(function(B){return Object.getOwnPropertyDescriptor(W,B).enumerable})),ee.push.apply(ee,S)}return ee}function d(W){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y]!=null?arguments[Y]:{};Y%2?k(Object(ee),!0).forEach(function(S){(0,M.Z)(W,S,ee[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ee)):k(Object(ee)).forEach(function(S){Object.defineProperty(W,S,Object.getOwnPropertyDescriptor(ee,S))})}return W}var L=function(W){var Y,ee=W.icon,S=W.shortcut,B=W.href,he=W.children,ge=W.onSelect,ve=W.className,me=ve===void 0?"":ve,le=W.selected,N=(0,p.Z)(W,R),oe=(0,u.qZ)(N.onClick,ge);return(0,E.jsx)("a",d(d({},N),{},{href:B,target:"_blank",rel:"noreferrer",className:(0,u.n)(me,le),title:(Y=N.title)!==null&&Y!==void 0?Y:N["aria-label"],onClick:oe,children:(0,E.jsx)(f.Z,{icon:ee,shortcut:S,children:he})}))};z.Z=L,L.displayName="DropdownMenuItemLink"},7009:function(Q,z,o){o.d(z,{N7:function(){return E},n:function(){return R},qZ:function(){return k}});var M=o(9787),p=o.n(M),f=o(9937),u=o(9827),E=p().createContext({}),R=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",L=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(d," ").concat(L?"dropdown-menu-item--selected":"").trim()},k=function(d,L){var W=(0,M.useContext)(E);return(0,u.Mj)(d,function(Y){var ee,S=new CustomEvent(f.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});L==null||L(S),S.defaultPrevented||(ee=W.onSelect)===null||ee===void 0||ee.call(W,S)})}},6922:function(Q,z,o){o.d(z,{$:function(){return d}});var M=o(7169),p=o(2577),f=o(3607),u=o(9787),E=o(4572),R=o(1020);function k(L,W){var Y=Object.keys(L);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(L);W&&(ee=ee.filter(function(S){return Object.getOwnPropertyDescriptor(L,S).enumerable})),Y.push.apply(Y,ee)}return Y}var d=function(L,W){var Y=(0,f.cn)(0),ee=function(S){var B=(0,E.R6)().jotaiScope,he=(0,f.KO)(Y,B),ge=(0,p.Z)(he,2)[1],ve=(0,u.useRef)({preferHost:!1,counter:0});return(0,u.useLayoutEffect)(function(){var me=ve.current;return ge(function(le){var N=le+1;return me.counter=N,N}),function(){ge(function(le){var N=le-1;return me.counter=N,N||(me.preferHost=!1),N})}},[ge]),S.__fallback||(ve.current.preferHost=!0),!ve.current.counter&&S.__fallback&&ve.current.preferHost||ve.current.counter>1&&S.__fallback?null:(0,R.jsx)(W,function(me){for(var le=1;le<arguments.length;le++){var N=arguments[le]!=null?arguments[le]:{};le%2?k(Object(N),!0).forEach(function(oe){(0,M.Z)(me,oe,N[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(N)):k(Object(N)).forEach(function(oe){Object.defineProperty(me,oe,Object.getOwnPropertyDescriptor(N,oe))})}return me}({},S))};return ee.displayName=L,ee}},8935:function(Q,z,o){o.d(z,{$W:function(){return _n},$c:function(){return h},$q:function(){return te},BF:function(){return Ge},Ct:function(){return Pe},D7:function(){return Ue},DG:function(){return ye},DJ:function(){return A},DS:function(){return bt},EO:function(){return Fn},ET:function(){return je},FC:function(){return oe},FL:function(){return ne},Gc:function(){return ue},HL:function(){return Me},Hk:function(){return _t},Hy:function(){return we},II:function(){return jn},IN:function(){return ie},J8:function(){return be},LZ:function(){return Ln},NA:function(){return ce},NW:function(){return de},Nw:function(){return In},OA:function(){return Jn},OW:function(){return U},P7:function(){return rr},Pm:function(){return v},RJ:function(){return tt},RY:function(){return _e},Re:function(){return T},ST:function(){return ot},Sd:function(){return V},TP:function(){return X},Tl:function(){return Ze},Tw:function(){return Te},UE:function(){return m},UI:function(){return It},UT:function(){return yn},VL:function(){return x},Vl:function(){return G},Vq:function(){return ge},W2:function(){return st},W5:function(){return Fe},Wl:function(){return Nt},X7:function(){return Pt},XB:function(){return j},XH:function(){return Z},YA:function(){return me},ZA:function(){return mt},Zm:function(){return et},_C:function(){return N},_U:function(){return I},a0:function(){return ct},a1:function(){return De},a5:function(){return Zt},aA:function(){return Hn},aL:function(){return Ct},aT:function(){return Dt},bf:function(){return on},by:function(){return J},d:function(){return ir},dg:function(){return vn},e0:function(){return s},eQ:function(){return He},fr:function(){return jt},gK:function(){return it},h0:function(){return xe},il:function(){return Et},j8:function(){return cn},jn:function(){return ht},kL:function(){return Se},kM:function(){return an},lF:function(){return dt},m:function(){return Kt},m9:function(){return Xt},mh:function(){return Ke},mv:function(){return Bt},nb:function(){return y},np:function(){return St},nq:function(){return Mn},o3:function(){return Yt},oQ:function(){return O},oT:function(){return Bn},op:function(){return Ie},pO:function(){return ve},po:function(){return Be},pw:function(){return pe},q0:function(){return Wt},qQ:function(){return le},rr:function(){return Ut},t5:function(){return $},tW:function(){return wn},tb:function(){return b},tn:function(){return Vt},uD:function(){return qe},vo:function(){return yt},wr:function(){return At},xL:function(){return F},xP:function(){return Le},xs:function(){return $e},z6:function(){return Qt},zG:function(){return _},zb:function(){return D},zl:function(){return $n},zu:function(){return C}});var M=o(7169),p=o(2726),f=o(9787),u=o.n(f),E=o(5284),R=o(45),k=o(9937),d=o(1020),L=["width","height","mirror","style"];function W(Sn,Cn){var Nn=Object.keys(Sn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Sn);Cn&&(On=On.filter(function(ur){return Object.getOwnPropertyDescriptor(Sn,ur).enumerable})),Nn.push.apply(Nn,On)}return Nn}function Y(Sn){for(var Cn=1;Cn<arguments.length;Cn++){var Nn=arguments[Cn]!=null?arguments[Cn]:{};Cn%2?W(Object(Nn),!0).forEach(function(On){(0,M.Z)(Sn,On,Nn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Sn,Object.getOwnPropertyDescriptors(Nn)):W(Object(Nn)).forEach(function(On){Object.defineProperty(Sn,On,Object.getOwnPropertyDescriptor(Nn,On))})}return Sn}var ee=function(Sn){return Sn===k.C6.LIGHT?E.white:"#1e1e1e"},S=function(Sn){var Cn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Nn=typeof Cn=="number"?{width:Cn}:Cn,On=Nn.width,ur=On===void 0?512:On,zn=Nn.height,ar=zn===void 0?ur:zn,jr=Nn.mirror,no=Nn.style,go=(0,p.Z)(Nn,L);return(0,d.jsx)("svg",Y(Y({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(ur," ").concat(ar),className:(0,R.Z)({"rtl-mirror":jr}),style:no},go),{},{children:typeof Sn=="string"?(0,d.jsx)("path",{fill:"currentColor",d:Sn}):Sn}))},B={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},he={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ge=(S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,d.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,d.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,d.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),B),S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,d.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),B)),ve=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),B),me=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),B),le=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,d.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,d.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),B),N=S((0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,d.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,d.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,d.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),he),oe=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,d.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),he),O=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),I=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),A=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),C=(S((0,d.jsx)("g",{fill:"currentColor",children:(0,d.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),S((0,d.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,d.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),U=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),B),y=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),B),T=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),B),s=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),B),D=S((0,d.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),he),b=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,d.jsx)("path",{d:"M16 7h4"}),(0,d.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),B),v=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,d.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),he),x=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,d.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,d.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,d.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,d.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),B),j=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M12.5 6.667h.01"}),(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,d.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,d.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),he),te=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,d.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),B),V=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),he),F=S((0,d.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),he),Z=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),he),ne=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,d.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),he),ce=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),he),Se=S((0,d.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),he),de=S((0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),he),_e=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),B),we=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),he),J=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,d.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,d.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),B),xe=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),he),je=S((0,d.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),he),Ue=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,d.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),he),et=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),B),He=S((0,d.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Le=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,d.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),he),De=S("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Be=S("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Ze=S((0,d.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),he),ye=(S("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),S("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),be=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M15 8h.01"}),(0,d.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,d.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,d.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,d.jsx)("path",{d:"M19 16v6"}),(0,d.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),B),X=S("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),h=(S("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),S("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),S("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),m=(S("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),S((0,d.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),he)),_=S((0,d.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),he),G=S("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),$=(S((0,d.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),he),S("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,d.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),S((0,d.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he)),ue=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),ie=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),pe=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,d.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Pe=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Me=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),$e=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Ke=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),qe=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Fe=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),ot=S((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),he),it=S((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),he),ht=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,d.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,d.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,d.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),B),Te=(S("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),S("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he)),Ie=S("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ge=(S("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),S("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),S("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),u().memo(function(Sn){var Cn=Sn.theme;return S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:ee(Cn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),tt=u().memo(function(Sn){var Cn=Sn.theme;return S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:ee(Cn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),dt=S((0,d.jsx)("g",{strokeWidth:1.25,children:(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),he),ct=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,d.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),he),St=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,d.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,d.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Pt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Y(Y({},he),{},{fill:"currentColor"})),mt=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),he),Nt=S((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),he),Xt=S((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),he),Zt=S((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M5 12h2"}),(0,d.jsx)("path",{d:"M17 12h2"}),(0,d.jsx)("path",{d:"M11 12h2"})]}),B),Dt=S((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v.01"}),(0,d.jsx)("path",{d:"M8 12v.01"}),(0,d.jsx)("path",{d:"M12 12v.01"}),(0,d.jsx)("path",{d:"M16 12v.01"}),(0,d.jsx)("path",{d:"M20 12v.01"})]}),B),on=S((0,d.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),he),an=S((0,d.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),he),st=S((0,d.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),he),At=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,d.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,d.jsx)("path",{d:"M16.6667 10V10.01"}),(0,d.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),he),bt=S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,d.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,d.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,d.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,d.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,d.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,d.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,d.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),B),jt=S((0,d.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Et=u().memo(function(Sn){var Cn=Sn.flip,Nn=Cn!==void 0&&Cn;return S((0,d.jsxs)("g",{transform:Nn?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,d.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,d.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Vt=u().memo(function(Sn){var Cn=Sn.flip,Nn=Cn!==void 0&&Cn;return S((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Kt=u().memo(function(Sn){var Cn=Sn.flip,Nn=Cn!==void 0&&Cn;return S((0,d.jsx)("g",{transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:(0,d.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),cn=u().memo(function(Sn){var Cn=Sn.flip,Nn=Cn!==void 0&&Cn;return S((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Nn?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Wt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Mn=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),wn=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Jn=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),he),yt=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),he),Qt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),he),Ut=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),B),Yt=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,d.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),B),Bn=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),B),Fn=u().memo(function(Sn){return Sn.theme,S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,d.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),B)}),Hn=u().memo(function(Sn){return Sn.theme,S((0,d.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,d.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),B)}),rr=u().memo(function(Sn){return Sn.theme,S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),B)}),In=S((0,d.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),_t=(S((0,d.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),S((0,d.jsxs)("g",{strokeWidth:1.25,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,d.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),B)),Ct=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,d.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,d.jsx)("path",{d:"M12 4l0 12"})]}),B),It=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,d.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),B),Bt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,d.jsx)("path",{d:"M12 17l0 .01"}),(0,d.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),B),yn=(S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M7 4v16l13 -8z"})]}),B),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),B),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),B),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,d.jsx)("path",{d:"M12 9v4"}),(0,d.jsx)("path",{d:"M12 17h.01"})]}),B)),_n=S((0,d.jsxs)("g",{strokeWidth:1.25,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M11 7l6 6"}),(0,d.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),B),vn=S((0,d.jsxs)("g",{strokeWidth:1.5,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,d.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,d.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),B),$n=S((0,d.jsxs)("g",{strokeWidth:1.5,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 7l16 0"}),(0,d.jsx)("path",{d:"M4 17l16 0"}),(0,d.jsx)("path",{d:"M7 4l0 16"}),(0,d.jsx)("path",{d:"M17 4l0 16"})]}),B),jn=S((0,d.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),Ln=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,d.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,d.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),he),ir=S((0,d.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,d.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,d.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(Q,z,o){o.d(z,{Z:function(){return et}});var M={};o.r(M),o.d(M,{ChangeCanvasBackground:function(){return Se},ClearCanvas:function(){return ne},Export:function(){return de},Help:function(){return Z},LiveCollaborationTrigger:function(){return we},LoadScene:function(){return te},SaveAsImage:function(){return F},SaveToActiveFile:function(){return V},Socials:function(){return _e},ToggleTheme:function(){return ce}});var p=o(8242),f=o(7104),u=o(8950),E=o(2975),R=o.n(E),k=o(2529),d=o(8227),L=o(8935),W=o(5735),Y=o(3858),ee=o(5463),S=o(3379),B=o.n(S),he=o(7795),ge=o.n(he),ve=o(569),me=o.n(ve),le=o(3565),N=o.n(le),oe=o(9216),O=o.n(oe),I=o(4589),A=o.n(I),C=o(4343),U={};U.styleTagTransform=A(),U.setAttributes=N(),U.insert=me().bind(null,"head"),U.domAPI=ge(),U.insertStyleElement=O(),B()(C.Z,U),C.Z&&C.Z.locals&&C.Z.locals;var y=o(45),T=o(3607),s=o(8973),D=o(453),b=o(100),v=o(7827),x=o(9247),j=o(1020),te=function(){var He=(0,d.QT)().t,Le=(0,p.eh)(),De=(0,p.bd)();if(!Le.isActionEnabled(ee._d))return null;var Be=function(){var Ze=(0,u.Z)(R().mark(function ye(){return R().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(be.t0=!De.length,be.t0){be.next=5;break}return be.next=4,(0,v._)({title:He("overwriteConfirm.modal.loadFromFile.title"),actionLabel:He("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,j.jsx)(x.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(X){return(0,j.jsx)("strong",{children:X})},br:function(){return(0,j.jsx)("br",{})}})});case 4:be.t0=be.sent;case 5:if(!be.t0){be.next=7;break}Le.executeAction(ee._d);case 7:case"end":return be.stop()}},ye)}));return function(){return Ze.apply(this,arguments)}}();return(0,j.jsx)(W.Z,{icon:L.Tl,onSelect:Be,"data-testid":"load-button",shortcut:(0,k.C)("loadScene"),"aria-label":He("buttons.load"),children:He("buttons.load")})};te.displayName="LoadScene";var V=function(){var He=(0,d.QT)().t,Le=(0,p.eh)();return Le.isActionEnabled(ee.ns)?(0,j.jsx)(W.Z,{shortcut:(0,k.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Le.executeAction(ee.ns)},icon:L.a1,"aria-label":"".concat(He("buttons.save")),children:"".concat(He("buttons.save"))}):null};V.displayName="SaveToActiveFile";var F=function(){var He=(0,p.n9)(),Le=(0,d.QT)().t;return(0,j.jsx)(W.Z,{icon:L.J8,"data-testid":"image-export-button",onSelect:function(){return He({openDialog:"imageExport"})},shortcut:(0,k.C)("imageExport"),"aria-label":Le("buttons.exportImage"),children:Le("buttons.exportImage")})};F.displayName="SaveAsImage";var Z=function(){var He=(0,d.QT)().t,Le=(0,p.eh)();return(0,j.jsx)(W.Z,{"data-testid":"help-menu-item",icon:L.by,onSelect:function(){return Le.executeAction(ee.jY)},shortcut:"?","aria-label":He("helpDialog.title"),children:He("helpDialog.title")})};Z.displayName="Help";var ne=function(){var He=(0,d.QT)().t,Le=(0,T.b9)(s.w,D.yE);return(0,p.eh)().isActionEnabled(ee.mo)?(0,j.jsx)(W.Z,{icon:L.XH,onSelect:function(){return Le("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":He("buttons.clearReset"),children:He("buttons.clearReset")}):null};ne.displayName="ClearCanvas";var ce=function(){var He=(0,d.QT)().t,Le=(0,b.I)(),De=(0,p.eh)();return De.isActionEnabled(ee.Zp)?(0,j.jsx)(W.Z,{onSelect:function(Be){return Be.preventDefault(),De.executeAction(ee.Zp)},icon:Le.theme==="dark"?L.NW:L.kL,"data-testid":"toggle-dark-mode",shortcut:(0,k.C)("toggleTheme"),"aria-label":Le.theme==="dark"?He("buttons.lightMode"):He("buttons.darkMode"),children:Le.theme==="dark"?He("buttons.lightMode"):He("buttons.darkMode")}):null};ce.displayName="ToggleTheme";var Se=function(){var He=(0,d.QT)().t,Le=(0,b.I)(),De=(0,p.eh)(),Be=(0,p.hY)();return Le.viewModeEnabled||!Be.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,j.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:He("labels.canvasBackground")}),(0,j.jsx)("div",{style:{padding:"0 0.625rem"},children:De.renderAction("changeViewBackgroundColor")})]})};Se.displayName="ChangeCanvasBackground";var de=function(){var He=(0,d.QT)().t,Le=(0,p.n9)();return(0,j.jsx)(W.Z,{icon:L.Hy,onSelect:function(){Le({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":He("buttons.export"),children:He("buttons.export")})};de.displayName="Export";var _e=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Y.Z,{icon:L.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,j.jsx)(Y.Z,{icon:L.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,j.jsx)(Y.Z,{icon:L.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};_e.displayName="Socials";var we=function(He){var Le=He.onSelect,De=He.isCollaborating,Be=(0,d.QT)().t;return(0,j.jsx)(W.Z,{"data-testid":"collab-button",icon:L.jn,className:(0,y.Z)({"active-collab":De}),onSelect:Le,children:Be("labels.liveCollaboration")})};we.displayName="LiveCollaborationTrigger";var J=o(4704),xe=o(6922),je=o(9827),Ue=o(4572),et=Object.assign((0,xe.$)("MainMenu",function(He){var Le=He.children,De=He.onSelect,Be=(0,Ue.R6)().MainMenuTunnel,Ze=(0,p.Fy)(),ye=(0,b.I)(),be=(0,p.n9)(),X=Ze.editor.isMobile?void 0:function(){return be({openMenu:null})};return(0,j.jsx)(Be.In,{children:(0,j.jsxs)(f.Z,{open:ye.openMenu==="canvas",children:[(0,j.jsx)(f.Z.Trigger,{onToggle:function(){be({openMenu:ye.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:L.RY}),(0,j.jsxs)(f.Z.Content,{onClickOutside:X,onSelect:(0,je.Mj)(De,function(){be({openMenu:null})}),children:[Le,Ze.editor.isMobile&&ye.collaborators.size>0&&(0,j.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,j.jsx)("legend",{children:(0,d.t)("labels.collaborators")}),(0,j.jsx)(J.Z,{mobile:!0,collaborators:ye.collaborators})]})]})]})})}),{Trigger:f.Z.Trigger,Item:f.Z.Item,ItemLink:f.Z.ItemLink,ItemCustom:f.Z.ItemCustom,Group:f.Z.Group,Separator:f.Z.Separator,DefaultItems:M})},9937:function(Q,z,o){o.d(z,{wL:function(){return He},iC:function(){return U},vL:function(){return ct},bY:function(){return dt},gK:function(){return tt},$C:function(){return Z},oc:function(){return x},_9:function(){return Xt},HN:function(){return st},qy:function(){return it},rk:function(){return J},n5:function(){return we},h6:function(){return ht},Rx:function(){return Nt},Cc:function(){return bt},Hg:function(){return xe},cW:function(){return pe},hs:function(){return je},f:function(){return y},xY:function(){return mt},Iw:function(){return s},$e:function(){return D},Vi:function(){return F},Ks:function(){return le},r8:function(){return Be},I_:function(){return De},ZB:function(){return ot},pb:function(){return Ze},ut:function(){return ne},iG:function(){return Se},k:function(){return Ue},sA:function(){return G},KL:function(){return et},LL:function(){return ye},PR:function(){return jt},tf:function(){return At},EE:function(){return qe},qx:function(){return T},$n:function(){return Te},zK:function(){return Fe},LO:function(){return Le},CP:function(){return _e},Zj:function(){return _},Yx:function(){return $e},sS:function(){return Me},kV:function(){return Pe},sk:function(){return Ke},Oh:function(){return j},XI:function(){return te},WR:function(){return Dt},$h:function(){return on},a6:function(){return Zt},HM:function(){return h},ay:function(){return v},dg:function(){return an},hR:function(){return Ie},Gj:function(){return be},I8:function(){return Pt},wZ:function(){return b},C6:function(){return ce},ZF:function(){return $},nM:function(){return X},ah:function(){return ie},UO:function(){return ue},Kr:function(){return Ge},oX:function(){return St},_D:function(){return de},vf:function(){return V},V4:function(){return m},Dt:function(){return O},jP:function(){return C},Um:function(){return N},vU:function(){return I},G6:function(){return A},ED:function(){return oe}});var M=o(7169),p=o(3379),f=o.n(p),u=o(7795),E=o.n(u),R=o(569),k=o.n(R),d=o(3565),L=o.n(d),W=o(9216),Y=o.n(W),ee=o(4589),S=o.n(ee),B=o(6464),he={};he.styleTagTransform=S(),he.setAttributes=L(),he.insert=k().bind(null,"head"),he.domAPI=E(),he.insertStyleElement=Y(),f()(B.Z,he);var ge=B.Z&&B.Z.locals?B.Z.locals:void 0,ve=o(9240);function me(Et,Vt){var Kt=Object.keys(Et);if(Object.getOwnPropertySymbols){var cn=Object.getOwnPropertySymbols(Et);Vt&&(cn=cn.filter(function(Wt){return Object.getOwnPropertyDescriptor(Et,Wt).enumerable})),Kt.push.apply(Kt,cn)}return Kt}var le,N=/Mac|iPod|iPhone|iPad/.test(navigator.platform),oe=/^Win/.test(navigator.platform),O=/\b(android)\b/i.test(navigator.userAgent),I="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,A=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,C=function(){var Et,Vt;return((Et=navigator.brave)===null||Et===void 0||(Vt=Et.isBrave)===null||Vt===void 0?void 0:Vt.name)==="isBrave"},U="Excalidraw",y=10,T=8,s=5,D=1,b=30,v=Math.PI/12,x={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},j={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},te={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Et){Et.COPY="copy",Et.PASTE="paste",Et.CUT="cut",Et.KEYDOWN="keydown",Et.KEYUP="keyup",Et.MOUSE_MOVE="mousemove",Et.RESIZE="resize",Et.UNLOAD="unload",Et.FOCUS="focus",Et.BLUR="blur",Et.DRAG_OVER="dragover",Et.DROP="drop",Et.GESTURE_END="gestureend",Et.BEFORE_UNLOAD="beforeunload",Et.GESTURE_START="gesturestart",Et.GESTURE_CHANGE="gesturechange",Et.POINTER_MOVE="pointermove",Et.POINTER_DOWN="pointerdown",Et.POINTER_UP="pointerup",Et.STATE_CHANGE="statechange",Et.WHEEL="wheel",Et.TOUCH_START="touchstart",Et.TOUCH_END="touchend",Et.HASHCHANGE="hashchange",Et.VISIBILITY_CHANGE="visibilitychange",Et.SCROLL="scroll",Et.EXCALIDRAW_LINK="excalidraw-link",Et.MENU_ITEM_SELECT="menu.itemSelect",Et.MESSAGE="message"})(le||(le={}));var V={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},F={TEST:"test",DEVELOPMENT:"development"},Z={SHAPE_ACTIONS_MENU:"App-menu__left"},ne={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},ce={LIGHT:"light",DARK:"dark"},Se={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},de="Segoe UI Emoji",_e=1,we=20,J=ne.Virgil,xe="left",je="top",Ue=20,et={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},He=["text/plain","text/html"],Le=function(Et){for(var Vt=1;Vt<arguments.length;Vt++){var Kt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?me(Object(Kt),!0).forEach(function(cn){(0,M.Z)(Et,cn,Kt[cn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Et,Object.getOwnPropertyDescriptors(Kt)):me(Object(Kt)).forEach(function(cn){Object.defineProperty(Et,cn,Object.getOwnPropertyDescriptor(Kt,cn))})}return Et}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},et),De={png:"png",svg:"svg",clipboard:"clipboard"},Be={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Ze=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,ye=500,be=300,X=500,h=100,m=.1,_=.1,G=300,$=ge.themeFilter,ue={addLibrary:"addLibrary"},ie={addLibrary:"addLibrary"},pe={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},Pe=730,Me=1e3,$e=500,Ke=1229,qe=parseInt(ge.rightSidebarWidth),Fe=2,ot=[1,2,3],it=10,ht=1440,Te=2097152,Ie="http://www.w3.org/2000/svg",Ge={excalidraw:2,excalidrawLibrary:2},tt=5,dt=.7,ct=11,St={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Pt={LEFT:"left",CENTER:"center",RIGHT:"right"},mt=20,Nt=.25,Xt=32,Zt={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Dt="__precedingElement__",on={architect:0,artist:1,cartoonist:2},an={thin:1,bold:2,extraBold:4},st={strokeColor:ve.HO.black,backgroundColor:ve.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:on.artist,opacity:100,locked:!1},At="library",bt={name:"default",defaultTab:At},jt=new Set(["embeddable","image"])},4572:function(Q,z,o){o.d(z,{A3:function(){return S},ZC:function(){return he},R6:function(){return B}});var M=o(9787),p=o.n(M);const f=ge=>{let ve;const me=new Set,le=(O,I)=>{const A=typeof O=="function"?O(ve):O;if(!Object.is(A,ve)){const C=ve;ve=I??typeof A!="object"?A:Object.assign({},ve,A),me.forEach(U=>U(ve,C))}},N=()=>ve,oe={setState:le,getState:N,subscribe:O=>(me.add(O),()=>me.delete(O)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),me.clear()}};return ve=ge(le,N,oe),oe},u=ge=>ge?f(ge):f;var E=o(5668);const{useSyncExternalStoreWithSelector:R}=E,k=ge=>{typeof ge!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const ve=typeof ge=="function"?u(ge):ge,me=(le,N)=>function(oe,O=oe.getState,I){const A=R(oe.subscribe,oe.getState,oe.getServerState||oe.getState,O,I);return(0,M.useDebugValue)(A),A}(ve,le,N);return Object.assign(me,ve),me},d=ge=>ge?k(ge):k;var L,W;const Y=typeof window<"u"&&((L=window.document)!=null&&L.createElement||((W=window.navigator)==null?void 0:W.product)==="ReactNative")?p().useLayoutEffect:p().useEffect;function ee(){const ge=d(ve=>({current:new Array,version:0,set:ve}));return{In:({children:ve})=>{const me=ge(N=>N.set),le=ge(N=>N.version);return Y(()=>{me(N=>({version:N.version+1}))},[]),Y(()=>(me(({current:N})=>({current:[...N,ve]})),()=>me(({current:N})=>({current:N.filter(oe=>oe!==ve)}))),[ve,le]),null},Out:()=>{const ve=ge(me=>me.current);return p().createElement(p().Fragment,null,ve)}}}var S=p().createContext(null),B=function(){return p().useContext(S)},he=function(){return p().useMemo(function(){return{MainMenuTunnel:ee(),WelcomeScreenMenuHintTunnel:ee(),WelcomeScreenToolbarHintTunnel:ee(),WelcomeScreenHelpHintTunnel:ee(),WelcomeScreenCenterTunnel:ee(),FooterCenterTunnel:ee(),DefaultSidebarTriggerTunnel:ee(),DefaultSidebarTabTriggersTunnel:ee(),OverwriteConfirmDialogTunnel:ee(),jotaiScope:Symbol()}},[])}},100:function(Q,z,o){o.d(z,{I:function(){return u},k:function(){return f}});var M=o(9787),p=o.n(M),f=p().createContext(null),u=function(){return p().useContext(f)}},7652:function(Q,z,o){o.d(z,{KJ:function(){return Y},OF:function(){return ee},Uk:function(){return S},z8:function(){return W}});var M,p,f=o(9937),u=o(5284),E=o(6853),R='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',k='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',d="data:".concat(f.LO.svg,",").concat(encodeURIComponent("".concat(R).concat(k,"</svg>"))),L="data:".concat(f.LO.svg,",").concat(encodeURIComponent("".concat(R).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(k,"</svg>"))),W=function(B){B&&(B.style.cursor="")},Y=function(B,he){B&&(B.style.cursor=he)},ee=function(B,he){M&&M.theme===he||function(){var ge=he===f.C6.DARK;(M=document.createElement("canvas")).theme=he,M.height=20,M.width=20;var ve=M.getContext("2d");ve.lineWidth=1,ve.beginPath(),ve.arc(M.width/2,M.height/2,5,0,2*Math.PI),ve.fillStyle=ge?u.black:u.white,ve.fill(),ve.strokeStyle=ge?u.white:u.black,ve.stroke(),p=M.toDataURL(f.LO.svg)}(),Y(B,"url(".concat(p,") ").concat(10," ").concat(10,", auto"))},S=function(B,he){if(B)if(he.activeTool.type==="selection")W(B);else if((0,E.l$)(he))B.style.cursor=f.oc.GRAB;else if((0,E.EN)(he))ee(B,he.theme);else if(he.activeTool.type==="laser"){var ge=he.theme===f.C6.LIGHT?d:L;B.style.cursor="url(".concat(ge,"), auto")}else["image","custom"].includes(he.activeTool.type)?he.activeTool.type!=="image"&&(B.style.cursor=f.oc.AUTO):B.style.cursor=f.oc.CROSSHAIR}},5796:function(Q,z,o){o.d(z,{DQ:function(){return O},KG:function(){return v},Pn:function(){return j},Qk:function(){return oe},Sf:function(){return b},Tu:function(){return x},Wr:function(){return A},ZY:function(){return C},_c:function(){return s},_p:function(){return te},bv:function(){return V},cT:function(){return U},g8:function(){return I},gY:function(){return ce},lV:function(){return T},tW:function(){return D},vZ:function(){return Se},wf:function(){return y}});var M=o(1930),p=o(2577),f=o(7169),u=o(8950),E=o(2975),R=o.n(E),k=o(5605),d=o(6853),L=o(9937),W=o(7651),Y=o(3506),ee=o(8227),S=o(4105),B=o(9827),he=o(6548),ge=o(4419),ve=o(7994);function me(de,_e){var we=Object.keys(de);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(de);_e&&(J=J.filter(function(xe){return Object.getOwnPropertyDescriptor(de,xe).enumerable})),we.push.apply(we,J)}return we}function le(de){for(var _e=1;_e<arguments.length;_e++){var we=arguments[_e]!=null?arguments[_e]:{};_e%2?me(Object(we),!0).forEach(function(J){(0,f.Z)(de,J,we[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(we)):me(Object(we)).forEach(function(J){Object.defineProperty(de,J,Object.getOwnPropertyDescriptor(we,J))})}return de}var N=function(){var de=(0,u.Z)(R().mark(function _e(we){var J;return R().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(we.type!==L.LO.png){xe.next=18;break}return xe.prev=1,xe.next=4,Promise.resolve().then(o.bind(o,250));case 4:return xe.next=6,xe.sent.decodePngMetadata(we);case 6:return xe.abrupt("return",xe.sent);case 9:if(xe.prev=9,xe.t0=xe.catch(1),xe.t0.message!=="INVALID"){xe.next=15;break}throw new Y.jk((0,ee.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new Y.jk((0,ee.t)("alerts.cannotRestoreFromImage"));case 16:xe.next=43;break;case 18:if(!("text"in Blob)){xe.next=24;break}return xe.next=21,we.text();case 21:J=xe.sent,xe.next=27;break;case 24:return xe.next=26,new Promise(function(je){var Ue=new FileReader;Ue.readAsText(we,"utf8"),Ue.onloadend=function(){Ue.readyState===FileReader.DONE&&je(Ue.result)}});case 26:J=xe.sent;case 27:if(we.type!==L.LO.svg){xe.next=43;break}return xe.prev=28,xe.next=31,Promise.resolve().then(o.bind(o,250));case 31:return xe.next=33,xe.sent.decodeSvgMetadata({svg:J});case 33:return xe.abrupt("return",xe.sent);case 36:if(xe.prev=36,xe.t1=xe.catch(28),xe.t1.message!=="INVALID"){xe.next=42;break}throw new Y.jk((0,ee.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new Y.jk((0,ee.t)("alerts.cannotRestoreFromImage"));case 43:return xe.abrupt("return",J);case 44:case"end":return xe.stop()}},_e,null,[[1,9],[28,36]])}));return function(_e){return de.apply(this,arguments)}}(),oe=function(de){var _e;return de&&((_e=de.name.match(/\.(json|excalidraw|png|svg)$/))===null||_e===void 0?void 0:_e[1])||null},O=function(de){return de==="png"||de==="svg"},I=function(de){var _e=oe(de);return _e==="png"||_e==="svg"},A=function(de){var _e=(de||{}).type;return!!_e&&Object.values(L.KL).includes(_e)},C=function(){var de=(0,u.Z)(R().mark(function _e(we,J,xe,je){var Ue,et;return R().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,N(we);case 2:Ue=He.sent,He.prev=3,He.prev=4,et=JSON.parse(Ue),He.next=13;break;case 8:if(He.prev=8,He.t0=He.catch(4),!A(we)){He.next=12;break}throw new Y.jk((0,ee.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw He.t0;case 13:if(!(0,ge.dS)(et)){He.next=17;break}return He.abrupt("return",{type:L.LO.excalidraw,data:(0,ve.nu)({elements:(0,W._M)(et.elements||[]),appState:le(le({theme:J==null?void 0:J.theme,fileHandle:je||we.handle||null},(0,d.s)(et.appState||{})),J?(0,S.W)(et.elements||[],J):{}),files:et.files},J,xe,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,ge.HT)(et)){He.next=19;break}return He.abrupt("return",{type:L.LO.excalidrawlib,data:et});case 19:case 26:throw new Error((0,ee.t)("alerts.couldNotLoadInvalidFile"));case 22:if(He.prev=22,He.t1=He.catch(3),!(He.t1 instanceof Y.jk)){He.next=26;break}throw He.t1;case 27:case"end":return He.stop()}},_e,null,[[3,22],[4,8]])}));return function(_e,we,J,xe){return de.apply(this,arguments)}}(),U=function(){var de=(0,u.Z)(R().mark(function _e(we,J,xe,je){var Ue;return R().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,C(we,J,xe,je);case 2:if((Ue=et.sent).type===L.LO.excalidraw){et.next=5;break}throw new Error((0,ee.t)("alerts.couldNotLoadInvalidFile"));case 5:return et.abrupt("return",Ue.data);case 6:case"end":return et.stop()}},_e)}));return function(_e,we,J,xe){return de.apply(this,arguments)}}(),y=function(de){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",we=JSON.parse(de);if(!(0,ge.HT)(we))throw new Error("Invalid library");var J=we.libraryItems||we.library;return(0,ve.wJ)(J,_e)},T=function(){var de=(0,u.Z)(R().mark(function _e(we){var J,xe=arguments;return R().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=xe.length>1&&xe[1]!==void 0?xe[1]:"unpublished",je.t0=y,je.next=4,N(we);case 4:return je.t1=je.sent,je.t2=J,je.abrupt("return",(0,je.t0)(je.t1,je.t2));case 7:case"end":return je.stop()}},_e)}));return function(_e){return de.apply(this,arguments)}}(),s=function(){var de=(0,u.Z)(R().mark(function _e(we){return R().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(){var xe=(0,u.Z)(R().mark(function je(Ue,et){return R().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(He.prev=0,!(0,B.y8)(we)){He.next=5;break}return He.next=4,we;case 4:we=He.sent;case 5:we.toBlob(function(Le){if(!Le)return et(new Y.lp((0,ee.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Ue(Le)}),He.next=11;break;case 8:He.prev=8,He.t0=He.catch(0),et(He.t0);case 11:case"end":return He.stop()}},je,null,[[0,8]])}));return function(je,Ue){return xe.apply(this,arguments)}}()));case 1:case"end":return J.stop()}},_e)}));return function(_e){return de.apply(this,arguments)}}(),D=function(){var de=(0,u.Z)(R().mark(function _e(we){var J;return R().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.prev=0,xe.t0=window.crypto.subtle,xe.next=4,Se(we);case 4:return xe.t1=xe.sent,xe.next=7,xe.t0.digest.call(xe.t0,"SHA-1",xe.t1);case 7:return J=xe.sent,xe.abrupt("return",(0,B.G3)(new Uint8Array(J)));case 11:return xe.prev=11,xe.t2=xe.catch(0),console.error(xe.t2),xe.abrupt("return",(0,k.x0)(40));case 15:case"end":return xe.stop()}},_e,null,[[0,11]])}));return function(_e){return de.apply(this,arguments)}}(),b=function(){var de=(0,u.Z)(R().mark(function _e(we){return R().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.abrupt("return",new Promise(function(xe,je){var Ue=new FileReader;Ue.onload=function(){var et=Ue.result;xe(et)},Ue.onerror=function(et){return je(et)},Ue.readAsDataURL(we)}));case 1:case"end":return J.stop()}},_e)}));return function(_e){return de.apply(this,arguments)}}(),v=function(de){for(var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",we=de.indexOf(","),J=atob(de.slice(we+1)),xe=de.slice(0,we).split(":")[1].split(";")[0],je=new ArrayBuffer(J.length),Ue=new Uint8Array(je),et=0;et<J.length;et++)Ue[et]=J.charCodeAt(et);return new File([je],_e,{type:xe})},x=function(){var de=(0,u.Z)(R().mark(function _e(we,J){var xe,je,Ue,et,He,Le;return R().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(we.type!==L.LO.svg){De.next=2;break}return De.abrupt("return",we);case 2:return De.next=4,Promise.all([o.e(4736).then(o.t.bind(o,4881,23)).then(function(Be){return Be.default}),o.e(4736).then(o.bind(o,5446)).then(function(Be){return Be.default})]);case 4:if(xe=De.sent,je=(0,p.Z)(xe,2),Ue=je[0],et=je[1],He=et({pica:Ue({features:["js","wasm"]})}),J.outputType&&(Le=J.outputType,He._create_blob=function(Be){return this.pica.toBlob(Be.out_canvas,Le,.8).then(function(Ze){return Be.out_blob=Ze,Be})}),A(we)){De.next=12;break}throw new Error((0,ee.t)("errors.unsupportedFileType"));case 12:return De.t0=File,De.next=15,He.toBlob(we,{max:J.maxWidthOrHeight});case 15:return De.t1=De.sent,De.t2=[De.t1],De.t3=we.name,De.t4={type:J.outputType||we.type},De.abrupt("return",new De.t0(De.t2,De.t3,De.t4));case 20:case"end":return De.stop()}},_e)}));return function(_e,we){return de.apply(this,arguments)}}(),j=function(de){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(de)],_e,{type:L.LO.svg})},te=function(){var de=(0,u.Z)(R().mark(function _e(we){var J,xe,je,Ue,et=arguments;return R().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return J=et.length>1&&et[1]!==void 0?et[1]:"",He.prev=1,He.next=4,fetch(we);case 4:xe=He.sent,He.next=10;break;case 7:throw He.prev=7,He.t0=He.catch(1),new Error((0,ee.t)("errors.failedToFetchImage"));case 10:if(xe.ok){He.next=12;break}throw new Error((0,ee.t)("errors.failedToFetchImage"));case 12:return He.next=14,xe.blob();case 14:if(!(je=He.sent).type||!A(je)){He.next=18;break}return Ue=J||je.name||"",He.abrupt("return",new File([je],Ue,{type:je.type}));case 18:throw new Error((0,ee.t)("errors.unsupportedFileType"));case 19:case"end":return He.stop()}},_e,null,[[1,7]])}));return function(_e){return de.apply(this,arguments)}}(),V=function(){var de=(0,u.Z)(R().mark(function _e(we){var J,xe;return R().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return J=we.dataTransfer.files.item(0),je.next=3,F(we);case 3:if(xe=je.sent,!J){je.next=10;break}return je.next=7,ce(J);case 7:je.t0=je.sent,je.next=11;break;case 10:je.t0=null;case 11:return je.t1=je.t0,je.t2=xe,je.abrupt("return",{file:je.t1,fileHandle:je.t2});case 14:case"end":return je.stop()}},_e)}));return function(_e){return de.apply(this,arguments)}}(),F=function(){var de=(0,u.Z)(R().mark(function _e(we){var J,xe;return R().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(!he.kr){je.next=16;break}return je.prev=1,J=we.dataTransfer.items[0],je.next=5,J.getAsFileSystemHandle();case 5:if(je.t0=je.sent,je.t0){je.next=8;break}je.t0=null;case 8:return xe=je.t0,je.abrupt("return",xe);case 12:return je.prev=12,je.t1=je.catch(1),console.warn(je.t1.name,je.t1.message),je.abrupt("return",null);case 16:return je.abrupt("return",null);case 17:case"end":return je.stop()}},_e,null,[[1,12]])}));return function(_e){return de.apply(this,arguments)}}(),Z=function(de){var _e=null,we="".concat((0,M.Z)(new Uint8Array(de).slice(0,8)).join(" ")," "),J="255 216 255 ",xe="71 73 70 56 57 97 ";return we==="137 80 78 71 13 10 26 10 "?_e=L.LO.png:we.startsWith(J)?_e=L.LO.jpg:we.startsWith(xe)&&(_e=L.LO.gif),_e},ne=function(de,_e,we){return new File([de],we||"",{type:_e})},ce=function(){var de=(0,u.Z)(R().mark(function _e(we){var J,xe,je,Ue,et,He,Le,De;return R().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(we.type){Be.next=28;break}if((J=we)===null||J===void 0||(xe=J.name)===null||xe===void 0||!xe.endsWith(".excalidrawlib")){Be.next=11;break}return Be.t0=ne,Be.next=5,Se(we);case 5:Be.t1=Be.sent,Be.t2=L.LO.excalidrawlib,Be.t3=we.name,we=(0,Be.t0)(Be.t1,Be.t2,Be.t3),Be.next=26;break;case 11:if((je=we)===null||je===void 0||(Ue=je.name)===null||Ue===void 0||!Ue.endsWith(".excalidraw")){Be.next=21;break}return Be.t4=ne,Be.next=15,Se(we);case 15:Be.t5=Be.sent,Be.t6=L.LO.excalidraw,Be.t7=we.name,we=(0,Be.t4)(Be.t5,Be.t6,Be.t7),Be.next=26;break;case 21:return Be.next=23,Se(we);case 23:et=Be.sent,(He=Z(et))&&(we=ne(et,He,we.name));case 26:Be.next=34;break;case 28:if(!A(we)){Be.next=34;break}return Be.next=31,Se(we);case 31:Le=Be.sent,(De=Z(Le))&&De!==we.type&&(we=ne(Le,De,we.name));case 34:return Be.abrupt("return",we);case 35:case"end":return Be.stop()}},_e)}));return function(_e){return de.apply(this,arguments)}}(),Se=function(de){return"arrayBuffer"in de?de.arrayBuffer():new Promise(function(_e,we){var J=new FileReader;J.onload=function(xe){var je;if((je=xe.target)===null||je===void 0||!je.result)return we(new Error("Couldn't convert blob to ArrayBuffer"));_e(xe.target.result)},J.readAsArrayBuffer(de)})}},6548:function(Q,z,o){o.d(z,{I$:function(){return ee},NL:function(){return S},kr:function(){return u}});var M=o(1930),p=o(8950),f=o(2975),u=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),E=u?o.e(4736).then(o.bind(o,7464)):o.e(4736).then(o.bind(o,3948));function R(){return R=(0,p.Z)(f.mark(function B(){var he,ge=arguments;return f.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,E;case 2:return ve.abrupt("return",(he=ve.sent).default.apply(he,ge));case 3:case"end":return ve.stop()}},B)})),R.apply(this,arguments)}u?o.e(4736).then(o.bind(o,4036)):o.e(4736).then(o.bind(o,7693));var k=u?o.e(4736).then(o.bind(o,357)):o.e(4736).then(o.bind(o,341));function d(){return d=(0,p.Z)(f.mark(function B(){var he,ge=arguments;return f.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,k;case 2:return ve.abrupt("return",(he=ve.sent).default.apply(he,ge));case 3:case"end":return ve.stop()}},B)})),d.apply(this,arguments)}var L=o(9937),W=o(3506),Y=o(9827),ee=function(B){var he,ge,ve,me=(he=B.extensions)===null||he===void 0?void 0:he.reduce(function(N,oe){return N.push(L.LO[oe]),N},[]),le=(ge=B.extensions)===null||ge===void 0?void 0:ge.reduce(function(N,oe){return oe==="jpg"?N.concat(".jpg",".jpeg"):N.concat(".".concat(oe))},[]);return function(){return R.apply(this,arguments)}({description:B.description,extensions:le,mimeTypes:me,multiple:(ve=B.multiple)!==null&&ve!==void 0&&ve,legacySetup:function(N,oe,O){var I=(0,Y.Ds)(oe,500),A=function(){C(),document.addEventListener(L.Ks.KEYUP,I),document.addEventListener(L.Ks.POINTER_UP,I),I()},C=function(){var y;if((y=O.files)!==null&&y!==void 0&&y.length){var T=B.multiple?(0,M.Z)(O.files):O.files[0];N(T)}};requestAnimationFrame(function(){window.addEventListener(L.Ks.FOCUS,A)});var U=window.setInterval(function(){C()},500);return function(y){clearInterval(U),I.cancel(),window.removeEventListener(L.Ks.FOCUS,A),document.removeEventListener(L.Ks.KEYUP,I),document.removeEventListener(L.Ks.POINTER_UP,I),y&&(console.warn("Opening the file was canceled (legacy-fs)."),y(new W._L))}}})},S=function(B,he){return function(){return d.apply(this,arguments)}(B,{fileName:"".concat(he.name,".").concat(he.extension),description:he.description,extensions:[".".concat(he.extension)]},he.fileHandle)}},250:function(Q,z,o){o.r(z),o.d(z,{decodePngMetadata:function(){return oe},decodeSvgMetadata:function(){return I},encodePngMetadata:function(){return N},encodeSvgMetadata:function(){return O},getTEXtChunk:function(){return le}});var M=o(8950),p=o(2975),f=o.n(p),u=o(2983),E=o.n(u),R=o(1194),k=o(3434),d=o.n(k),L=o(2744),W=o(9937),Y=o(5796),ee=function(A){return new Promise(function(C,U){var y=typeof A=="string"?new Blob([new TextEncoder().encode(A)]):new Blob([A instanceof Uint8Array?A:new Uint8Array(A)]),T=new FileReader;T.onload=function(s){if(!s.target||typeof s.target.result!="string")return U(new Error("couldn't convert to byte string"));C(s.target.result)},T.readAsBinaryString(y)})},S=function(A){for(var C=new ArrayBuffer(A.length),U=new Uint8Array(C),y=0,T=A.length;y<T;y++)U[y]=A.charCodeAt(y);return C},B=function(A){return new TextDecoder("utf-8").decode(S(A))},he=function(){var A=(0,M.Z)(f().mark(function C(U){var y=arguments;return f().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(y.length>1&&y[1]!==void 0&&y[1])){T.next=5;break}T.t0=window.btoa(U),T.next=10;break;case 5:return T.t1=window,T.next=8,ee(U);case 8:T.t2=T.sent,T.t0=T.t1.btoa.call(T.t1,T.t2);case 10:return T.abrupt("return",T.t0);case 11:case"end":return T.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),ge=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T=arguments;return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return y=T.length>1&&T[1]!==void 0&&T[1],s.abrupt("return",y?window.atob(U):B(window.atob(U)));case 2:case"end":return s.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),ve=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T;return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(y=U.text,U.compress===!1){s.next=11;break}return s.prev=2,s.next=5,ee((0,L.deflate)(y));case 5:T=s.sent,s.next=11;break;case 8:s.prev=8,s.t0=s.catch(2),console.error("encode: cannot deflate",s.t0);case 11:if(s.t1=!!T,s.t2=T,s.t2){s.next=17;break}return s.next=16,ee(y);case 16:s.t2=s.sent;case 17:return s.t3=s.t2,s.abrupt("return",{version:"1",encoding:"bstring",compressed:s.t1,encoded:s.t3});case 19:case"end":return s.stop()}},C,null,[[2,8]])}));return function(C){return A.apply(this,arguments)}}(),me=function(){var A=(0,M.Z)(f().mark(function C(U){var y;return f().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:T.t0=U.encoding,T.next=T.t0==="bstring"?3:12;break;case 3:if(!U.compressed){T.next=7;break}T.t1=U.encoded,T.next=10;break;case 7:return T.next=9,B(U.encoded);case 9:T.t1=T.sent;case 10:return y=T.t1,T.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(U.encoding,'"'));case 13:if(!U.compressed){T.next=15;break}return T.abrupt("return",(0,L.inflate)(new Uint8Array(S(y)),{to:"string"}));case 15:return T.abrupt("return",y);case 16:case"end":return T.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),le=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T;return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=E(),s.t1=Uint8Array,s.next=4,(0,Y.vZ)(U);case 4:if(s.t2=s.sent,s.t3=new s.t1(s.t2),y=(0,s.t0)(s.t3),!(T=y.find(function(D){return D.name==="tEXt"}))){s.next=10;break}return s.abrupt("return",R.decode(T.data));case 10:return s.abrupt("return",null);case 11:case"end":return s.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),N=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T,s,D;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return y=U.blob,T=U.metadata,b.t0=E(),b.t1=Uint8Array,b.next=5,(0,Y.vZ)(y);case 5:return b.t2=b.sent,b.t3=new b.t1(b.t2),s=(0,b.t0)(b.t3),b.t4=R,b.t5=W.LO.excalidraw,b.t6=JSON,b.next=13,ve({text:T,compress:!0});case 13:return b.t7=b.sent,b.t8=b.t6.stringify.call(b.t6,b.t7),D=b.t4.encode.call(b.t4,b.t5,b.t8),s.splice(-1,0,D),b.abrupt("return",new Blob([d()(s)],{type:W.LO.png}));case 18:case"end":return b.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),oe=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T;return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,le(U);case 2:if(((y=s.sent)==null?void 0:y.keyword)!==W.LO.excalidraw){s.next=19;break}if(s.prev=4,"encoded"in(T=JSON.parse(y.text))){s.next=10;break}if(!("type"in T)||T.type!==W.r8.excalidraw){s.next=9;break}return s.abrupt("return",y.text);case 9:throw new Error("FAILED");case 10:return s.next=12,me(T);case 12:return s.abrupt("return",s.sent);case 15:throw s.prev=15,s.t0=s.catch(4),console.error(s.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return s.stop()}},C,null,[[4,15]])}));return function(C){return A.apply(this,arguments)}}(),O=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T,s;return f().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y=U.text,D.t0=he,D.t1=JSON,D.next=5,ve({text:y});case 5:return D.t2=D.sent,D.t3=D.t1.stringify.call(D.t1,D.t2),D.next=9,(0,D.t0)(D.t3,!0);case 9:return T=D.sent,s="",s+="<!-- payload-type:".concat(W.LO.excalidraw," -->"),s+="<!-- payload-version:2 -->",s+="<!-- payload-start -->",s+=T,s+="<!-- payload-end -->",D.abrupt("return",s);case 17:case"end":return D.stop()}},C)}));return function(C){return A.apply(this,arguments)}}(),I=function(){var A=(0,M.Z)(f().mark(function C(U){var y,T,s,D,b,v,x;return f().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(y=U.svg).includes("payload-type:".concat(W.LO.excalidraw))){j.next=26;break}if(T=y.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){j.next=5;break}throw new Error("INVALID");case 5:return s=y.match(/<!-- payload-version:(\d+) -->/),D=(s==null?void 0:s[1])||"1",b=D!=="1",j.prev=8,j.next=11,ge(T[1],b);case 11:if(v=j.sent,"encoded"in(x=JSON.parse(v))){j.next=17;break}if(!("type"in x)||x.type!==W.r8.excalidraw){j.next=16;break}return j.abrupt("return",v);case 16:throw new Error("FAILED");case 17:return j.next=19,me(x);case 19:return j.abrupt("return",j.sent);case 22:throw j.prev=22,j.t0=j.catch(8),console.error(j.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return j.stop()}},C,null,[[8,22]])}));return function(C){return A.apply(this,arguments)}}()},2435:function(Q,z,o){o.d(z,{HD:function(){return he},Um:function(){return B.Um},cT:function(){return ee.cT},n8:function(){return B.n8},p1:function(){return ge}});var M=o(8950),p=o(2975),f=o.n(p),u=o(4694),E=o(9937),R=o(7651),k=o(8227),d=o(6013),L=o(4105),W=o(3668),Y=o(9827),ee=o(5796),S=o(6548),B=o(4419),he=function(ve,me,le){var N=me.selectedElementIds;ve=(0,R.Lm)(ve);var oe=le&&(0,L.N)(ve,{selectedElementIds:N}),O=null,I=oe?(0,L.eD)(ve,{selectedElementIds:N},{includeBoundTextElement:!0}):ve;return oe&&(I.length===1&&(0,R.He)(I[0])?(O=I[0],I=(0,d.Xs)({elements:ve,bounds:O,type:"overlap"})):I.length>1&&(I=(0,L.eD)(ve,{selectedElementIds:N},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:O,exportedElements:(0,Y.xU)(I)}},ge=function(){var ve=(0,M.Z)(f().mark(function me(le,N,oe,O,I){var A,C,U,y,T,s,D,b,v,x,j,te,V;return f().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(A=I.exportBackground,C=I.exportPadding,U=C===void 0?E.qy:C,y=I.viewBackgroundColor,T=I.name,s=I.fileHandle,D=s===void 0?null:s,b=I.exportingFrame,v=b===void 0?null:b,N.length!==0){F.next=3;break}throw new Error((0,k.t)("alerts.cannotExportEmptyCanvas"));case 3:if(le!=="svg"&&le!=="clipboard-svg"){F.next=17;break}return F.next=6,(0,W.$D)(N,{exportBackground:A,exportWithDarkMode:oe.exportWithDarkMode,viewBackgroundColor:y,exportPadding:U,exportScale:oe.exportScale,exportEmbedScene:oe.exportEmbedScene&&le==="svg"},O,{exportingFrame:v});case 6:if(x=F.sent,le!=="svg"){F.next=13;break}return F.next=10,(0,S.NL)(new Blob([x.outerHTML],{type:E.LO.svg}),{description:"Export to SVG",name:T,extension:oe.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:D});case 10:return F.abrupt("return",F.sent);case 13:if(le!=="clipboard-svg"){F.next=17;break}return F.next=16,(0,u.dd)(x.outerHTML);case 16:return F.abrupt("return");case 17:if(j=(0,W.NL)(N,oe,O,{exportBackground:A,viewBackgroundColor:y,exportPadding:U,exportingFrame:v}),le!=="png"){F.next=33;break}return F.next=21,(0,ee._c)(j);case 21:if(te=F.sent,!oe.exportEmbedScene){F.next=28;break}return F.next=25,Promise.resolve().then(o.bind(o,250));case 25:return F.next=27,F.sent.encodePngMetadata({blob:te,metadata:(0,B.I_)(N,oe,O,"local")});case 27:te=F.sent;case 28:return F.next=30,(0,S.NL)(te,{description:"Export to PNG",name:T,extension:"png",fileHandle:D});case 30:return F.abrupt("return",F.sent);case 33:if(le!=="clipboard"){F.next=52;break}return F.prev=34,V=(0,ee._c)(j),F.next=38,(0,u.uR)(V);case 38:F.next=50;break;case 40:if(F.prev=40,F.t0=F.catch(34),console.warn(F.t0),F.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){F.next=45;break}throw F.t0;case 45:if(!E.vU||F.t0.name!=="TypeError"){F.next=49;break}throw new Error("".concat((0,k.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,k.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,k.t)("alerts.couldNotCopyToClipboard"));case 50:F.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return F.stop()}},me,null,[[34,40]])}));return function(me,le,N,oe,O){return ve.apply(this,arguments)}}()},4419:function(Q,z,o){o.d(z,{HT:function(){return ve},I_:function(){return S},NI:function(){return me},Um:function(){return B},dS:function(){return ge},n8:function(){return he},t1:function(){return le}});var M=o(6655),p=o(8950),f=o(2975),u=o.n(f),E=o(6548),R=o(6853),k=o(9937),d=o(7651),L=o(5796);function W(N,oe){var O=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!O){if(Array.isArray(N)||(O=function(T,s){if(T){if(typeof T=="string")return Y(T,s);var D=Object.prototype.toString.call(T).slice(8,-1);if(D==="Object"&&T.constructor&&(D=T.constructor.name),D==="Map"||D==="Set")return Array.from(T);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return Y(T,s)}}(N))||oe&&N&&typeof N.length=="number"){O&&(N=O);var I=0,A=function(){};return{s:A,n:function(){return I>=N.length?{done:!0}:{done:!1,value:N[I++]}},e:function(T){throw T},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,U=!0,y=!1;return{s:function(){O=O.call(N)},n:function(){var T=O.next();return U=T.done,T},e:function(T){y=!0,C=T},f:function(){try{U||O.return==null||O.return()}finally{if(y)throw C}}}}function Y(N,oe){(oe==null||oe>N.length)&&(oe=N.length);for(var O=0,I=new Array(oe);O<oe;O++)I[O]=N[O];return I}var ee=function(N,oe){var O,I={},A=W(N);try{for(A.s();!(O=A.n()).done;){var C=O.value;!C.isDeleted&&"fileId"in C&&C.fileId&&oe[C.fileId]&&(I[C.fileId]=oe[C.fileId])}}catch(U){A.e(U)}finally{A.f()}return I},S=function(N,oe,O,I){var A={type:k.r8.excalidraw,version:k.Kr.excalidraw,source:k.pb,elements:I==="local"?(0,d._M)(N):(0,d.BQ)(N),appState:I==="local"?(0,R.s)(oe):(0,R.eS)(oe),files:I==="local"?ee(N,O):void 0};return JSON.stringify(A,null,2)},B=function(){var N=(0,p.Z)(u().mark(function oe(O,I,A){var C,U,y;return u().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return C=S(O,I,A,"local"),U=new Blob([C],{type:k.LO.excalidraw}),T.next=4,(0,E.NL)(U,{name:I.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,L.g8)(I.fileHandle)?null:I.fileHandle});case 4:return y=T.sent,T.abrupt("return",{fileHandle:y});case 6:case"end":return T.stop()}},oe)}));return function(oe,O,I){return N.apply(this,arguments)}}(),he=function(){var N=(0,p.Z)(u().mark(function oe(O,I){var A;return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,E.I$)({description:"Excalidraw files"});case 2:return A=C.sent,C.t0=L.cT,C.next=6,(0,L.gY)(A);case 6:return C.t1=C.sent,C.t2=O,C.t3=I,C.t4=A.handle,C.abrupt("return",(0,C.t0)(C.t1,C.t2,C.t3,C.t4));case 11:case"end":return C.stop()}},oe)}));return function(oe,O){return N.apply(this,arguments)}}(),ge=function(N){return(N==null?void 0:N.type)===k.r8.excalidraw&&(!N.elements||Array.isArray(N.elements)&&(!N.appState||(0,M.Z)(N.appState)==="object"))},ve=function(N){return(0,M.Z)(N)==="object"&&N&&N.type===k.r8.excalidrawLibrary&&(N.version===1||N.version===2)},me=function(N){var oe={type:k.r8.excalidrawLibrary,version:k.Kr.excalidrawLibrary,source:k.pb,libraryItems:N};return JSON.stringify(oe,null,2)},le=function(){var N=(0,p.Z)(u().mark(function oe(O){var I;return u().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I=me(O),A.next=3,(0,E.NL)(new Blob([I],{type:k.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return A.stop()}},oe)}));return function(oe){return N.apply(this,arguments)}}()},9326:function(Q,z,o){o.d(z,{Di:function(){return s},WV:function(){return T},rF:function(){return I},xS:function(){return D},zh:function(){return U}});var M=o(7169),p=o(8950),f=o(5169),u=o(8821),E=o(1930),R=o(2975),k=o.n(R),d=o(5796),L=o(7994),W=o(3607),Y=o(453),ee=o(4949),S=o(3506),B=o(8227),he=o(9787),ge=o(9937),ve=o(5832),me=o(9827);function le(b,v){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);v&&(j=j.filter(function(te){return Object.getOwnPropertyDescriptor(b,te).enumerable})),x.push.apply(x,j)}return x}function N(b){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{};v%2?le(Object(x),!0).forEach(function(j){(0,M.Z)(b,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):le(Object(x)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(x,j))})}return b}function oe(b,v){var x=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!x){if(Array.isArray(b)||(x=function(ne,ce){if(ne){if(typeof ne=="string")return O(ne,ce);var Se=Object.prototype.toString.call(ne).slice(8,-1);if(Se==="Object"&&ne.constructor&&(Se=ne.constructor.name),Se==="Map"||Se==="Set")return Array.from(ne);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return O(ne,ce)}}(b))||v&&b&&typeof b.length=="number"){x&&(b=x);var j=0,te=function(){};return{s:te,n:function(){return j>=b.length?{done:!0}:{done:!1,value:b[j++]}},e:function(ne){throw ne},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,F=!0,Z=!1;return{s:function(){x=x.call(b)},n:function(){var ne=x.next();return F=ne.done,ne},e:function(ne){Z=!0,V=ne},f:function(){try{F||x.return==null||x.return()}finally{if(Z)throw V}}}}function O(b,v){(v==null||v>b.length)&&(v=b.length);for(var x=0,j=new Array(v);x<v;x++)j[x]=b[x];return j}var I=(0,W.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),A=function(b){return(0,me.xU)(b)},C=function(b,v){return!b.find(function(x){return x.elements.length===v.elements.length&&x.elements.every(function(j,te){return j.id===v.elements[te].id&&j.versionNonce===v.elements[te].versionNonce})})},U=function(b,v){var x,j=[],te=oe(v);try{for(te.s();!(x=te.n()).done;){var V=x.value;C(b,V)&&j.push(V)}}catch(F){te.e(F)}finally{te.f()}return[].concat(j,(0,E.Z)(b))},y=(0,f.Z)(function b(v){var x=this;(0,u.Z)(this,b),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return x.updateQueue[x.updateQueue.length-1]},this.notifyListeners=function(){if(x.updateQueue.length>0)Y.e_.set(I,{status:"loading",libraryItems:x.lastLibraryItems,isInitialized:x.isInitialized});else{x.isInitialized=!0,Y.e_.set(I,{status:"loaded",libraryItems:x.lastLibraryItems,isInitialized:x.isInitialized});try{var j,te;(j=(te=x.app.props).onLibraryChange)===null||j===void 0||j.call(te,A(x.lastLibraryItems))}catch(V){console.error(V)}}},this.destroy=function(){x.isInitialized=!1,x.updateQueue=[],x.lastLibraryItems=[],Y.e_.set(ve.YX,new Map)},this.resetLibrary=function(){return x.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var j=(0,p.Z)(k().mark(function te(V){var F;return k().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,x.getLastUpdateTask()||x.lastLibraryItems;case 3:F=Z.sent,x.updateQueue.length>0?V(x.getLatestLibrary()):V(A(F)),Z.next=10;break;case 7:return Z.prev=7,Z.t0=Z.catch(0),Z.abrupt("return",V(x.lastLibraryItems));case 10:case"end":return Z.stop()}},te,null,[[0,7]])}));return function(te){return j.apply(this,arguments)}}())},this.updateLibrary=function(){var j=(0,p.Z)(k().mark(function te(V){var F,Z,ne,ce,Se,de,_e,we,J;return k().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return F=V.libraryItems,Z=V.prompt,ne=Z!==void 0&&Z,ce=V.merge,Se=ce!==void 0&&ce,de=V.openLibraryMenu,_e=de!==void 0&&de,we=V.defaultStatus,J=we===void 0?"unpublished":we,_e&&x.app.setState({openSidebar:{name:ge.Cc.name,tab:ge.tf}}),xe.abrupt("return",x.setLibrary(function(){return new Promise(function(){var je=(0,p.Z)(k().mark(function Ue(et,He){var Le,De;return k().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.prev=0,Be.next=3,typeof F!="function"||F instanceof Blob?F:F(x.lastLibraryItems);case 3:if(!((Le=Be.sent)instanceof Blob)){Be.next=10;break}return Be.next=7,(0,d.lV)(Le,J);case 7:De=Be.sent,Be.next=11;break;case 10:De=(0,L.wJ)(Le,J);case 11:!ne||window.confirm((0,B.t)("alerts.confirmAddLibrary",{numShapes:De.length}))?(ne&&x.app.focusContainer(),et(Se?U(x.lastLibraryItems,De):De)):He(new S._L),Be.next=17;break;case 14:Be.prev=14,Be.t0=Be.catch(0),He(Be.t0);case 17:case"end":return Be.stop()}},Ue,null,[[0,14]])}));return function(Ue,et){return je.apply(this,arguments)}}())}));case 3:case"end":return xe.stop()}},te)}));return function(te){return j.apply(this,arguments)}}(),this.setLibrary=function(j){var te=new Promise(function(){var V=(0,p.Z)(k().mark(function F(Z,ne){return k().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.prev=0,ce.next=3,x.getLastUpdateTask();case 3:return typeof j=="function"&&(j=j(x.lastLibraryItems)),ce.t0=A,ce.next=7,j;case 7:ce.t1=ce.sent,x.lastLibraryItems=(0,ce.t0)(ce.t1),Z(x.lastLibraryItems),ce.next=15;break;case 12:ce.prev=12,ce.t2=ce.catch(0),ne(ce.t2);case 15:case"end":return ce.stop()}},F,null,[[0,12]])}));return function(F,Z){return V.apply(this,arguments)}}()).catch(function(V){if(V.name==="AbortError")return console.warn("Library update aborted by user"),x.lastLibraryItems;throw V}).finally(function(){x.updateQueue=x.updateQueue.filter(function(V){return V!==te}),x.notifyListeners()});return x.updateQueue.push(te),x.notifyListeners(),te},this.app=v});z.ZP=y;var T=function(b){var v,x=Math.ceil(Math.sqrt(b.length)),j=[],te=0,V=0,F=0,Z=0,ne=0,ce=0,Se=0,de=oe(b);try{var _e=function(){var we=v.value;ne&&ne%x==0&&(V+=F+50,te=0,ce=0,Se++),ce===0&&(F=function(De){return b.slice(De*x,De*x+x).reduce(function(Be,Ze){var ye=(0,ee.v2)(Ze.elements).height;return Math.max(Be,ye)},0)}(Se)),Z=function(De){var Be,Ze=0,ye=0,be=0,X=oe(b);try{for(X.s();!(Be=X.n()).done;){var h=Be.value;if(Ze%x==0&&(ye=0),ye===De){var m=(0,ee.v2)(h.elements).width;be=Math.max(be,m)}Ze++,ye++}}catch(_){X.e(_)}finally{X.f()}return be}(ce);var J=(0,ee.v2)(we.elements),xe=J.minX,je=J.minY,Ue=J.width,et=J.height,He=(Z-Ue)/2,Le=(F-et)/2;j.push.apply(j,(0,E.Z)(we.elements.map(function(De){return N(N({},De),{},{x:De.x+te+He-xe,y:De.y+V+Le-je})}))),te+=Z+50,ne++,ce++};for(de.s();!(v=de.n()).done;)_e()}catch(we){de.e(we)}finally{de.f()}return j},s=function(){var b=new URLSearchParams(window.location.hash.slice(1)).get(ge.ah.addLibrary)||new URLSearchParams(window.location.search).get(ge.UO.addLibrary),v=b?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return b?{libraryUrl:b,idToken:v}:null},D=function(b){var v=b.excalidrawAPI,x=b.getInitialLibraryItems,j=(0,he.useRef)(x);(0,he.useEffect)(function(){if(v){var te=function(){var Z=(0,p.Z)(k().mark(function ne(ce){var Se,de,_e,we,J,xe;return k().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return Se=ce.libraryUrl,de=ce.idToken,_e=new Promise(function(){var Ue=(0,p.Z)(k().mark(function et(He,Le){var De,Be;return k().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.prev=0,Ze.next=3,fetch(decodeURIComponent(Se));case 3:return De=Ze.sent,Ze.next=6,De.blob();case 6:Be=Ze.sent,He(Be),Ze.next=13;break;case 10:Ze.prev=10,Ze.t0=Ze.catch(0),Le(Ze.t0);case 13:case"end":return Ze.stop()}},et,null,[[0,10]])}));return function(et,He){return Ue.apply(this,arguments)}}()),we=de!==v.id,je.next=5,we&&document.hidden?new Promise(function(Ue){window.addEventListener("focus",function(){return Ue()},{once:!0})}):null;case 5:return je.prev=5,je.next=8,v.updateLibrary({libraryItems:_e,prompt:we,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:je.next=13;break;case 10:throw je.prev=10,je.t0=je.catch(5),je.t0;case 13:return je.prev=13,window.location.hash.includes(ge.ah.addLibrary)?((J=new URLSearchParams(window.location.hash.slice(1))).delete(ge.ah.addLibrary),window.history.replaceState({},ge.iC,"#".concat(J.toString()))):window.location.search.includes(ge.UO.addLibrary)&&((xe=new URLSearchParams(window.location.search)).delete(ge.UO.addLibrary),window.history.replaceState({},ge.iC,"?".concat(xe.toString()))),je.finish(13);case 16:case"end":return je.stop()}},ne,null,[[5,10,13,16]])}));return function(ne){return Z.apply(this,arguments)}}(),V=function(Z){Z.preventDefault();var ne=s();ne&&(Z.stopImmediatePropagation(),window.history.replaceState({},"",Z.oldURL),te(ne))};j.current&&v.updateLibrary({libraryItems:j.current()});var F=s();return F&&te(F),window.addEventListener(ge.Ks.HASHCHANGE,V),function(){window.removeEventListener(ge.Ks.HASHCHANGE,V)}}},[v])}},7994:function(Q,z,o){o.d(z,{ET:function(){return A},lY:function(){return y},nu:function(){return T},wJ:function(){return D}});var M=o(2577),p=o(7169),f=o(7651),u=o(4183),E=o(4643),R=o(9937),k=o(6853),d=o(7422),L=o(583),W=o(9827),Y=o(4761),ee=o(8020);function S(b,v){var x=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!x){if(Array.isArray(b)||(x=function(ne,ce){if(ne){if(typeof ne=="string")return B(ne,ce);var Se=Object.prototype.toString.call(ne).slice(8,-1);if(Se==="Object"&&ne.constructor&&(Se=ne.constructor.name),Se==="Map"||Se==="Set")return Array.from(ne);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return B(ne,ce)}}(b))||v&&b&&typeof b.length=="number"){x&&(b=x);var j=0,te=function(){};return{s:te,n:function(){return j>=b.length?{done:!0}:{done:!1,value:b[j++]}},e:function(ne){throw ne},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,F=!0,Z=!1;return{s:function(){x=x.call(b)},n:function(){var ne=x.next();return F=ne.done,ne},e:function(ne){Z=!0,V=ne},f:function(){try{F||x.return==null||x.return()}finally{if(Z)throw V}}}}function B(b,v){(v==null||v>b.length)&&(v=b.length);for(var x=0,j=new Array(v);x<v;x++)j[x]=b[x];return j}function he(b,v){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);v&&(j=j.filter(function(te){return Object.getOwnPropertyDescriptor(b,te).enumerable})),x.push.apply(x,j)}return x}function ge(b){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{};v%2?he(Object(x),!0).forEach(function(j){(0,p.Z)(b,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):he(Object(x)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(x,j))})}return b}var ve={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},me=function(b){return Object.keys(R.ut).includes(b)?R.ut[b]:R.rk},le=function(b){return b?ge(ge({},b),{},{focus:b.focus||0}):null},N=function(b,v){var x,j,te,V,F,Z,ne,ce,Se,de,_e,we,J,xe,je={type:v.type||b.type,version:b.version||1,versionNonce:(x=b.versionNonce)!==null&&x!==void 0?x:0,isDeleted:(j=b.isDeleted)!==null&&j!==void 0&&j,id:b.id||(0,E.kb)(),fillStyle:b.fillStyle||R.HN.fillStyle,strokeWidth:b.strokeWidth||R.HN.strokeWidth,strokeStyle:(te=b.strokeStyle)!==null&&te!==void 0?te:R.HN.strokeStyle,roughness:(V=b.roughness)!==null&&V!==void 0?V:R.HN.roughness,opacity:b.opacity==null?R.HN.opacity:b.opacity,angle:b.angle||0,x:(F=(Z=v.x)!==null&&Z!==void 0?Z:b.x)!==null&&F!==void 0?F:0,y:(ne=(ce=v.y)!==null&&ce!==void 0?ce:b.y)!==null&&ne!==void 0?ne:0,strokeColor:b.strokeColor||R.HN.strokeColor,backgroundColor:b.backgroundColor||R.HN.backgroundColor,width:b.width||0,height:b.height||0,seed:(Se=b.seed)!==null&&Se!==void 0?Se:1,groupIds:(de=b.groupIds)!==null&&de!==void 0?de:[],frameId:(_e=b.frameId)!==null&&_e!==void 0?_e:null,roundness:b.roundness?b.roundness:b.strokeSharpness==="round"?{type:(0,u.QI)(b.type)?R.a6.LEGACY:R.a6.PROPORTIONAL_RADIUS}:null,boundElements:b.boundElementIds?b.boundElementIds.map(function(Ue){return{type:"arrow",id:Ue}}):(we=b.boundElements)!==null&&we!==void 0?we:[],updated:(J=b.updated)!==null&&J!==void 0?J:(0,W.C3)(),link:b.link?(0,ee.$u)(b.link):null,locked:(xe=b.locked)!==null&&xe!==void 0&&xe};return"customData"in b&&(je.customData=b.customData),R.WR in b&&(je[R.WR]=b[R.WR]),ge(ge(ge({},je),(0,f.Qp)(je)),v)},oe=function(b,v){if(b.boundElements){var x=b.boundElements.slice(),j=new Set;b.boundElements=x.reduce(function(te,V){var F=v.get(V.id);if(F&&!j.has(V.id)){if(j.add(V.id),F.isDeleted)return te;te.push(V),(0,u.iB)(F)&&!F.containerId&&(F.containerId=b.id)}return te},[])}},O=function(b,v){var x=b.containerId?v.get(b.containerId):null;if(x){if(!b.isDeleted&&x.boundElements&&!x.boundElements.find(function(te){return te.id===b.id})){var j=(x.boundElements||(x.boundElements=[])).slice();j.push({type:"text",id:b.id}),x.boundElements=j}}else b.containerId=null},I=function(b,v){b.frameId&&(v.get(b.frameId)||(b.frameId=null))},A=function(b,v,x){var j=new Set,te=v?(0,W.xn)(v):null,V=(b||[]).reduce(function(Se,de){if(de.type!=="selection"&&!(0,f.QD)(de)){var _e=function(J){var xe,je,Ue=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(J.type){case"text":var et=J.fontSize,He=J.fontFamily;if("font"in J){var Le=J.font.split(" "),De=(0,M.Z)(Le,2),Be=De[0],Ze=De[1];et=parseFloat(Be),He=me(Ze)}var ye=typeof J.text=="string"&&J.text||"",be=J.lineHeight||(J.height?(0,Y.$2)(J):(0,Y.PT)(J.fontFamily)),X=(0,Y.R8)(J.text,(0,W.mO)(J),be);return J=N(J,{fontSize:et,fontFamily:He,text:ye,textAlign:J.textAlign||R.Hg,verticalAlign:J.verticalAlign||R.hs,containerId:(xe=J.containerId)!==null&&xe!==void 0?xe:null,originalText:J.originalText||ye,lineHeight:be,baseline:X}),ye||J.isDeleted||(J=ge(ge({},J),{},{originalText:ye,isDeleted:!0}),J=(0,L.ZP)(J)),Ue&&(J=ge(ge({},J),(0,f.JZ)(J))),J;case"freedraw":return N(J,{points:J.points,lastCommittedPoint:null,simulatePressure:J.simulatePressure,pressures:J.pressures});case"image":return N(J,{status:J.status||"pending",fileId:J.fileId,scale:J.scale||[1,1]});case"line":case"draw":case"arrow":var h=J,m=h.startArrowhead,_=m===void 0?null:m,G=h.endArrowhead,$=G===void 0?J.type==="arrow"?"arrow":null:G,ue=J.x,ie=J.y,pe=!Array.isArray(J.points)||J.points.length<2?[[0,0],[J.width,J.height]]:J.points;if(pe[0][0]!==0||pe[0][1]!==0){var Pe=d._.getNormalizedPoints(J);pe=Pe.points,ue=Pe.x,ie=Pe.y}return N(J,{type:J.type==="draw"?"line":J.type,startBinding:le(J.startBinding),endBinding:le(J.endBinding),lastCommittedPoint:null,startArrowhead:_,endArrowhead:$,points:pe,x:ue,y:ie});case"ellipse":case"rectangle":case"diamond":return N(J,{});case"embeddable":return N(J,{validated:null});case"frame":return N(J,{name:(je=J.name)!==null&&je!==void 0?je:null})}return null}(de,x==null?void 0:x.refreshDimensions);if(_e){var we=te==null?void 0:te.get(de.id);we&&we.version>_e.version&&(_e=(0,L.ZP)(_e,we.version)),j.has(_e.id)&&(_e=ge(ge({},_e),{},{id:(0,E.kb)()})),j.add(_e.id),Se.push(_e)}}return Se},[]);if(x==null||!x.repairBindings)return V;var F,Z=(0,W.xn)(V),ne=S(V);try{for(ne.s();!(F=ne.n()).done;){var ce=F.value;ce.frameId&&I(ce,Z),(0,u.iB)(ce)&&ce.containerId?O(ce,Z):ce.boundElements&&oe(ce,Z)}}catch(Se){ne.e(Se)}finally{ne.f()}return V},C=function(b,v,x){var j=v[b];return j!==void 0?j:x[b]},U={isSidebarDocked:function(b,v){var x;return["defaultSidebarDockedPreference",(x=b.isSidebarDocked)!==null&&x!==void 0?x:C("defaultSidebarDockedPreference",b,v)]}},y=function(b,v){var x,j,te,V;b=b||{};for(var F=(0,k.im)(),Z={},ne=0,ce=Object.keys(U);ne<ce.length;ne++){var Se=ce[ne];if(Se in b){var de=U[Se](b,F),_e=(0,M.Z)(de,2),we=_e[0],J=_e[1];Z[we]=J}}for(var xe=0,je=Object.entries(F);xe<je.length;xe++){var Ue=(0,M.Z)(je[xe],2),et=Ue[0],He=Ue[1],Le=b[et],De=v?v[et]:void 0;Z[et]=Le!==void 0?Le:De!==void 0?De:He}return ge(ge({},Z),{},{cursorButton:(v==null?void 0:v.cursorButton)||"up",penDetected:(x=v==null?void 0:v.penDetected)!==null&&x!==void 0?x:!!b.penMode&&(j=b.penDetected)!==null&&j!==void 0&&j,activeTool:ge(ge({},(0,W.Om)(F,Z.activeTool.type&&ve[Z.activeTool.type]?Z.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(te=Z.activeTool.locked)!==null&&te!==void 0&&te}),zoom:typeof b.zoom=="number"?{value:b.zoom}:(V=b.zoom)!==null&&V!==void 0&&V.value?b.zoom:F.zoom,openSidebar:typeof b.openSidebar=="string"?{name:R.Cc.name}:Z.openSidebar})},T=function(b,v,x,j){return{elements:A(b==null?void 0:b.elements,x,j),appState:y(b==null?void 0:b.appState,v||null),files:(b==null?void 0:b.files)||{}}},s=function(b){var v=A((0,f.Lm)(b.elements),null);return v.length?ge(ge({},b),{},{elements:v}):null},D=function(){var b,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1?arguments[1]:void 0,j=[],te=S(v);try{for(te.s();!(b=te.n()).done;){var V=b.value;if(Array.isArray(V)){var F=s({status:x,elements:V,id:(0,E.kb)(),created:Date.now()});F&&j.push(F)}else{var Z=V,ne=s(ge(ge({},Z),{},{id:Z.id||(0,E.kb)(),status:Z.status||x,created:Z.created||Date.now()}));ne&&j.push(ne)}}}catch(ce){te.e(ce)}finally{te.f()}return j}},6199:function(Q,z,o){o.d(z,{w:function(){return I}});var M=o(2577),p=o(5169),f=o(8821),u=o(7169),E=o(9937),R=o(7651),k=o(9645),d=o(5742),L=o(4761),W=o(9827),Y=o(5999),ee=o(4643);function S(A,C){var U=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!U){if(Array.isArray(A)||(U=function(v,x){if(v){if(typeof v=="string")return B(v,x);var j=Object.prototype.toString.call(v).slice(8,-1);if(j==="Object"&&v.constructor&&(j=v.constructor.name),j==="Map"||j==="Set")return Array.from(v);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return B(v,x)}}(A))||C&&A&&typeof A.length=="number"){U&&(A=U);var y=0,T=function(){};return{s:T,n:function(){return y>=A.length?{done:!0}:{done:!1,value:A[y++]}},e:function(v){throw v},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,D=!0,b=!1;return{s:function(){U=U.call(A)},n:function(){var v=U.next();return D=v.done,v},e:function(v){b=!0,s=v},f:function(){try{D||U.return==null||U.return()}finally{if(b)throw s}}}}function B(A,C){(C==null||C>A.length)&&(C=A.length);for(var U=0,y=new Array(C);U<C;U++)y[U]=A[U];return y}function he(A,C){var U=Object.keys(A);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(A);C&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(A,T).enumerable})),U.push.apply(U,y)}return U}function ge(A){for(var C=1;C<arguments.length;C++){var U=arguments[C]!=null?arguments[C]:{};C%2?he(Object(U),!0).forEach(function(y){(0,u.Z)(A,y,U[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(U)):he(Object(U)).forEach(function(y){Object.defineProperty(A,y,Object.getOwnPropertyDescriptor(U,y))})}return A}var ve=100,me=0,le=100,N=function(A,C){var U=(0,d.VL)(ge(ge({x:0,y:0,textAlign:E.I8.CENTER,verticalAlign:E.oX.MIDDLE},C),{},{containerId:A.id,strokeColor:C.strokeColor||A.strokeColor}));return Object.assign(A,{boundElements:(A.boundElements||[]).concat({type:"text",id:U.id})}),(0,R.oN)(U,A),[A,U]},oe=function(A,C,U,y){var T,s;if(Object.assign(A,{startBinding:(A==null?void 0:A.startBinding)||null,endBinding:A.endBinding||null}),C){var D,b,v,x=(D=C==null?void 0:C.width)!==null&&D!==void 0?D:le,j=(b=C==null?void 0:C.height)!==null&&b!==void 0?b:le;C.id&&((v=y.getElement(C.id))||console.error("No element for start binding with id ".concat(C.id," found")));var te=C.x||A.x-x,V=C.y||A.y-j/2,F=v?v.type:C.type;if(F){if(F==="text"){var Z="";v&&v.type==="text"?Z=v.text:C.type==="text"&&(Z=C.text),Z||console.error("No text found for start binding text element for ".concat(A.id)),T=(0,d.VL)(ge(ge(ge({x:te,y:V,type:"text"},v),C),{},{text:Z})),Object.assign(T,{x:C.x||A.x-T.width,y:C.y||A.y-T.height/2})}else switch(F){case"rectangle":case"ellipse":case"diamond":T=(0,R.Up)(ge(ge(ge({x:te,y:V,width:x,height:j},v),C),{},{type:F}));break;default:(0,W.vE)(A,'Unhandled element start type "'.concat(C.type,'"'),!0)}(0,k.UZ)(A,T,"start")}}if(U){var ne,ce,Se,de=(ne=U==null?void 0:U.height)!==null&&ne!==void 0?ne:le,_e=(ce=U==null?void 0:U.width)!==null&&ce!==void 0?ce:le;U.id&&((Se=y.getElement(U.id))||console.error("No element for end binding with id ".concat(U.id," found")));var we=U.x||A.x+A.width,J=U.y||A.y-de/2,xe=Se?Se.type:U.type;if(xe){if(xe==="text"){var je="";Se&&Se.type==="text"?je=Se.text:U.type==="text"&&(je=U.text),je||console.error("No text found for end binding text element for ".concat(A.id)),s=(0,d.VL)(ge(ge(ge({x:we,y:J,type:"text"},Se),U),{},{text:je})),Object.assign(s,{y:U.y||A.y-s.height/2})}else switch(xe){case"rectangle":case"ellipse":case"diamond":s=(0,R.Up)(ge(ge(ge({x:we,y:J,width:_e,height:de},Se),U),{},{type:xe}));break;default:(0,W.vE)(A,'Unhandled element end type "'.concat(xe,'"'),!0)}(0,k.UZ)(A,s,"end")}}var Ue=A.points.length-1,et=.5,He=(0,W.xU)(A.points);return A.points[Ue][0]>A.points[Ue-1][0]&&(He[0][0]=et,He[Ue][0]-=et),A.points[Ue][0]<A.points[Ue-1][0]&&(He[0][0]=-.5,He[Ue][0]+=et),A.points[Ue][1]>A.points[Ue-1][1]&&(He[0][1]=et,He[Ue][1]-=et),A.points[Ue][1]<A.points[Ue-1][1]&&(He[0][1]=-.5,He[Ue][1]+=et),Object.assign(A,{points:He}),{linearElement:A,startBoundElement:T,endBoundElement:s}},O=(0,p.Z)(function A(){var C=this;(0,f.Z)(this,A),this.excalidrawElements=new Map,this.add=function(U){U&&C.excalidrawElements.set(U.id,U)},this.getElements=function(){return Array.from(C.excalidrawElements.values())},this.getElement=function(U){return C.excalidrawElements.get(U)}}),I=function(A,C){if(!A)return[];var U,y=(0,W.xU)(A),T=new O,s=new Map,D=new Map,b=S(y);try{for(b.s();!(U=b.n()).done;){var v=U.value,x=void 0,j=v.id;switch((C==null?void 0:C.regenerateIds)!==!1&&Object.assign(v,{id:(0,ee.kb)()}),v.type){case"rectangle":case"ellipse":case"diamond":var te,V,F=v!=null&&(te=v.label)!==null&&te!==void 0&&te.text&&v.width===void 0?0:(v==null?void 0:v.width)||le,Z=v!=null&&(V=v.label)!==null&&V!==void 0&&V.text&&v.height===void 0?0:(v==null?void 0:v.height)||le;x=(0,R.Up)(ge(ge({},v),{},{width:F,height:Z}));break;case"line":var ne=v.width||ve,ce=v.height||me;x=(0,R.y8)(ge({width:ne,height:ce,points:[[0,0],[ne,ce]]},v));break;case"arrow":var Se=v.width||ve,de=v.height||me;x=(0,R.y8)(ge({width:Se,height:de,endArrowhead:"arrow",points:[[0,0],[Se,de]]},v)),Object.assign(x,(0,Y.k)(x.points));break;case"text":var _e,we=(v==null?void 0:v.fontFamily)||E.rk,J=(v==null?void 0:v.fontSize)||E.n5,xe=(v==null?void 0:v.lineHeight)||(0,L.PT)(we),je=(_e=v.text)!==null&&_e!==void 0?_e:"",Ue=(0,L.bG)(je),et=(0,L.X1)(Ue,(0,W.mO)({fontFamily:we,fontSize:J}),xe);x=(0,d.VL)(ge({width:et.width,height:et.height,fontFamily:we,fontSize:J},v));break;case"image":x=(0,d.vw)(ge({width:(v==null?void 0:v.width)||le,height:(v==null?void 0:v.height)||le},v));break;case"frame":x=(0,d.M3)(ge({x:0,y:0},v));break;case"freedraw":case"embeddable":x=v;break;default:x=v,(0,W.vE)(v,'Unhandled element type "'.concat(v.type,'"'),!0)}T.getElement(x.id)?console.error("Duplicate id found for ".concat(x.id)):(T.add(x),s.set(x.id,v),j&&D.set(j,x.id))}}catch(ct){b.e(ct)}finally{b.f()}var He,Le=S(s);try{for(Le.s();!(He=Le.n()).done;){var De=(0,M.Z)(He.value,2),Be=De[0],Ze=De[1],ye=T.getElement(Be);switch(Ze.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var be;if((be=Ze.label)!==null&&be!==void 0&&be.text){var X=N(ye,Ze==null?void 0:Ze.label),h=(0,M.Z)(X,2),m=h[0],_=h[1];if(T.add(m),T.add(_),m.type==="arrow"){var G=Ze.type==="arrow"?Ze==null?void 0:Ze.start:void 0,$=Ze.type==="arrow"?Ze==null?void 0:Ze.end:void 0;if(G&&G.id){var ue=D.get(G.id);ue&&Object.assign(G,{id:ue})}if($&&$.id){var ie=D.get($.id);ie&&Object.assign($,{id:ie})}var pe=oe(m,G,$,T),Pe=pe.linearElement,Me=pe.startBoundElement,$e=pe.endBoundElement;m=Pe,T.add(Pe),T.add(Me),T.add($e)}}else if(Ze.type==="arrow"){var Ke=Ze.start,qe=Ze.end;if(Ke&&Ke.id){var Fe=D.get(Ke.id);Object.assign(Ke,{id:Fe})}if(qe&&qe.id){var ot=D.get(qe.id);Object.assign(qe,{id:ot})}var it=oe(ye,Ke,qe,T),ht=it.linearElement,Te=it.startBoundElement,Ie=it.endBoundElement;T.add(ht),T.add(Te),T.add(Ie)}}}}catch(ct){Le.e(ct)}finally{Le.f()}var Ge,tt=S(s);try{var dt=function(){var ct=(0,M.Z)(Ge.value,2),St=ct[0],Pt=ct[1];if(Pt.type!=="frame")return"continue";var mt=T.getElement(St);if(!mt)throw new Error("Excalidraw element with id ".concat(St," doesn't exist"));var Nt=[];Pt.children.forEach(function(jt){var Et,Vt=D.get(jt);if(!Vt)throw new Error("Element with ".concat(jt," wasn't mapped correctly"));var Kt=T.getElement(Vt);if(!Kt)throw new Error("Frame element with id ".concat(Vt," doesn't exist"));Object.assign(Kt,{frameId:mt.id}),Kt==null||(Et=Kt.boundElements)===null||Et===void 0||Et.forEach(function(cn){var Wt=T.getElement(cn.id);if(!Wt)throw new Error("Bound element with id ".concat(cn.id," doesn't exist"));Object.assign(Wt,{frameId:mt.id}),Nt.push(Wt)}),Nt.push(Kt)});var Xt=(0,R.KP)(Nt),Zt=(0,M.Z)(Xt,4),Dt=Zt[0],on=Zt[1],an=Zt[2],st=Zt[3];Dt-=10,on-=10,an+=10,st+=10;var At=Math.max(mt==null?void 0:mt.width,an-Dt),bt=Math.max(mt==null?void 0:mt.height,st-on);Object.assign(mt,{x:Dt,y:on,width:At,height:bt})};for(tt.s();!(Ge=tt.n()).done;)dt()}catch(ct){tt.e(ct)}finally{tt.f()}return T.getElements()}},8020:function(Q,z,o){o.d(z,{$u:function(){return p},q$:function(){return f},ye:function(){return u}});var M=o(5779),p=function(E){return(E=E.trim())?(0,M.N)(E):E},f=function(E){return!!(E!=null&&E.includes(location.origin)||E!=null&&E.startsWith("/"))},u=function(E){if((E=p(E)).startsWith("/"))return"".concat(location.origin).concat(E);try{new URL(E)}catch{return"about:blank"}return E}},5992:function(Q,z,o){o.d(z,{rj:function(){return de},nW:function(){return J},nz:function(){return je},sw:function(){return et},lV:function(){return ye},Ni:function(){return Le},wq:function(){return He},Pp:function(){return Be}});var M=o(7169),p=o(2577),f=o(9827),u=o(761),E=o(583),R=o(2767),k=o(1512),d=o(8935),L=o(8227),W=o(9787),Y=o(45),ee=o(5491),S=o(9660),B=o(2361),he=o(9937),ge=o(8925),ve=o(4105),me=o(3528),le=o(7651),N=o(8020),oe=o(3379),O=o.n(oe),I=o(7795),A=o.n(I),C=o(569),U=o.n(C),y=o(3565),T=o.n(y),s=o(9216),D=o.n(s),b=o(4589),v=o.n(b),x=o(5260),j={};j.styleTagTransform=v(),j.setAttributes=T(),j.insert=U().bind(null,"head"),j.domAPI=A(),j.insertStyleElement=D(),O()(x.Z,j),x.Z&&x.Z.locals&&x.Z.locals;var te=o(3646),V=o(8242),F=o(4183),Z=o(2921),ne=o(1020);function ce(X,h){var m=Object.keys(X);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(X);h&&(_=_.filter(function(G){return Object.getOwnPropertyDescriptor(X,G).enumerable})),m.push.apply(m,_)}return m}function Se(X){for(var h=1;h<arguments.length;h++){var m=arguments[h]!=null?arguments[h]:{};h%2?ce(Object(m),!0).forEach(function(_){(0,M.Z)(X,_,m[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(m)):ce(Object(m)).forEach(function(_){Object.defineProperty(X,_,Object.getOwnPropertyDescriptor(m,_))})}return X}var de=document.createElement("img");de.src="data:".concat(he.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var _e=!1,we=new Map,J=function(X){var h=X.element,m=X.setAppState,_=X.onLinkOpen,G=X.setToast,$=(0,V.gF)(),ue=(0,V.hY)(),ie=h.link||"",pe=(0,W.useState)(ie),Pe=(0,p.Z)(pe,2),Me=Pe[0],$e=Pe[1],Ke=(0,W.useRef)(null),qe=$.showHyperlinkPopup==="editor",Fe=(0,W.useCallback)(function(){if(Ke.current){var Ie=(0,N.$u)(Ke.current.value)||null;if(!h.link&&Ie&&(0,te.L)("hyperlink","create"),(0,F.gs)(h)){var Ge;if(((Ge=$.activeEmbeddable)===null||Ge===void 0?void 0:Ge.element)===h&&m({activeEmbeddable:null}),!Ie)return void(0,E.DR)(h,{validated:!1,link:null});if((0,u.xm)(Ie,ue.validateEmbeddable)){var tt=h.width,dt=h.height,ct=(0,u.LM)(Ie);ct!=null&&ct.warning&&G({message:ct.warning,closable:!0});var St=ct?ct.aspectRatio.w/ct.aspectRatio.h:1,Pt=we.get(h.id)!==h.link;(0,E.DR)(h,Se(Se({},Pt?{width:(ct==null?void 0:ct.type)==="video"?tt>dt?tt:dt*St:tt,height:(ct==null?void 0:ct.type)==="video"&&tt>dt?tt/St:dt}:{}),{},{validated:!0,link:Ie})),Z.R.delete(h),we.has(h.id)&&we.delete(h.id)}else Ie&&G({message:(0,L.t)("toast.unableToEmbed"),closable:!0}),h.link&&we.set(h.id,h.link),(0,E.DR)(h,{validated:!1,link:Ie}),Z.R.delete(h)}else(0,E.DR)(h,{link:Ie})}},[h,G,ue.validateEmbeddable,$.activeEmbeddable,m]);(0,W.useLayoutEffect)(function(){return function(){Fe()}},[Fe]),(0,W.useEffect)(function(){var Ie=null,Ge=function(tt){qe||(Ie&&clearTimeout(Ie),be(h,$,[tt.clientX,tt.clientY])&&(Ie=window.setTimeout(function(){m({showHyperlinkPopup:!1})},500)))};return window.addEventListener(he.Ks.POINTER_MOVE,Ge,!1),function(){window.removeEventListener(he.Ks.POINTER_MOVE,Ge,!1),Ie&&clearTimeout(Ie)}},[$,h,qe,m]);var ot=(0,W.useCallback)(function(){(0,te.L)("hyperlink","delete"),(0,E.DR)(h,{link:null}),qe&&(Ke.current.value=""),m({showHyperlinkPopup:!1})},[m,h,qe]),it=xe(h,$),ht=it.x,Te=it.y;return $.draggingElement||$.resizingElement||$.isRotating||$.openMenu||$.viewModeEnabled?null:(0,ne.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Te,"px"),left:"".concat(ht,"px"),width:320,padding:5},onClick:function(){h.link||qe||m({showHyperlinkPopup:"editor"})},children:[qe?(0,ne.jsx)("input",{className:(0,Y.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Ke,value:Me,onChange:function(Ie){return $e(Ie.target.value)},autoFocus:!0,onKeyDown:function(Ie){Ie.stopPropagation(),Ie[ee.tW.CTRL_OR_CMD]&&Ie.key===ee.tW.K&&Ie.preventDefault(),Ie.key!==ee.tW.ENTER&&Ie.key!==ee.tW.ESCAPE||(Fe(),m({showHyperlinkPopup:"info"}))}}):h.link?(0,ne.jsx)("a",{href:(0,N.$u)(h.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,N.q$)(h.link)?"_self":"_blank",onClick:function(Ie){if(h.link&&_){var Ge=(0,f.ag)(he.Ks.EXCALIDRAW_LINK,Ie.nativeEvent);_(Se(Se({},h),{},{link:(0,N.$u)(h.link)}),Ge),Ge.defaultPrevented&&Ie.preventDefault()}},rel:"noopener noreferrer",children:h.link}):(0,ne.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,L.t)("labels.link.empty")}),(0,ne.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!qe&&(0,ne.jsx)(k.V,{type:"button",title:(0,L.t)("buttons.edit"),"aria-label":(0,L.t)("buttons.edit"),label:(0,L.t)("buttons.edit"),onClick:function(){(0,te.L)("hyperlink","edit","popup-ui"),m({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:d.Pm}),ie&&!(0,F.gs)(h)&&(0,ne.jsx)(k.V,{type:"button",title:(0,L.t)("buttons.remove"),"aria-label":(0,L.t)("buttons.remove"),label:(0,L.t)("buttons.remove"),onClick:ot,className:"excalidraw-hyperlinkContainer--remove",icon:d.XH})]})]})},xe=function(X,h){var m=(0,le.qf)(X),_=(0,p.Z)(m,2),G=_[0],$=_[1],ue=(0,f._i)({sceneX:G+X.width/2,sceneY:$},h),ie=ue.x,pe=ue.y;return{x:ie-h.offsetLeft-160,y:pe-h.offsetTop-85}},je=(0,R.z)({name:"hyperlink",perform:function(X,h){return h.showHyperlinkPopup!=="editor"&&{elements:X,appState:Se(Se({},h),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(X){return X[ee.tW.CTRL_OR_CMD]&&X.key===ee.tW.K},contextItemLabel:function(X,h){return Ue(X,h)},predicate:function(X,h){return(0,ve.eD)(X,h).length===1},PanelComponent:function(X){var h=X.elements,m=X.appState,_=X.updateData,G=(0,ve.eD)(h,m);return(0,ne.jsx)(k.V,{type:"button",icon:d.xP,"aria-label":(0,L.t)(Ue(h,m)),title:"".concat((0,F.gs)(h[0])?(0,L.t)("labels.link.labelEmbed"):(0,L.t)("labels.link.label")," - ").concat((0,f.uY)("CtrlOrCmd+K")),onClick:function(){return _(null)},selected:G.length===1&&!!G[0].link})}}),Ue=function(X,h){var m=(0,ve.eD)(X,h);return m[0].link?(0,F.gs)(m[0])?"labels.link.editEmbed":"labels.link.edit":(0,F.gs)(m[0])?"labels.link.createEmbed":"labels.link.create"},et=function(X,h,m){var _=(0,p.Z)(X,4),G=_[0],$=_[1],ue=_[2],ie=_[3],pe=S.Dn,Pe=pe/m.zoom.value,Me=pe/m.zoom.value,$e=pe/m.zoom.value,Ke=(G+ue)/2,qe=($+ie)/2,Fe=(pe-8)/(2*m.zoom.value),ot=4/m.zoom.value,it=ue+ot-Fe,ht=$-ot-$e+Fe,Te=(0,B.U1)(it+Pe/2,ht+Me/2,Ke,qe,h),Ie=(0,p.Z)(Te,2);return[Ie[0]-Pe/2,Ie[1]-Me/2,Pe,Me]},He=function(X,h,m){var _=(0,p.Z)(m,2),G=_[0],$=_[1],ue=4/h.zoom.value,ie=(0,le.qf)(X),pe=(0,p.Z)(ie,4),Pe=pe[0],Me=pe[1],$e=pe[2],Ke=pe[3],qe=et([Pe,Me,$e,Ke],X.angle,h),Fe=(0,p.Z)(qe,4),ot=Fe[0],it=Fe[1],ht=Fe[2],Te=Fe[3];return G>ot-ue&&G<ot+ue+ht&&$>it-ue&&$<it+Te+ue},Le=function(X,h,m,_){var G=(0,p.Z)(m,2),$=G[0],ue=G[1];if(!X.link||h.selectedElementIds[X.id])return!1;var ie=4/h.zoom.value;return!(_||!h.viewModeEnabled||!(0,me.pX)(X,[$,ue],ie,null))||He(X,h,[$,ue])},De=null,Be=function(X,h){De&&clearTimeout(De),De=window.setTimeout(function(){return Ze(X,h)},he.sA)},Ze=function(X,h){if(X.link){var m=(0,ge.bK)();m.classList.add("excalidraw-tooltip--visible"),m.style.maxWidth="20rem",m.textContent=X.link;var _=(0,le.qf)(X),G=(0,p.Z)(_,4),$=G[0],ue=G[1],ie=G[2],pe=G[3],Pe=et([$,ue,ie,pe],X.angle,h),Me=(0,p.Z)(Pe,4),$e=Me[0],Ke=Me[1],qe=Me[2],Fe=Me[3],ot=(0,f._i)({sceneX:$e,sceneY:Ke},h);(0,ge.Js)(m,{left:ot.x,top:ot.y,width:qe,height:Fe},"top"),(0,te.L)("hyperlink","tooltip","link-icon"),_e=!0}},ye=function(){De&&clearTimeout(De),_e&&(_e=!1,(0,ge.bK)().classList.remove("excalidraw-tooltip--visible"))},be=function(X,h,m){var _=(0,p.Z)(m,2),G=_[0],$=_[1],ue=(0,f.dE)({clientX:G,clientY:$},h),ie=ue.x,pe=ue.y,Pe=15/h.zoom.value;if((0,me.pX)(X,[ie,pe],Pe,null))return!1;var Me=(0,le.qf)(X),$e=(0,p.Z)(Me,3),Ke=$e[0],qe=$e[1],Fe=$e[2];if(ie>=Ke&&ie<=Fe&&pe>=qe-85&&pe<=qe)return!1;var ot=xe(X,h),it=ot.x,ht=ot.y;return!(G>=it-Pe&&G<=it+320+10+Pe&&$>=ht-Pe&&$<=ht+Pe+10+42)}},9645:function(Q,z,o){o.d(z,{$q:function(){return Se},DK:function(){return I},H:function(){return A},HG:function(){return ge},N1:function(){return B},R:function(){return N},UZ:function(){return oe},Ww:function(){return T},Y9:function(){return U},ZB:function(){return x},cz:function(){return S},ek:function(){return ne},el:function(){return me}});var M=o(7169),p=o(2577),f=o(4105),u=o(4183),E=o(3528),R=o(583),k=o(457),d=o(7422),L=o(9827),W=o(5491),Y=o(4761);function ee(we,J){var xe=Object.keys(we);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(we);J&&(je=je.filter(function(Ue){return Object.getOwnPropertyDescriptor(we,Ue).enumerable})),xe.push.apply(xe,je)}return xe}var S=function(we){return!we[W.tW.CTRL_OR_CMD]},B=function(we){return we.isBindingEnabled},he=function(we,J){var xe=[];return J.forEach(function(je){var Ue=we.getNonDeletedElement(je);Ue!=null&&xe.push(Ue)}),xe},ge=function(we,J,xe){var je=new Set,Ue=new Set;ve(we,J,xe,"start",je,Ue),ve(we,xe,J,"end",je,Ue);var et=Array.from(Ue).filter(function(He){return!je.has(He)});he(k.Z.getScene(we),et).forEach(function(He){var Le;(0,R.DR)(He,{boundElements:(Le=He.boundElements)===null||Le===void 0?void 0:Le.filter(function(De){return De.type!=="arrow"||De.id!==we.id})})})},ve=function(we,J,xe,je,Ue,et){if(J!=="keep")if(J!=null)xe!=null&&(xe==="keep"?O(we,J,je):je!=="start"&&xe.id===J.id)||(oe(we,J,je),Ue.add(J.id));else{var He=C(we,je);He!=null&&et.add(He)}},me=function(we){we.forEach(function(J){(0,u.Mn)(J)?ge(J,te(J,"start"),te(J,"end")):(0,u.f0)(J)&&le(J)})},le=function(we){F(we).forEach(function(J){var xe=(0,p.Z)(J,2),je=xe[0],Ue=xe[1];return ge(je,Ue==="end"?"keep":we,Ue==="start"?"keep":we)})},N=function(we,J,xe,je){J.startBoundElement!=null&&oe(we,J.startBoundElement,"start");var Ue=U(je,xe);Ue==null||O(we,Ue,"end")||oe(we,Ue,"end")},oe=function(we,J,xe){(0,R.DR)(we,(0,M.Z)({},xe==="start"?"startBinding":"endBinding",function(je){for(var Ue=1;Ue<arguments.length;Ue++){var et=arguments[Ue]!=null?arguments[Ue]:{};Ue%2?ee(Object(et),!0).forEach(function(He){(0,M.Z)(je,He,et[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(et)):ee(Object(et)).forEach(function(He){Object.defineProperty(je,He,Object.getOwnPropertyDescriptor(et,He))})}return je}({elementId:J.id},y(we,J,xe)))),(0,L.xn)(J.boundElements||[]).has(we.id)||(0,R.DR)(J,{boundElements:(J.boundElements||[]).concat({id:we.id,type:"arrow"})})},O=function(we,J,xe){var je=we[xe==="start"?"endBinding":"startBinding"];return I(we,je==null?void 0:je.elementId,J)},I=function(we,J,xe){return J===xe.id&&we.points.length<3},A=function(we){we.forEach(function(J){(0,u.Mn)(J)&&ge(J,null,null)})},C=function(we,J){var xe=J==="start"?"startBinding":"endBinding",je=we[xe];return je==null?null:((0,R.DR)(we,(0,M.Z)({},xe,null)),je.elementId)},U=function(we,J){return(0,f.QG)(J.getNonDeletedElements(),function(xe){return(0,u.f0)(xe,!1)&&(0,E.uu)(xe,we)})},y=function(we,J,xe){var je=xe==="start"?-1:1,Ue=je===-1?0:we.points.length-1,et=Ue-je,He=d._.getPointAtIndexGlobalCoordinates(we,Ue),Le=d._.getPointAtIndexGlobalCoordinates(we,et);return{focus:(0,E.T_)(J,Le,He),gap:Math.max(1,(0,E.oT)(J,He))}},T=function(we,J){var xe,je=((xe=we.boundElements)!==null&&xe!==void 0?xe:[]).filter(function(De){return De.type==="arrow"});if(je.length!==0){var Ue=J??{},et=Ue.newSize,He=Ue.simultaneouslyUpdated,Le=D(He);he(k.Z.getScene(we),je.map(function(De){return De.id})).forEach(function(De){if((0,u.bt)(De)){var Be=we;if(s(De,Be)){var Ze=v(Be,De.startBinding,et),ye=v(Be,De.endBinding,et);Le.has(De.id)?(0,R.DR)(De,{startBinding:Ze,endBinding:ye}):(b(De,"start",Ze,we),b(De,"end",ye,we),(0,Y.WJ)(De)&&(0,Y.RB)(De,!1))}}})}},s=function(we,J){var xe,je;return((xe=we.startBinding)===null||xe===void 0?void 0:xe.elementId)===J.id||((je=we.endBinding)===null||je===void 0?void 0:je.elementId)===J.id},D=function(we){return new Set((we||[]).map(function(J){return J.id}))},b=function(we,J,xe,je){if(!(xe==null||xe.elementId!==je.id&&we.points.length>2)){var Ue=k.Z.getScene(we).getElement(xe.elementId);if(Ue!=null){var et,He=J==="start"?-1:1,Le=He===-1?0:we.points.length-1,De=Le-He,Be=d._.getPointAtIndexGlobalCoordinates(we,De),Ze=(0,E.j_)(Ue,xe.focus,Be);if(xe.gap===0)et=Ze;else{var ye=(0,E.MZ)(Ue,Be,Ze,xe.gap);et=ye.length===0?Ze:ye[0]}d._.movePoints(we,[{index:Le,point:d._.pointFromAbsoluteCoords(we,et)}],(0,M.Z)({},J==="start"?"startBinding":"endBinding",xe))}}},v=function(we,J,xe){if(J==null||xe==null)return J;var je=J.gap,Ue=J.focus,et=J.elementId,He=xe.width,Le=xe.height,De=we.width,Be=we.height;return{elementId:et,gap:Math.max(1,Math.min((0,E.fb)(we,He,Le),je*(He<Le?He/De:Le/Be))),focus:Ue}},x=function(we){var J=new Set(we.map(function(xe){return xe.id}));return we.flatMap(function(xe){return(0,u.Mn)(xe,!1)?j(xe).filter(function(je){return!J.has(je.id)}):(0,u.f0)(xe,!1)?F(xe).filter(function(je){return!J.has(je[0].id)}):[]})},j=function(we){return[te(we,"start"),te(we,"end")].filter(function(J){return J!=null})},te=function(we,J){return U(V(we,J),k.Z.getScene(we))},V=function(we,J){var xe=J==="start"?0:-1;return(0,L.AK)(d._.getPointAtIndexGlobalCoordinates(we,xe))},F=function(we){return k.Z.getScene(we).getNonDeletedElements().map(function(J){if(!(0,u.Mn)(J,!1))return null;var xe=Z(J,"start",we),je=Z(J,"end",we);return xe||je?[J,xe&&je?"both":xe?"start":"end",we]:null}).filter(function(J){return J!=null})},Z=function(we,J,xe){return we[J==="start"?"startBinding":"endBinding"]==null&&!O(we,xe,J)&&(0,E.uu)(xe,V(we,J))},ne=function(we,J,xe,je){var Ue=new Set,et=new Set,He=je==="duplicatesServeAsOld";J.forEach(function(Le){var De=Le.boundElements;if(De!=null&&De.length>0&&(De.forEach(function(ye){He&&!xe.has(ye.id)&&Ue.add(ye.id)}),et.add(xe.get(Le.id))),(0,u.Mn)(Le)){if(Le.startBinding!=null){var Be=Le.startBinding.elementId;He&&!xe.has(Be)&&et.add(Be)}if(Le.endBinding!=null){var Ze=Le.endBinding.elementId;He&&!xe.has(Ze)&&et.add(Ze)}Le.startBinding==null&&Le.endBinding==null||Ue.add(xe.get(Le.id))}}),we.filter(function(Le){var De=Le.id;return Ue.has(De)}).forEach(function(Le){var De=Le.startBinding,Be=Le.endBinding;(0,R.DR)(Le,{startBinding:ce(De,xe),endBinding:ce(Be,xe)})}),we.filter(function(Le){var De=Le.id;return et.has(De)}).forEach(function(Le){var De=Le.boundElements;De!=null&&De.length>0&&(0,R.DR)(Le,{boundElements:De.map(function(Be){return xe.has(Be.id)?{id:xe.get(Be.id),type:Be.type}:Be})})})},ce=function(we,J){var xe;if(we==null)return null;var je=we.elementId;return{focus:we.focus,gap:we.gap,elementId:(xe=J.get(je))!==null&&xe!==void 0?xe:je}},Se=function(we,J){var xe=new Set(J.map(function(Ue){return Ue.id})),je=new Set;J.forEach(function(Ue){var et;(0,u.f0)(Ue)?(et=Ue.boundElements)===null||et===void 0||et.forEach(function(He){xe.has(He.id)||je.add(He.id)}):(0,u.Mn)(Ue)&&(Ue.startBinding&&je.add(Ue.startBinding.elementId),Ue.endBinding&&je.add(Ue.endBinding.elementId))}),we.filter(function(Ue){var et=Ue.id;return je.has(et)}).forEach(function(Ue){(0,u.f0)(Ue)?(0,R.DR)(Ue,{boundElements:_e(Ue.boundElements,xe)}):(0,u.Mn)(Ue)&&(0,R.DR)(Ue,{startBinding:de(Ue.startBinding,xe),endBinding:de(Ue.endBinding,xe)})})},de=function(we,J){return we==null||J.has(we.elementId)?null:we},_e=function(we,J){return we?we.filter(function(xe){return!J.has(xe.id)}):null}},4949:function(Q,z,o){o.d(z,{CM:function(){return oe},GJ:function(){return me},IX:function(){return A},KP:function(){return D},M$:function(){return le},Pi:function(){return s},UC:function(){return N},Ut:function(){return x},Y5:function(){return y},hC:function(){return b},os:function(){return j},qf:function(){return ve},v2:function(){return te},wC:function(){return v}});var M=o(1930),p=o(2577),f=o(8821),u=o(5169),E=o(2361),R=o(9845),k=o(6049),d=o(4183),L=o(5999),W=o(4761),Y=o(7422),ee=o(2921),S=o(457);function B(V,F){var Z=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!Z){if(Array.isArray(V)||(Z=function(we,J){if(we){if(typeof we=="string")return he(we,J);var xe=Object.prototype.toString.call(we).slice(8,-1);if(xe==="Object"&&we.constructor&&(xe=we.constructor.name),xe==="Map"||xe==="Set")return Array.from(we);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return he(we,J)}}(V))||F&&V&&typeof V.length=="number"){Z&&(V=Z);var ne=0,ce=function(){};return{s:ce,n:function(){return ne>=V.length?{done:!0}:{done:!1,value:V[ne++]}},e:function(we){throw we},f:ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,de=!0,_e=!1;return{s:function(){Z=Z.call(V)},n:function(){var we=Z.next();return de=we.done,we},e:function(we){_e=!0,Se=we},f:function(){try{de||Z.return==null||Z.return()}finally{if(_e)throw Se}}}}function he(V,F){(F==null||F>V.length)&&(F=V.length);for(var Z=0,ne=new Array(F);Z<F;Z++)ne[Z]=V[Z];return ne}var ge=function(){function V(){(0,f.Z)(this,V)}return(0,u.Z)(V,null,[{key:"getBounds",value:function(F){var Z=V.boundsCache.get(F);if(Z!=null&&Z.version&&Z.version===F.version&&!(0,d.Xh)(F))return Z.bounds;var ne=V.calculateBounds(F);return S.Z.getScene(F)&&V.boundsCache.set(F,{version:F.version,bounds:ne}),ne}},{key:"calculateBounds",value:function(F){var Z,ne=ve(F),ce=(0,p.Z)(ne,6),Se=ce[0],de=ce[1],_e=ce[2],we=ce[3],J=ce[4],xe=ce[5];if((0,d.F9)(F)){var je=C(F.points.map(function(At){var bt=(0,p.Z)(At,2),jt=bt[0],Et=bt[1];return(0,E.U1)(jt,Et,J-F.x,xe-F.y,F.angle)})),Ue=(0,p.Z)(je,4),et=Ue[0],He=Ue[1],Le=Ue[2],De=Ue[3];return[et+F.x,He+F.y,Le+F.x,De+F.y]}if((0,d.bt)(F))Z=T(F,J,xe);else if(F.type==="diamond"){var Be=(0,E.U1)(J,de,J,xe,F.angle),Ze=(0,p.Z)(Be,2),ye=Ze[0],be=Ze[1],X=(0,E.U1)(J,we,J,xe,F.angle),h=(0,p.Z)(X,2),m=h[0],_=h[1],G=(0,E.U1)(Se,xe,J,xe,F.angle),$=(0,p.Z)(G,2),ue=$[0],ie=$[1],pe=(0,E.U1)(_e,xe,J,xe,F.angle),Pe=(0,p.Z)(pe,2),Me=Pe[0],$e=Pe[1];Z=[Math.min(ye,m,ue,Me),Math.min(be,_,ie,$e),Math.max(ye,m,ue,Me),Math.max(be,_,ie,$e)]}else if(F.type==="ellipse"){var Ke=(_e-Se)/2,qe=(we-de)/2,Fe=Math.cos(F.angle),ot=Math.sin(F.angle),it=Math.hypot(Ke*Fe,qe*ot),ht=Math.hypot(qe*Fe,Ke*ot);Z=[J-it,xe-ht,J+it,xe+ht]}else{var Te=(0,E.U1)(Se,de,J,xe,F.angle),Ie=(0,p.Z)(Te,2),Ge=Ie[0],tt=Ie[1],dt=(0,E.U1)(Se,we,J,xe,F.angle),ct=(0,p.Z)(dt,2),St=ct[0],Pt=ct[1],mt=(0,E.U1)(_e,we,J,xe,F.angle),Nt=(0,p.Z)(mt,2),Xt=Nt[0],Zt=Nt[1],Dt=(0,E.U1)(_e,de,J,xe,F.angle),on=(0,p.Z)(Dt,2),an=on[0],st=on[1];Z=[Math.min(Ge,St,Xt,an),Math.min(tt,Pt,Zt,st),Math.max(Ge,St,Xt,an),Math.max(tt,Pt,Zt,st)]}return Z}}]),V}();ge.boundsCache=new WeakMap;var ve=function(V){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,d.F9)(V))return U(V);if((0,d.bt)(V))return Y._.getElementAbsoluteCoords(V,F);if((0,d.iB)(V)){var Z=(0,W.tl)(V);if((0,d.Yv)(Z)){var ne=Y._.getBoundTextElementPosition(Z,V);return[ne.x,ne.y,ne.x+V.width,ne.y+V.height,ne.x+V.width/2,ne.y+V.height/2]}}return[V.x,V.y,V.x+V.width,V.y+V.height,V.x+V.width/2,V.y+V.height/2]},me=function(V){var F=ve(V),Z=(0,p.Z)(F,6),ne=Z[0],ce=Z[1],Se=Z[2],de=Z[3],_e=Z[4],we=Z[5],J=[_e,we];if((0,d.bt)(V)||(0,d.F9)(V)){for(var xe=[],je=0;je<V.points.length-1;)xe.push([(0,E.xj)([V.points[je][0]+V.x,V.points[je][1]+V.y],J,V.angle),(0,E.xj)([V.points[je+1][0]+V.x,V.points[je+1][1]+V.y],J,V.angle)]),je++;return xe}var Ue=[[ne,ce],[Se,ce],[ne,de],[Se,de],[_e,ce],[_e,de],[ne,we],[Se,we]].map(function(h){return(0,E.xj)(h,J,V.angle)}),et=(0,p.Z)(Ue,8),He=et[0],Le=et[1],De=et[2],Be=et[3],Ze=et[4],ye=et[5],be=et[6],X=et[7];return V.type==="diamond"?[[Ze,be],[Ze,X],[ye,be],[ye,X]]:V.type==="ellipse"?[[Ze,be],[Ze,X],[ye,be],[ye,X],[Ze,be],[Ze,X],[ye,be],[ye,X]]:[[He,Le],[De,Be],[He,De],[Le,Be],[He,X],[De,X],[Le,be],[Be,be]]},le=function(V){return[V.x,V.y,V.x+V.width,V.y+V.height,V.x+V.width/2,V.y+V.height/2]},N=function(V){var F=Math.floor(V.width/2)+1,Z=V.width,ne=Math.floor(V.height/2)+1;return[F,0,Z,ne,F,V.height,0,ne]},oe=function(V){var F,Z=B(V.sets);try{for(Z.s();!(F=Z.n()).done;){var ne=F.value;if(ne.type==="path")return ne.ops}}catch(ce){Z.e(ce)}finally{Z.f()}return V.sets[0].ops},O=function(V,F,Z,ne,ce){var Se=1-V;return Math.pow(Se,3)*F+3*Math.pow(Se,2)*V*Z+3*Se*Math.pow(V,2)*ne+Math.pow(V,3)*ce},I=function(V,F,Z,ne){var ce=F-V,Se=Z-F,de=3*ce-6*Se+3*(ne-Z),_e=6*Se-6*ce,we=3*ce,J=_e*_e-4*de*we;if(!(J>=0))return!1;var xe=null,je=null,Ue=1/0,et=1/0;return de===0?Ue=et=-we/_e:(Ue=(-_e+Math.sqrt(J))/(2*de),et=(-_e-Math.sqrt(J))/(2*de)),Ue>=0&&Ue<=1&&(xe=O(Ue,V,F,Z,ne)),et>=0&&et<=1&&(je=O(et,V,F,Z,ne)),[xe,je]},A=function(V,F){var Z=[0,0],ne=V.reduce(function(ce,Se){var de=Se.op,_e=Se.data;if(de==="move")Z=_e;else if(de==="bcurveTo"){var we=[_e[0],_e[1]],J=[_e[2],_e[3]],xe=[_e[4],_e[5]],je=F?F.apply(void 0,we):we,Ue=F?F.apply(void 0,J):J,et=F?F.apply(void 0,xe):xe,He=F?F.apply(void 0,(0,M.Z)(Z)):Z;Z=xe;var Le=function(X,h,m,_){var G=I(X[0],h[0],m[0],_[0]),$=I(X[1],h[1],m[1],_[1]),ue=Math.min(X[0],_[0]),ie=Math.max(X[0],_[0]);if(G){var pe=G.filter(function(Ke){return Ke!==null});ue=Math.min.apply(Math,[ue].concat((0,M.Z)(pe))),ie=Math.max.apply(Math,[ie].concat((0,M.Z)(pe)))}var Pe=Math.min(X[1],_[1]),Me=Math.max(X[1],_[1]);if($){var $e=$.filter(function(Ke){return Ke!==null});Pe=Math.min.apply(Math,[Pe].concat((0,M.Z)($e))),Me=Math.max.apply(Math,[Me].concat((0,M.Z)($e)))}return[ue,Pe,ie,Me]}(He,je,Ue,et),De=(0,p.Z)(Le,4),Be=De[0],Ze=De[1],ye=De[2],be=De[3];ce.minX=Math.min(ce.minX,Be),ce.minY=Math.min(ce.minY,Ze),ce.maxX=Math.max(ce.maxX,ye),ce.maxY=Math.max(ce.maxY,be)}return ce},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ne.minX,ne.minY,ne.maxX,ne.maxY]},C=function(V){var F,Z=1/0,ne=1/0,ce=-1/0,Se=-1/0,de=B(V);try{for(de.s();!(F=de.n()).done;){var _e=(0,p.Z)(F.value,2),we=_e[0],J=_e[1];Z=Math.min(Z,we),ne=Math.min(ne,J),ce=Math.max(ce,we),Se=Math.max(Se,J)}}catch(xe){de.e(xe)}finally{de.f()}return[Z,ne,ce,Se]},U=function(V){var F=C(V.points),Z=(0,p.Z)(F,4),ne=Z[0],ce=Z[1],Se=Z[2],de=Z[3],_e=ne+V.x,we=ce+V.y,J=Se+V.x,xe=de+V.y;return[_e,we,J,xe,(_e+J)/2,(we+xe)/2]},y=function(V,F,Z,ne){var ce=oe(F[0]);if(ce.length<1)return null;var Se=Z==="start"?1:ce.length-1,de=ce[Se].data,_e=[de[4],de[5]],we=[de[2],de[3]],J=[de[0],de[1]],xe=ce[Se-1],je=[0,0];xe.op==="move"?je=xe.data:xe.op==="bcurveTo"&&(je=[xe.data[4],xe.data[5]]);var Ue=function(Zt,Dt){return Math.pow(1-Zt,3)*_e[Dt]+3*Zt*Math.pow(1-Zt,2)*we[Dt]+3*Math.pow(Zt,2)*(1-Zt)*J[Dt]+je[Dt]*Math.pow(Zt,3)},et=Z==="start"?je:_e,He=(0,p.Z)(et,2),Le=He[0],De=He[1],Be=[Ue(.3,0),Ue(.3,1)],Ze=Be[0],ye=Be[1],be=Math.hypot(Le-Ze,De-ye),X=(Le-Ze)/be,h=(De-ye)/be,m={arrow:30,bar:15,dot:15,triangle:15}[ne],_=0;if(ne==="arrow"){var G=(0,p.Z)(V.points[V.points.length-1],2),$=G[0],ue=G[1],ie=V.points.length>1?V.points[V.points.length-2]:[0,0],pe=(0,p.Z)(ie,2),Pe=pe[0],Me=pe[1];_=Math.hypot($-Pe,ue-Me)}else for(var $e=0;$e<V.points.length;$e++){var Ke=V.points[$e-1]||[0,0],qe=(0,p.Z)(Ke,2),Fe=qe[0],ot=qe[1],it=(0,p.Z)(V.points[$e],2),ht=it[0],Te=it[1];_+=Math.hypot(ht-Fe,Te-ot)}var Ie=Math.min(m,_/2),Ge=Le-X*Ie,tt=De-h*Ie;if(ne==="dot")return[Le,De,Math.hypot(tt-De,Ge-Le)+V.strokeWidth];var dt={arrow:20,bar:90,triangle:25}[ne],ct=(0,E.U1)(Ge,tt,Le,De,-dt*Math.PI/180),St=(0,p.Z)(ct,2),Pt=St[0],mt=St[1],Nt=(0,E.U1)(Ge,tt,Le,De,dt*Math.PI/180),Xt=(0,p.Z)(Nt,2);return[Le,De,Pt,mt,Xt[0],Xt[1]]},T=function(V,F,Z){var ne;if(V.points.length<2){var ce=(0,p.Z)(V.points[0],2),Se=ce[0],de=ce[1],_e=(0,E.U1)(V.x+Se,V.y+de,F,Z,V.angle),we=(0,p.Z)(_e,2),J=we[0],xe=we[1],je=[J,xe,J,xe],Ue=(0,W.WJ)(V);if(Ue){var et=Y._.getMinMaxXYWithBoundText(V,[J,xe,J,xe],Ue);je=[et[0],et[1],et[2],et[3]]}return je}var He=(ne=ee.R.get(V))===null||ne===void 0?void 0:ne[0],Le=He??function(X){var h=R.Z.generator(),m=(0,k.Z)(X);return h[X.roundness?"curve":m.fill?"polygon":"linearPath"](X.points,m)}(V),De=oe(Le),Be=A(De,function(X,h){return(0,E.U1)(V.x+X,V.y+h,F,Z,V.angle)}),Ze=[Be[0],Be[1],Be[2],Be[3]],ye=(0,W.WJ)(V);if(ye){var be=Y._.getMinMaxXYWithBoundText(V,Ze,ye);Ze=[be[0],be[1],be[2],be[3]]}return Ze},s=function(V){return ge.getBounds(V)},D=function(V){if(!V.length)return[0,0,0,0];var F=1/0,Z=-1/0,ne=1/0,ce=-1/0;return V.forEach(function(Se){var de=s(Se),_e=(0,p.Z)(de,4),we=_e[0],J=_e[1],xe=_e[2],je=_e[3];F=Math.min(F,we),ne=Math.min(ne,J),Z=Math.max(Z,xe),ce=Math.max(ce,je)}),[F,ne,Z,ce]},b=function(V,F){var Z=D(V),ne=(0,p.Z)(Z,4),ce=ne[0],Se=ne[1],de=ne[2],_e=ne[3];return[ce+F.x,Se+F.y,de+F.x,_e+F.y]},v=function(V,F,Z,ne){if(!(0,d.bt)(V)&&!(0,d.F9)(V))return[V.x,V.y,V.x+F,V.y+Z];var ce,Se=(0,L.z)(0,F,(0,L.z)(1,Z,V.points,ne),ne);if((0,d.F9)(V))ce=C(Se);else{var de=R.Z.generator(),_e=V.roundness?de.curve(Se,(0,k.Z)(V)):de.linearPath(Se,(0,k.Z)(V)),we=oe(_e);ce=A(we)}var J=ce,xe=(0,p.Z)(J,4),je=xe[0],Ue=xe[1],et=xe[2],He=xe[3];return[je+V.x,Ue+V.y,et+V.x,He+V.y]},x=function(V,F){var Z=R.Z.generator(),ne=V.roundness==null?Z.linearPath(F,(0,k.Z)(V)):Z.curve(F,(0,k.Z)(V)),ce=oe(ne),Se=A(ce),de=(0,p.Z)(Se,4),_e=de[0],we=de[1],J=de[2],xe=de[3];return[_e+V.x,we+V.y,J+V.x,xe+V.y]},j=function(V,F){if(!V.length)return[0,0,0,0];var Z=1/0,ne=V[0];return V.forEach(function(ce){var Se=s(ce),de=(0,p.Z)(Se,4),_e=de[0],we=de[1],J=de[2],xe=de[3],je=(0,E.LW)((_e+J)/2,(we+xe)/2,F.x,F.y);je<Z&&(Z=je,ne=ce)}),s(ne)},te=function(V){var F=D(V),Z=(0,p.Z)(F,4),ne=Z[0],ce=Z[1],Se=Z[2],de=Z[3];return{minX:ne,minY:ce,maxX:Se,maxY:de,width:Se-ne,height:de-ce,midX:(ne+Se)/2,midY:(ce+de)/2}}},3528:function(Q,z,o){o.d(z,{uu:function(){return _e},T_:function(){return $},j_:function(){return ue},oT:function(){return xe},wX:function(){return Z},MZ:function(){return ie},wB:function(){return ne},Qu:function(){return ce},pX:function(){return de},fb:function(){return we}});var M=o(2577),p=function(Te,Ie){return[0,0,0,0,Ie,Te,1,0]},f=function(Te,Ie){return[0,0,0,0,Ie,Te,0,0]},u=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ge=[0,0,0,0,0,0,0,0];if(Ie<0||Ie>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Ie,"`"));return Te!==0&&(Ge[Ie]=Te),Ge},E=function(Te){return[Te[0],Te[1],Te[2],Te[3],-Te[4],-Te[5],-Te[6],-Te[7]]},R=function(Te,Ie){return B(Ie)?[Te[0]-Ie,Te[1],Te[2],Te[3],Te[4],Te[5],Te[6],Te[7]]:[Te[0]-Ie[0],Te[1]-Ie[1],Te[2]-Ie[2],Te[3]-Ie[3],Te[4]-Ie[4],Te[5]-Ie[5],Te[6]-Ie[6],Te[7]-Ie[7]]},k=function(Te,Ie){return B(Ie)?[Te[0]*Ie,Te[1]*Ie,Te[2]*Ie,Te[3]*Ie,Te[4]*Ie,Te[5]*Ie,Te[6]*Ie,Te[7]*Ie]:[d(Te,Ie),Ie[1]*Te[0]+Ie[0]*Te[1]-Ie[4]*Te[2]+Ie[5]*Te[3]+Ie[2]*Te[4]-Ie[3]*Te[5]-Ie[7]*Te[6]-Ie[6]*Te[7],Ie[2]*Te[0]+Ie[0]*Te[2]-Ie[6]*Te[3]+Ie[3]*Te[6],Ie[3]*Te[0]+Ie[6]*Te[2]+Ie[0]*Te[3]-Ie[2]*Te[6],Ie[4]*Te[0]+Ie[2]*Te[1]-Ie[1]*Te[2]+Ie[7]*Te[3]+Ie[0]*Te[4]+Ie[6]*Te[5]-Ie[5]*Te[6]+Ie[3]*Te[7],Ie[5]*Te[0]-Ie[3]*Te[1]+Ie[7]*Te[2]+Ie[1]*Te[3]-Ie[6]*Te[4]+Ie[0]*Te[5]+Ie[4]*Te[6]+Ie[2]*Te[7],Ie[6]*Te[0]+Ie[3]*Te[2]-Ie[2]*Te[3]+Ie[0]*Te[6],Ie[7]*Te[0]+Ie[6]*Te[1]+Ie[5]*Te[2]+Ie[4]*Te[3]+Ie[3]*Te[4]+Ie[2]*Te[5]+Ie[1]*Te[6]+Ie[0]*Te[7]]},d=function(Te,Ie){return Ie[0]*Te[0]+Ie[2]*Te[2]+Ie[3]*Te[3]-Ie[6]*Te[6]},L=function(Te,Ie){return[W(Te,Ie),Te[1]*Ie[7]+Te[4]*Ie[5]-Te[5]*Ie[4]+Te[7]*Ie[1],Te[2]*Ie[7]-Te[4]*Ie[6]+Te[6]*Ie[4]+Te[7]*Ie[2],Te[3]*Ie[7]+Te[5]*Ie[6]-Te[6]*Ie[5]+Te[7]*Ie[3],Te[4]*Ie[7]+Te[7]*Ie[4],Te[5]*Ie[7]+Te[7]*Ie[5],Te[6]*Ie[7]+Te[7]*Ie[6],Te[7]*Ie[7]]},W=function(Te,Ie){return Te[0]*Ie[7]+Te[1]*Ie[6]+Te[2]*Ie[5]+Te[3]*Ie[4]+Te[4]*Ie[3]+Te[5]*Ie[2]+Te[6]*Ie[1]+Te[7]*Ie[0]},Y=function(Te){return Math.sqrt(Math.abs(Te[0]*Te[0]-Te[2]*Te[2]-Te[3]*Te[3]+Te[6]*Te[6]))},ee=function(Te){var Ie=Y(Te);if(Ie===0||Ie===1)return Te;var Ge=Te[6]<0?-1:1;return k(Te,Ge/Ie)},S=function(Te){var Ie=function(Ge){return Math.sqrt(Math.abs(Ge[7]*Ge[7]-Ge[5]*Ge[5]-Ge[4]*Ge[4]+Ge[1]*Ge[1]))}(Te);return Ie===0||Ie===1?Te:k(Te,1/Ie)},B=function(Te){return typeof Te=="number"},he=(u(1,1),u(1,2),u(1,3),u(1,4),u(1,5),u(1,6),u(1,7),function(Te,Ie,Ge){return ee([0,Ge,Te,Ie,0,0,0,0])}),ge=function(Te,Ie){return ee(L(Ie,Te))},ve=function(Te,Ie){return Ge=Te,[(tt=Ie)[0]*Ge[0]+tt[2]*Ge[2]+tt[3]*Ge[3]-tt[6]*Ge[6],tt[1]*Ge[0]+tt[0]*Ge[1]-tt[4]*Ge[2]+tt[5]*Ge[3]+tt[2]*Ge[4]-tt[3]*Ge[5]-tt[7]*Ge[6]-tt[6]*Ge[7],tt[2]*Ge[0]+tt[0]*Ge[2]-tt[6]*Ge[3]+tt[3]*Ge[6],tt[3]*Ge[0]+tt[6]*Ge[2]+tt[0]*Ge[3]-tt[2]*Ge[6],tt[4]*Ge[0]+tt[7]*Ge[3]+tt[0]*Ge[4]+tt[3]*Ge[7],tt[5]*Ge[0]+tt[7]*Ge[2]+tt[0]*Ge[5]+tt[2]*Ge[7],tt[6]*Ge[0]+tt[0]*Ge[6],tt[7]*Ge[0]+tt[0]*Ge[7]];var Ge,tt},me=function(Te){var Ie=(0,M.Z)(Te,2),Ge=Ie[0];return[0,0,0,0,Ie[1],Ge,1,0]},le=function(Te){return[Te[5],Te[4]]},N=function(Te){return[0,0,0,0,Math.abs(Te[4]),Math.abs(Te[5]),1,0]},oe=function(Te,Ie){return ee((Ge=Te,[(tt=Ie)[0]*Ge[0],tt[1]*Ge[0]+tt[0]*Ge[1],tt[2]*Ge[0]+tt[0]*Ge[2],tt[3]*Ge[0]+tt[0]*Ge[3],tt[4]*Ge[0]+tt[2]*Ge[1]-tt[1]*Ge[2]+tt[0]*Ge[4],tt[5]*Ge[0]-tt[3]*Ge[1]+tt[1]*Ge[3]+tt[0]*Ge[5],tt[6]*Ge[0]+tt[3]*Ge[2]-tt[2]*Ge[3]+tt[0]*Ge[6],tt[7]*Ge[0]+tt[6]*Ge[1]+tt[5]*Ge[2]+tt[4]*Ge[3]+tt[3]*Ge[4]+tt[2]*Ge[5]+tt[1]*Ge[6]]));var Ge,tt},O=function(Te,Ie){return Y(L(Te,Ie))},I=function(Te,Ie){return W(Te,Ie)},A=function(Te){return[0,0,0,0,Te[4],Te[5],0,0]},C=function(Te,Ie){return Ge=k(Te,Math.sin(Ie/2)),tt=Math.cos(Ie/2),B(tt)?[Ge[0]+tt,Ge[1],Ge[2],Ge[3],Ge[4],Ge[5],Ge[6],Ge[7]]:[Ge[0]+tt[0],Ge[1]+tt[1],Ge[2]+tt[2],Ge[3]+tt[3],Ge[4]+tt[4],Ge[5]+tt[5],Ge[6]+tt[6],Ge[7]+tt[7]];var Ge,tt},U=function(Te,Ie){return ee(k(k(Te,Ie),E(Te)))},y=o(2361),T=o(1493),s=o(4949),D=o(4183),b=o(7651),v=o(9827),x=o(4048),j=o(4761),te=o(2921);function V(Te,Ie){var Ge=typeof Symbol<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(!Ge){if(Array.isArray(Te)||(Ge=function(mt,Nt){if(mt){if(typeof mt=="string")return F(mt,Nt);var Xt=Object.prototype.toString.call(mt).slice(8,-1);if(Xt==="Object"&&mt.constructor&&(Xt=mt.constructor.name),Xt==="Map"||Xt==="Set")return Array.from(mt);if(Xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt))return F(mt,Nt)}}(Te))||Ie&&Te&&typeof Te.length=="number"){Ge&&(Te=Ge);var tt=0,dt=function(){};return{s:dt,n:function(){return tt>=Te.length?{done:!0}:{done:!1,value:Te[tt++]}},e:function(mt){throw mt},f:dt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ct,St=!0,Pt=!1;return{s:function(){Ge=Ge.call(Te)},n:function(){var mt=Ge.next();return St=mt.done,mt},e:function(mt){Pt=!0,ct=mt},f:function(){try{St||Ge.return==null||Ge.return()}finally{if(Pt)throw ct}}}}function F(Te,Ie){(Ie==null||Ie>Te.length)&&(Ie=Te.length);for(var Ge=0,tt=new Array(Ie);Ge<Ie;Ge++)tt[Ge]=Te[Ge];return tt}var Z=function Te(Ie,Ge,tt,dt,ct){var St=10/Ge.zoom.value,Pt=[dt,ct];if(Se(Ge,Ie)&&(0,x.oY)([Ie],Ge))return de(Ie,Pt,St,tt);var mt=(0,j.WJ)(Ie);return mt&&Te(mt,Ge,tt,dt,ct)?!0:ce(Ie,Ge,tt,Pt)},ne=function(Te,Ie,Ge,tt,dt){var ct=10/Ie.zoom.value,St=(0,j.WJ)(Te);return(!St||!Z(St,Ie,Ge,tt,dt))&&!ce(Te,Ie,Ge,[tt,dt])&&de(Te,[tt,dt],ct,Ge)},ce=function(Te,Ie,Ge,tt){var dt=10/Ie.zoom.value,ct=(0,b.iB)(Te)?je:function(St){if(St.type==="arrow")return!1;if(St.type==="freedraw")return!0;var Pt=!(0,v.Qm)(St.backgroundColor)||(0,D.Xo)(St)||(0,D.gs)(St);return St.type==="line"?Pt&&(0,y.g6)(St.points):Pt||(0,D.pC)(St)}(Te)?Ue:et;return J({element:Te,point:tt,threshold:dt,check:ct,frameNameBoundsCache:Ge})},Se=function(Te,Ie){return Te.selectedElementIds[Ie.id]},de=function(Te,Ie,Ge,tt){var dt=(0,M.Z)(Ie,2),ct=dt[0],St=dt[1];if(Te.type==="frame")return J({element:Te,point:[ct,St],threshold:Ge,check:Ue,frameNameBoundsCache:tt});var Pt=(0,s.qf)(Te),mt=(0,M.Z)(Pt,4),Nt=mt[0],Xt=mt[1],Zt=mt[2],Dt=mt[3],on=(Nt+Zt)/2,an=(Xt+Dt)/2,st=(0,y.U1)(ct,St,on,an,-Te.angle),At=(0,M.Z)(st,2),bt=At[0],jt=At[1];return bt>Nt-Ge&&bt<Zt+Ge&&jt>Xt-Ge&&jt<Dt+Ge},_e=function(Te,Ie){var Ge=Ie.x,tt=Ie.y,dt=we(Te,Te.width,Te.height);return J({element:Te,point:[Ge,tt],threshold:dt,check:He,frameNameBoundsCache:null})},we=function(Te,Ie,Ge){var tt=(Te.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Ie,Ge);return Math.max(16,Math.min(.25*tt,32))},J=function(Te){switch(Te.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Ie=xe(Te.element,Te.point);return Te.check(Ie,Te.threshold);case"freedraw":return!!Te.check(Le(Te.element,Te.point),Te.threshold)&&be(Te.element,Te.point,Te.threshold);case"arrow":case"line":return X(Te);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var Ge;if(Te.check(xe(Te.element,Te.point),Te.threshold))return!0;var tt=(Ge=Te.frameNameBoundsCache)===null||Ge===void 0?void 0:Ge.get(Te.element);return!!tt&&Te.check(De(tt,Te.point),Te.threshold)}},xe=function(Te,Ie){switch(Te.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Le(Te,Ie);case"diamond":return Be(Te,Ie);case"ellipse":return Ze(Te,Ie)}},je=function(Te,Ie){return Te<0},Ue=function(Te,Ie){return Te<Ie},et=function(Te,Ie){return Math.abs(Te)<Ie},He=function(Te,Ie){return 0<=Te&&Te<Ie},Le=function(Te,Ie){var Ge=h(Te,Ie),tt=(0,M.Z)(Ge,4),dt=tt[1],ct=tt[2],St=tt[3];return Math.max(I(dt,he(0,1,-St)),I(dt,he(1,0,-ct)))},De=function(Te,Ie){var Ge=m(Ie,Te),tt=(0,M.Z)(Ge,4),dt=tt[1],ct=tt[2],St=tt[3];return Math.max(I(dt,he(0,1,-St)),I(dt,he(1,0,-ct)))},Be=function(Te,Ie){var Ge=h(Te,Ie),tt=(0,M.Z)(Ge,4),dt=tt[1],ct=tt[2],St=tt[3],Pt=he(St,ct,-St*ct);return I(dt,Pt)},Ze=function(Te,Ie){var Ge,tt=ye(Te,Ie),dt=(0,M.Z)(tt,2),ct=dt[0],St=dt[1];return Ge=St,-Math.sign(Ge[1])*I(ct,St)},ye=function(Te,Ie){var Ge=h(Te,Ie),tt=(0,M.Z)(Ge,4),dt=tt[1],ct=tt[2],St=tt[3],Pt=le(dt),mt=(0,M.Z)(Pt,2),Nt=mt[0],Xt=mt[1],Zt=.707,Dt=.707,on=ct,an=St;[0,1,2,3].forEach(function(bt){var jt=on*Zt,Et=an*Dt,Vt=(on*on-an*an)*Math.pow(Zt,3)/on,Kt=(an*an-on*on)*Math.pow(Dt,3)/an,cn=jt-Vt,Wt=Et-Kt,Mn=Nt-Vt,wn=Xt-Kt,Jn=Math.hypot(Wt,cn),yt=Math.hypot(wn,Mn);Zt=Math.min(1,Math.max(0,(Mn*Jn/yt+Vt)/on)),Dt=Math.min(1,Math.max(0,(wn*Jn/yt+Kt)/an));var Qt=Math.hypot(Dt,Zt);Zt/=Qt,Dt/=Qt});var st,At=p(on*Zt,an*Dt);return[dt,ve(ge(dt,st=At),st)]},be=function(Te,Ie,Ge){var tt,dt;if(Te.angle===0)tt=Ie[0]-Te.x,dt=Ie[1]-Te.y;else{var ct=(0,s.qf)(Te),St=(0,M.Z)(ct,4),Pt=St[0],mt=St[1],Nt=St[2],Xt=St[3],Zt=(0,y.xj)(Ie,[Pt+(Nt-Pt)/2,mt+(Xt-mt)/2],-Te.angle);tt=Zt[0]-Te.x,dt=Zt[1]-Te.y}var Dt,on=(0,M.Z)(Te.points,2),an=on[0],st=on[1];if((0,y.LW)(an[0],an[1],tt,dt)<Ge||(0,y.LW)(st[0],st[1],tt,dt)<Ge)return!0;for(var At=0;At<Te.points.length;At++){var bt=[st[0]-an[0],st[1]-an[1]],jt=Math.hypot(bt[1],bt[0]),Et=[bt[0]/jt,bt[1]/jt],Vt=[tt-an[0],dt-an[1]],Kt=(Vt[0]*Et[0]+Vt[1]*Et[1])/Math.hypot(Et[1],Et[0]);Dt=[an[0]+Et[0]*Kt,an[1]+Et[1]*Kt];var cn=(0,y.LW)(Dt[0],Dt[1],an[0],an[1]),Wt=(0,y.LW)(Dt[0],Dt[1],st[0],st[1]);if(Dt=Wt<cn&&cn>jt?st:cn<Wt&&Wt>jt?an:Dt,Math.hypot(dt-Dt[1],tt-Dt[0])<Ge)return!0;an=st,st=Te.points[At+1]}var Mn=te.R.get(Te);return!(!Mn||!Mn.sets.length)&&(Te.fillStyle==="solid"?it(Mn,tt,dt,"round"):ht(Mn,tt,dt,Ge))},X=function(Te){var Ie=Te.element,Ge=Te.threshold;if(!te.R.get(Ie))return!1;var tt=h(Te.element,Te.point),dt=(0,M.Z)(tt,4),ct=dt[0],St=dt[1],Pt=dt[2],mt=dt[3],Nt=he(0,1,-mt),Xt=he(1,0,-Pt);if(!Ue(I(St,Nt),Ge)||!Ue(I(St,Xt),Ge))return!1;var Zt=le(ct),Dt=(0,M.Z)(Zt,2),on=Dt[0],an=Dt[1],st=te.R.get(Ie);return st?Te.check===Ue&&st.some(function(At){return it(At,on,an,Ie.roundness?"round":"sharp")})?!0:st.some(function(At){return ht(At,on,an,Ge)}):!1},h=function(Te,Ie){var Ge=me(Ie),tt=(0,s.qf)(Te),dt=(0,M.Z)(tt,4),ct=dt[0],St=dt[1],Pt=dt[2],mt=dt[3],Nt=G(ct,St,Pt,mt),Xt=C(Nt,Te.angle),Zt=U(Xt,Ge),Dt=R(Zt,A(Nt)),on=N(Dt),an=f(Te.x,Te.y);return[R(Zt,an),on,(Pt-ct)/2,(mt-St)/2]},m=function(Te,Ie){var Ge=me(Te),tt=(0,s.M$)(Ie),dt=(0,M.Z)(tt,4),ct=dt[0],St=dt[1],Pt=dt[2],mt=dt[3],Nt=G(ct,St,Pt,mt),Xt=C(Nt,Ie.angle),Zt=U(Xt,Ge),Dt=R(Zt,A(Nt)),on=N(Dt),an=f(Ie.x,Ie.y);return[R(Zt,an),on,(Pt-ct)/2,(mt-St)/2]},_=function(Te){var Ie=(0,s.qf)(Te),Ge=(0,M.Z)(Ie,4),tt=Ge[0],dt=Ge[1],ct=Ge[2],St=Ge[3],Pt=G(tt,dt,ct,St),mt=C(Pt,Te.angle),Nt=E(function(Xt){return[1,0,0,0,-.5*Xt[5],.5*Xt[4],0,0]}(A(Pt)));return k(Nt,mt)},G=function(Te,Ie,Ge,tt){return p((Te+Ge)/2,(Ie+tt)/2)},$=function(Te,Ie,Ge){var tt,dt=_(Te),ct=U(dt,me(Ie)),St=U(dt,me(Ge)),Pt=ge(ct,St),mt=Te.height/Te.width,Nt=Te.width/2,Xt=Te.height/2,Zt=Pt[2],Dt=Pt[3],on=Pt[1],an=Math.abs(Dt),st=Math.abs(Zt);switch(Te.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":tt=on/(Nt*(st+mt*an));break;case"diamond":tt=an<st?on/(st*Nt):on/(an*Xt);break;case"ellipse":tt=on/(Nt*Math.sqrt(Math.pow(Zt,2)+Math.pow(mt,2)*Math.pow(Dt,2)))}return tt||0},ue=function(Te,Ie,Ge){if(Ie===0){var tt=(0,s.qf)(Te),dt=(0,M.Z)(tt,4),ct=dt[0],St=dt[1],Pt=dt[2],mt=dt[3],Nt=G(ct,St,Pt,mt);return le(Nt)}var Xt,Zt=_(Te),Dt=U(Zt,me(Ge)),on=E(Zt);switch(Te.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":Xt=ot(Te,Ie,Dt);break;case"ellipse":Xt=Fe(Te,Ie,Dt)}return le(U(on,Xt))},ie=function(Te,Ie,Ge){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,dt=_(Te),ct=U(dt,me(Ie)),St=U(dt,me(Ge)),Pt=ge(ct,St),mt=E(dt),Nt=pe(Te,Pt,ct,tt);return Nt.map(function(Xt){return le(U(mt,Xt))})},pe=function(Te,Ie,Ge){var tt,dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(Te.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var ct=Pe(Te);tt=ct.flatMap(function(Pt,mt){var Nt=[Pt,ct[(mt+1)%4]];return Me(Ie,$e(Nt,dt))}).concat(ct.flatMap(function(Pt){return qe(Pt,dt,Ie)}));break;case"ellipse":tt=Ke(Te,dt,Ie)}if(tt.length<2)return[];var St=tt.sort(function(Pt,mt){return O(Pt,Ge)-O(mt,Ge)});return[St[0],St[St.length-1]]},Pe=function(Te){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ge=Ie*Te.width/2,tt=Ie*Te.height/2;switch(Te.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[p(Ge,tt),p(Ge,-tt),p(-Ge,-tt),p(-Ge,tt)];case"diamond":return[p(0,tt),p(Ge,0),p(0,-tt),p(-Ge,0)]}},Me=function(Te,Ie){var Ge=(0,M.Z)(Ie,2),tt=Ge[0],dt=Ge[1];return I(tt,Te)*I(dt,Te)>=0?[]:[oe(Te,ge(tt,dt))]},$e=function(Te,Ie){var Ge=(0,M.Z)(Te,2),tt=Ge[0],dt=Ge[1],ct=function(St,Pt){var mt=.5*Pt;return[1,0,0,0,mt*St[4],mt*St[5],0,0]}(function(St,Pt){return S([0,0,0,0,Pt[4]-St[4],Pt[5]-St[5],0,0])}(tt,dt),Ie);return[U(ct,tt),U(ct,dt)]},Ke=function(Te,Ie,Ge){var tt=Te.width/2+Ie,dt=Te.height/2+Ie,ct=Ge[2],St=Ge[3],Pt=Ge[1],mt=tt*tt*ct*ct+dt*dt*St*St,Nt=mt-Pt*Pt;if(mt===0||Nt<=0)return[];var Xt=Math.sqrt(Nt),Zt=-tt*tt*ct*Pt,Dt=-dt*dt*St*Pt;return[p((Zt+tt*dt*St*Xt)/mt,(Dt-tt*dt*ct*Xt)/mt),p((Zt-tt*dt*St*Xt)/mt,(Dt+tt*dt*ct*Xt)/mt)]},qe=function(Te,Ie,Ge){if(Ie===0)return I(Ge,Te)===0?[Te]:[];var tt=Ge[2],dt=Ge[3],ct=Ge[1],St=le(Te),Pt=(0,M.Z)(St,2),mt=Pt[0],Nt=Pt[1],Xt=tt*tt+dt*dt,Zt=Ie*Ie*Xt-Math.pow(tt*mt+dt*Nt+ct,2);if(Xt===0||Zt<=0)return[];var Dt=Math.sqrt(Zt),on=mt*dt*dt-Nt*tt*dt-tt*ct,an=Nt*tt*tt-mt*tt*dt-dt*ct;return[p((on+dt*Dt)/Xt,(an-tt*Dt)/Xt),p((on-dt*Dt)/Xt,(an+tt*Dt)/Xt)]},Fe=function(Te,Ie,Ge){var tt=Math.abs(Ie),dt=Te.width*tt/2,ct=Te.height*tt/2,St=Math.sign(Ie),Pt=le(Ge),mt=(0,M.Z)(Pt,2),Nt=mt[0],Xt=mt[1],Zt=Xt===0?1e-4:Xt,Dt=Math.pow(Nt,2)*Math.pow(ct,2)+Math.pow(Zt,2)*Math.pow(dt,2),on=(-Nt*Math.pow(ct,2)+St*Zt*Math.sqrt(Math.max(0,Dt-Math.pow(dt,2)*Math.pow(ct,2))))/Dt,an=(-on*Nt-1)/Zt;an===0&&(an=.01*(Object.is(an,-0)?-1:1));var st=-Math.pow(dt,2)*on/(Math.pow(an,2)*Math.pow(ct,2)+Math.pow(on,2)*Math.pow(dt,2));return p(st,(-on*st-1)/an)},ot=function(Te,Ie,Ge){var tt=Math.abs(Ie),dt=Math.sign(Ie),ct=Pe(Te,tt),St=0,Pt=null;return ct.forEach(function(mt){var Nt=dt*ge(Ge,mt)[1];Nt>St&&(St=Nt,Pt=mt)}),Pt},it=function(Te,Ie,Ge,tt){var dt,ct=[],St=!1,Pt=V((0,s.CM)(Te));try{for(Pt.s();!(dt=Pt.n()).done;){var mt=dt.value;mt.op==="move"?(St=!St)&&ct.push([mt.data[0],mt.data[1]]):mt.op==="bcurveTo"?St&&(ct.push([mt.data[0],mt.data[1]]),ct.push([mt.data[2],mt.data[3]]),ct.push([mt.data[4],mt.data[5]])):mt.op==="lineTo"&&St&&ct.push([mt.data[0],mt.data[1]])}}catch(Xt){Pt.e(Xt)}finally{Pt.f()}if(ct.length>=4){if(tt==="sharp")return(0,y.c9)(ct,Ie,Ge);var Nt=(0,T.sU)(ct,10,5);return(0,y.c9)(Nt,Ie,Ge)}return!1},ht=function(Te,Ie,Ge,tt){var dt=(0,s.CM)(Te),ct=[0,0];return dt.some(function(St,Pt){var mt=St.op,Nt=St.data;if(mt==="move")ct=Nt;else{if(mt==="bcurveTo"){var Xt=[Nt[0],Nt[1]],Zt=[Nt[2],Nt[3]],Dt=[Nt[4],Nt[5]],on=ct;ct=Dt;var an=function(st,At,bt,jt,Et,Vt){for(var Kt=(0,M.Z)(Et,2),cn=Kt[0],Wt=Kt[1],Mn=function(Qt,Ut){return Math.pow(1-Qt,3)*jt[Ut]+3*Qt*Math.pow(1-Qt,2)*bt[Ut]+3*Math.pow(Qt,2)*(1-Qt)*At[Ut]+st[Ut]*Math.pow(Qt,3)},wn=0;wn<=1;){var Jn=Mn(wn,0),yt=Mn(wn,1);if(Math.sqrt(Math.pow(Jn-cn,2)+Math.pow(yt-Wt,2))<Vt)return!0;wn+=.01}return!1}(on,Xt,Zt,Dt,[Ie,Ge],tt);return an}if(mt==="lineTo")return it(Te,Ie,Ge,"sharp");mt==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(Q,z,o){o.d(z,{LM:function(){return y},eX:function(){return b},g0:function(){return s},uU:function(){return T},xm:function(){return v}});var M=o(7169),p=o(2767),f=o(9937),u=o(8227),E=o(9827),R=o(7652),k=o(5742),d=o(4761),L=o(4183);function W(x,j){var te=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!te){if(Array.isArray(x)||(te=function(Se,de){if(Se){if(typeof Se=="string")return Y(Se,de);var _e=Object.prototype.toString.call(Se).slice(8,-1);if(_e==="Object"&&Se.constructor&&(_e=Se.constructor.name),_e==="Map"||_e==="Set")return Array.from(Se);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return Y(Se,de)}}(x))||j&&x&&typeof x.length=="number"){te&&(x=te);var V=0,F=function(){};return{s:F,n:function(){return V>=x.length?{done:!0}:{done:!1,value:x[V++]}},e:function(Se){throw Se},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,ne=!0,ce=!1;return{s:function(){te=te.call(x)},n:function(){var Se=te.next();return ne=Se.done,Se},e:function(Se){ce=!0,Z=Se},f:function(){try{ne||te.return==null||te.return()}finally{if(ce)throw Z}}}}function Y(x,j){(j==null||j>x.length)&&(j=x.length);for(var te=0,V=new Array(j);te<j;te++)V[te]=x[te];return V}function ee(x,j){var te=Object.keys(x);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(x);j&&(V=V.filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable})),te.push.apply(te,V)}return te}function S(x){for(var j=1;j<arguments.length;j++){var te=arguments[j]!=null?arguments[j]:{};j%2?ee(Object(te),!0).forEach(function(V){(0,M.Z)(x,V,te[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(te)):ee(Object(te)).forEach(function(V){Object.defineProperty(x,V,Object.getOwnPropertyDescriptor(te,V))})}return x}var B=new Map,he=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,ge=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,ve=/^https:\/\/(?:www\.)?figma\.com/,me=/^https:\/\/gist\.github\.com/,le=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist.github.com\/.*?)\.js["']/i,N=/(?:http(?:s)?:\/\/)?(?:(?:w){3}.)?twitter.com/,oe=/^<blockquote[\s\S]*?\shref=["'](https:\/\/twitter.com\/[^"']*)/i,O=/^https:\/\/(?:www\.)?val.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,I=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,A=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,C=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com","dddice.com"]),U=function(x){return"<html><body>".concat(x,"</body></html>")},y=function(x){if(!x)return null;if(B.has(x))return B.get(x);var j=x,te="generic",V={w:560,h:840},F=x.match(he);if(F!=null&&F[2]){var Z=F[3]?"&start=".concat(F[3]):"",ne=x.includes("shorts");switch(te="video",F[1]){case"embed/":case"watch?v=":case"shorts/":default:x="https://www.youtube.com/embed/".concat(F[2],"?enablejsapi=1").concat(Z);break;case"playlist?list=":case"embed/videoseries?list=":x="https://www.youtube.com/embed/videoseries?list=".concat(F[2],"&enablejsapi=1").concat(Z)}return V=ne?{w:315,h:560}:{w:560,h:315},B.set(j,{link:x,aspectRatio:V,type:te}),{link:x,aspectRatio:V,type:te}}var ce=x.match(ge);if(ce!=null&&ce[1]){var Se=ce==null?void 0:ce[1],de=/^\d+$/.test(Se)?void 0:(0,u.t)("toast.unrecognizedLinkFormat");return te="video",x="https://player.vimeo.com/video/".concat(Se,"?api=1"),V={w:560,h:315},B.set(j,{link:x,aspectRatio:V,type:te}),{link:x,aspectRatio:V,type:te,warning:de}}if(x.match(ve))return te="generic",x="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(x)),V={w:550,h:550},B.set(j,{link:x,aspectRatio:V,type:te}),{link:x,aspectRatio:V,type:te};var _e=x.match(O);if(_e)return x=_e[1]==="embed"?_e[0]:_e[0].replace("/v","/embed"),B.set(j,{link:x,aspectRatio:V,type:te}),{link:x,aspectRatio:V,type:te};if(N.test(x)){var we;if(/<blockquote/.test(x)){var J=U(x);we={type:"document",srcdoc:function(){return J},aspectRatio:{w:480,h:480}}}else we={type:"document",srcdoc:function(Ue){return U('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(Ue,'"><a href="').concat(x,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480}};return B.set(j,we),we}if(me.test(x)){var xe;if(/<script>/.test(x)){var je=U(x);xe={type:"document",srcdoc:function(){return je},aspectRatio:{w:550,h:720}}}else xe={type:"document",srcdoc:function(){return U(`
          <script src="`.concat(x,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720}};return B.set(x,xe),xe}return B.set(x,{link:x,aspectRatio:V,type:te}),{link:x,aspectRatio:V,type:te}},T=function(x){if((0,L.gs)(x))return!0;if(x.type==="text"){var j=(0,d.tl)(x);if(j&&(0,L.gs)(j))return!0}return!1},s=function(x){var j,te=x.link&&(x==null?void 0:x.link)!==""?x.link:"Empty Web-Embed",V=Math.max(Math.min(x.width/2,x.width/te.length),x.width/30),F=f.ut.Helvetica,Z=(0,E.mO)({fontSize:V,fontFamily:F});return(0,k.VL)({x:x.x+x.width/2,y:x.y+x.height/2,strokeColor:x.strokeColor!=="transparent"?x.strokeColor:"black",backgroundColor:"transparent",fontFamily:F,fontSize:V,text:(0,d.lD)(te,Z,x.width-20),textAlign:"center",verticalAlign:f.oX.MIDDLE,angle:(j=x.angle)!==null&&j!==void 0?j:0})},D=((0,p.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(x,j,te,V){var F=(0,E.Om)(j,{type:"embeddable"});return(0,R.Uk)(V.canvas,S(S({},j),{},{activeTool:F})),{elements:x,appState:S(S({},j),{},{activeTool:(0,E.Om)(j,{type:"embeddable"})}),commitToHistory:!1}}}),function(x,j){try{var te=new URL(x).hostname.replace(/^www\./,""),V=te.replace(/^([^.]+)/,"*");if(j instanceof Set)return C.has(te)||C.has(V);if(te===j.replace(/^www\./,""))return!0}catch{}return!1}),b=function(x){var j=x.match(oe);if(j&&j.length===2)return j[1];var te=x.match(le);if(te&&te.length===2)return te[1];if(A.test(x))return"https://giphy.com/embed/".concat(A.exec(x)[1]);var V=x.match(I);return V&&V.length===2?V[1]:x},v=function(x,j){if(!x)return!1;if(j!=null)if(typeof j=="function"){var te=j(x);if(typeof te=="boolean")return te}else{if(typeof j=="boolean")return j;if(j instanceof RegExp)return j.test(x);if(Array.isArray(j)){var V,F=W(j);try{for(F.s();!(V=F.n()).done;){var Z=V.value;if(Z instanceof RegExp){if(x.match(Z))return!0}else if(D(x,Z))return!0}}catch(ne){F.e(ne)}finally{F.f()}return!1}}return D(x,C)}},4178:function(Q,z,o){o.d(z,{PK:function(){return Y},Xx:function(){return ee},bp:function(){return B},oA:function(){return S}});var M=o(2577),p=o(7169),f=o(8950),u=o(2975),E=o.n(u),R=o(9937),k=o(8227),d=o(4183);function L(he,ge){var ve=Object.keys(he);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(he);ge&&(me=me.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),ve.push.apply(ve,me)}return ve}function W(he){for(var ge=1;ge<arguments.length;ge++){var ve=arguments[ge]!=null?arguments[ge]:{};ge%2?L(Object(ve),!0).forEach(function(me){(0,p.Z)(he,me,ve[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(ve)):L(Object(ve)).forEach(function(me){Object.defineProperty(he,me,Object.getOwnPropertyDescriptor(ve,me))})}return he}var Y=function(he){return new Promise(function(ge,ve){var me=new Image;me.onload=function(){ge(me)},me.onerror=function(le){ve(le)},me.src=he})},ee=function(){var he=(0,f.Z)(E().mark(function ge(ve){var me,le,N,oe,O;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return me=ve.fileIds,le=ve.files,N=ve.imageCache,oe=new Map,O=new Map,I.next=5,Promise.all(me.reduce(function(A,C){var U=le[C];return U&&!oe.has(C)?(oe.set(C,!0),A.concat((0,f.Z)(E().mark(function y(){var T,s,D;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(b.prev=0,U.mimeType!==R.LO.binary){b.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return T=Y(U.dataURL),s={image:T,mimeType:U.mimeType},N.set(C,s),b.next=8,T;case 8:D=b.sent,N.set(C,W(W({},s),{},{image:D})),b.next=15;break;case 12:b.prev=12,b.t0=b.catch(0),O.set(C,!0);case 15:case"end":return b.stop()}},y,null,[[0,12]])}))())):A},[]));case 5:return I.abrupt("return",{imageCache:N,updatedFiles:oe,erroredFiles:O});case 6:case"end":return I.stop()}},ge)}));return function(ge){return he.apply(this,arguments)}}(),S=function(he){return he.filter(function(ge){return(0,d.wi)(ge)})},B=function(){var he=(0,f.Z)(E().mark(function ge(ve){var me,le,N,oe,O,I,A;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(me=new DOMParser().parseFromString(ve,R.LO.svg),le=me.querySelector("svg"),!me.querySelector("parsererror")&&((U=le)==null?void 0:U.nodeName.toLowerCase())==="svg"){C.next=7;break}throw new Error((0,k.t)("errors.invalidSVGString"));case 7:return le.hasAttribute("xmlns")||le.setAttribute("xmlns",R.hR),le.hasAttribute("width")&&le.hasAttribute("height")||(N=le.getAttribute("viewBox"),oe=le.getAttribute("width")||"50",O=le.getAttribute("height")||"50",N&&(I=N.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(A=(0,M.Z)(I,3),oe=A[1],O=A[2]),le.setAttribute("width",oe),le.setAttribute("height",O)),C.abrupt("return",le.outerHTML);case 10:case"end":return C.stop()}var U},ge)}));return function(ge){return he.apply(this,arguments)}}()},7651:function(Q,z,o){o.d(z,{ox:function(){return R.ox},BQ:function(){return Z},_M:function(){return ne},EJ:function(){return U},o8:function(){return O},Sy:function(){return u.Sy},Y5:function(){return E.Y5},os:function(){return E.os},KP:function(){return E.KP},Un:function(){return he},UC:function(){return E.UC},$V:function(){return C},qf:function(){return E.qf},Pi:function(){return E.Pi},jt:function(){return ee},o4:function(){return p.o4},Lm:function(){return j},Xf:function(){return te},Qp:function(){return p.Qp},T:function(){return ge.T},xx:function(){return ge.xx},Uo:function(){return v},n2:function(){return S},PC:function(){return R.PC},kK:function(){return R.kK},n_:function(){return x},wX:function(){return k.wX},r2:function(){return f.r2},He:function(){return f.He},wB:function(){return k.wB},QD:function(){return p.QD},qP:function(){return V},iB:function(){return f.iB},Up:function(){return u.Up},vw:function(){return u.vw},y8:function(){return u.y8},VL:function(){return u.VL},oN:function(){return le.oN},JZ:function(){return u.JZ},RT:function(){return s},b_:function(){return y.b_},vY:function(){return ge.vY},N_:function(){return u.N_}});var M=o(7169),p=o(7935),f=o(4183),u=o(5742),E=o(4949),R=o(4048),k=o(3528),d=o(2577),L=o(2726),W=["rotation"],Y=function(ce,Se,de){return Se>=ce[0]&&Se<=ce[0]+ce[2]&&de>=ce[1]&&de<=ce[1]+ce[3]},ee=function(ce,Se,de,_e,we,J){return ce.reduce(function(xe,je){if(xe)return xe;var Ue=function(et,He,Le,De,Be,Ze){if(!He.selectedElementIds[et.id])return!1;var ye=(0,R.PC)(et,Be,Ze),be=ye.rotation,X=(0,L.Z)(ye,W);if(be&&Y(be,Le,De))return"rotation";var h=Object.keys(X).filter(function(m){var _=X[m];return!!_&&Y(_,Le,De)});return h.length>0&&h[0]}(je,Se,de,_e,we,J);return Ue?{element:je,transformHandleType:Ue}:null},null)},S=function(ce,Se,de,_e,we){var J=(0,d.Z)(ce,4),xe=J[0],je=J[1],Ue=J[2],et=J[3],He=(0,R.kK)([xe,je,Ue,et,(xe+Ue)/2,(je+et)/2],0,_e,we,R.ox);return Object.keys(He).find(function(Le){var De=He[Le];return De&&Y(De,Se,de)})||!1},B=["ns","nesw","ew","nwse"],he=function(ce){var Se=ce.element,de=ce.transformHandleType,_e=Se&&Math.sign(Se.height)*Math.sign(Se.width)==-1,we=null;switch(de){case"n":case"s":we="ns";break;case"w":case"e":we="ew";break;case"nw":case"se":we=_e?"nesw":"nwse";break;case"ne":case"sw":we=_e?"nwse":"nesw";break;case"rotation":return"grab"}return we&&Se&&(we=function(J,xe){var je=B.indexOf(J);if(je>=0){var Ue=Math.round(xe/(Math.PI/4));J=B[(je+Ue)%B.length]}return J}(we,Se.angle)),we?"".concat(we,"-resize"):""},ge=o(4381),ve=o(9645),me=o(583),le=o(4761),N=o(9215),oe=o(2361),O=function(ce,Se,de,_e,we,J,xe){var je=new Set(Se),Ue=Se.filter(function(Le){return(0,f.He)(Le)}).map(function(Le){return Le.id});Ue.length>0&&we.getNonDeletedElements().filter(function(Le){return!(0,f.Xh)(Le)}).filter(function(Le){return Le.frameId!==null}).filter(function(Le){return Ue.includes(Le.frameId)}).forEach(function(Le){return je.add(Le)});var et=(0,E.KP)(Array.from(je).map(function(Le){var De;return(De=ce.originalElements.get(Le.id))!==null&&De!==void 0?De:Le})),He=I(et,de,J,xe);je.forEach(function(Le){if(A(ce,Le,He),!(0,f.Yv)(Le)&&(!Le.groupIds.length||_e.editingGroupId&&!(0,N.zq)(_e,Le))){var De=(0,le.WJ)(Le);De&&A(ce,De,He)}(0,ve.Ww)(Le,{simultaneouslyUpdated:Array.from(je)})})},I=function(ce,Se,de,_e){var we=(0,d.Z)(ce,2),J=we[0],xe=we[1],je=J+Se.x+de.x,Ue=xe+Se.y+de.y;if(de.x===0||de.y===0){var et=(0,oe.wC)(J+Se.x,xe+Se.y,_e),He=(0,d.Z)(et,2),Le=He[0],De=He[1];de.x===0&&(je=Le),de.y===0&&(Ue=De)}return{x:je-J,y:Ue-xe}},A=function(ce,Se,de){var _e,we=(_e=ce.originalElements.get(Se.id))!==null&&_e!==void 0?_e:Se,J=we.x+de.x,xe=we.y+de.y;(0,me.DR)(Se,{x:J,y:xe})},C=function(ce,Se,de){var _e=(0,E.KP)(ce),we=(0,d.Z)(_e,2);return[Se-we[0],de-we[1]]},U=function(ce,Se,de,_e,we,J,xe,je,Ue,et,He){var Le=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Ue&&ce.type!=="selection")if(He)je=xe/He;else{if(Math.abs(J-_e)>Math.abs(we-de)){var De=(0,p.uK)(Se,je,we<de?-xe:xe);xe=De.width,je=De.height}else{var Be=(0,p.uK)(Se,xe,J<_e?-je:je);xe=Be.width,je=Be.height}je<0&&(je=-je)}var Ze,ye,be=we<de?de-xe:de,X=J<_e?_e-je:_e;et&&(be=de-(xe+=xe)/2,X=_e-(je+=je)/2),xe!==0&&je!==0&&(0,me.DR)(ce,{x:be+((Ze=Le==null?void 0:Le.x)!==null&&Ze!==void 0?Ze:0),y:X+((ye=Le==null?void 0:Le.y)!==null&&ye!==void 0?ye:0),width:xe,height:je})},y=o(3474),T=o(4105),s=function(ce,Se){return!!(!ce.viewModeEnabled&&(ce.activeTool.type!=="custom"&&(ce.editingElement||ce.activeTool.type!=="selection"&&ce.activeTool.type!=="eraser"&&ce.activeTool.type!=="hand"&&ce.activeTool.type!=="laser")||(0,T.eD)(Se,ce).length))};function D(ce,Se){var de=Object.keys(ce);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(ce);Se&&(_e=_e.filter(function(we){return Object.getOwnPropertyDescriptor(ce,we).enumerable})),de.push.apply(de,_e)}return de}function b(ce){for(var Se=1;Se<arguments.length;Se++){var de=arguments[Se]!=null?arguments[Se]:{};Se%2?D(Object(de),!0).forEach(function(_e){(0,M.Z)(ce,_e,de[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(de)):D(Object(de)).forEach(function(_e){Object.defineProperty(ce,_e,Object.getOwnPropertyDescriptor(de,_e))})}return ce}var v=function(ce){return ce.reduce(function(Se,de){return Se+de.version},0)},x=function(ce){return ce.filter(function(Se){return!Se.isDeleted&&!(0,p.QD)(Se)})},j=function(ce){return ce.filter(function(Se){return!Se.isDeleted})},te=function(ce){return ce.filter(function(Se){return!Se.isDeleted})},V=function(ce){return!ce.isDeleted},F=function(ce){return j(ce).map(function(Se){return(0,f.dt)(Se.type)?b(b({},Se),{},{lastCommittedPoint:null}):Se})},Z=function(ce){return F(ce)},ne=function(ce){return F(ce)}},7422:function(Q,z,o){o.d(z,{_:function(){return I}});var M=o(1930),p=o(7169),f=o(2577),u=o(8821),E=o(5169),R=o(2361),k=o(7651),d=o(4949),L=o(583),W=o(457),Y=o(9645),ee=o(9827),S=o(4183),B=o(5491),he=o(4761),ge=o(9937),ve=o(2921);function me(C,U){var y=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!y){if(Array.isArray(C)||(y=function(x,j){if(x){if(typeof x=="string")return le(x,j);var te=Object.prototype.toString.call(x).slice(8,-1);if(te==="Object"&&x.constructor&&(te=x.constructor.name),te==="Map"||te==="Set")return Array.from(x);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return le(x,j)}}(C))||U&&C&&typeof C.length=="number"){y&&(C=y);var T=0,s=function(){};return{s,n:function(){return T>=C.length?{done:!0}:{done:!1,value:C[T++]}},e:function(x){throw x},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,b=!0,v=!1;return{s:function(){y=y.call(C)},n:function(){var x=y.next();return b=x.done,x},e:function(x){v=!0,D=x},f:function(){try{b||y.return==null||y.return()}finally{if(v)throw D}}}}function le(C,U){(U==null||U>C.length)&&(U=C.length);for(var y=0,T=new Array(U);y<U;y++)T[y]=C[y];return T}function N(C,U){var y=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);U&&(T=T.filter(function(s){return Object.getOwnPropertyDescriptor(C,s).enumerable})),y.push.apply(y,T)}return y}function oe(C){for(var U=1;U<arguments.length;U++){var y=arguments[U]!=null?arguments[U]:{};U%2?N(Object(y),!0).forEach(function(T){(0,p.Z)(C,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(y)):N(Object(y)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(y,T))})}return C}var O={version:null,points:[],zoom:null},I=function(){function C(U,y){(0,u.Z)(this,C),this.elementId=U.id,W.Z.mapElementToScene(this.elementId,y),C.normalizePoints(U),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,E.Z)(C,null,[{key:"getElement",value:function(U){var y,T=(y=W.Z.getScene(U))===null||y===void 0?void 0:y.getNonDeletedElement(U);return T||null}},{key:"handleBoxSelection",value:function(U,y,T){var s;if(!y.editingLinearElement||((s=y.draggingElement)===null||s===void 0?void 0:s.type)!=="selection")return!1;var D=y.editingLinearElement,b=D.selectedPointsIndices,v=D.elementId,x=C.getElement(v);if(!x)return!1;var j=(0,k.qf)(y.draggingElement),te=(0,f.Z)(j,4),V=te[0],F=te[1],Z=te[2],ne=te[3],ce=C.getPointsGlobalCoordinates(x).reduce(function(Se,de,_e){return(de[0]>=V&&de[0]<=Z&&de[1]>=F&&de[1]<=ne||U.shiftKey&&b!=null&&b.includes(_e))&&Se.push(_e),Se},[]);T({editingLinearElement:oe(oe({},D),{},{selectedPointsIndices:ce.length?ce:null})})}},{key:"handlePointDragging",value:function(U,y,T,s,D,b){if(!b)return!1;var v=b.selectedPointsIndices,x=b.elementId,j=C.getElement(x);if(!j)return!1;var te=j.points[b.pointerDownState.lastClickedPoint];if(v&&te){if((0,B.Ge)(U)&&v.length===1&&j.points.length>1){var V=v[0],F=j.points[V===0?1:V-1],Z=C._getShiftLockedDelta(j,F,[T,s],U[B.tW.CTRL_OR_CMD]?null:y.gridSize),ne=(0,f.Z)(Z,2),ce=ne[0],Se=ne[1];C.movePoints(j,[{index:V,point:[ce+F[0],Se+F[1]],isDragging:V===b.pointerDownState.lastClickedPoint}])}else{var de=C.createPointAt(j,T-b.pointerOffset.x,s-b.pointerOffset.y,U[B.tW.CTRL_OR_CMD]?null:y.gridSize),_e=de[0]-te[0],we=de[1]-te[1];C.movePoints(j,v.map(function(je){return{index:je,point:je===b.pointerDownState.lastClickedPoint?C.createPointAt(j,T-b.pointerOffset.x,s-b.pointerOffset.y,U[B.tW.CTRL_OR_CMD]?null:y.gridSize):[j.points[je][0]+_e,j.points[je][1]+we],isDragging:je===b.pointerDownState.lastClickedPoint}}))}if((0,he.WJ)(j)&&(0,he.RB)(j,!1),(0,S.Mn)(j,!1)){var J=[];v[0]===0&&J.push((0,ee.AK)(C.getPointGlobalCoordinates(j,j.points[0])));var xe=v[v.length-1];xe===j.points.length-1&&J.push((0,ee.AK)(C.getPointGlobalCoordinates(j,j.points[xe]))),J.length&&D(j,J)}return!0}return!1}},{key:"handlePointerUp",value:function(U,y,T){var s,D=y.elementId,b=y.selectedPointsIndices,v=y.isDragging,x=y.pointerDownState,j=C.getElement(D);if(!j)return y;var te={};if(v&&b){var V,F=me(b);try{for(F.s();!(V=F.n()).done;){var Z=V.value;if(Z===0||Z===j.points.length-1){(0,R.g6)(j.points,T.zoom.value)&&C.movePoints(j,[{index:Z,point:Z===0?j.points[j.points.length-1]:j.points[0]}]);var ne=(0,Y.N1)(T)?(0,Y.Y9)((0,ee.AK)(C.getPointAtIndexGlobalCoordinates(j,Z)),W.Z.getScene(j)):null;te[Z===0?"startBindingElement":"endBindingElement"]=ne}}}catch(ce){F.e(ce)}finally{F.f()}}return oe(oe(oe({},y),te),{},{selectedPointsIndices:v||U.shiftKey?!v&&U.shiftKey&&(s=x.prevSelectedPointsIndices)!==null&&s!==void 0&&s.includes(x.lastClickedPoint)?b&&b.filter(function(ce){return ce!==x.lastClickedPoint}):b:b!=null&&b.includes(x.lastClickedPoint)?[x.lastClickedPoint]:b,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(U,y,T,s){var D=(0,R.LW)(y[0],y[1],T[0],T[1]);return U.points.length>2&&U.roundness&&(D=(0,R.eH)(U,T)),D*s.value<4*C.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(U,y,T,s){var D=(0,R.H5)(y,T);if(U.points.length>2&&U.roundness){var b=(0,R.yB)(U,U.points[s]);if(b){var v=(0,R.lk)(U,U.points[s],.5),x=(0,R.N_)(b[0],b[1],b[2],b[3],v),j=(0,f.Z)(x,2),te=j[0],V=j[1];D=C.getPointGlobalCoordinates(U,[te,V])}}return D}},{key:"getSegmentMidPointIndex",value:function(U,y,T){var s=C.getElement(U.elementId);if(!s)return-1;for(var D=C.getEditorMidPoints(s,y),b=0;b<D.length;){if(C.arePointsEqual(T,D[b]))return b+1;b++}return-1}},{key:"handlePointerDown",value:function(U,y,T,s,D){var b,v={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!D)return v;var x=D.elementId,j=C.getElement(x);if(!j)return v;var te=C.getSegmentMidpointHitCoords(D,s,y),V=null;if(te&&(V=C.getSegmentMidPointIndex(D,y,te)),U.altKey&&y.editingLinearElement)return D.lastUncommittedPoint==null&&((0,L.DR)(j,{points:[].concat((0,M.Z)(j.points),[C.createPointAt(j,s.x,s.y,U[B.tW.CTRL_OR_CMD]?null:y.gridSize)])}),v.didAddPoint=!0),T.resumeRecording(),v.linearElementEditor=oe(oe({},D),{},{pointerDownState:{prevSelectedPointsIndices:D.selectedPointsIndices,lastClickedPoint:-1,origin:{x:s.x,y:s.y},segmentMidpoint:{value:te,index:V,added:!1}},selectedPointsIndices:[j.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,Y.Y9)(s,W.Z.getScene(j))}),v.didAddPoint=!0,v;var F=C.getPointIndexUnderCursor(j,y.zoom,s.x,s.y);if(F>=0||te)v.hitElement=j;else{var Z=D.startBindingElement,ne=D.endBindingElement;(0,Y.N1)(y)&&(0,S.Mn)(j)&&(0,Y.HG)(j,Z,ne)}var ce=(0,k.qf)(j),Se=(0,f.Z)(ce,4),de=Se[0],_e=Se[1],we=(de+Se[2])/2,J=(_e+Se[3])/2,xe=F>-1&&(0,R.U1)(j.x+j.points[F][0],j.y+j.points[F][1],we,J,j.angle),je=F>-1||U.shiftKey?U.shiftKey||(b=D.selectedPointsIndices)!==null&&b!==void 0&&b.includes(F)?A([].concat((0,M.Z)(D.selectedPointsIndices||[]),[F])):[F]:null;return v.linearElementEditor=oe(oe({},D),{},{pointerDownState:{prevSelectedPointsIndices:D.selectedPointsIndices,lastClickedPoint:F,origin:{x:s.x,y:s.y},segmentMidpoint:{value:te,index:V,added:!1}},selectedPointsIndices:je,pointerOffset:xe?{x:s.x-xe[0],y:s.y-xe[1]}:{x:0,y:0}}),v}},{key:"arePointsEqual",value:function(U,y){return!U&&!y||!(!U||!y)&&(0,R.Jj)(U,y)}},{key:"handlePointerMove",value:function(U,y,T,s){if(!s.editingLinearElement)return null;var D=s.editingLinearElement,b=D.elementId,v=D.lastUncommittedPoint,x=C.getElement(b);if(!x)return s.editingLinearElement;var j,te=x.points,V=te[te.length-1];if(!U.altKey)return V===v&&C.deletePoints(x,[te.length-1]),oe(oe({},s.editingLinearElement),{},{lastUncommittedPoint:null});if((0,B.Ge)(U)&&te.length>=2){var F=te[te.length-2],Z=C._getShiftLockedDelta(x,F,[y,T],U[B.tW.CTRL_OR_CMD]?null:s.gridSize),ne=(0,f.Z)(Z,2),ce=ne[0],Se=ne[1];j=[ce+F[0],Se+F[1]]}else j=C.createPointAt(x,y-s.editingLinearElement.pointerOffset.x,T-s.editingLinearElement.pointerOffset.y,U[B.tW.CTRL_OR_CMD]?null:s.gridSize);return V===v?C.movePoints(x,[{index:x.points.length-1,point:j}]):C.addPoints(x,s,[{point:j}]),oe(oe({},s.editingLinearElement),{},{lastUncommittedPoint:x.points[x.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(U,y){var T=(0,k.qf)(U),s=(0,f.Z)(T,4),D=s[0],b=s[1],v=(D+s[2])/2,x=(b+s[3])/2,j=U.x,te=U.y,V=(0,R.U1)(j+y[0],te+y[1],v,x,U.angle),F=(0,f.Z)(V,2);return[j=F[0],te=F[1]]}},{key:"getPointsGlobalCoordinates",value:function(U){var y=(0,k.qf)(U),T=(0,f.Z)(y,4),s=T[0],D=T[1],b=T[2],v=T[3],x=(s+b)/2,j=(D+v)/2;return U.points.map(function(te){var V=U.x,F=U.y,Z=(0,R.U1)(V+te[0],F+te[1],x,j,U.angle),ne=(0,f.Z)(Z,2);return[V=ne[0],F=ne[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(U,y){var T=y<0?U.points.length+y:y,s=(0,k.qf)(U),D=(0,f.Z)(s,4),b=D[0],v=D[1],x=(b+D[2])/2,j=(v+D[3])/2,te=U.points[T],V=U.x,F=U.y;return te?(0,R.U1)(V+te[0],F+te[1],x,j,U.angle):(0,R.U1)(V,F,x,j,U.angle)}},{key:"pointFromAbsoluteCoords",value:function(U,y){var T=(0,k.qf)(U),s=(0,f.Z)(T,4),D=s[0],b=s[1],v=(D+s[2])/2,x=(b+s[3])/2,j=(0,R.U1)(y[0],y[1],v,x,-U.angle),te=(0,f.Z)(j,2),V=te[0],F=te[1];return[V-U.x,F-U.y]}},{key:"getPointIndexUnderCursor",value:function(U,y,T,s){for(var D=C.getPointsGlobalCoordinates(U),b=D.length;--b>-1;){var v=D[b];if((0,R.LW)(T,s,v[0],v[1])*y.value<C.POINT_HANDLE_SIZE+1)return b}return-1}},{key:"createPointAt",value:function(U,y,T,s){var D=(0,R.wC)(y,T,s),b=(0,k.qf)(U),v=(0,f.Z)(b,4),x=v[0],j=v[1],te=(x+v[2])/2,V=(j+v[3])/2,F=(0,R.U1)(D[0],D[1],te,V,-U.angle),Z=(0,f.Z)(F,2),ne=Z[0],ce=Z[1];return[ne-U.x,ce-U.y]}},{key:"getNormalizedPoints",value:function(U){var y=U.points,T=y[0][0],s=y[0][1];return{points:y.map(function(D,b){return[D[0]-T,D[1]-s]}),x:U.x+T,y:U.y+s}}},{key:"normalizePoints",value:function(U){(0,L.DR)(U,C.getNormalizedPoints(U))}},{key:"duplicateSelectedPoints",value:function(U){if(!U.editingLinearElement)return!1;var y=U.editingLinearElement,T=y.selectedPointsIndices,s=y.elementId,D=C.getElement(s);if(!D||T===null)return!1;var b=D.points,v=[],x=!1,j=-1,te=b.reduce(function(F,Z,ne){if(++j,F.push(Z),T.includes(ne)){var ce=b[ne+1];ce||(x=!0),F.push(ce?[(Z[0]+ce[0])/2,(Z[1]+ce[1])/2]:[Z[0],Z[1]]),v.push(j+1),++j}return F},[]);if((0,L.DR)(D,{points:te}),x){var V=D.points[D.points.length-1];C.movePoints(D,[{index:D.points.length-1,point:[V[0]+30,V[1]+30]}])}return{appState:oe(oe({},U),{},{editingLinearElement:oe(oe({},U.editingLinearElement),{},{selectedPointsIndices:v})})}}},{key:"deletePoints",value:function(U,y){var T=0,s=0;if(y.includes(0)){var D=U.points.find(function(v,x){return!y.includes(x)});D&&(T=D[0],s=D[1])}var b=U.points.reduce(function(v,x,j){return y.includes(j)||v.push(v.length?[x[0]-T,x[1]-s]:[0,0]),v},[]);C._updatePoints(U,b,T,s)}},{key:"addPoints",value:function(U,y,T){var s=[].concat((0,M.Z)(U.points),(0,M.Z)(T.map(function(D){return D.point})));C._updatePoints(U,s,0,0)}},{key:"movePoints",value:function(U,y,T){var s=U.points,D=0,b=0,v=y.find(function(j){return j.index===0});v&&(D=v.point[0]+s[v.index][0],b=v.point[1]+s[v.index][1]);var x=s.map(function(j,te){var V=y.find(function(ne){return ne.index===te});if(V){if(v)return j;var F=V.point[0]-s[V.index][0],Z=V.point[1]-s[V.index][1];return[j[0]+F,j[1]+Z]}return D||b?[j[0]-D,j[1]-b]:j});C._updatePoints(U,x,D,b,T)}},{key:"shouldAddMidpoint",value:function(U,y,T){if(!C.getElement(U.elementId))return!1;var s=U.pointerDownState.segmentMidpoint;if(s.added||s.value===null||s.index===null||U.pointerDownState.origin===null)return!1;var D=U.pointerDownState.origin,b=(0,R.LW)(D.x,D.y,y.x,y.y);return!(!T.editingLinearElement&&b<ge.f/T.zoom.value)}},{key:"addMidpoint",value:function(U,y,T,s){var D=C.getElement(U.elementId);if(D){var b=U.pointerDownState.segmentMidpoint,v={pointerDownState:U.pointerDownState,selectedPointsIndices:U.selectedPointsIndices},x=C.createPointAt(D,y.x,y.y,s?T.gridSize:null),j=[].concat((0,M.Z)(D.points.slice(0,b.index)),[x],(0,M.Z)(D.points.slice(b.index)));return(0,L.DR)(D,{points:j}),v.pointerDownState=oe(oe({},U.pointerDownState),{},{segmentMidpoint:oe(oe({},U.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:b.index}),v.selectedPointsIndices=[b.index],v}}},{key:"_updatePoints",value:function(U,y,T,s,D){var b=(0,d.Ut)(U,y),v=(0,d.Ut)(U,U.points),x=(b[0]+b[2])/2,j=(b[1]+b[3])/2,te=(v[0]+v[2])/2-x,V=(v[1]+v[3])/2-j,F=(0,R.U1)(T,s,te,V,U.angle);(0,L.DR)(U,oe(oe({},D),{},{points:y,x:U.x+F[0],y:U.y+F[1]}))}},{key:"_getShiftLockedDelta",value:function(U,y,T,s){var D=C.getPointGlobalCoordinates(U,y),b=(0,R.wC)(T[0],T[1],s),v=(0,f.Z)(b,2),x=v[0],j=v[1],te=(0,k.o4)(D[0],D[1],x,j),V=te.width,F=te.height;return(0,R.xj)([V,F],[0,0],-U.angle)}}]),C}();I.POINT_HANDLE_SIZE=10,I.getEditorMidPoints=function(C,U){var y=(0,he.WJ)(C);return!U.editingLinearElement&&C.points.length>2&&!y?[]:(O.version===C.version&&O.zoom===U.zoom.value||I.updateEditorMidPointsCache(C,U),O.points)},I.updateEditorMidPointsCache=function(C,U){for(var y=I.getPointsGlobalCoordinates(C),T=0,s=[];T<y.length-1;)if(I.isSegmentTooShort(C,C.points[T],C.points[T+1],U.zoom))s.push(null),T++;else{var D=I.getSegmentMidPoint(C,y[T],y[T+1],T+1);s.push(D),T++}O.points=s,O.version=C.version,O.zoom=U.zoom.value},I.getSegmentMidpointHitCoords=function(C,U,y){var T=C.elementId,s=I.getElement(T);if(!s||I.getPointIndexUnderCursor(s,y.zoom,U.x,U.y)>=0||I.getPointsGlobalCoordinates(s).length>=3&&!y.editingLinearElement)return null;var D=I.POINT_HANDLE_SIZE/y.zoom.value,b=C.segmentMidPointHoveredCoords;if(b&&(0,R.LW)(b[0],b[1],U.x,U.y)<=D)return b;for(var v=0,x=I.getEditorMidPoints(s,y);v<x.length;){if(x[v]!==null&&(0,R.LW)(x[v][0],x[v][1],U.x,U.y)<=D)return x[v];v++}return null},I.getBoundTextElementPosition=function(C,U){var y=I.getPointsGlobalCoordinates(C);y.length<2&&(0,L.DR)(U,{isDeleted:!0});var T=0,s=0;if(C.points.length%2==1){var D=Math.floor(C.points.length/2),b=I.getPointGlobalCoordinates(C,C.points[D]);T=b[0]-U.width/2,s=b[1]-U.height/2}else{var v=C.points.length/2-1,x=O.points[v];C.points.length===2&&(x=(0,R.H5)(y[0],y[1])),x&&O.version===C.version||(x=I.getSegmentMidPoint(C,y[v],y[v+1],v+1)),T=x[0]-U.width/2,s=x[1]-U.height/2}return{x:T,y:s}},I.getMinMaxXYWithBoundText=function(C,U,y){var T=(0,f.Z)(U,4),s=T[0],D=T[1],b=T[2],v=T[3],x=(s+b)/2,j=(D+v)/2,te=I.getBoundTextElementPosition(C,y),V=te.x,F=te.y,Z=V+y.width,ne=F+y.height,ce=(0,R.xj)([s,D],[x,j],C.angle),Se=(0,R.xj)([b,D],[x,j],C.angle),de=(0,R.xj)([V,F],[x,j],-C.angle),_e=(0,R.xj)([Z,F],[x,j],-C.angle),we=(0,R.xj)([V,ne],[x,j],-C.angle),J=(0,R.xj)([Z,ne],[x,j],-C.angle);return ce[0]<Se[0]&&ce[1]>=Se[1]?(s=Math.min(s,we[0]),b=Math.max(b,Math.max(_e[0],J[0])),D=Math.min(D,de[1]),v=Math.max(v,J[1])):ce[0]>=Se[0]&&ce[1]>Se[1]?(s=Math.min(s,J[0]),b=Math.max(b,Math.max(de[0],_e[0])),D=Math.min(D,we[1]),v=Math.max(v,_e[1])):ce[0]>=Se[0]?(s=Math.min(s,_e[0]),b=Math.max(b,we[0]),D=Math.min(D,J[1]),v=Math.max(v,de[1])):ce[1]<=Se[1]&&(s=Math.min(s,Math.min(_e[0],de[0])),b=Math.max(b,J[0]),D=Math.min(D,_e[1]),v=Math.max(v,we[1])),[s,D,b,v,x,j]},I.getElementAbsoluteCoords=function(C){var U,y,T,s,D,b=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(C.points.length<2||!ve.R.get(C)){var v=C.points.reduce(function(Ue,et){var He=(0,f.Z)(et,2),Le=He[0],De=He[1];return Ue.minY=Math.min(Ue.minY,De),Ue.minX=Math.min(Ue.minX,Le),Ue.maxX=Math.max(Ue.maxX,Le),Ue.maxY=Math.max(Ue.maxY,De),Ue},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),x=v.minX,j=v.minY,te=v.maxX,V=v.maxY;y=x+C.x,T=j+C.y,s=te+C.x,D=V+C.y}else{var F=ve.R.generateElementShape(C),Z=(0,d.CM)(F[0]),ne=(0,d.IX)(Z),ce=(0,f.Z)(ne,4),Se=ce[0],de=ce[1],_e=ce[2],we=ce[3];y=Se+C.x,T=de+C.y,s=_e+C.x,D=we+C.y}var J=(y+s)/2,xe=(T+D)/2;if(U=[y,T,s,D,J,xe],!b)return U;var je=(0,he.WJ)(C);return je&&(U=I.getMinMaxXYWithBoundText(C,[y,T,s,D],je)),U};var A=function(C){var U=(0,M.Z)(new Set(C.filter(function(y){return y!==null&&y!==-1})));return(U=U.sort(function(y,T){return y-T})).length?U:null}},583:function(Q,z,o){o.d(z,{BE:function(){return Y},DR:function(){return W},ZP:function(){return ee}});var M=o(6655),p=o(7169),f=o(457),u=o(5999),E=o(4643),R=o(9827),k=o(2921);function d(S,B){var he=Object.keys(S);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(S);B&&(ge=ge.filter(function(ve){return Object.getOwnPropertyDescriptor(S,ve).enumerable})),he.push.apply(he,ge)}return he}function L(S){for(var B=1;B<arguments.length;B++){var he=arguments[B]!=null?arguments[B]:{};B%2?d(Object(he),!0).forEach(function(ge){(0,p.Z)(S,ge,he[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(he)):d(Object(he)).forEach(function(ge){Object.defineProperty(S,ge,Object.getOwnPropertyDescriptor(he,ge))})}return S}var W=function(S,B){var he,ge=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ve=!1,me=B,le=me.points,N=me.fileId;for(var oe in le!==void 0&&(B=L(L({},(0,u.k)(le)),B)),B){var O=B[oe];if(O!==void 0){if(S[oe]===O&&((0,M.Z)(O)!=="object"||O===null||oe==="groupIds"||oe==="scale"))continue;if(oe==="scale"){var I=S[oe],A=O;if(I[0]===A[0]&&I[1]===A[1])continue}else if(oe==="points"){var C=S[oe],U=O;if(C.length===U.length){for(var y=!1,T=C.length;--T;){var s=C[T],D=U[T];if(s[0]!==D[0]||s[1]!==D[1]){y=!0;break}}if(!y)continue}}S[oe]=O,ve=!0}}return ve&&(B.height===void 0&&B.width===void 0&&N===void 0&&le===void 0||k.R.delete(S),S.version++,S.versionNonce=(0,E.LU)(),S.updated=(0,R.C3)(),ge&&((he=f.Z.getScene(S))===null||he===void 0||he.informMutation())),S},Y=function(S,B){var he=!1;for(var ge in B){var ve=B[ge];if(ve!==void 0){if(S[ge]===ve&&((0,M.Z)(ve)!=="object"||ve===null))continue;he=!0}}return he?L(L(L({},S),B),{},{updated:(0,R.C3)(),version:S.version+1,versionNonce:(0,E.LU)()}):S},ee=function(S,B){return S.version=(B??S.version)+1,S.versionNonce=(0,E.LU)(),S.updated=(0,R.C3)(),S}},5742:function(Q,z,o){o.d(z,{JZ:function(){return U},KE:function(){return T},M:function(){return oe},M3:function(){return O},N_:function(){return y},OL:function(){return v},Sy:function(){return j},Up:function(){return N},VL:function(){return A},_N:function(){return te},vw:function(){return D},y8:function(){return s}});var M=o(6655),p=o(2577),f=o(7169),u=o(2726),E=o(9827),R=o(4643),k=o(583),d=o(9215),L=o(7651),W=o(2361),Y=o(4949),ee=o(4761),S=o(9937),B=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function he(V,F){var Z=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!Z){if(Array.isArray(V)||(Z=function(we,J){if(we){if(typeof we=="string")return ge(we,J);var xe=Object.prototype.toString.call(we).slice(8,-1);if(xe==="Object"&&we.constructor&&(xe=we.constructor.name),xe==="Map"||xe==="Set")return Array.from(we);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return ge(we,J)}}(V))||F&&V&&typeof V.length=="number"){Z&&(V=Z);var ne=0,ce=function(){};return{s:ce,n:function(){return ne>=V.length?{done:!0}:{done:!1,value:V[ne++]}},e:function(we){throw we},f:ce}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,de=!0,_e=!1;return{s:function(){Z=Z.call(V)},n:function(){var we=Z.next();return de=we.done,we},e:function(we){_e=!0,Se=we},f:function(){try{de||Z.return==null||Z.return()}finally{if(_e)throw Se}}}}function ge(V,F){(F==null||F>V.length)&&(F=V.length);for(var Z=0,ne=new Array(F);Z<F;Z++)ne[Z]=V[Z];return ne}function ve(V,F){var Z=Object.keys(V);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(V);F&&(ne=ne.filter(function(ce){return Object.getOwnPropertyDescriptor(V,ce).enumerable})),Z.push.apply(Z,ne)}return Z}function me(V){for(var F=1;F<arguments.length;F++){var Z=arguments[F]!=null?arguments[F]:{};F%2?ve(Object(Z),!0).forEach(function(ne){(0,f.Z)(V,ne,Z[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Z)):ve(Object(Z)).forEach(function(ne){Object.defineProperty(V,ne,Object.getOwnPropertyDescriptor(Z,ne))})}return V}var le=function(V,F){var Z,ne,ce=F.x,Se=F.y,de=F.strokeColor,_e=de===void 0?S.HN.strokeColor:de,we=F.backgroundColor,J=we===void 0?S.HN.backgroundColor:we,xe=F.fillStyle,je=xe===void 0?S.HN.fillStyle:xe,Ue=F.strokeWidth,et=Ue===void 0?S.HN.strokeWidth:Ue,He=F.strokeStyle,Le=He===void 0?S.HN.strokeStyle:He,De=F.roughness,Be=De===void 0?S.HN.roughness:De,Ze=F.opacity,ye=Ze===void 0?S.HN.opacity:Ze,be=F.width,X=be===void 0?0:be,h=F.height,m=h===void 0?0:h,_=F.angle,G=_===void 0?0:_,$=F.groupIds,ue=$===void 0?[]:$,ie=F.frameId,pe=ie===void 0?null:ie,Pe=F.roundness,Me=Pe===void 0?null:Pe,$e=F.boundElements,Ke=$e===void 0?null:$e,qe=F.link,Fe=qe===void 0?null:qe,ot=F.locked,it=ot===void 0?S.HN.locked:ot,ht=(0,u.Z)(F,B);return{id:ht.id||(0,R.kb)(),type:V,x:ce,y:Se,width:X,height:m,angle:G,strokeColor:_e,backgroundColor:J,fillStyle:je,strokeWidth:et,strokeStyle:Le,roughness:Be,opacity:ye,groupIds:ue,frameId:pe,roundness:Me,seed:(Z=ht.seed)!==null&&Z!==void 0?Z:(0,R.LU)(),version:ht.version||1,versionNonce:(ne=ht.versionNonce)!==null&&ne!==void 0?ne:0,isDeleted:!1,boundElements:Ke,updated:(0,E.C3)(),link:Fe,locked:it,customData:ht.customData}},N=function(V){return le(V.type,V)},oe=function(V){return me(me({},le("embeddable",V)),{},{validated:V.validated})},O=function(V){return(0,k.BE)(me(me({},le("frame",V)),{},{type:"frame",name:(V==null?void 0:V.name)||null}),{})},I=function(V,F){return{x:V.textAlign==="center"?F.width/2:V.textAlign==="right"?F.width:0,y:V.verticalAlign==="middle"?F.height/2:0}},A=function(V){var F=V.fontFamily||S.rk,Z=V.fontSize||S.n5,ne=V.lineHeight||(0,ee.PT)(F),ce=(0,ee.bG)(V.text),Se=(0,ee.X1)(ce,(0,E.mO)({fontFamily:F,fontSize:Z}),ne),de=V.textAlign||S.Hg,_e=V.verticalAlign||S.hs,we=I({textAlign:de,verticalAlign:_e},Se);return(0,k.BE)(me(me({},le("text",V)),{},{text:ce,fontSize:Z,fontFamily:F,textAlign:de,verticalAlign:_e,x:V.x-we.x,y:V.y-we.y,width:Se.width,height:Se.height,baseline:Se.baseline,containerId:V.containerId||null,originalText:ce,lineHeight:ne}),{})},C=function(V,F){var Z,ne,ce=(0,ee.X1)(F,(0,E.mO)(V),V.lineHeight),Se=ce.width,de=ce.height,_e=ce.baseline,we=V.textAlign,J=V.verticalAlign;if(we!=="center"||J!==S.oX.MIDDLE||V.containerId){var xe=(0,L.qf)(V),je=(0,p.Z)(xe,4),Ue=je[0],et=je[1],He=je[2],Le=je[3],De=(0,Y.wC)(V,Se,de,!1),Be=(0,p.Z)(De,4),Ze=(Ue-Be[0])/2,ye=(et-Be[1])/2,be=(He-Be[2])/2,X=(Le-Be[3])/2,h=(0,W.yq)({s:!0,e:we==="center"||we==="left",w:we==="center"||we==="right"},V.x,V.y,V.angle,Ze,ye,be,X),m=(0,p.Z)(h,2);Z=m[0],ne=m[1]}else{var _=(0,ee.X1)(V.text,(0,E.mO)(V),V.lineHeight),G=I(V,{width:Se-_.width,height:de-_.height});Z=V.x-G.x,ne=V.y-G.y}return{width:Se,height:de,baseline:_e,x:Number.isFinite(Z)?Z:V.x,y:Number.isFinite(ne)?ne:V.y}},U=function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.text;if(!V.isDeleted){var Z=(0,ee.tl)(V);Z&&(F=(0,ee.lD)(F,(0,E.mO)(V),(0,ee.iZ)(Z)));var ne=C(V,F);return me({text:F},ne)}},y=function(V,F){F.text;var Z=F.isDeleted,ne=F.originalText;return(0,k.BE)(V,me({originalText:ne,isDeleted:Z??V.isDeleted},U(V,ne)))},T=function(V){return me(me({},le(V.type,V)),{},{points:V.points||[],pressures:[],simulatePressure:V.simulatePressure,lastCommittedPoint:null})},s=function(V){return me(me({},le(V.type,V)),{},{points:V.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:V.startArrowhead||null,endArrowhead:V.endArrowhead||null})},D=function(V){var F,Z,ne;return me(me({},le("image",V)),{},{strokeColor:"transparent",status:(F=V.status)!==null&&F!==void 0?F:"pending",fileId:(Z=V.fileId)!==null&&Z!==void 0?Z:null,scale:(ne=V.scale)!==null&&ne!==void 0?ne:[1,1]})},b=function V(F){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(F==null||(0,M.Z)(F)!=="object")return F;var ne=Object.prototype.toString.call(F);if(ne==="[object Object]"){var ce=typeof F.constructor=="function"?Object.create(Object.getPrototypeOf(F)):{};for(var Se in F)if(F.hasOwnProperty(Se)){if(Z===0&&(Se==="shape"||Se==="canvas"))continue;ce[Se]=V(F[Se],Z+1)}return ce}if(Array.isArray(F)){for(var de=F.length,_e=new Array(de);de--;)_e[de]=V(F[de],Z+1);return _e}return F},v=function(V){return b(V)},x=function(V){if((0,E.h2)()&&V){var F,Z,ne="".concat(V,"_copy");return(F=window.h)!==null&&F!==void 0&&(Z=F.app)!==null&&Z!==void 0&&Z.getSceneElementsIncludingDeleted().find(function(ce){return ce.id===ne})&&(ne+="_copy"),ne}return(0,R.kb)()},j=function(V,F,Z,ne){var ce=v(Z);return ce.id=x(ce.id),ce.boundElements=null,ce.updated=(0,E.C3)(),ce.seed=(0,R.LU)(),ce.groupIds=(0,d.Qy)(ce.groupIds,V,function(Se){return F.has(Se)||F.set(Se,x(Se)),F.get(Se)}),ne&&(ce=Object.assign(ce,ne)),ce},te=function(V,F){var Z,ne=[],ce=(0,E.xn)(V),Se=new Map,de=function(He){if(Se.has(He))return Se.get(He);if(ce.has(He)){var Le=x(He);return Se.set(He,Le),Le}return null},_e=new Map,we=he(V);try{for(we.s();!(Z=we.n()).done;){var J=Z.value,xe=b(J);if(xe.id=de(J.id),F!=null&&F.randomizeSeed&&(xe.seed=(0,R.LU)(),(0,k.ZP)(xe)),xe.groupIds&&(xe.groupIds=xe.groupIds.map(function(He){return _e.has(He)||_e.set(He,x(He)),_e.get(He)})),"containerId"in xe&&xe.containerId){var je=de(xe.containerId);xe.containerId=je}if("boundElements"in xe&&xe.boundElements&&(xe.boundElements=xe.boundElements.reduce(function(He,Le){var De=de(Le.id);return De&&He.push(me(me({},Le),{},{id:De})),He},[])),"endBinding"in xe&&xe.endBinding){var Ue=de(xe.endBinding.elementId);xe.endBinding=Ue?me(me({},xe.endBinding),{},{elementId:Ue}):null}if("startBinding"in xe&&xe.startBinding){var et=de(xe.startBinding.elementId);xe.startBinding=et?me(me({},xe.startBinding),{},{elementId:et}):null}xe.frameId&&(xe.frameId=de(xe.frameId)),ne.push(xe)}}catch(He){we.e(He)}finally{we.f()}return ne}},4381:function(Q,z,o){o.d(z,{LM:function(){return T},T:function(){return b},vY:function(){return O},xx:function(){return D}});var M=o(2726),p=o(1930),f=o(7169),u=o(2577),E=o(9937),R=o(5999),k=o(2361),d=o(4949),L=o(4183),W=o(583),Y=o(9827),ee=o(9645),S=o(457),B=o(4761),he=o(7422),ge=["boundTextFontSize"];function ve(v,x){var j=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!j){if(Array.isArray(v)||(j=function(ce,Se){if(ce){if(typeof ce=="string")return me(ce,Se);var de=Object.prototype.toString.call(ce).slice(8,-1);if(de==="Object"&&ce.constructor&&(de=ce.constructor.name),de==="Map"||de==="Set")return Array.from(ce);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return me(ce,Se)}}(v))||x&&v&&typeof v.length=="number"){j&&(v=j);var te=0,V=function(){};return{s:V,n:function(){return te>=v.length?{done:!0}:{done:!1,value:v[te++]}},e:function(ce){throw ce},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,Z=!0,ne=!1;return{s:function(){j=j.call(v)},n:function(){var ce=j.next();return Z=ce.done,ce},e:function(ce){ne=!0,F=ce},f:function(){try{Z||j.return==null||j.return()}finally{if(ne)throw F}}}}function me(v,x){(x==null||x>v.length)&&(x=v.length);for(var j=0,te=new Array(x);j<x;j++)te[j]=v[j];return te}function le(v,x){var j=Object.keys(v);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(v);x&&(te=te.filter(function(V){return Object.getOwnPropertyDescriptor(v,V).enumerable})),j.push.apply(j,te)}return j}function N(v){for(var x=1;x<arguments.length;x++){var j=arguments[x]!=null?arguments[x]:{};x%2?le(Object(j),!0).forEach(function(te){(0,f.Z)(v,te,j[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(j)):le(Object(j)).forEach(function(te){Object.defineProperty(v,te,Object.getOwnPropertyDescriptor(j,te))})}return v}var oe=function(v){return v<0?v+2*Math.PI:v>=2*Math.PI?v-2*Math.PI:v},O=function(v,x,j,te,V,F,Z,ne,ce,Se,de,_e){if(j.length===1){var we=(0,u.Z)(j,1)[0];return x==="rotation"?(I(we,ne,ce,V,v.originalElements),(0,ee.Ww)(we)):!(0,L.iB)(we)||x!=="nw"&&x!=="ne"&&x!=="sw"&&x!=="se"?x&&y(v.originalElements,Z,we,x,F,ne,ce):(U(we,x,F,ne,ce),(0,ee.Ww)(we)),!0}if(j.length>1){if(x==="rotation")return s(v,j,ne,ce,V,Se,de),!0;if(x==="nw"||x==="ne"||x==="sw"||x==="se")return T(v,j,x,F,ne,ce),!0}return!1},I=function(v,x,j,te,V){var F,Z=(0,d.qf)(v),ne=(0,u.Z)(Z,4),ce=ne[0],Se=ne[1],de=(ce+ne[2])/2,_e=(Se+ne[3])/2;(0,L.He)(v)?F=0:(F=5*Math.PI/2+Math.atan2(j-_e,x-de),te&&(F+=E.ay/2,F-=F%E.ay),F=oe(F));var we=(0,B.xB)(v);if((0,W.DR)(v,{angle:F}),we){var J,xe=(J=S.Z.getScene(v))===null||J===void 0?void 0:J.getElement(we);xe&&!(0,L.Yv)(v)&&(0,W.DR)(xe,{angle:F})}},A=function(v,x,j,te){return(0,L.bt)(v)||(0,L.F9)(v)?{points:(0,R.z)(0,x,(0,R.z)(1,j,v.points,te),te)}:{}},C=function(v,x,j){var te=v.width;if((0,L.Xh)(v)){var V=(0,B.tl)(v);V&&(te=(0,B.iZ)(V))}var F=v.fontSize*(x/te);if(F<E.CP)return null;var Z=(0,B.X1)(v.text,(0,Y.mO)({fontSize:F,fontFamily:v.fontFamily}),v.lineHeight);return{size:F,baseline:Z.baseline+(j-Z.height)}},U=function(v,x,j,te,V){var F,Z=(0,d.qf)(v),ne=(0,u.Z)(Z,4),ce=ne[0],Se=ne[1],de=ne[2],_e=ne[3],we=(ce+de)/2,J=(Se+_e)/2,xe=(0,k.U1)(te,V,we,J,-v.angle),je=(0,u.Z)(xe,2),Ue=je[0],et=je[1];switch(x){case"se":F=Math.max((Ue-ce)/(de-ce),(et-Se)/(_e-Se));break;case"nw":F=Math.max((de-Ue)/(de-ce),(_e-et)/(_e-Se));break;case"ne":F=Math.max((Ue-ce)/(de-ce),(_e-et)/(_e-Se));break;case"sw":F=Math.max((de-Ue)/(de-ce),(et-Se)/(_e-Se))}if(F>0){var He=v.width*F,Le=v.height*F,De=C(v,He,Le);if(De===null)return;var Be=(0,d.wC)(v,He,Le,!1),Ze=(0,u.Z)(Be,4),ye=(ce-Ze[0])/2,be=(Se-Ze[1])/2,X=(de-Ze[2])/2,h=(_e-Ze[3])/2,m=(0,k.yq)(function(ue,ie){return{n:/^(n|ne|nw)$/.test(ue)||ie&&/^(s|se|sw)$/.test(ue),s:/^(s|se|sw)$/.test(ue)||ie&&/^(n|ne|nw)$/.test(ue),w:/^(w|nw|sw)$/.test(ue)||ie&&/^(e|ne|se)$/.test(ue),e:/^(e|ne|se)$/.test(ue)||ie&&/^(w|nw|sw)$/.test(ue)}}(x,j),v.x,v.y,v.angle,ye,be,X,h),_=(0,u.Z)(m,2),G=_[0],$=_[1];(0,W.DR)(v,{fontSize:De.size,width:He,height:Le,baseline:De.baseline,x:G,y:$})}},y=function(v,x,j,te,V,F,Z){var ne=v.get(j.id),ce=(0,d.wC)(ne,ne.width,ne.height,!0),Se=(0,u.Z)(ce,4),de=[Se[0],Se[1]],_e=[Se[2],Se[3]],we=(0,k.H5)(de,_e),J=(0,k.xj)([F,Z],we,-ne.angle),xe=(0,d.wC)(j,j.width,j.height,!0),je=(0,u.Z)(xe,4),Ue=je[0],et=je[1],He=je[2]-Ue,Le=je[3]-et,De=(_e[0]-de[0])/He,Be=(_e[1]-de[1])/Le,Ze={},ye=(0,B.WJ)(j);te.includes("e")&&(De=(J[0]-de[0])/He),te.includes("s")&&(Be=(J[1]-de[1])/Le),te.includes("w")&&(De=(_e[0]-J[0])/He),te.includes("n")&&(Be=(_e[1]-J[1])/Le);var be=ne.width,X=ne.height,h=j.width*De,m=j.height*Be;if(V&&(h=2*h-be,m=2*m-X),x){var _=Math.abs(h)/be,G=Math.abs(m)/X;if(te.length===1&&(m*=_,h*=G),te.length===2){var $=Math.max(_,G);h=be*$*Math.sign(h),m=X*$*Math.sign(m)}}if(ye){var ue=v.get(ye.id);if(ue&&(Ze={fontSize:ue.fontSize,baseline:ue.baseline}),x){var ie=N(N({},j),{},{width:h,height:m}),pe=C(ye,(0,B.iZ)(ie),(0,B.D9)(ie,ye));if(pe===null)return;Ze={fontSize:pe.size,baseline:pe.baseline}}else{var Pe=(0,B.AT)((0,Y.mO)(ye),ye.lineHeight),Me=(0,B.w_)(ye.fontSize,ye.lineHeight);h=Math.max(h,Pe),m=Math.max(m,Me)}}var $e=(0,d.wC)(ne,h,m,!0),Ke=(0,u.Z)($e,4),qe=Ke[0],Fe=Ke[1],ot=Ke[2],it=Ke[3],ht=ot-qe,Te=it-Fe,Ie=[].concat(de);if(["n","w","nw"].includes(te)&&(Ie=[_e[0]-Math.abs(ht),_e[1]-Math.abs(Te)]),te==="ne"){var Ge=[de[0],_e[1]];Ie=[Ge[0],Ge[1]-Math.abs(Te)]}if(te==="sw"){var tt=[_e[0],de[1]];Ie=[tt[0]-Math.abs(ht),tt[1]]}x&&(["s","n"].includes(te)&&(Ie[0]=we[0]-ht/2),["e","w"].includes(te)&&(Ie[1]=we[1]-Te/2));var dt=m<0;h<0&&(te.includes("e")&&(Ie[0]-=Math.abs(ht)),te.includes("w")&&(Ie[0]+=Math.abs(ht))),dt&&(te.includes("s")&&(Ie[1]-=Math.abs(Te)),te.includes("n")&&(Ie[1]+=Math.abs(Te))),V&&(Ie[0]=we[0]-Math.abs(ht)/2,Ie[1]=we[1]-Math.abs(Te)/2);var ct=ne.angle,St=(0,k.xj)(Ie,we,ct),Pt=[Ie[0]+Math.abs(ht)/2,Ie[1]+Math.abs(Te)/2],mt=(0,k.xj)(Pt,we,ct);Ie=(0,k.xj)(St,mt,-ct);var Nt=(0,p.Z)(Ie),Xt=ne.x-qe,Zt=ne.y-Fe;Nt[0]+=Xt,Nt[1]+=Zt;var Dt,on,an=Nt[0],st=Nt[1];((0,L.bt)(j)||(0,L.F9)(j))&&(Dt=(0,R.z)(1,m,ne.points,!0),on=(0,R.z)(0,h,Dt,!0));var At={width:Math.abs(h),height:Math.abs(m),x:an,y:st,points:on};if("scale"in j&&"scale"in ne&&(0,W.DR)(j,{scale:[(Math.sign(ot-ne.x)||ne.scale[0])*ne.scale[0],(Math.sign(it-ne.y)||ne.scale[1])*ne.scale[1]]}),(0,L.Yv)(j)&&ye&&x){var bt=At.width/j.width*ye.fontSize;if(bt<E.CP)return;Ze.fontSize=bt}At.width!==0&&At.height!==0&&Number.isFinite(At.x)&&Number.isFinite(At.y)&&((0,W.DR)(j,At),(0,ee.Ww)(j,{newSize:{width:At.width,height:At.height}}),ye&&Ze!=null&&(0,W.DR)(ye,{fontSize:Ze.fontSize,baseline:Ze.baseline}),(0,B.RB)(j,te,x))},T=function(v,x,j,te,V,F){var Z,ne=x.reduce(function(bt,jt){var Et=v.originalElements.get(jt.id);return Et&&bt.push({orig:Et,latest:jt}),bt},[]),ce=ne.reduce(function(bt,jt){var Et,Vt=jt.orig;if(!(0,L.bt)(Vt))return bt;var Kt=(0,B.xB)(Vt);if(!Kt)return bt;var cn=(Et=v.originalElements.get(Kt))!==null&&Et!==void 0?Et:null;if(!(0,L.Xh)(cn))return bt;var Wt=he._.getBoundTextElementPosition(Vt,cn);return[].concat((0,p.Z)(bt),[N(N({},cn),Wt)])},[]),Se=(0,d.v2)(ne.map(function(bt){return bt.orig}).concat(ce)),de=Se.minX,_e=Se.minY,we=Se.maxX,J=Se.maxY,xe=Se.midX,je=Se.midY,Ue=j,et=te?[xe,je]:{ne:[de,J],se:[de,_e],sw:[we,_e],nw:[we,J]}[Ue],He=(0,u.Z)(et,2),Le=He[0],De=He[1],Be=Math.max(Math.abs(V-Le)/(we-de)||0,Math.abs(F-De)/(J-_e)||0)*(te?2:1);if(Be!==0){var Ze,ye={ne:[V>=Le,F<=De],se:[V>=Le,F>=De],sw:[V<=Le,F>=De],nw:[V<=Le,F<=De]}[Ue].map(function(bt){return bt?1:-1}),be=(0,u.Z)(ye,2),X=be[0],h=be[1],m=X<0,_=h<0,G=[],$=ve(ne);try{for($.s();!(Ze=$.n()).done;){var ue,ie=Ze.value,pe=ie.orig,Pe=ie.latest;if(!(0,L.iB)(pe)||!(0,L.Xh)(pe)){var Me=pe.width*Be,$e=pe.height*Be,Ke=oe(pe.angle*X*h),qe=(0,L.bt)(pe)||(0,L.F9)(pe),Fe=pe.x-Le,ot=pe.y-De,it=Le+X*(Fe*Be+(m&&!qe?Me:0)),ht=De+h*(ot*Be+(_&&!qe?$e:0)),Te=A(pe,Me*X,$e*h,!1),Ie=N({x:it,y:ht,width:Me,height:$e,angle:Ke},Te);if((0,L.pC)(pe)&&ne.length===1&&(Ie.scale=[pe.scale[0]*X,pe.scale[1]*h]),(0,L.bt)(pe)&&(m||_)&&function(){var bt=(0,d.Ut)(pe,pe.points),jt=(0,d.Ut)(N(N({},pe),{},{x:it,y:ht}),Te.points),Et=[pe.x,pe.y],Vt=[it,ht],Kt=function(cn){var Wt=cn==="x"?0:1;return(jt[Wt+2]-Vt[Wt]-(Et[Wt]-bt[Wt])*Be+(bt[Wt+2]-Et[Wt])*Be-(Vt[Wt]-jt[Wt]))/2};m&&(Ie.x-=Kt("x")),_&&(Ie.y-=Kt("y"))}(),(0,L.iB)(pe)){var Ge=C(pe,Me,$e);if(!Ge)return;Ie.fontSize=Ge.size,Ie.baseline=Ge.baseline}var tt=v.originalElements.get((ue=(0,B.xB)(pe))!==null&&ue!==void 0?ue:"");if(tt){var dt=tt.fontSize*Be;if(dt<E.CP)return;Ie.boundTextFontSize=dt}G.push({element:Pe,update:Ie})}}}catch(bt){$.e(bt)}finally{$.f()}for(var ct=G.map(function(bt){return bt.element}),St=0,Pt=G;St<Pt.length;St++){var mt=Pt[St],Nt=mt.element,Xt=mt.update,Zt=Xt.boundTextFontSize,Dt=(0,M.Z)(Xt,ge),on=Dt.width,an=Dt.height,st=Dt.angle;(0,W.DR)(Nt,Dt,!1),(0,ee.Ww)(Nt,{simultaneouslyUpdated:ct,newSize:{width:on,height:an}});var At=(0,B.WJ)(Nt);At&&Zt&&((0,W.DR)(At,{fontSize:Zt,angle:(0,L.bt)(Nt)?void 0:st},!1),(0,B.RB)(Nt,j,!0))}(Z=S.Z.getScene(G[0].element))===null||Z===void 0||Z.informMutation()}},s=function(v,x,j,te,V,F,Z){var ne,ce=5*Math.PI/2+Math.atan2(te-Z,j-F);V&&(ce+=E.ay/2,ce-=ce%E.ay),x.filter(function(Se){return Se.type!=="frame"}).forEach(function(Se){var de,_e,we=(0,d.qf)(Se),J=(0,u.Z)(we,4),xe=J[0],je=J[1],Ue=(xe+J[2])/2,et=(je+J[3])/2,He=(de=(_e=v.originalElements.get(Se.id))===null||_e===void 0?void 0:_e.angle)!==null&&de!==void 0?de:Se.angle,Le=(0,k.U1)(Ue,et,F,Z,ce+He-Se.angle),De=(0,u.Z)(Le,2),Be=De[0],Ze=De[1];(0,W.DR)(Se,{x:Se.x+(Be-Ue),y:Se.y+(Ze-et),angle:oe(ce+He)},!1),(0,ee.Ww)(Se,{simultaneouslyUpdated:x});var ye=(0,B.WJ)(Se);ye&&!(0,L.Yv)(Se)&&(0,W.DR)(ye,{x:ye.x+(Be-Ue),y:ye.y+(Ze-et),angle:oe(ce+He)},!1)}),(ne=S.Z.getScene(x[0]))===null||ne===void 0||ne.informMutation()},D=function(v,x,j,te){var V=x.length===1?(0,d.qf)(x[0]):(0,d.KP)(x),F=(0,u.Z)(V,4),Z=F[0],ne=F[1],ce=F[2],Se=F[3],de=(Z+ce)/2,_e=(ne+Se)/2,we=x.length===1?x[0].angle:0,J=(0,k.U1)(j,te,de,_e,-we),xe=(0,u.Z)(J,2);switch(j=xe[0],te=xe[1],v){case"n":return(0,k.U1)(j-(Z+ce)/2,te-ne,0,0,we);case"s":return(0,k.U1)(j-(Z+ce)/2,te-Se,0,0,we);case"w":return(0,k.U1)(j-Z,te-(ne+Se)/2,0,0,we);case"e":return(0,k.U1)(j-ce,te-(ne+Se)/2,0,0,we);case"nw":return(0,k.U1)(j-Z,te-ne,0,0,we);case"ne":return(0,k.U1)(j-ce,te-ne,0,0,we);case"sw":return(0,k.U1)(j-Z,te-Se,0,0,we);case"se":return(0,k.U1)(j-ce,te-Se,0,0,we);default:return[0,0]}},b=function(v,x){var j=(0,u.Z)(x.points,2),te=(0,u.Z)(j[1],2),V=te[0],F=te[1];return v==="nw"&&(V<0||F<0)||v==="ne"&&V>=0||v==="sw"&&V<=0||v==="se"&&(V>0||F>0)?"end":"origin"}},7935:function(Q,z,o){o.d(z,{PZ:function(){return k},QD:function(){return R},Qp:function(){return W},o4:function(){return L},uK:function(){return d}});var M=o(2577),p=(o(583),o(4183)),f=o(9937),u=o(4949),E=o(9827),R=function(Y){return(0,p.bt)(Y)||(0,p.F9)(Y)?Y.points.length<2:Y.width===0&&Y.height===0},k=function(Y,ee,S,B){var he=(0,u.Pi)(Y),ge=(0,M.Z)(he,4),ve=ge[0],me=ge[1],le=ge[2],N=ge[3],oe=(0,E.dE)({clientX:B.offsetLeft,clientY:B.offsetTop},B),O=(0,E.dE)({clientX:B.offsetLeft+ee,clientY:B.offsetTop+S},B);return oe.x<=le&&oe.y<=N&&O.x>=ve&&O.y>=me},d=function(Y,ee,S){var B=Math.abs(ee),he=Math.abs(S);if(Y==="line"||Y==="arrow"||Y==="freedraw"){var ge=Math.round(Math.atan(he/B)/f.ay)*f.ay;ge===0?S=0:ge===Math.PI/2?ee=0:S=B*Math.tan(ge)*Math.sign(S)||S}else Y!=="selection"&&(S=B*Math.sign(S));return{width:ee,height:S}},L=function(Y,ee,S,B){var he=S-Y,ge=B-ee,ve=Math.round(Math.atan(ge/he)/f.ay)*f.ay;if(ve===0)ge=0;else if(ve===Math.PI/2)he=0;else{var me=Math.tan(ve),le=ee-me*Y,N=-1/me,oe=B-N*S;he=(-1*oe- -1*le)/(-1*me- -1*N)-Y,ge=(le*N-oe*me)/(-1*me- -1*N)-ee}return{width:he,height:ge}},W=function(Y){var ee={width:Y.width,height:Y.height,x:Y.x,y:Y.y};if(Y.width<0){var S=Math.abs(Y.width);ee.width=S,ee.x=Y.x-S}if(Y.height<0){var B=Math.abs(Y.height);ee.height=B,ee.y=Y.y-B}return ee}},4761:function(Q,z,o){o.d(z,{$2:function(){return y},AT:function(){return V},D9:function(){return Le},FE:function(){return A},H_:function(){return _e},NS:function(){return et},OW:function(){return xe},P7:function(){return O},PT:function(){return Ze},R8:function(){return U},RB:function(){return I},Rg:function(){return T},TP:function(){return Se},WJ:function(){return ne},X1:function(){return C},Zr:function(){return Ue},aV:function(){return J},bG:function(){return le},cn:function(){return we},cw:function(){return de},eB:function(){return De},iZ:function(){return He},lD:function(){return x},mY:function(){return b},oN:function(){return oe},tl:function(){return ce},w_:function(){return s},xB:function(){return Z}});var M,p=o(2577),f=o(1930),u=o(7169),E=o(9827),R=o(583),k=o(9937),d=o(457),L=o(7651),W=o(4183),Y=o(7422),ee=o(4105),S=o(3528),B=o(3474);function he(ye,be){var X=Object.keys(ye);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(ye);be&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(ye,m).enumerable})),X.push.apply(X,h)}return X}function ge(ye){for(var be=1;be<arguments.length;be++){var X=arguments[be]!=null?arguments[be]:{};be%2?he(Object(X),!0).forEach(function(h){(0,u.Z)(ye,h,X[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(X)):he(Object(X)).forEach(function(h){Object.defineProperty(ye,h,Object.getOwnPropertyDescriptor(X,h))})}return ye}var ve,me,le=function(ye){return ye.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},N=function(ye){return le(ye).split(`
`)},oe=function(ye,be){var X=void 0,h={x:ye.x,y:ye.y,text:ye.text,width:ye.width,height:ye.height,baseline:ye.baseline};h.text=ye.text,be&&(X=He(be,ye),h.text=x(ye.originalText,(0,E.mO)(ye),X));var m=C(h.text,(0,E.mO)(ye),ye.lineHeight);if(h.width=m.width,h.height=m.height,h.baseline=m.baseline,be){var _=Le(be,ye),G=He(be);if(!(0,W.Yv)(be)&&m.height>_){var $=et(m.height,be.type);(0,R.DR)(be,{height:$}),(0,B.h_)(be.id,$)}if(m.width>G){var ue=et(m.width,be.type);(0,R.DR)(be,{width:ue})}var ie=ge(ge({},ye),h),pe=A(be,ie),Pe=pe.x,Me=pe.y;h.x=Pe,h.y=Me}(0,R.DR)(ye,h)},O=function(ye,be,X){var h=(0,E.xn)(ye);be.forEach(function(m){var _=X.get(m.id),G=Z(m);if(G){var $=X.get(G);if($){var ue=h.get(_);ue&&(0,R.DR)(ue,{boundElements:(m.boundElements||[]).filter(function(pe){return pe.id!==$&&pe.id!==G}).concat({type:"text",id:$})});var ie=h.get($);ie&&(0,L.iB)(ie)&&(0,R.DR)(ie,{containerId:ue?_:null})}}})},I=function(ye,be){var X=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=Z(ye);if(h){(0,B.kT)(ye.id);var m=d.Z.getScene(ye).getElement(h);if(m&&m.text){if(!ye)return;var _=(m=d.Z.getScene(ye).getElement(h)).text,G=m.height,$=m.width,ue=He(ye),ie=Le(ye,m),pe=ye.height,Pe=m.baseline;if(X||be!=="n"&&be!=="s"){_&&(_=x(m.originalText,(0,E.mO)(m),ue));var Me=C(_,(0,E.mO)(m),m.lineHeight);G=Me.height,$=Me.width,Pe=Me.baseline}if(G>ie){var $e=(pe=et(G,ye.type))-ye.height,Ke=(0,W.Yv)(ye)||be!=="ne"&&be!=="nw"&&be!=="n"?ye.y:ye.y-$e;(0,R.DR)(ye,{height:pe,y:Ke})}(0,R.DR)(m,{text:_,width:$,height:G,baseline:Pe}),(0,W.Yv)(ye)||(0,R.DR)(m,A(ye,m))}}},A=function(ye,be){if((0,W.Yv)(ye))return Y._.getBoundTextElementPosition(ye,be);var X,h=de(ye),m=Le(ye,be),_=He(ye);return X=be.verticalAlign===k.oX.TOP?h.y:be.verticalAlign===k.oX.BOTTOM?h.y+(m-be.height):h.y+(m/2-be.height/2),{x:be.textAlign===k.I8.LEFT?h.x:be.textAlign===k.I8.RIGHT?h.x+(_-be.width):h.x+(_/2-be.width/2),y:X}},C=function(ye,be,X){ye=ye.split(`
`).map(function(_){return _||" "}).join(`
`);var h=parseFloat(be),m=v(ye,h,X);return{width:b(ye,be),height:m,baseline:U(ye,be,X)}},U=function(ye,be,X,h){var m=document.createElement("div");m.style.position="absolute",m.style.whiteSpace="pre",m.style.font=be,m.style.minHeight="1em",h&&(m.style.overflow="hidden",m.style.wordBreak="break-word",m.style.whiteSpace="pre-wrap"),m.style.lineHeight=String(X),m.innerText=ye,document.body.appendChild(m);var _=document.createElement("span");_.style.display="inline-block",_.style.overflow="hidden",_.style.width="1px",_.style.height="1px",m.appendChild(_);var G=_.offsetTop+_.offsetHeight,$=m.offsetHeight;if(k.G6){var ue=v(ye,parseFloat(be),X),ie=parseFloat(be),pe=v(ye,Math.round(ie),X);ue>$&&(G+=ue-pe),$>ue&&(G-=pe-ue)}return document.body.removeChild(m),G},y=function(ye){var be=N(ye.text).length;return ye.height/be/ye.fontSize},T=function(ye,be){return ye*be},s=function(ye,be){return T(ye,be)+2*k.gK},D=function(ye,be){ve||(ve=document.createElement("canvas"));var X=ve.getContext("2d");X.font=be;var h=X.measureText(ye).width;return(0,E.h2)()?10*h:h},b=function(ye,be){var X=N(ye),h=0;return X.forEach(function(m){h=Math.max(h,D(m,be))}),h},v=function(ye,be,X){var h=N(ye).length;return T(be,X)*h},x=function(ye,be,X){if(!Number.isFinite(X)||X<0)return ye;var h=[],m=ye.split(`
`),_=D(" ",be),G="",$=0,ue=function(pe){pe.trim()&&h.push(pe)},ie=function(){G="",$=0};return m.forEach(function(pe){if(b(pe,be)<=X)h.push(pe);else{var Pe=function(it){var ht=it.split("-");return ht.length>1&&ht.forEach(function(Te,Ie){Ie!==ht.length-1&&(ht[Ie]=Te+="-")}),ht.join(" ").split(" ")}(pe);ie();for(var Me=0;Me<Pe.length;){var $e=D(Pe[Me],be);if($e===X)ue(Pe[Me]),Me++;else if($e>X){for(ue(G),ie();Pe[Me].length>0;){var Ke=String.fromCodePoint(Pe[Me].codePointAt(0)),qe=j.calculate(Ke,be);$+=qe,Pe[Me]=Pe[Me].slice(Ke.length),$>=X?(ue(G),G=Ke,$=qe):G+=Ke}$+_>=X?(ue(G),ie()):G.endsWith("-")||(G+=" ",$+=_),Me++}else for(;$<X&&Me<Pe.length;){var Fe=Pe[Me];if(($=D(G+Fe,be))>X){ue(G),ie();break}Me++;var ot=!Fe.endsWith("-");if(G+=Fe,ot&&(G+=" "),$+_>=X){ot?h.push(G.slice(0,-1)):h.push(G),ie();break}}}G.slice(-1)===" "&&(G=G.slice(0,-1),ue(G))}}),h.join(`
`)},j=(me={},{calculate:function(ye,be){var X=ye.charCodeAt(0);if(me[be]||(me[be]=[]),!me[be][X]){var h=D(ye,be);me[be][X]=h}return me[be][X]},getCache:function(ye){return me[ye]}}),te="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),V=function(ye,be){var X=F(ye);return X===0?C(te.split("").join(`
`),ye,be).width+2*k.gK:X+2*k.gK},F=function(ye){var be=j.getCache(ye);if(!be)return 0;var X=be.filter(function(h){return h!==void 0});return Math.max.apply(Math,(0,f.Z)(X))},Z=function(ye){var be,X,h;return ye!=null&&(be=ye.boundElements)!==null&&be!==void 0&&be.length&&(ye==null||(X=ye.boundElements)===null||X===void 0||(h=X.filter(function(m){return m.type==="text"})[0])===null||h===void 0?void 0:h.id)||null},ne=function(ye){if(!ye)return null;var be,X=Z(ye);return X&&((be=d.Z.getScene(ye))===null||be===void 0?void 0:be.getElement(X))||null},ce=function(ye){return ye&&ye.containerId&&((be=d.Z.getScene(ye))===null||be===void 0?void 0:be.getElement(ye.containerId))||null;var be},Se=function(ye,be){if(!(0,W.Yv)(ye))return{x:ye.x+ye.width/2,y:ye.y+ye.height/2};var X=Y._.getPointsGlobalCoordinates(ye);if(X.length%2==1){var h=Math.floor(ye.points.length/2),m=Y._.getPointGlobalCoordinates(ye,ye.points[h]);return{x:m[0],y:m[1]}}var _=ye.points.length/2-1,G=Y._.getEditorMidPoints(ye,be)[_];return G||(G=Y._.getSegmentMidPoint(ye,X[_],X[_+1],_+1)),{x:G[0],y:G[1]}},de=function(ye){var be=k.gK,X=k.gK;return ye.type==="ellipse"&&(be+=ye.width/2*(1-Math.sqrt(2)/2),X+=ye.height/2*(1-Math.sqrt(2)/2)),ye.type==="diamond"&&(be+=ye.width/4,X+=ye.height/4),{x:ye.x+be,y:ye.y+X}},_e=function(ye){var be=ce(ye);return!be||(0,W.Yv)(be)?ye.angle:be.angle},we=function(ye){return ye.some(function(be){if((0,W.Xh)(be)){var X=ce(be);return!(0,L.iB)(be)||!(0,W.Yv)(X)}return!1})},J=function(ye){return ye.some(function(be){if((0,W.Xh)(be)){var X=ce(be);return!(0,L.iB)(be)||!(0,W.Yv)(X)}return(0,L.iB)(be)})},xe=function(ye,be,X,h){var m=(0,ee.eD)(ye,be);if(m.length===1)return(0,W.mG)(m[0],!1)?m[0]:null;for(var _=null,G=ye.length-1;G>=0;--G)if(!ye[G].isDeleted){var $=(0,L.qf)(ye[G]),ue=(0,p.Z)($,4),ie=ue[0],pe=ue[1],Pe=ue[2],Me=ue[3];if((0,W.Yv)(ye[G])&&(0,S.Qu)(ye[G],be,null,[X,h])){_=ye[G];break}if(ie<X&&X<Pe&&pe<h&&h<Me){_=ye[G];break}}return(0,W.mG)(_,!1)?_:null},je=new Set(["rectangle","ellipse","diamond","arrow"]),Ue=function(ye){return je.has(ye.type)},et=function(ye,be){ye=Math.ceil(ye);var X=2*k.gK;return be==="ellipse"?Math.round((ye+X)/Math.sqrt(2)*2):be==="arrow"?ye+8*X:be==="diamond"?2*(ye+X):ye+X},He=function(ye){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ne(ye),X=ye.width;if((0,W.Yv)(ye)){var h,m=((h=be==null?void 0:be.fontSize)!==null&&h!==void 0?h:k.n5)*k.vL;return Math.max(k.bY*X,m)}return ye.type==="ellipse"?Math.round(X/2*Math.sqrt(2))-2*k.gK:ye.type==="diamond"?Math.round(X/2)-2*k.gK:X-2*k.gK},Le=function(ye,be){var X=ye.height;return(0,W.Yv)(ye)?X-8*k.gK*2<=0?be.height:X:ye.type==="ellipse"?Math.round(X/2*Math.sqrt(2))-2*k.gK:ye.type==="diamond"?Math.round(X/2)-2*k.gK:X-2*k.gK},De=function(){return b(te,(0,E.mO)({fontSize:k.n5,fontFamily:k.rk}))>0},Be=(M={},(0,u.Z)(M,k.ut.Virgil,1.25),(0,u.Z)(M,k.ut.Helvetica,1.15),(0,u.Z)(M,k.ut.Cascadia,1.2),M),Ze=function(ye){return ye in Be?Be[ye]:Be[k.rk]}},3474:function(Q,z,o){o.d(z,{b_:function(){return A},eR:function(){return I},h_:function(){return oe},kT:function(){return O}});var M=o(8950),p=o(7169),f=o(2577),u=o(2975),E=o.n(u),R=o(5491),k=o(9827),d=o(457),L=o(4183),W=o(9937),Y=o(583),ee=o(4761),S=o(3361),B=o(6006),he=o(7422),ge=o(4694);function ve(C,U){var y=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);U&&(T=T.filter(function(s){return Object.getOwnPropertyDescriptor(C,s).enumerable})),y.push.apply(y,T)}return y}function me(C){for(var U=1;U<arguments.length;U++){var y=arguments[U]!=null?arguments[U]:{};U%2?ve(Object(y),!0).forEach(function(T){(0,p.Z)(C,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(y)):ve(Object(y)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(y,T))})}return C}var le=function(C,U,y,T,s,D){var b=T.zoom,v=180*y/Math.PI,x=C*(b.value-1)/2,j=U*(b.value-1)/2;return C>s&&b.value!==1&&(x=s*(b.value-1)/2),U>D&&b.value!==1&&(j=D*(b.value-1)/2),"translate(".concat(x,"px, ").concat(j,"px) scale(").concat(b.value,") rotate(").concat(v,"deg)")},N={},oe=function(C,U){var y=N[C]||(N[C]={height:U});return y.height=U,y},O=function(C){N[C]&&delete N[C]},I=function(C){var U,y;return(U=(y=N[C])===null||y===void 0?void 0:y.height)!==null&&U!==void 0?U:null},A=function(C){var U=C.id,y=C.onChange,T=C.onSubmit,s=C.getViewportCoords,D=C.element,b=C.canvas,v=C.excalidrawContainer,x=C.app,j=function(){var De,Be=x.state,Ze=(De=d.Z.getScene(D))===null||De===void 0?void 0:De.getElement(U);if(Ze){var ye=Ze.textAlign,be=Ze.verticalAlign;if(Ze&&(0,L.iB)(Ze)){var X=Ze.x,h=Ze.y,m=(0,ee.tl)(Ze),_=Ze.width,G=Ze.height,$=Ze.width,ue=Ze.height;if(m&&Ze.containerId){if((0,L.Yv)(m)){var ie=he._.getBoundTextElementPosition(m,Ze);X=ie.x,h=ie.y}var pe,Pe=function(dt,ct){if(!ct.style.fontFamily||!ct.style.fontSize)return!1;var St=ct.style.fontFamily.replace(/"/g,"");return(0,k.$g)({fontFamily:dt.fontFamily})!==St||"".concat(dt.fontSize,"px")!==ct.style.fontSize}(Ze,te);if(Pe?pe=oe(m.id,m.height):(pe=N[m.id])||(pe=oe(m.id,m.height)),_=(0,ee.iZ)(m),G=(0,ee.D9)(m,Ze),!(0,L.Yv)(m)&&ue>G){var Me=(0,ee.NS)(ue,m.type);return void(0,Y.DR)(m,{height:Me})}if(!(0,L.Yv)(m)&&m.height>pe.height&&ue<G){var $e=(0,ee.NS)(ue,m.type);(0,Y.DR)(m,{height:$e})}else h=(0,ee.FE)(m,Ze).y}var Ke=s(X,h),qe=(0,f.Z)(Ke,2),Fe=qe[0],ot=qe[1],it=te.selectionStart,ht=te.selectionEnd,Te=te.value.length;if(it===ht&&ht!==Te){var Ie=Te-ht;te.selectionStart=te.value.length-Ie,te.selectionEnd=te.value.length-Ie}m?$+=.5:(_=(Be.width-8-Fe)/Be.zoom.value,$=Math.min($,_));var Ge=Ze.lineHeight;W.G6&&(Ge=(0,ee.$2)(me(me({},Ze),{},{fontSize:Math.round(Ze.fontSize)})));var tt=(Be.height-ot)/Be.zoom.value;Object.assign(te.style,{font:(0,k.mO)(Ze),lineHeight:Ge,width:"".concat($,"px"),height:"".concat(ue,"px"),left:"".concat(Fe,"px"),top:"".concat(ot,"px"),transform:le($,ue,(0,ee.H_)(Ze),Be,_,tt),textAlign:ye,verticalAlign:be,color:Ze.strokeColor,opacity:Ze.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(tt,"px")}),te.scrollTop=0,(0,k.h2)()&&(te.style.fontFamily=(0,k.$g)(Ze)),(0,Y.DR)(Ze,{x:X,y:h})}}},te=document.createElement("textarea");te.dir="auto",te.tabIndex=0,te.dataset.type="wysiwyg",te.wrap="off",te.classList.add("excalidraw-wysiwyg");var V="pre",F="normal";(0,L.Xh)(D)&&(V="pre-wrap",F="break-word"),Object.assign(te.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:F,whiteSpace:V,overflowWrap:"break-word",boxSizing:"content-box"}),te.value=D.originalText,j(),y&&(te.onpaste=function(){var De=(0,M.Z)(E().mark(function Be(Ze){var ye,be,X,h,m,_;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,ge.mQ)(Ze,!0);case 2:if((ye=G.sent).text){G.next=5;break}return G.abrupt("return");case 5:if(be=(0,ee.bG)(ye.text)){G.next=8;break}return G.abrupt("return");case 8:X=(0,ee.tl)(D),h=(0,k.mO)({fontSize:x.state.currentItemFontSize,fontFamily:x.state.currentItemFontFamily}),X&&(m=(0,ee.lD)("".concat(te.value).concat(be),h,(0,ee.iZ)(X)),_=(0,ee.mY)(m,h),te.style.width="".concat(_,"px"));case 11:case"end":return G.stop()}},Be)}));return function(Be){return De.apply(this,arguments)}}(),te.oninput=function(){y((0,ee.bG)(te.value))}),te.onkeydown=function(De){if(!De.shiftKey&&B.Lo.keyTest(De))De.preventDefault(),x.actionManager.executeAction(B.Lo),j();else if(!De.shiftKey&&B.CZ.keyTest(De))De.preventDefault(),x.actionManager.executeAction(B.CZ),j();else if(S.Tu.keyTest(De))x.actionManager.executeAction(S.Tu);else if(S.Zq.keyTest(De))x.actionManager.executeAction(S.Zq);else if(De.key===R.tW.ESCAPE)De.preventDefault(),we=!0,J();else if(De.key===R.tW.ENTER&&De[R.tW.CTRL_OR_CMD]){if(De.preventDefault(),De.isComposing||De.keyCode===229)return;we=!0,J()}else if(De.key===R.tW.TAB||De[R.tW.CTRL_OR_CMD]&&(De.code===R.aU.BRACKET_LEFT||De.code===R.aU.BRACKET_RIGHT)){if(De.preventDefault(),De.isComposing)return;De.shiftKey||De.code===R.aU.BRACKET_LEFT?Se():ce(),te.dispatchEvent(new Event("input"))}};var Z=" ".repeat(4),ne=new RegExp("^ {1,".concat(4,"}")),ce=function(){var De=te.selectionStart,Be=te.selectionEnd,Ze=de(),ye=te.value;Ze.forEach(function(be){var X=ye.slice(0,be),h=ye.slice(be);ye="".concat(X).concat(Z).concat(h)}),te.value=ye,te.selectionStart=De+4,te.selectionEnd=Be+4*Ze.length},Se=function(){var De=te.selectionStart,Be=te.selectionEnd,Ze=de(),ye=[],be=te.value;Ze.forEach(function(X){var h=be.slice(X,X+4).match(ne);if(h){var m=be.slice(0,X),_=be.slice(X+h[0].length);be="".concat(m).concat(_),ye.push(X)}}),te.value=be,ye.length&&(De>ye[ye.length-1]?te.selectionStart=Math.max(De-4,ye[ye.length-1]):te.selectionStart=De,te.selectionEnd=Math.max(te.selectionStart,Be-4*ye.length))},de=function(){var De=te.selectionStart,Be=te.selectionEnd,Ze=te.value,ye=Ze.slice(0,De).match(/[^\n]*$/)[0].length;return De-=ye,Ze.slice(De,Be).split(`
`).reduce(function(be,X,h,m){return be.concat(h?be[h-1]+m[h-1].length+1:De)},[]).reverse()},_e=function(De){De.preventDefault(),De.stopPropagation()},we=!1,J=function(){var De;xe();var Be=(De=d.Z.getScene(D))===null||De===void 0?void 0:De.getElement(D.id);if(Be){var Ze=te.value,ye=(0,ee.tl)(Be);if(ye){if(Ze=Be.text,te.value.trim()){var be=(0,ee.xB)(ye);be&&be===D.id?(0,L.Yv)(ye)&&(0,Y.ZP)(ye):(0,Y.DR)(ye,{boundElements:(ye.boundElements||[]).concat({type:"text",id:D.id})})}else{var X;(0,Y.DR)(ye,{boundElements:(X=ye.boundElements)===null||X===void 0?void 0:X.filter(function(h){return!(0,L.iB)(h)})})}(0,ee.oN)(Be,ye)}T({text:Ze,viaKeyboard:we,originalText:te.value})}},xe=function(){He||(He=!0,te.onblur=null,te.oninput=null,te.onkeydown=null,Le&&Le.disconnect(),window.removeEventListener("resize",j),window.removeEventListener("wheel",_e,!0),window.removeEventListener("pointerdown",Ue),window.removeEventListener("pointerup",je),window.removeEventListener("blur",J),window.removeEventListener("beforeunload",J),et(),te.remove())},je=function De(Be){window.removeEventListener("pointerup",De);var Ze=Be==null?void 0:Be.target,ye=Ze instanceof HTMLElement&&Ze.classList.contains("active-color");setTimeout(function(){if(te.onblur=J,ye){var be=new MutationObserver(function(X,h){X.find(function(m){var _;return m.removedNodes.length>0&&((_=m.removedNodes[0].dataset)===null||_===void 0?void 0:_.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){te.focus()}),h.disconnect())});be.observe(document.querySelector(".excalidraw-container"),{childList:!0})}ye||te.focus()})},Ue=function(De){var Be=De.target instanceof HTMLElement&&De.target.classList.contains("active-color");((De.target instanceof HTMLElement||De.target instanceof SVGElement)&&De.target.closest(".".concat(W.$C.SHAPE_ACTIONS_MENU))&&!(0,k.s)(De.target)||Be)&&(te.onblur=null,window.addEventListener("pointerup",je),window.addEventListener("blur",J))},et=d.Z.getScene(D).addCallback(function(){var De;j(),!((De=document.activeElement)===null||De===void 0||!De.closest(".color-picker-content"))||te.focus()}),He=!1;te.select(),je();var Le=null;b&&"ResizeObserver"in window?(Le=new window.ResizeObserver(function(){j()})).observe(b):window.addEventListener("resize",j),window.addEventListener("pointerdown",Ue),window.addEventListener("wheel",_e,{passive:!1,capture:!0}),window.addEventListener("beforeunload",J),v==null||v.querySelector(".excalidraw-textEditorContainer").appendChild(te)}},4048:function(Q,z,o){o.d(z,{Fn:function(){return L},PC:function(){return he},kK:function(){return B},oY:function(){return ge},ox:function(){return d}});var M=o(2577),p=o(4949),f=o(2361),u=o(7651),E=o(4183),R=o(7766),k={mouse:8,pen:16,touch:28},d={e:!0,s:!0,n:!0,w:!0},L={e:!0,s:!0,n:!0,w:!0,rotation:!0},W={e:!0,s:!0,n:!0,w:!0},Y={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},ee={e:!0,s:!0,n:!0,w:!0},S=function(ve,me,le,N,oe,O,I){var A=(0,f.U1)(ve+le/2,me+N/2,oe,O,I),C=(0,M.Z)(A,2);return[C[0]-le/2,C[1]-N/2,le,N]},B=function(ve,me,le,N){var oe=(0,M.Z)(ve,6),O=oe[0],I=oe[1],A=oe[2],C=oe[3],U=oe[4],y=oe[5],T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,D=k[N],b=D/le.value,v=D/le.value,x=D/le.value,j=D/le.value,te=A-O,V=C-I,F=s/le.value,Z=(D-2*R.Lu)/(2*le.value),ne={nw:T.nw?void 0:S(O-F-x+Z,I-F-j+Z,b,v,U,y,me),ne:T.ne?void 0:S(A+F-Z,I-F-j+Z,b,v,U,y,me),sw:T.sw?void 0:S(O-F-x+Z,C+F-Z,b,v,U,y,me),se:T.se?void 0:S(A+F-Z,C+F-Z,b,v,U,y,me),rotation:T.rotation?void 0:S(O+te/2-b/2,I-F-j+Z-16/le.value,b,v,U,y,me)},ce=5*k.mouse/le.value;return Math.abs(te)>ce&&(T.n||(ne.n=S(O+te/2-b/2,I-F-j+Z,b,v,U,y,me)),T.s||(ne.s=S(O+te/2-b/2,C+F-Z,b,v,U,y,me))),Math.abs(V)>ce&&(T.w||(ne.w=S(O-F-x+Z,I+V/2-v/2,b,v,U,y,me)),T.e||(ne.e=S(A+F-Z,I+V/2-v/2,b,v,U,y,me))),ne},he=function(ve,me){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(ve.locked)return{};var N={};if(ve.type==="freedraw"||(0,E.bt)(ve)){if(ve.points.length===2){var oe=(0,M.Z)(ve.points,2),O=oe[1];O[0]===0||O[1]===0?N=ee:O[0]>0&&O[1]<0?N=Y:O[0]>0&&O[1]>0?N=ee:O[0]<0&&O[1]>0?N=Y:O[0]<0&&O[1]<0&&(N=ee)}}else(0,u.iB)(ve)?N=W:(0,E.He)(ve)&&(N={rotation:!0});var I=(0,E.bt)(ve)?R.Lu+8:R.Lu;return B((0,p.qf)(ve,!0),ve.angle,me,le,N,I)},ge=function(ve,me){if(me.editingLinearElement)return!1;if(ve.length>1)return!0;var le=ve[0];return!(0,E.bt)(le)||le.points.length>2}},4183:function(Q,z,o){o.d(z,{F9:function(){return d},He:function(){return k},Lx:function(){return B},Mn:function(){return S},QI:function(){return N},UQ:function(){return I},Xh:function(){return le},Xo:function(){return me},Yv:function(){return Y},bt:function(){return W},dt:function(){return ee},eK:function(){return O},f0:function(){return he},gs:function(){return E},iB:function(){return R},mG:function(){return ge},pC:function(){return u},r2:function(){return ve},wi:function(){return f}});var M=o(9937),p=o(9827),f=function(A){return!!A&&A.type==="image"&&!!A.fileId},u=function(A){return!!A&&A.type==="image"},E=function(A){return!!A&&A.type==="embeddable"},R=function(A){return A!=null&&A.type==="text"},k=function(A){return A!=null&&A.type==="frame"},d=function(A){return A!=null&&L(A.type)},L=function(A){return A==="freedraw"},W=function(A){return A!=null&&ee(A.type)},Y=function(A){return A!=null&&A.type==="arrow"},ee=function(A){return A==="arrow"||A==="line"},S=function(A){var C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return A!=null&&(!A.locked||C===!0)&&B(A.type)},B=function(A){return A==="arrow"},he=function(A){var C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(A==null||A.locked&&C!==!0||A.type!=="rectangle"&&A.type!=="diamond"&&A.type!=="ellipse"&&A.type!=="image"&&A.type!=="embeddable"&&A.type!=="frame"&&(A.type!=="text"||A.containerId))},ge=function(A){var C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return A!=null&&(!A.locked||C===!0)&&(A.type==="rectangle"||A.type==="diamond"||A.type==="ellipse"||Y(A))},ve=function(A){var C=A==null?void 0:A.type;if(!C)return!1;switch(C){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,p.vE)(C,null),!1}},me=function(A){var C;return ge(A)&&!((C=A.boundElements)===null||C===void 0||!C.some(function(U){return U.type==="text"}))},le=function(A){return A!==null&&"containerId"in A&&A.containerId!==null&&R(A)},N=function(A){return A==="rectangle"||A==="embeddable"},oe=function(A){return A==="line"||A==="arrow"||A==="diamond"},O=function(A,C){return!(A!==M.a6.ADAPTIVE_RADIUS&&A!==M.a6.LEGACY||!N(C.type))||!(A!==M.a6.PROPORTIONAL_RADIUS||!oe(C.type))},I=function(A){return oe(A.type)?{type:M.a6.PROPORTIONAL_RADIUS}:N(A.type)?{type:M.a6.ADAPTIVE_RADIUS}:null}},3506:function(Q,z,o){o.d(z,{_L:function(){return ee},lp:function(){return Y},jk:function(){return S}});var M=o(5169),p=o(8821),f=o(2248),u=o(7245),E=o(2312),R=o(5901);function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(B,he,ge){return d=k()?Reflect.construct.bind():function(ve,me,le){var N=[null];N.push.apply(N,me);var oe=new(Function.bind.apply(ve,N));return le&&(0,R.Z)(oe,le.prototype),oe},d.apply(null,arguments)}function L(B){var he=typeof Map=="function"?new Map:void 0;return L=function(ge){if(ge===null||(ve=ge,Function.toString.call(ve).indexOf("[native code]")===-1))return ge;var ve;if(typeof ge!="function")throw new TypeError("Super expression must either be null or a function");if(he!==void 0){if(he.has(ge))return he.get(ge);he.set(ge,me)}function me(){return d(ge,arguments,(0,E.Z)(this).constructor)}return me.prototype=Object.create(ge.prototype,{constructor:{value:me,enumerable:!1,writable:!0,configurable:!0}}),(0,R.Z)(me,ge)},L(B)}function W(B){var he=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ge,ve=(0,E.Z)(B);if(he){var me=(0,E.Z)(this).constructor;ge=Reflect.construct(ve,arguments,me)}else ge=ve.apply(this,arguments);return(0,u.Z)(this,ge)}}var Y=function(B){(0,f.Z)(ge,B);var he=W(ge);function ge(){var ve,me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,p.Z)(this,ge),(ve=he.call(this)).name=le,ve.message=me,ve}return(0,M.Z)(ge)}(L(Error)),ee=function(B){(0,f.Z)(ge,B);var he=W(ge);function ge(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,p.Z)(this,ge),he.call(this,ve,"AbortError")}return(0,M.Z)(ge)}(L(DOMException)),S=function(B){(0,f.Z)(ge,B);var he=W(ge);function ge(){var ve,me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,p.Z)(this,ge),(ve=he.call(this,me)).name="EncodingError",ve.code=le,ve}return(0,M.Z)(ge)}(L(Error))},4682:function(Q,z,o){o.d(z,{$Z:function(){return T},A_:function(){return s},Dn:function(){return oe},Qs:function(){return V},SH:function(){return O},Tq:function(){return x},_h:function(){return C},cH:function(){return te},cO:function(){return N},fj:function(){return y},lz:function(){return D},ni:function(){return U},pr:function(){return v},wO:function(){return A},xr:function(){return he},yZ:function(){return b},zD:function(){return I}});var M=o(1930),p=o(2577),f=o(7651),u=o(2361),E=o(4761),R=o(9827),k=o(583),d=o(4105),L=o(9215),W=o(457),Y=o(4949),ee=o(507);function S(F,Z){var ne=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!ne){if(Array.isArray(F)||(ne=function(J,xe){if(J){if(typeof J=="string")return B(J,xe);var je=Object.prototype.toString.call(J).slice(8,-1);if(je==="Object"&&J.constructor&&(je=J.constructor.name),je==="Map"||je==="Set")return Array.from(J);if(je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je))return B(J,xe)}}(F))||Z&&F&&typeof F.length=="number"){ne&&(F=ne);var ce=0,Se=function(){};return{s:Se,n:function(){return ce>=F.length?{done:!0}:{done:!1,value:F[ce++]}},e:function(J){throw J},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,_e=!0,we=!1;return{s:function(){ne=ne.call(F)},n:function(){var J=ne.next();return _e=J.done,J},e:function(J){we=!0,de=J},f:function(){try{_e||ne.return==null||ne.return()}finally{if(we)throw de}}}}function B(F,Z){(Z==null||Z>F.length)&&(Z=F.length);for(var ne=0,ce=new Array(Z);ne<Z;ne++)ce[ne]=F[ne];return ce}var he=function(F,Z,ne){var ce,Se=(0,R.xn)(F),de=S(Z);try{for(de.s();!(ce=de.n()).done;){var _e=ce.value;if(_e.frameId){var we=ne.get(_e.id),J=ne.get(_e.frameId);if(we){var xe=Se.get(we);xe&&(0,k.DR)(xe,{frameId:J??_e.frameId},!1)}}}}catch(je){de.e(je)}finally{de.f()}};function ge(F,Z){var ne=(0,Y.GJ)(Z),ce=(0,Y.GJ)(F);return ne.some(function(Se){return ce.some(function(de){return(0,ee.y8)(Se,de)})})}var ve=function(F,Z){return j((0,d.Yp)(F,Z,!1)).filter(function(ne){return ne.type!=="frame"&&!ne.frameId||ne.frameId===Z.id})},me=function(F,Z,ne){return(0,d.Yp)(F,Z).some(function(ce){return ce.id===ne.id})},le=function(F,Z){var ne=(0,f.qf)(Z),ce=(0,p.Z)(ne,4),Se=ce[0],de=ce[1],_e=ce[2],we=ce[3],J=(0,f.KP)(F),xe=(0,p.Z)(J,4),je=xe[0],Ue=xe[1],et=xe[2],He=xe[3];return Se<=je&&de<=Ue&&_e>=et&&we>=He},N=function(F,Z){return le([F],Z)||ge(F,Z)||me([Z],F,Z)},oe=function(F,Z){var ne=(0,f.qf)(Z),ce=(0,p.Z)(ne,4),Se=ce[0],de=ce[1],_e=ce[2],we=ce[3];return(0,u.Ni)([Se,de],[F.x,F.y],[_e,we])},O=function(F){var Z,ne=new Map,ce=S(F);try{for(ce.s();!(Z=ce.n()).done;){var Se=Z.value,de=(0,f.He)(Se)?Se.id:Se.frameId;de&&!ne.has(de)&&ne.set(de,I(F,de))}}catch(_e){ce.e(_e)}finally{ce.f()}return ne},I=function(F,Z){return F.filter(function(ne){return ne.frameId===Z})},A=function(F){return F.filter(function(Z){return(0,f.He)(Z)})},C=function(F){var Z=(0,R.xn)(A(F));return F.filter(function(ne){return Z.has(ne.id)||!ne.frameId||!Z.has(ne.frameId)})},U=function(F,Z,ne){var ce,Se=I(F,Z.id),de=new Set(Se),_e=new Set([].concat((0,M.Z)(ve(F,Z)),(0,M.Z)(Se.filter(function(ot){return me(F,ot,Z)})))),we=Se.filter(function(ot){return!_e.has(ot)}),J=new Set(Array.from(_e).flatMap(function(ot){return ot.groupIds})),xe=S(we);try{for(xe.s();!(ce=xe.n()).done;){var je=ce.value;if(ge(je,Z)){if(je.groupIds.length>0){var Ue,et=S(je.groupIds);try{for(et.s();!(Ue=et.n()).done;){var He=Ue.value;J.add(He)}}catch(ot){et.e(ot)}finally{et.f()}}}else je.groupIds.length===0&&de.delete(je)}}catch(ot){xe.e(ot)}finally{xe.f()}var Le,De=S(we);try{for(De.s();!(Le=De.n()).done;){var Be=Le.value;if(Be.groupIds.length>0){var Ze,ye=!0,be=S(Be.groupIds);try{for(be.s();!(Ze=be.n()).done;){var X=Ze.value;J.has(X)&&(ye=!1)}}catch(ot){be.e(ot)}finally{be.f()}ye&&de.delete(Be)}}}catch(ot){De.e(ot)}finally{De.f()}var h,m=Array.from(_e).filter(function(ot){return ot.groupIds.length===0}),_=S(m);try{for(_.s();!(h=_.n()).done;){var G=h.value;de.add(G)}}catch(ot){_.e(ot)}finally{_.f()}for(var $=Array.from(_e).filter(function(ot){return ot.groupIds.length>0}),ue=(0,L.yR)($,ne),ie=0,pe=Object.entries(ue);ie<pe.length;ie++){var Pe=(0,p.Z)(pe[ie],2),Me=Pe[0];if(Pe[1]){var $e=(0,L.Fb)(F,Me);if(le($e,Z)){var Ke,qe=S($e);try{for(qe.s();!(Ke=qe.n()).done;){var Fe=Ke.value;de.add(Fe)}}catch(ot){qe.e(ot)}finally{qe.f()}}}}return(0,M.Z)(de).filter(function(ot){return!((0,f.iB)(ot)&&ot.containerId)})},y=function(F,Z){return j(F,ve(F,Z))},T=function(F,Z){var ne;return F.frameId?Z?Z.get(F.frameId)||null:((ne=W.Z.getScene(F))===null||ne===void 0?void 0:ne.getElement(F.frameId))||null:null},s=function(F,Z,ne){var ce,Se=F.reduce(function(Le,De,Be){return De.frameId===ne.id&&Le.currTargetFrameChildrenMap.set(De.id,!0),Le},{currTargetFrameChildrenMap:new Map}),de=Se.currTargetFrameChildrenMap,_e=new Set(Z.map(function(Le){return Le.id})),we=[],J=S(j(F,Z));try{for(J.s();!(ce=J.n()).done;){var xe=ce.value;de.has(xe.id)||we.push(xe);var je=(0,E.WJ)(xe);!je||_e.has(je.id)||de.has(je.id)||we.push(je)}}catch(Le){J.e(Le)}finally{J.f()}for(var Ue=0,et=we;Ue<et.length;Ue++){var He=et[Ue];(0,k.DR)(He,{frameId:ne.id},!1)}return F.slice()},D=function(F,Z,ne){var ce,Se=new Map,de=new Map,_e=S(Z);try{for(_e.s();!(ce=_e.n()).done;){var we=ce.value;if(we.frameId){Se.set(we.id,we);var J=de.get(we.frameId)||[];J.push(we);var xe=(0,E.WJ)(we);xe&&(Se.set(xe.id,xe),J.push(xe)),de.set(we.frameId,J)}}}catch(He){_e.e(He)}finally{_e.f()}var je,Ue=S(Se);try{for(Ue.s();!(je=Ue.n()).done;){var et=(0,p.Z)(je.value,2)[1];(0,k.DR)(et,{frameId:null},!1)}}catch(He){Ue.e(He)}finally{Ue.f()}return F.slice()},b=function(F,Z,ne){var ce=I(F,Z.id);return D(F,ce)},v=function(F,Z,ne,ce){return s(b(F,ne),Z,ne)},x=function(F,Z,ne){var ce=ne.scene.getSelectedElements({selectedElementIds:Z.selectedElementIds,elements:F}),Se=new Set(ce);if(Z.editingGroupId){var de,_e=S(ce);try{for(_e.s();!(de=_e.n()).done;){var we=de.value;we.groupIds.length===0?Se.add(we):we.groupIds.flatMap(function(xe){return(0,L.Fb)(F,xe)}).forEach(function(xe){return Se.add(xe)})}}catch(xe){_e.e(xe)}finally{_e.f()}}var J=new Set;return Se.forEach(function(xe){!xe.frameId||(0,f.He)(xe)||V(xe,F,Z)||J.add(xe)}),J.size>0?D(F,(0,M.Z)(J)):F},j=function(F,Z){var ne,ce=new Set,Se=S(Z||F);try{for(Se.s();!(ne=Se.n()).done;){var de=ne.value,_e=de.groupIds[de.groupIds.length-1];_e&&ce.add(_e)}}catch(Ue){Se.e(Ue)}finally{Se.f()}var we,J=new Set,xe=S(ce);try{for(xe.s();!(we=xe.n()).done;){var je=we.value;(0,L.Fb)(F,je).some(function(Ue){return(0,f.He)(Ue)})&&J.add(je)}}catch(Ue){xe.e(Ue)}finally{xe.f()}return(Z||F).filter(function(Ue){return!J.has(Ue.groupIds[Ue.groupIds.length-1])})},te=function(F,Z){var ne=(0,f.iB)(F)&&(0,E.tl)(F)||F;return Z.selectedElementIds[ne.id]&&Z.selectedElementsAreBeingDragged?Z.frameToHighlight:T(ne)},V=function(F,Z,ne){var ce=te(F,ne),Se=(0,f.iB)(F)&&(0,E.tl)(F)||F;if(ce){if(!ne.selectedElementIds[F.id]||!ne.selectedElementsAreBeingDragged)return!0;if(Se.groupIds.length===0)return N(Se,ce);var de=new Set(Se.groupIds.flatMap(function(He){return(0,L.Fb)(Z,He)}));if(ne.editingGroupId&&ne.selectedElementsAreBeingDragged){var _e=new Set((0,d.eD)(Z,ne));if(ne.frameToHighlight!==null)return!0;_e.forEach(function(He){de.delete(He)})}var we,J=S(de);try{for(J.s();!(we=J.n()).done;){var xe=we.value;if((0,f.He)(xe))return!1}}catch(He){J.e(He)}finally{J.f()}var je,Ue=S(de);try{for(Ue.s();!(je=Ue.n()).done;){var et=je.value;if(N(et,ce))return!0}}catch(He){Ue.e(He)}finally{Ue.f()}}return!1}},9215:function(Q,z,o){o.d(z,{AI:function(){return A},F$:function(){return Y},Fb:function(){return le},Nd:function(){return me},Qy:function(){return oe},S_:function(){return O},YS:function(){return N},bO:function(){return ee},h6:function(){return I},iE:function(){return ve},iJ:function(){return he},yO:function(){return B},yR:function(){return ge},zq:function(){return S}});var M=o(1930),p=o(2577),f=o(7169),u=o(4105),E=o(4761),R=o(6264);function k(C,U){var y=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!y){if(Array.isArray(C)||(y=function(x,j){if(x){if(typeof x=="string")return d(x,j);var te=Object.prototype.toString.call(x).slice(8,-1);if(te==="Object"&&x.constructor&&(te=x.constructor.name),te==="Map"||te==="Set")return Array.from(x);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return d(x,j)}}(C))||U&&C&&typeof C.length=="number"){y&&(C=y);var T=0,s=function(){};return{s,n:function(){return T>=C.length?{done:!0}:{done:!1,value:C[T++]}},e:function(x){throw x},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,b=!0,v=!1;return{s:function(){y=y.call(C)},n:function(){var x=y.next();return b=x.done,x},e:function(x){v=!0,D=x},f:function(){try{b||y.return==null||y.return()}finally{if(v)throw D}}}}function d(C,U){(U==null||U>C.length)&&(U=C.length);for(var y=0,T=new Array(U);y<U;y++)T[y]=C[y];return T}function L(C,U){var y=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);U&&(T=T.filter(function(s){return Object.getOwnPropertyDescriptor(C,s).enumerable})),y.push.apply(y,T)}return y}function W(C){for(var U=1;U<arguments.length;U++){var y=arguments[U]!=null?arguments[U]:{};U%2?L(Object(y),!0).forEach(function(T){(0,f.Z)(C,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(y)):L(Object(y)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(y,T))})}return C}var Y=function(C,U,y){var T=y.reduce(function(s,D){return D.groupIds.includes(C)&&(s[D.id]=!0),s},{});return Object.keys(T).length<2?U.selectedGroupIds[C]||U.editingGroupId===C?{selectedElementIds:U.selectedElementIds,selectedGroupIds:W(W({},U.selectedGroupIds),{},(0,f.Z)({},C,!1)),editingGroupId:null}:U:{editingGroupId:U.editingGroupId,selectedGroupIds:W(W({},U.selectedGroupIds),{},(0,f.Z)({},C,!0)),selectedElementIds:W(W({},U.selectedElementIds),T)}},ee=function(){var C=null,U=null,y=null,T=function(s,D,b,v){var x=v?v.scene.getSelectedElements({selectedElementIds:s.selectedElementIds,elements:D}):(0,u.eD)(D,s);return x.length?function(j,te,V,F){var Z;if(y!==void 0&&te===U&&j===C&&V.editingGroupId===((Z=y)===null||Z===void 0?void 0:Z.editingGroupId))return y;var ne,ce={},Se=k(j);try{for(Se.s();!(ne=Se.n()).done;){var de=ne.value.groupIds;if(V.editingGroupId){var _e=de.indexOf(V.editingGroupId);_e>-1&&(de=de.slice(0,_e))}if(de.length>0){var we=de[de.length-1];ce[we]=!0}}}catch(He){Se.e(He)}finally{Se.f()}for(var J={},xe=te.reduce(function(He,Le){var De=Le.groupIds.find(function(Be){return ce[Be]});return De&&(He[Le.id]=!0,Array.isArray(J[De])?J[De].push(Le.id):J[De]=[Le.id]),He},{}),je=0,Ue=Object.keys(J);je<Ue.length;je++){var et=Ue[je];J[et].length<2&&ce[et]&&(ce[et]=!1)}return U=te,C=j,y={editingGroupId:V.editingGroupId,selectedGroupIds:ce,selectedElementIds:(0,R.Oh)(W(W({},V.selectedElementIds),xe),F)}}(x,D,s,b):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,R.Oh)(s.selectedElementIds,b)}};return T.clearCache=function(){U=null,C=null,y=null},T}(),S=function(C,U){return B(C,U)!=null},B=function(C,U){return U.groupIds.filter(function(y){return y!==C.editingGroupId}).find(function(y){return C.selectedGroupIds[y]})},he=function(C){return Object.entries(C.selectedGroupIds).filter(function(U){var y=(0,p.Z)(U,2);return y[0],y[1]}).map(function(U){var y=(0,p.Z)(U,2),T=y[0];return y[1],T})},ge=function(C,U){var y,T=W(W({},U),{},{selectedGroupIds:{}}),s=k(C);try{for(s.s();!(y=s.n()).done;){var D=y.value.groupIds;if(U.editingGroupId){var b=D.indexOf(U.editingGroupId);b>-1&&(D=D.slice(0,b))}if(D.length>0){var v=D[D.length-1];T=W(W({},T),Y(v,T,C))}}}catch(x){s.e(x)}finally{s.f()}return T.selectedGroupIds},ve=function(C,U){return W(W({},C),{},{editingGroupId:U.groupIds.length?U.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,f.Z)({},U.id,!0)})},me=function(C,U){return C.groupIds.includes(U)},le=function(C,U){return C.filter(function(y){return me(y,U)})},N=function(C,U){return C.groupIds.find(function(y){return U[y]})},oe=function(C,U,y){for(var T=(0,M.Z)(C),s=U?C.indexOf(U):-1,D=s>-1?s:C.length,b=0;b<D;b++)T[b]=y(T[b]);return T},O=function(C,U,y){var T=(0,M.Z)(C),s=y?T.indexOf(y):-1,D=s>-1?s:T.length;return T.splice(D,0,U),T},I=function(C,U){return C.filter(function(y){return!U[y]})},A=function(C){var U=new Map;return C.forEach(function(y){var T=y.groupIds.length===0?y.id:y.groupIds[y.groupIds.length-1],s=U.get(T)||[],D=(0,E.WJ)(y);D&&s.push(D),U.set(T,[].concat((0,M.Z)(s),[y]))}),Array.from(U.values())}},334:function(Q,z,o){o.d(z,{F:function(){return R}});var M=o(1930),p=o(2577),f=o(9787),u=o(8242),E=o(100),R=function(k){var d=(0,f.useState)(null),L=(0,p.Z)(d,2),W=L[0],Y=L[1],ee=(0,u.Fy)(),S=(0,E.I)().theme,B=(0,u.J0)().container;return(0,f.useLayoutEffect)(function(){var he,ge;W&&(W.className="",(he=W.classList).add.apply(he,["excalidraw"].concat((0,M.Z)((k==null||(ge=k.className)===null||ge===void 0?void 0:ge.split(/\s+/))||[]))),W.classList.toggle("excalidraw--mobile",ee.editor.isMobile),W.classList.toggle("theme--dark",S==="dark"))},[W,S,ee.editor.isMobile,k==null?void 0:k.className]),(0,f.useLayoutEffect)(function(){var he=k!=null&&k.parentSelector?B==null?void 0:B.querySelector(k.parentSelector):document.body;if(he){var ge=document.createElement("div");return he.appendChild(ge),Y(ge),function(){he.removeChild(ge)}}},[B,k==null?void 0:k.parentSelector]),W}},5832:function(Q,z,o){o.d(z,{YX:function(){return W},mF:function(){return ee},yT:function(){return S}});var M=o(2577),p=o(8950),f=o(2975),u=o.n(f),E=o(3607),R=o(9787),k=o(9240),d=o(453),L=o(507),W=(0,E.cn)(new Map),Y=function(){var B=(0,p.Z)(u().mark(function he(ge){return u().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,(0,L.$D)({elements:ge,appState:{exportBackground:!1,viewBackgroundColor:k.HO.white},files:null,renderEmbeddables:!1});case 2:return ve.abrupt("return",ve.sent);case 3:case"end":return ve.stop()}},he)}));return function(he){return B.apply(this,arguments)}}(),ee=function(B,he,ge){var ve=(0,R.useState)(),me=(0,M.Z)(ve,2),le=me[0],N=me[1];return(0,R.useEffect)(function(){if(he)if(B){var oe=ge.get(B);oe?N(oe):(0,p.Z)(u().mark(function O(){var I,A;return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Y(he);case 2:A=C.sent,(I=A.querySelector(".style-fonts"))===null||I===void 0||I.remove(),A&&(ge.set(B,A),N(A));case 5:case"end":return C.stop()}},O)}))()}else(0,p.Z)(u().mark(function O(){var I;return u().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Y(he);case 2:I=A.sent,N(I);case 4:case"end":return A.stop()}},O)}))()},[B,he,ge,N]),le},S=function(){var B=(0,E.KO)(W,d.yE),he=(0,M.Z)(B,1)[0];return{clearLibraryCache:function(){return he.clear()},deleteItemsFromLibraryCache:function(ge){ge.forEach(function(ve){return he.delete(ve)})},svgCache:he}}},1901:function(Q,z,o){o.d(z,{O:function(){return f}});var M=o(9787),p=o(9937);function f(u,E,R){(0,M.useEffect)(function(){function k(d){var L=d;if(u.current){var W=R==null?void 0:R(L,u.current);if(W!==!0){if(W===!1)return E(L);!u.current.contains(L.target)&&document.documentElement.contains(L.target)&&(L.target.closest("[data-radix-portal]")||L.target===document.documentElement&&document.body.style.pointerEvents==="none"||L.target.closest("[data-prevent-outside-click]")||E(L))}}}return document.addEventListener(p.Ks.POINTER_DOWN,k),document.addEventListener(p.Ks.TOUCH_START,k),function(){document.removeEventListener(p.Ks.POINTER_DOWN,k),document.removeEventListener(p.Ks.TOUCH_START,k)}},[u,E,R])}},8227:function(Q,z,o){o.d(z,{Fp:function(){return L},G3:function(){return he},Mj:function(){return W},QT:function(){return le},m0:function(){return B},t:function(){return ve}});var M=o(8950),p=o(1930),f=o(2975),u=o.n(f),E=o(1463),R=o(4451),k=o(453),d=o(3607),L={code:"en",label:"English"},W=[L].concat((0,p.Z)([{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].filter(function(N){return R[N.code]>=85}).sort(function(N,oe){return N.label>oe.label?1:-1}))),Y="__test__",ee=L,S={},B=function(){var N=(0,M.Z)(u().mark(function oe(O){return u().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(ee=O,document.documentElement.dir=ee.rtl?"rtl":"ltr",document.documentElement.lang=ee.code,!O.code.startsWith(Y)){I.next=7;break}S={},I.next=17;break;case 7:return I.prev=7,I.next=10,o(940)("./".concat(ee.code,".json"));case 10:S=I.sent,I.next=17;break;case 13:I.prev=13,I.t0=I.catch(7),console.error("Failed to load language ".concat(O.code,":"),I.t0.message),S=E;case 17:k.e_.set(me,O.code);case 18:case"end":return I.stop()}},oe,null,[[7,13]])}));return function(oe){return N.apply(this,arguments)}}(),he=function(){return ee},ge=function(N,oe){for(var O=0;O<oe.length;++O){var I=oe[O];if(N[I]===void 0)return;N=N[I]}if(typeof N=="string")return N},ve=function(N,oe,O){if(ee.code.startsWith(Y)){var I=oe?"".concat(N,"(").concat(JSON.stringify(oe).slice(1,-1),")"):N;return"[[".concat(I,"]]")}var A=N.split("."),C=ge(S,A)||ge(E,A)||O;if(C===void 0){var U="Can't find translation for ".concat(N);return console.warn(U),""}if(oe)for(var y in oe)C=C.replace("{{".concat(y,"}}"),String(oe[y]));return C},me=(0,d.cn)(L.code),le=function(){var N=(0,d.Dv)(me,k.yE);return{t:ve,langCode:N}}},453:function(Q,z,o){o.d(z,{e_:function(){return f},yE:function(){return p}});var M=o(3607),p=(o(9787),Symbol()),f=(0,M.Vv)()},5491:function(Q,z,o){o.d(z,{E0:function(){return R},Ge:function(){return k},OA:function(){return E},Wl:function(){return u},aU:function(){return p},tW:function(){return f}});var M=o(9937),p={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},f={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:M.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},u=function(d){return d===f.ARROW_LEFT||d===f.ARROW_RIGHT||d===f.ARROW_DOWN||d===f.ARROW_UP},E=function(d){return d.altKey},R=function(d){return d.shiftKey},k=function(d){return d.shiftKey}},2361:function(Q,z,o){o.d(z,{EK:function(){return I},H5:function(){return L},Jj:function(){return O},LW:function(){return d},N_:function(){return me},Ni:function(){return ee},U1:function(){return E},Xt:function(){return U},c9:function(){return Y},eH:function(){return N},ep:function(){return A},g6:function(){return W},lk:function(){return oe},mW:function(){return C},wC:function(){return he},xj:function(){return R},yB:function(){return ve},yW:function(){return ge},yq:function(){return k}});var M=o(2577),p=o(9937),f=o(4949),u=o(2921),E=function(y,T,s,D,b){return[(y-s)*Math.cos(b)-(T-D)*Math.sin(b)+s,(y-s)*Math.sin(b)+(T-D)*Math.cos(b)+D]},R=function(y,T,s){return E(y[0],y[1],T[0],T[1],s)},k=function(y,T,s,D,b,v,x,j){var te=Math.cos(D),V=Math.sin(D);return y.e&&y.w?T+=b+x:y.e?(T+=b*(1+te),s+=b*V,T+=x*(1-te),s+=x*-V):y.w&&(T+=b*(1-te),s+=b*-V,T+=x*(1+te),s+=x*V),y.n&&y.s?s+=v+j:y.n?(T+=v*V,s+=v*(1-te),T+=j*-V,s+=j*(1+te)):y.s&&(T+=v*-V,s+=v*(1+te),T+=j*V,s+=j*(1-te)),[T,s]},d=function(y,T,s,D){var b=s-y,v=D-T;return Math.hypot(b,v)},L=function(y,T){return[(y[0]+T[0])/2,(y[1]+T[1])/2]},W=function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(y.length>=3){var s=[y[0],y[y.length-1]],D=s[0],b=s[1],v=d(D[0],D[1],b[0],b[1]);return v<=p.qx/T}return!1},Y=function(y,T,s){var D=y.length;if(D<3)return!1;for(var b=[Number.MAX_SAFE_INTEGER,s],v=[T,s],x=0,j=0;j<D;j++){var te=y[j],V=y[(j+1)%D];if(B(te,V,v,b)){if(S(te,v,V)===0)return ee(te,v,V);x++}}return x%2==1},ee=function(y,T,s){return T[0]<=Math.max(y[0],s[0])&&T[0]>=Math.min(y[0],s[0])&&T[1]<=Math.max(y[1],s[1])&&T[1]>=Math.min(y[1],s[1])},S=function(y,T,s){var D=(T[1]-y[1])*(s[0]-T[0])-(T[0]-y[0])*(s[1]-T[1]);return D===0?0:D>0?1:2},B=function(y,T,s,D){var b=S(y,T,s),v=S(y,T,D),x=S(s,D,y),j=S(s,D,T);return b!==v&&x!==j||!(b!==0||!ee(y,s,T))||!(v!==0||!ee(y,D,T))||!(x!==0||!ee(s,y,D))||!(j!==0||!ee(s,T,D))},he=function(y,T,s){return s?[Math.round(y/s)*s,Math.round(T/s)*s]:[y,T]},ge=function(y,T){var s,D,b;if(((s=T.roundness)===null||s===void 0?void 0:s.type)===p.a6.PROPORTIONAL_RADIUS||((D=T.roundness)===null||D===void 0?void 0:D.type)===p.a6.LEGACY)return y*p.Rx;if(((b=T.roundness)===null||b===void 0?void 0:b.type)===p.a6.ADAPTIVE_RADIUS){var v,x,j=(v=(x=T.roundness)===null||x===void 0?void 0:x.value)!==null&&v!==void 0?v:p._9;return y<=j/p.Rx?y*p.Rx:j}return 0},ve=function(y,T){var s=u.R.generateElementShape(y);if(!s)return null;for(var D=(0,f.CM)(s[0]),b=[0,0],v=0,x=1/0,j=null;v<D.length;){var te=D[v],V=te.op,F=te.data;if(V==="move"&&(b=F),V==="bcurveTo"){var Z=b,ne=[F[0],F[1]],ce=[F[2],F[3]],Se=[F[4],F[5]],de=d(Se[0],Se[1],T[0],T[1]);de<x&&(x=de,j=[Z,ne,ce,Se]),b=Se}v++}return j},me=function(y,T,s,D,b){var v=function(x,j){return Math.pow(1-x,3)*D[j]+3*x*Math.pow(1-x,2)*s[j]+3*Math.pow(x,2)*(1-x)*T[j]+y[j]*Math.pow(x,3)};return[v(b,0),v(b,1)]},le=function(y,T){var s=[];s[0]=0;for(var D=function(x,j){var te=ve(x,j);if(!te)return[];for(var V=[],F=1;F>0;){var Z=me(te[0],te[1],te[2],te[3],F);V.push([Z[0],Z[1]]),F-=.05}return V.length&&O(V.at(-1),j)&&V.push([j[0],j[1]]),V}(y,T),b=0,v=0;b<D.length-1;)v+=d(D[b][0],D[b][1],D[b+1][0],D[b+1][1]),s.push(v),b++;return s},N=function(y,T){return le(y,T).at(-1)},oe=function(y,T,s){for(var D=le(y,T),b=D.length-1,v=s*D.at(-1),x=0,j=b,te=0;x<j;)D[te=Math.floor(x+(j-x)/2)]<v?x=te+1:j=te;return D[te]>v&&te--,D[te]===v?te/b:1-(te+(v-D[te])/(D[te+1]-D[te]))/b},O=function(y,T){return y[0]===T[0]&&y[1]===T[1]},I=function(y){return Math.round(y/Math.PI*1e4)%5e3==0},A=function(y,T){var s=(0,M.Z)(y,2),D=s[0],b=s[1],v=(0,M.Z)(T,2),x=v[0],j=v[1];return D<=x?b>=x:D>=x&&j>=D},C=function(y,T){var s=Math.max(y[0],T[0]),D=Math.min(y[1],T[1]);return s<=D?[s,D]:null},U=function(y,T,s){return y>=T&&y<=s}},4864:function(Q,z,o){o.d(z,{zx:function(){return Te.z},Or:function(){return st.O},Eb:function(){return Jn},ut:function(){return x.ut},$_:function(){return de},vO:function(){return Pt},LO:function(){return x.LO},lb:function(){return _e.Z},YE:function(){return an.YE},C6:function(){return x.C6},B4:function(){return ht},ZP:function(){return Dt.ZP},wc:function(){return bt.w},Fp:function(){return ee.Fp},sQ:function(){return Et.sQ},Xs:function(){return Et.Xs},Fl:function(){return Xt.Fl},NL:function(){return Xt.NL},i1:function(){return Xt.i1},$D:function(){return Xt.$D},KP:function(){return jt.KP},N7:function(){return Xt.N7},Lm:function(){return mt.Lm},Uo:function(){return mt.Uo},Ne:function(){return Et.Ne},QD:function(){return mt.QD},bt:function(){return Zt.bt},Mj:function(){return ee.Mj},cT:function(){return Xt.cT},lV:function(){return Xt.lV},ZY:function(){return Xt.ZY},zh:function(){return Xt.zh},DR:function(){return Dt.DR},BE:function(){return Dt.BE},$u:function(){return At.$u},Di:function(){return on.Di},nu:function(){return Nt.nu},lY:function(){return Nt.lY},ET:function(){return Nt.ET},wJ:function(){return Nt.wJ},_i:function(){return ge._i},I_:function(){return Xt.I_},NI:function(){return Xt.NI},Fy:function(){return he.Fy},xS:function(){return on.xS},QT:function(){return ee.QT},dE:function(){return ge.dE}});var M=o(6479),p=o.n(M),f=o(9713),u=o.n(f),E=o(9787),R=o.n(E),k=o(8950),d=o(2577),L=o(2975),W=o.n(L),Y=o(7165),ee=o(8227),S=o(1020),B=function(yt){var Qt=(0,E.useState)(!0),Ut=(0,d.Z)(Qt,2),Yt=Ut[0],Bn=Ut[1];return(0,E.useEffect)(function(){var Fn=function(){var rr=(0,k.Z)(W().mark(function In(){return W().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,(0,ee.m0)(Hn);case 2:Bn(!1);case 3:case"end":return _t.stop()}},In)}));return function(){return rr.apply(this,arguments)}}(),Hn=ee.Mj.find(function(rr){return rr.code===yt.langCode})||ee.Fp;Fn()},[yt.langCode]),Yt?(0,S.jsx)(Y.z,{theme:yt.theme}):yt.children},he=o(8242),ge=o(9827),ve=o(3379),me=o.n(ve),le=o(7795),N=o.n(le),oe=o(569),O=o.n(oe),I=o(3565),A=o.n(I),C=o(9216),U=o.n(C),y=o(4589),T=o.n(y),s=o(9915),D={};D.styleTagTransform=T(),D.setAttributes=A(),D.insert=O().bind(null,"head"),D.domAPI=N(),D.insertStyleElement=U(),me()(s.Z,D),s.Z&&s.Z.locals&&s.Z.locals;var b=o(9310),v={};v.styleTagTransform=T(),v.setAttributes=A(),v.insert=O().bind(null,"head"),v.domAPI=N(),v.insertStyleElement=U(),me()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;var x=o(9937),j=o(3607),te=o(453),V=o(45),F=o(4572),Z=o(8793),ne={};ne.styleTagTransform=T(),ne.setAttributes=A(),ne.insert=O().bind(null,"head"),ne.domAPI=N(),ne.insertStyleElement=U(),me()(Z.Z,ne),Z.Z&&Z.Z.locals&&Z.Z.locals;var ce=o(100),Se=function(yt){var Qt=yt.children,Ut=(0,F.R6)().FooterCenterTunnel,Yt=(0,ce.I)();return(0,S.jsx)(Ut.In,{children:(0,S.jsx)("div",{className:(0,V.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Yt.zenModeEnabled}),children:Qt})})},de=Se;Se.displayName="FooterCenter";var _e=o(7021),we=o(7169),J=o(2726),xe=o(5463),je=o(2529),Ue=o(8935),et=o(5744),He={};He.styleTagTransform=T(),He.setAttributes=A(),He.insert=O().bind(null,"head"),He.domAPI=N(),He.insertStyleElement=U(),me()(et.Z,He),et.Z&&et.Z.locals&&et.Z.locals;var Le=function(){return(0,S.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,S.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},De=function(){return(0,S.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,S.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Be=function(yt){var Qt=yt.style,Ut=yt.size,Yt=Ut===void 0?"small":Ut,Bn=yt.withText;return(0,S.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Yt),style:Qt,children:[(0,S.jsx)(Le,{}),Bn&&(0,S.jsx)(De,{})]})},Ze=["onSelect","children","icon","shortcut","className"],ye=["children","href","icon","shortcut","className"];function be(yt,Qt){var Ut=Object.keys(yt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(yt);Qt&&(Yt=Yt.filter(function(Bn){return Object.getOwnPropertyDescriptor(yt,Bn).enumerable})),Ut.push.apply(Ut,Yt)}return Ut}function X(yt){for(var Qt=1;Qt<arguments.length;Qt++){var Ut=arguments[Qt]!=null?arguments[Qt]:{};Qt%2?be(Object(Ut),!0).forEach(function(Yt){(0,we.Z)(yt,Yt,Ut[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Ut)):be(Object(Ut)).forEach(function(Yt){Object.defineProperty(yt,Yt,Object.getOwnPropertyDescriptor(Ut,Yt))})}return yt}var h=function(yt){var Qt=yt.icon,Ut=yt.shortcut,Yt=yt.children,Bn=(0,he.Fy)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Qt}),(0,S.jsx)("div",{className:"welcome-screen-menu-item__text",children:Yt}),Ut&&!Bn.editor.isMobile&&(0,S.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:Ut})]})};h.displayName="WelcomeScreenMenuItemContent";var m=function(yt){var Qt=yt.onSelect,Ut=yt.children,Yt=yt.icon,Bn=yt.shortcut,Fn=yt.className,Hn=Fn===void 0?"":Fn,rr=(0,J.Z)(yt,Ze);return(0,S.jsx)("button",X(X({},rr),{},{type:"button",className:"welcome-screen-menu-item ".concat(Hn),onClick:Qt,children:(0,S.jsx)(h,{icon:Yt,shortcut:Bn,children:Ut})}))};m.displayName="WelcomeScreenMenuItem";var _=function(yt){var Qt=yt.children,Ut=yt.href,Yt=yt.icon,Bn=yt.shortcut,Fn=yt.className,Hn=Fn===void 0?"":Fn,rr=(0,J.Z)(yt,ye);return(0,S.jsx)("a",X(X({},rr),{},{className:"welcome-screen-menu-item ".concat(Hn),href:Ut,target:"_blank",rel:"noreferrer",children:(0,S.jsx)(h,{icon:Yt,shortcut:Bn,children:Qt})}))};_.displayName="WelcomeScreenMenuItemLink";var G=function(yt){var Qt=yt.children,Ut=(0,F.R6)().WelcomeScreenCenterTunnel;return(0,S.jsx)(Ut.In,{children:(0,S.jsx)("div",{className:"welcome-screen-center",children:Qt||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)($,{}),(0,S.jsx)(ue,{children:(0,ee.t)("welcomeScreen.defaults.center_heading")}),(0,S.jsxs)(ie,{children:[(0,S.jsx)(Pe,{}),(0,S.jsx)(pe,{})]})]})})})};G.displayName="Center";var $=function(yt){var Qt=yt.children;return(0,S.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Qt||(0,S.jsx)(Be,{withText:!0})})};$.displayName="Logo";var ue=function(yt){var Qt=yt.children;return(0,S.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Qt})};ue.displayName="Heading";var ie=function(yt){var Qt=yt.children;return(0,S.jsx)("div",{className:"welcome-screen-menu",children:Qt})};ie.displayName="Menu";var pe=function(){var yt=(0,he.eh)();return(0,S.jsx)(m,{onSelect:function(){return yt.executeAction(xe.jY)},shortcut:"?",icon:Ue.by,children:(0,ee.t)("helpDialog.title")})};pe.displayName="MenuItemHelp";var Pe=function(){var yt=(0,ce.I)(),Qt=(0,he.eh)();return yt.viewModeEnabled?null:(0,S.jsx)(m,{onSelect:function(){return Qt.executeAction(xe._d)},shortcut:(0,je.C)("loadScene"),icon:Ue.Tl,children:(0,ee.t)("buttons.load")})};Pe.displayName="MenuItemLoadScene";var Me=function(yt){var Qt=yt.onSelect,Ut=(0,ee.QT)().t;return(0,S.jsx)(m,{shortcut:null,onSelect:Qt,icon:Ue.jn,children:Ut("labels.liveCollaboration")})};Me.displayName="MenuItemLiveCollaborationTrigger",G.Logo=$,G.Heading=ue,G.Menu=ie,G.MenuItem=m,G.MenuItemLink=_,G.MenuItemHelp=pe,G.MenuItemLoadScene=Pe,G.MenuItemLiveCollaborationTrigger=Me;var $e=function(yt){var Qt=yt.children,Ut=(0,F.R6)().WelcomeScreenMenuHintTunnel;return(0,S.jsx)(Ut.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Ue.oQ,(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Qt||(0,ee.t)("welcomeScreen.defaults.menuHint")})]})})};$e.displayName="MenuHint";var Ke=function(yt){var Qt=yt.children,Ut=(0,F.R6)().WelcomeScreenToolbarHintTunnel;return(0,S.jsx)(Ut.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Qt||(0,ee.t)("welcomeScreen.defaults.toolbarHint")}),Ue.DJ]})})};Ke.displayName="ToolbarHint";var qe=function(yt){var Qt=yt.children,Ut=(0,F.R6)().WelcomeScreenHelpHintTunnel;return(0,S.jsx)(Ut.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,S.jsx)("div",{children:Qt||(0,ee.t)("welcomeScreen.defaults.helpHint")}),Ue._U]})})};qe.displayName="HelpHint";var Fe=o(1569),ot={};ot.styleTagTransform=T(),ot.setAttributes=A(),ot.insert=O().bind(null,"head"),ot.domAPI=N(),ot.insertStyleElement=U(),me()(Fe.Z,ot),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var it=function(yt){return(0,S.jsx)(S.Fragment,{children:yt.children||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(G,{}),(0,S.jsx)($e,{}),(0,S.jsx)(Ke,{}),(0,S.jsx)(qe,{})]})})};it.displayName="WelcomeScreen",it.Center=G,it.Hints={MenuHint:$e,ToolbarHint:Ke,HelpHint:qe};var ht=it,Te=o(8806),Ie=o(3397),Ge={};Ge.styleTagTransform=T(),Ge.setAttributes=A(),Ge.insert=O().bind(null,"head"),Ge.domAPI=N(),Ge.insertStyleElement=U(),me()(Ie.Z,Ge),Ie.Z&&Ie.Z.locals&&Ie.Z.locals;var tt=["isCollaborating","onSelect"];function dt(yt,Qt){var Ut=Object.keys(yt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(yt);Qt&&(Yt=Yt.filter(function(Bn){return Object.getOwnPropertyDescriptor(yt,Bn).enumerable})),Ut.push.apply(Ut,Yt)}return Ut}function ct(yt){for(var Qt=1;Qt<arguments.length;Qt++){var Ut=arguments[Qt]!=null?arguments[Qt]:{};Qt%2?dt(Object(Ut),!0).forEach(function(Yt){(0,we.Z)(yt,Yt,Ut[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Ut)):dt(Object(Ut)).forEach(function(Yt){Object.defineProperty(yt,Yt,Object.getOwnPropertyDescriptor(Ut,Yt))})}return yt}var St=function(yt){var Qt=yt.isCollaborating,Ut=yt.onSelect,Yt=(0,J.Z)(yt,tt),Bn=(0,ce.I)();return(0,S.jsxs)(Te.z,ct(ct({},Yt),{},{className:(0,V.Z)("collab-button",{active:Qt}),type:"button",onSelect:Ut,style:{position:"relative"},title:(0,ee.t)("labels.liveCollaboration"),children:[Ue.jn,Bn.collaborators.size>0&&(0,S.jsx)("div",{className:"CollabButton-collaborators",children:Bn.collaborators.size})]}))},Pt=St;St.displayName="LiveCollaborationTrigger";var mt=o(7651),Nt=o(7994),Xt=o(507),Zt=o(4183),Dt=o(583),on=o(9326),an=o(5902),st=o(1925),At=o(8020),bt=o(6199),jt=o(4949),Et=o(6013),Vt=["initialData","UIOptions"],Kt=["initialData","UIOptions"];function cn(yt,Qt){var Ut=Object.keys(yt);if(Object.getOwnPropertySymbols){var Yt=Object.getOwnPropertySymbols(yt);Qt&&(Yt=Yt.filter(function(Bn){return Object.getOwnPropertyDescriptor(yt,Bn).enumerable})),Ut.push.apply(Ut,Yt)}return Ut}function Wt(yt){for(var Qt=1;Qt<arguments.length;Qt++){var Ut=arguments[Qt]!=null?arguments[Qt]:{};Qt%2?cn(Object(Ut),!0).forEach(function(Yt){u()(yt,Yt,Ut[Yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(Ut)):cn(Object(Ut)).forEach(function(Yt){Object.defineProperty(yt,Yt,Object.getOwnPropertyDescriptor(Ut,Yt))})}return yt}var Mn=function(yt){var Qt,Ut,Yt,Bn,Fn,Hn,rr=yt.onChange,In=yt.initialData,_t=yt.excalidrawAPI,Ct=yt.isCollaborating,It=Ct!==void 0&&Ct,Bt=yt.onPointerUpdate,yn=yt.renderTopRightUI,_n=yt.langCode,vn=_n===void 0?ee.Fp.code:_n,$n=yt.viewModeEnabled,jn=yt.zenModeEnabled,Ln=yt.gridModeEnabled,ir=yt.libraryReturnUrl,Sn=yt.theme,Cn=yt.name,Nn=yt.renderCustomStats,On=yt.onPaste,ur=yt.detectScroll,zn=ur===void 0||ur,ar=yt.handleKeyboardGlobally,jr=ar!==void 0&&ar,no=yt.onLibraryChange,go=yt.autoFocus,Oo=go!==void 0&&go,Po=yt.generateIdForFile,Gr=yt.onLinkOpen,Yr=yt.onPointerDown,Xo=yt.onScrollChange,ke=yt.children,Ne=yt.validateEmbeddable,We=yt.renderEmbeddable,Je=(Qt=yt.UIOptions)===null||Qt===void 0?void 0:Qt.canvasActions,Ot=Wt(Wt({},yt.UIOptions),{},{canvasActions:Wt(Wt({},x.cW.canvasActions),Je),tools:{image:(Ut=(Yt=yt.UIOptions)===null||Yt===void 0||(Bn=Yt.tools)===null||Bn===void 0?void 0:Bn.image)===null||Ut===void 0||Ut}});return Je!=null&&Je.export&&(Ot.canvasActions.export.saveFileToDisk=(Fn=(Hn=Je.export)===null||Hn===void 0?void 0:Hn.saveFileToDisk)!==null&&Fn!==void 0?Fn:x.cW.canvasActions.export.saveFileToDisk),Ot.canvasActions.toggleTheme===null&&Sn===void 0&&(Ot.canvasActions.toggleTheme=!0),(0,E.useEffect)(function(){var sn=function(en){typeof en.scale=="number"&&en.scale!==1&&en.preventDefault()};return document.addEventListener("touchmove",sn,{passive:!1}),function(){document.removeEventListener("touchmove",sn)}},[]),(0,S.jsx)(j.zt,{unstable_createStore:function(){return te.e_},scope:te.yE,children:(0,S.jsx)(B,{langCode:vn,theme:Sn,children:(0,S.jsx)(he.ZP,{onChange:rr,initialData:In,excalidrawAPI:_t,isCollaborating:It,onPointerUpdate:Bt,renderTopRightUI:yn,langCode:vn,viewModeEnabled:$n,zenModeEnabled:jn,gridModeEnabled:Ln,libraryReturnUrl:ir,theme:Sn,name:Cn,renderCustomStats:Nn,UIOptions:Ot,onPaste:On,detectScroll:zn,handleKeyboardGlobally:jr,onLibraryChange:no,autoFocus:Oo,generateIdForFile:Po,onLinkOpen:Gr,onPointerDown:Yr,onScrollChange:Xo,validateEmbeddable:Ne,renderEmbeddable:We,children:ke})})})},wn=function(yt,Qt){if(yt.children!==Qt.children)return!1;yt.initialData;var Ut=yt.UIOptions,Yt=Ut===void 0?{}:Ut,Bn=p()(yt,Vt),Fn=(Qt.initialData,Qt.UIOptions),Hn=Fn===void 0?{}:Fn,rr=p()(Qt,Kt),In=Object.keys(Yt),_t=Object.keys(Hn);return In.length===_t.length&&In.every(function(Ct){return Ct==="canvasActions"?Object.keys(Yt.canvasActions).every(function(It){var Bt,yn,_n,vn;return It==="export"&&Yt!=null&&(Bt=Yt.canvasActions)!==null&&Bt!==void 0&&Bt.export&&Hn!=null&&(yn=Hn.canvasActions)!==null&&yn!==void 0&&yn.export?Yt.canvasActions.export.saveFileToDisk===Hn.canvasActions.export.saveFileToDisk:(Yt==null||(_n=Yt.canvasActions)===null||_n===void 0?void 0:_n[It])===(Hn==null||(vn=Hn.canvasActions)===null||vn===void 0?void 0:vn[It])}):Yt[Ct]===Hn[Ct]})&&(0,ge.w8)(Bn,rr)},Jn=R().memo(Mn,wn);Jn.displayName="Excalidraw"},507:function(Q,z,o){o.d(z,{y8:function(){return me},Fl:function(){return C},NL:function(){return A},i1:function(){return y},$D:function(){return U},N7:function(){return N.N7},cT:function(){return le.cT},lV:function(){return le.lV},ZY:function(){return le.ZY},zh:function(){return oe.zh},I_:function(){return W.I_},NI:function(){return W.NI}});var M=o(8950),p=o(7169),f=o(2975),u=o.n(f),E=o(3668),R=o(6853),k=o(7994),d=o(9937),L=o(250),W=o(4419),Y=o(4694);function ee(T){return[Math.min(T[0][0],T[1][0]),Math.min(T[0][1],T[1][1]),Math.max(T[0][0],T[1][0]),Math.max(T[0][1],T[1][1])]}function S(T,s){return T[0]*s[1]-s[0]*T[1]}function B(T,s){return[T[0]-s[0],T[1]-s[1]]}function he(T,s){var D=S(B(T[1],T[0]),B(s,T[0]));return Math.abs(D)<1e-6}function ge(T,s){return S(B(T[1],T[0]),B(s,T[0]))<0}function ve(T,s){return he(T,s[0])||he(T,s[1])||(ge(T,s[0])?!ge(T,s[1]):ge(T,s[1]))}function me(T,s){return function(D,b){return D[0]<=b[2]&&D[2]>=b[0]&&D[1]<=b[3]&&D[3]>=b[1]}(ee(T),ee(s))&&ve(T,s)&&ve(s,T)}o(6013);var le=o(5796),N=o(9660),oe=o(9326);function O(T,s){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(T);s&&(b=b.filter(function(v){return Object.getOwnPropertyDescriptor(T,v).enumerable})),D.push.apply(D,b)}return D}function I(T){for(var s=1;s<arguments.length;s++){var D=arguments[s]!=null?arguments[s]:{};s%2?O(Object(D),!0).forEach(function(b){(0,p.Z)(T,b,D[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):O(Object(D)).forEach(function(b){Object.defineProperty(T,b,Object.getOwnPropertyDescriptor(D,b))})}return T}var A=function(T){var s=T.elements,D=T.appState,b=T.files,v=T.maxWidthOrHeight,x=T.getDimensions,j=T.exportPadding,te=T.exportingFrame,V=(0,k.nu)({elements:s,appState:D},null,null),F=V.elements,Z=V.appState,ne=Z.exportBackground,ce=Z.viewBackgroundColor;return(0,E.NL)(F,I(I({},Z),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),b||{},{exportBackground:ne,exportPadding:j,viewBackgroundColor:ce,exportingFrame:te},function(Se,de){var _e,we=document.createElement("canvas");if(v){var J;typeof x=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var xe=Math.max(Se,de),je=v<xe?v/xe:(J=D==null?void 0:D.exportScale)!==null&&J!==void 0?J:1;return we.width=Se*je,we.height=de*je,{canvas:we,scale:je}}var Ue=(x==null?void 0:x(Se,de))||{width:Se,height:de};return we.width=Ue.width,we.height=Ue.height,{canvas:we,scale:(_e=Ue.scale)!==null&&_e!==void 0?_e:1}})},C=function(){var T=(0,M.Z)(u().mark(function s(D){var b,v,x,j,te,V;return u().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return x=(v=D).mimeType,j=x===void 0?d.LO.png:x,te=v.quality,j===d.LO.png&&typeof te=="number"&&console.warn('"quality" will be ignored for "'.concat(d.LO.png,'" mimeType')),j==="image/jpg"&&(j=d.LO.jpg),j!==d.LO.jpg||(b=D.appState)!==null&&b!==void 0&&b.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(d.LO.jpg,'" mimeType')),D=I(I({},D),{},{appState:I(I({},D.appState),{},{exportBackground:!0})})),F.next=6,A(D);case 6:return V=F.sent,te=te||(/image\/jpe?g/.test(j)?.92:.8),F.abrupt("return",new Promise(function(Z,ne){V.toBlob(function(){var ce=(0,M.Z)(u().mark(function Se(de){var _e;return u().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(de){we.next=2;break}return we.abrupt("return",ne(new Error("couldn't export to blob")));case 2:if(!de||j!==d.LO.png||(_e=D.appState)===null||_e===void 0||!_e.exportEmbedScene){we.next=6;break}return we.next=5,(0,L.encodePngMetadata)({blob:de,metadata:(0,W.I_)(D.elements,D.appState,D.files||{},"local")});case 5:de=we.sent;case 6:Z(de);case 7:case"end":return we.stop()}},Se)}));return function(Se){return ce.apply(this,arguments)}}(),j,te)}));case 9:case"end":return F.stop()}},s)}));return function(s){return T.apply(this,arguments)}}(),U=function(){var T=(0,M.Z)(u().mark(function s(D){var b,v,x,j,te,V,F,Z,ne,ce,Se,de;return u().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return b=D.elements,v=D.appState,x=v===void 0?(0,R.im)():v,j=D.files,te=j===void 0?{}:j,V=D.exportPadding,F=D.renderEmbeddables,Z=D.exportingFrame,ne=(0,k.nu)({elements:b,appState:x},null,null),ce=ne.elements,Se=ne.appState,de=I(I({},Se),{},{exportPadding:V}),_e.abrupt("return",(0,E.$D)(ce,de,te,{exportingFrame:Z,renderEmbeddables:F}));case 4:case"end":return _e.stop()}},s)}));return function(s){return T.apply(this,arguments)}}(),y=function(){var T=(0,M.Z)(u().mark(function s(D){var b;return u().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(D.type!=="svg"){v.next=8;break}return v.next=3,U(D);case 3:return b=v.sent,v.next=6,(0,Y.dd)(b.outerHTML);case 6:case 11:case 16:v.next=19;break;case 8:if(D.type!=="png"){v.next=13;break}return v.next=11,(0,Y.uR)(C(D));case 13:if(D.type!=="json"){v.next=18;break}return v.next=16,(0,Y.vQ)(D.elements,D.files);case 18:throw new Error("Invalid export type");case 19:case"end":return v.stop()}},s)}));return function(s){return T.apply(this,arguments)}}()},6013:function(Q,z,o){o.d(z,{Ne:function(){return L},Xs:function(){return Y},sQ:function(){return W}});var M=o(2577),p=o(4183),f=o(2361),u=o(4949);function E(ee,S){var B=typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(!B){if(Array.isArray(ee)||(B=function(N,oe){if(N){if(typeof N=="string")return R(N,oe);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(N);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return R(N,oe)}}(ee))||S&&ee&&typeof ee.length=="number"){B&&(ee=B);var he=0,ge=function(){};return{s:ge,n:function(){return he>=ee.length?{done:!0}:{done:!1,value:ee[he++]}},e:function(N){throw N},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ve,me=!0,le=!1;return{s:function(){B=B.call(ee)},n:function(){var N=B.next();return me=N.done,N},e:function(N){le=!0,ve=N},f:function(){try{me||B.return==null||B.return()}finally{if(le)throw ve}}}}function R(ee,S){(S==null||S>ee.length)&&(S=ee.length);for(var B=0,he=new Array(S);B<S;B++)he[B]=ee[B];return he}var k=function(ee){var S=ee.reduce(function(B,he){var ge=(0,M.Z)(he,2),ve=ge[0],me=ge[1];return B.minY=Math.min(B.minY,me),B.minX=Math.min(B.minX,ve),B.maxX=Math.max(B.maxX,ve),B.maxY=Math.max(B.maxY,me),B},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return S.cx=(S.maxX+S.minX)/2,S.cy=(S.maxY+S.minY)/2,S},d=function(ee){var S=function(O){return(0,p.bt)(O)||(0,p.F9)(O)?O.points:function(I){return I.type==="diamond"?[[I.width/2,0],[I.width,I.height/2],[I.width/2,I.height],[0,I.height/2]]:[[0,0],[0+I.width,0],[0+I.width,I.height],[0,I.height]]}(O)}(ee),B=k(S),he=[B.cx,B.cy],ge=S.map(function(O){return(0,f.xj)([O[0],O[1]],he,ee.angle)}),ve=k(ge),me=ve.minX,le=ve.minY,N=ve.maxX,oe=ve.maxY;return[me+ee.x,le+ee.y,N+ee.x,oe+ee.y]},L=function(ee,S){var B=arguments.length>2&&arguments[2]!==void 0&&arguments[2],he=d(ee),ge=S[0]<=he[0]&&S[2]>=he[2]&&S[1]<=he[1]&&S[3]>=he[3];return B?!!ge||he[0]<=S[0]&&he[2]>=S[2]&&he[1]<=S[1]&&he[3]>=S[3]:ge},W=function(ee,S){var B=d(ee);return((0,f.Xt)(B[0],S[0],S[2])||(0,f.Xt)(S[0],B[0],B[2]))&&((0,f.Xt)(B[1],S[1],S[3])||(0,f.Xt)(S[1],B[1],B[3]))},Y=function(ee){var S=ee.elements,B=ee.bounds,he=ee.type,ge=ee.errorMargin,ve=ge===void 0?0:ge;(0,p.r2)(B)&&(B=(0,u.Pi)(B));var me,le=[B[0]-ve,B[1]-ve,B[2]+ve,B[3]+ve],N=new Set,oe=E(S);try{for(oe.s();!(me=oe.n()).done;){var O=me.value;if(!N.has(O.id)&&(he==="overlap"?W(O,le):he==="inside"?L(O,le):L(O,le,!0))){if(N.add(O.id),O.boundElements){var I,A=E(O.boundElements);try{for(A.s();!(I=A.n()).done;){var C=I.value;N.add(C.id)}}catch(y){A.e(y)}finally{A.f()}}var U;(0,p.iB)(O)&&O.containerId&&N.add(O.containerId),(0,p.Yv)(O)&&(O.startBinding&&N.add(O.startBinding.elementId),O.endBinding&&N.add((U=O.endBinding)===null||U===void 0?void 0:U.elementId))}}}catch(y){oe.e(y)}finally{oe.f()}return S.filter(function(y){return N.has(y.id)})}},5999:function(Q,z,o){o.d(z,{k:function(){return p},z:function(){return f}});var M=o(1930),p=function(u){var E=u.map(function(k){return k[0]}),R=u.map(function(k){return k[1]});return{width:Math.max.apply(Math,(0,M.Z)(E))-Math.min.apply(Math,(0,M.Z)(E)),height:Math.max.apply(Math,(0,M.Z)(R))-Math.min.apply(Math,(0,M.Z)(R))}},f=function(u,E,R,k){var d=R.map(function(ge){return ge[u]}),L=Math.max.apply(Math,(0,M.Z)(d)),W=Math.min.apply(Math,(0,M.Z)(d)),Y=L-W,ee=Y===0?1:E/Y,S=1/0,B=R.map(function(ge){var ve=ge[u]*ee,me=(0,M.Z)(ge);return me[u]=ve,ve<S&&(S=ve),me});if(!k||B.length===2)return B;var he=W-S;return B.map(function(ge){return ge.map(function(ve,me){return me===u?ve+he:ve})})}},4643:function(Q,z,o){o.d(z,{LU:function(){return R},kb:function(){return k}});var M=o(8152),p=o(5605),f=o(9827),u=new M.k(Date.now()),E=0,R=function(){return Math.floor(u.next()*Math.pow(2,31))},k=function(){return(0,f.h2)()?"id".concat(E++):(0,p.x0)()}},9660:function(Q,z,o){o.d(z,{Dn:function(){return Se},Xx:function(){return J},Lc:function(){return Ze},N7:function(){return ye},lw:function(){return et},Rg:function(){return De},uI:function(){return Ue}});var M=o(7169),p=o(2577),f=o(4183),u=o(4949),E=o(9827),R=o(2361),k=o(9845),d=o(6853),L=o(9937);function W(h,m,_,G=$=>$){return h*G(.5-m*(.5-_))}function Y(h,m){return[h[0]+m[0],h[1]+m[1]]}function ee(h,m){return[h[0]-m[0],h[1]-m[1]]}function S(h,m){return[h[0]*m,h[1]*m]}function B(h){return[h[1],-h[0]]}function he(h,m){return h[0]*m[0]+h[1]*m[1]}function ge(h,m){return h[0]===m[0]&&h[1]===m[1]}function ve(h,m){return function(_){return _[0]*_[0]+_[1]*_[1]}(ee(h,m))}function me(h){return function(m,_){return[m[0]/_,m[1]/_]}(h,function(m){return Math.hypot(m[0],m[1])}(h))}function le(h,m){return Math.hypot(h[1]-m[1],h[0]-m[0])}function N(h,m,_){let G=Math.sin(_),$=Math.cos(_),ue=h[0]-m[0],ie=h[1]-m[1],pe=ue*G+ie*$;return[ue*$-ie*G+m[0],pe+m[1]]}function oe(h,m,_){return Y(h,S(ee(m,h),_))}function O(h,m,_){return Y(h,S(m,_))}var{min:I,PI:A}=Math,C=A+1e-4;function U(h,m={}){return function(_,G={}){let{size:$=16,smoothing:ue=.5,thinning:ie=.5,simulatePressure:pe=!0,easing:Pe=jt=>jt,start:Me={},end:$e={},last:Ke=!1}=G,{cap:qe=!0,easing:Fe=jt=>jt*(2-jt)}=Me,{cap:ot=!0,easing:it=jt=>--jt*jt*jt+1}=$e;if(_.length===0||$<=0)return[];let ht,Te=_[_.length-1].runningLength,Ie=Me.taper===!1?0:Me.taper===!0?Math.max($,Te):Me.taper,Ge=$e.taper===!1?0:$e.taper===!0?Math.max($,Te):$e.taper,tt=Math.pow($*ue,2),dt=[],ct=[],St=_.slice(0,10).reduce((jt,Et)=>{let Vt=Et.pressure;if(pe){let Kt=I(1,Et.distance/$),cn=I(1,1-Kt);Vt=I(1,jt+.275*Kt*(cn-jt))}return(jt+Vt)/2},_[0].pressure),Pt=W($,ie,_[_.length-1].pressure,Pe),mt=_[0].vector,Nt=_[0].point,Xt=Nt,Zt=Nt,Dt=Xt,on=!1;for(let jt=0;jt<_.length;jt++){let{pressure:Et}=_[jt],{point:Vt,vector:Kt,distance:cn,runningLength:Wt}=_[jt];if(jt<_.length-1&&Te-Wt<3)continue;if(ie){if(pe){let Yt=I(1,cn/$),Bn=I(1,1-Yt);Et=I(1,St+.275*Yt*(Bn-St))}Pt=W($,ie,Et,Pe)}else Pt=$/2;ht===void 0&&(ht=Pt);let Mn=Wt<Ie?Fe(Wt/Ie):1,wn=Te-Wt<Ge?it((Te-Wt)/Ge):1;Pt=Math.max(.01,Pt*Math.min(Mn,wn));let Jn=(jt<_.length-1?_[jt+1]:_[jt]).vector,yt=jt<_.length-1?he(Kt,Jn):1,Qt=yt!==null&&yt<0;if(he(Kt,mt)<0&&!on||Qt){let Yt=S(B(mt),Pt);for(let Bn=.07692307692307693,Fn=0;Fn<=1;Fn+=Bn)Zt=N(ee(Vt,Yt),Vt,C*Fn),dt.push(Zt),Dt=N(Y(Vt,Yt),Vt,C*-Fn),ct.push(Dt);Nt=Zt,Xt=Dt,Qt&&(on=!0);continue}if(on=!1,jt===_.length-1){let Yt=S(B(Kt),Pt);dt.push(ee(Vt,Yt)),ct.push(Y(Vt,Yt));continue}let Ut=S(B(oe(Jn,Kt,yt)),Pt);Zt=ee(Vt,Ut),(jt<=1||ve(Nt,Zt)>tt)&&(dt.push(Zt),Nt=Zt),Dt=Y(Vt,Ut),(jt<=1||ve(Xt,Dt)>tt)&&(ct.push(Dt),Xt=Dt),St=Et,mt=Kt}let an=_[0].point.slice(0,2),st=_.length>1?_[_.length-1].point.slice(0,2):Y(_[0].point,[1,1]),At=[],bt=[];if(_.length===1){if(!Ie&&!Ge||Ke){let jt=O(an,me(B(ee(an,st))),-(ht||Pt)),Et=[];for(let Vt=.07692307692307693,Kt=Vt;Kt<=1;Kt+=Vt)Et.push(N(jt,an,2*C*Kt));return Et}}else{if(!(Ie||Ge&&_.length===1))if(qe)for(let Et=.07692307692307693,Vt=Et;Vt<=1;Vt+=Et){let Kt=N(ct[0],an,C*Vt);At.push(Kt)}else{let Et=ee(dt[0],ct[0]),Vt=S(Et,.5),Kt=S(Et,.51);At.push(ee(an,Vt),ee(an,Kt),Y(an,Kt),Y(an,Vt))}let jt=B(function(Et){return[-Et[0],-Et[1]]}(_[_.length-1].vector));if(Ge||Ie&&_.length===1)bt.push(st);else if(ot){let Et=O(st,jt,Pt);for(let Vt=.034482758620689655,Kt=Vt;Kt<1;Kt+=Vt)bt.push(N(Et,st,3*C*Kt))}else bt.push(Y(st,S(jt,Pt)),Y(st,S(jt,.99*Pt)),ee(st,S(jt,.99*Pt)),ee(st,S(jt,Pt)))}return dt.concat(bt,ct.reverse(),At)}(function(_,G={}){var $;let{streamline:ue=.5,size:ie=16,last:pe=!1}=G;if(_.length===0)return[];let Pe=.15+.85*(1-ue),Me=Array.isArray(_[0])?_:_.map(({x:it,y:ht,pressure:Te=.5})=>[it,ht,Te]);if(Me.length===2){let it=Me[1];Me=Me.slice(0,-1);for(let ht=1;ht<5;ht++)Me.push(oe(Me[0],it,ht/4))}Me.length===1&&(Me=[...Me,[...Y(Me[0],[1,1]),...Me[0].slice(2)]]);let $e=[{point:[Me[0][0],Me[0][1]],pressure:Me[0][2]>=0?Me[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Ke=!1,qe=0,Fe=$e[0],ot=Me.length-1;for(let it=1;it<Me.length;it++){let ht=pe&&it===ot?Me[it].slice(0,2):oe(Fe.point,Me[it],Pe);if(ge(Fe.point,ht))continue;let Te=le(ht,Fe.point);if(qe+=Te,it<ot&&!Ke){if(qe<ie)continue;Ke=!0}Fe={point:ht,pressure:Me[it][2]>=0?Me[it][2]:.5,vector:me(ee(Fe.point,ht)),distance:Te,runningLength:qe},$e.push(Fe)}return $e[0].vector=(($=$e[1])==null?void 0:$.vector)||[0,0],$e}(h,m),m)}var y=o(4761),T=o(7422),s=o(761),D=o(4682),b=o(8020),v=o(2921);function x(h,m){var _=Object.keys(h);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(h);m&&(G=G.filter(function($){return Object.getOwnPropertyDescriptor(h,$).enumerable})),_.push.apply(_,G)}return _}function j(h){for(var m=1;m<arguments.length;m++){var _=arguments[m]!=null?arguments[m]:{};m%2?x(Object(_),!0).forEach(function(G){(0,M.Z)(h,G,_[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(_)):x(Object(_)).forEach(function(G){Object.defineProperty(h,G,Object.getOwnPropertyDescriptor(_,G))})}return h}var te="invert(100%) hue-rotate(180deg) saturate(1.25)",V=(0,d.im)(),F=function(h,m){return(0,f.wi)(h)&&!m.imageCache.has(h.fileId)},Z=function(h,m,_){var G;return _.theme==="dark"&&(0,f.wi)(h)&&!F(h,m)&&((G=m.imageCache.get(h.fileId))===null||G===void 0?void 0:G.mimeType)!==L.LO.svg},ne=function(h){return h.type==="freedraw"?12*h.strokeWidth:20},ce=function(h,m,_,G){var $,ue,ie=document.createElement("canvas"),pe=ie.getContext("2d"),Pe=ne(h),Me=function(tt,dt){var ct=16777216,St=32767,Pt=ne(tt),mt=(0,u.qf)(tt),Nt=(0,p.Z)(mt,4),Xt=Nt[0],Zt=Nt[1],Dt=Nt[2],on=Nt[3],an=(0,f.bt)(tt)||(0,f.F9)(tt)?(0,E.TE)(Xt,Dt):tt.width,st=(0,f.bt)(tt)||(0,f.F9)(tt)?(0,E.TE)(Zt,on):tt.height,At=an*window.devicePixelRatio+2*Pt,bt=st*window.devicePixelRatio+2*Pt,jt=dt.value;return(At*jt>St||bt*jt>St)&&(jt=Math.min(St/At,St/bt)),At*bt*jt*jt>ct&&(jt=Math.sqrt(ct/(At*bt))),{width:At=Math.floor(At*jt),height:bt=Math.floor(bt*jt),scale:jt}}(h,m),$e=Me.width,Ke=Me.height,qe=Me.scale;ie.width=$e,ie.height=Ke;var Fe=0,ot=0;if((0,f.bt)(h)||(0,f.F9)(h)){var it=(0,u.qf)(h),ht=(0,p.Z)(it,2),Te=ht[0],Ie=ht[1];Fe=h.x>Te?(0,E.TE)(h.x,Te)*window.devicePixelRatio*qe:0,ot=h.y>Ie?(0,E.TE)(h.y,Ie)*window.devicePixelRatio*qe:0,pe.translate(Fe,ot)}pe.save(),pe.translate(Pe*qe,Pe*qe),pe.scale(window.devicePixelRatio*qe,window.devicePixelRatio*qe);var Ge=k.Z.canvas(ie);return Z(h,_,G)&&(pe.filter=te),we(h,Ge,pe,_,G),pe.restore(),{element:h,canvas:ie,theme:G.theme,scale:qe,zoomValue:m.value,canvasOffsetX:Fe,canvasOffsetY:ot,boundTextElementVersion:(($=(0,y.WJ)(h))===null||$===void 0?void 0:$.version)||null,containingFrameOpacity:((ue=(0,D.$Z)(h))===null||ue===void 0?void 0:ue.opacity)||100}},Se=14,de=document.createElement("img");de.src="data:".concat(L.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var _e=document.createElement("img");_e.src="data:".concat(L.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var we=function(h,m,_,G,$){var ue,ie;switch(_.globalAlpha=((ue=(ie=(0,D.$Z)(h))===null||ie===void 0?void 0:ie.opacity)!==null&&ue!==void 0?ue:100)*h.opacity/1e4,h.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":_.lineJoin="round",_.lineCap="round",m.draw(v.R.get(h));break;case"arrow":case"line":_.lineJoin="round",_.lineCap="round",v.R.get(h).forEach(function(Ie){m.draw(Ie)});break;case"freedraw":_.save(),_.fillStyle=h.strokeColor;var pe=function(Ie){return Be.get(Ie)}(h),Pe=v.R.get(h);Pe&&m.draw(Pe),_.fillStyle=h.strokeColor,_.fill(pe),_.restore();break;case"image":var Me,$e=(0,f.wi)(h)?(Me=G.imageCache.get(h.fileId))===null||Me===void 0?void 0:Me.image:void 0;$e==null||$e instanceof Promise?function(Ie,Ge,tt){Ge.fillStyle="#E7E7E7",Ge.fillRect(0,0,Ie.width,Ie.height);var dt=Math.min(Ie.width,Ie.height),ct=Math.min(dt,Math.min(.4*dt,100));Ge.drawImage(Ie.status==="error"?_e:de,Ie.width/2-ct/2,Ie.height/2-ct/2,ct,ct)}(h,_,$.zoom.value):_.drawImage($e,0,0,h.width,h.height);break;default:if(!(0,f.iB)(h))throw new Error("Unimplemented type ".concat(h.type));var Ke=(0,E.dZ)(h.text),qe=Ke&&!_.canvas.isConnected;qe&&document.body.appendChild(_.canvas),_.canvas.setAttribute("dir",Ke?"rtl":"ltr"),_.save(),_.font=(0,E.mO)(h),_.fillStyle=h.strokeColor,_.textAlign=h.textAlign;for(var Fe=h.text.replace(/\r\n?/g,`
`).split(`
`),ot=h.textAlign==="center"?h.width/2:h.textAlign==="right"?h.width:0,it=(0,y.Rg)(h.fontSize,h.lineHeight),ht=h.height-h.baseline,Te=0;Te<Fe.length;Te++)_.fillText(Fe[Te],ot,(Te+1)*it-ht);_.restore(),qe&&_.canvas.remove()}_.globalAlpha=1},J=new WeakMap,xe=function(h,m,_){var G,$,ue=m?_.zoom:V.zoom,ie=J.get(h),pe=ie&&ie.zoomValue!==ue.value&&!(_!=null&&_.shouldCacheIgnoreZoom),Pe=((G=(0,y.WJ)(h))===null||G===void 0?void 0:G.version)||null,Me=(($=(0,D.$Z)(h))===null||$===void 0?void 0:$.opacity)||100;if(!ie||pe||ie.theme!==_.theme||ie.boundTextElementVersion!==Pe||ie.containingFrameOpacity!==Me){var $e=ce(h,ue,m,_);return J.set(h,$e),$e}return ie},je=function(h,m,_,G){var $=h.element,ue=ne($),ie=h.scale,pe=(0,u.qf)($),Pe=(0,p.Z)(pe,4),Me=Pe[0],$e=Pe[1],Ke=Pe[2],qe=Pe[3];(0,f.F9)($)&&(Me=Math.floor(Me),Ke=Math.ceil(Ke),$e=Math.floor($e),qe=Math.ceil(qe));var Fe=((Me+Ke)/2+G.scrollX)*window.devicePixelRatio,ot=(($e+qe)/2+G.scrollY)*window.devicePixelRatio;m.save(),m.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var it=(0,y.WJ)($);if((0,f.Yv)($)&&it){var ht=document.createElement("canvas"),Te=ht.getContext("2d"),Ie=Math.max((0,E.TE)(Me,Ke),(0,E.TE)($e,qe));ht.width=Ie*window.devicePixelRatio*ie+ue*h.scale*10,ht.height=Ie*window.devicePixelRatio*ie+ue*h.scale*10;var Ge=(ht.width-h.canvas.width)/2,tt=(ht.height-h.canvas.height)/2;Te.translate(ht.width/2,ht.height/2),Te.rotate($.angle),Te.drawImage(h.canvas,-h.canvas.width/2,-h.canvas.height/2,h.canvas.width,h.canvas.height);var dt=(0,u.qf)(it),ct=(0,p.Z)(dt,6),St=ct[4],Pt=ct[5];Te.rotate(-$.angle);var mt=ht.width/2-(St-Me)*window.devicePixelRatio*ie-Ge-ue*ie,Nt=ht.height/2-(Pt-$e)*window.devicePixelRatio*ie-tt-ue*ie;Te.translate(-mt,-Nt),Te.clearRect(-(it.width/2+L.gK)*window.devicePixelRatio*ie,-(it.height/2+L.gK)*window.devicePixelRatio*ie,(it.width+2*L.gK)*window.devicePixelRatio*ie,(it.height+2*L.gK)*window.devicePixelRatio*ie),m.translate(Fe,ot),m.drawImage(ht,-(Ke-Me)/2*window.devicePixelRatio-Ge/ie-ue,-(qe-$e)/2*window.devicePixelRatio-tt/ie-ue,ht.width/ie,ht.height/ie)}else if(m.translate(Fe,ot),m.rotate($.angle),"scale"in h.element&&!F($,_)&&m.scale(h.element.scale[0],h.element.scale[1]),m.translate(-Fe,-ot),m.drawImage(h.canvas,(Me+G.scrollX)*window.devicePixelRatio-ue*h.scale/h.scale,($e+G.scrollY)*window.devicePixelRatio-ue*h.scale/h.scale,h.canvas.width/h.scale,h.canvas.height/h.scale),{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.3",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,f.Xo)($)){var Xt=(0,y.WJ)($),Zt=(0,y.cw)($);m.strokeStyle="#c92a2a",m.lineWidth=3,m.strokeRect((Zt.x+G.scrollX)*window.devicePixelRatio,(Zt.y+G.scrollY)*window.devicePixelRatio,(0,y.iZ)($)*window.devicePixelRatio,(0,y.D9)($,Xt)*window.devicePixelRatio)}m.restore()},Ue=function(h,m,_){m.save(),m.translate(h.x+_.scrollX,h.y+_.scrollY),m.fillStyle="rgba(0, 0, 200, 0.04)";var G=.5/_.zoom.value;m.fillRect(G,G,h.width,h.height),m.lineWidth=1/_.zoom.value,m.strokeStyle=" rgb(105, 101, 219)",m.strokeRect(G,G,h.width,h.height),m.restore()},et=function(h,m,_,G,$){switch(h.type){case"frame":$.frameRendering.enabled&&$.frameRendering.outline&&(_.save(),_.translate(h.x+$.scrollX,h.y+$.scrollY),_.fillStyle="rgba(0, 0, 200, 0.04)",_.lineWidth=L.iG.strokeWidth/$.zoom.value,_.strokeStyle=L.iG.strokeColor,L.iG.radius&&_.roundRect?(_.beginPath(),_.roundRect(0,0,h.width,h.height,L.iG.radius/$.zoom.value),_.stroke(),_.closePath()):_.strokeRect(0,0,h.width,h.height),_.restore());break;case"freedraw":if(v.R.generateElementShape(h),G.isExporting){var ue=(0,u.qf)(h),ie=(0,p.Z)(ue,4),pe=ie[0],Pe=ie[1],Me=ie[2],$e=ie[3],Ke=(pe+Me)/2+$.scrollX,qe=(Pe+$e)/2+$.scrollY,Fe=(Me-pe)/2-(h.x-pe),ot=($e-Pe)/2-(h.y-Pe);_.save(),_.translate(Ke,qe),_.rotate(h.angle),_.translate(-Fe,-ot),we(h,m,_,G,$),_.restore()}else{var it=xe(h,G,$);je(it,_,G,$)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(v.R.generateElementShape(h,G.isExporting),G.isExporting){var ht=(0,u.qf)(h),Te=(0,p.Z)(ht,4),Ie=Te[0],Ge=Te[1],tt=Te[2],dt=Te[3],ct=(Ie+tt)/2+$.scrollX,St=(Ge+dt)/2+$.scrollY,Pt=(tt-Ie)/2-(h.x-Ie),mt=(dt-Ge)/2-(h.y-Ge);if((0,f.iB)(h)){var Nt=(0,y.tl)(h);if((0,f.Yv)(Nt)){var Xt=T._.getBoundTextElementPosition(Nt,h);Pt=(tt-Ie)/2-(Xt.x-Ie),mt=(dt-Ge)/2-(Xt.y-Ge)}}_.save(),_.translate(ct,St),Z(h,G,$)&&(_.filter="none");var Zt=(0,y.WJ)(h);if((0,f.Yv)(h)&&Zt){var Dt=document.createElement("canvas"),on=Dt.getContext("2d"),an=Math.max((0,E.TE)(Ie,tt),(0,E.TE)(Ge,dt)),st=ne(h);Dt.width=an*$.exportScale+10*st*$.exportScale,Dt.height=an*$.exportScale+10*st*$.exportScale,on.translate(Dt.width/2,Dt.height/2),on.scale($.exportScale,$.exportScale),Pt=h.width/2-(h.x-Ie),mt=h.height/2-(h.y-Ge),on.rotate(h.angle);var At=k.Z.canvas(Dt);on.translate(-Pt,-mt),we(h,At,on,G,$),on.translate(Pt,mt),on.rotate(-h.angle);var bt=(0,u.qf)(Zt),jt=(0,p.Z)(bt,6),Et=(Ie+tt)/2-jt[4],Vt=(Ge+dt)/2-jt[5];on.translate(-Et,-Vt),on.clearRect(-Zt.width/2,-Zt.height/2,Zt.width,Zt.height),_.scale(1/$.exportScale,1/$.exportScale),_.drawImage(Dt,-Dt.width/2,-Dt.height/2,Dt.width,Dt.height)}else _.rotate(h.angle),h.type==="image"&&_.scale(h.scale[0],h.scale[1]),_.translate(-Pt,-mt),we(h,m,_,G,$);_.restore()}else{var Kt=xe(h,G,$),cn=_.imageSmoothingEnabled;$!=null&&$.shouldCacheIgnoreZoom||h.angle&&!(0,R.EK)(h.angle)||(_.imageSmoothingEnabled=!1),je(Kt,_,G,$),_.imageSmoothingEnabled=cn}break;default:throw new Error("Unimplemented type ".concat(h.type))}},He=function(h,m,_){if(_===void 0)return h.draw(m);var G={sets:m.sets,shape:m.shape,options:j(j({},m.options),{},{fixedDecimalPlaceDigits:_})};return h.draw(G)},Le=function(h,m,_,G){if(!G.enabled||!G.clip)return null;var $=(0,D.$Z)(h);if($){var ue=m.ownerDocument.createElementNS(L.hR,"g");return ue.setAttributeNS(L.hR,"clip-path","url(#".concat($.id,")")),_.forEach(function(ie){return ue.appendChild(ie)}),ue}return null},De=function h(m,_,G,$,ue,ie,pe){var Pe,Me,$e=ue,Ke=ie,qe=(0,u.qf)(m),Fe=(0,p.Z)(qe,4),ot=Fe[0],it=Fe[1],ht=Fe[2],Te=Fe[3],Ie=(ht-ot)/2-(m.x-ot),Ge=(Te-it)/2-(m.y-it);if((0,f.iB)(m)){var tt=(0,y.tl)(m);if((0,f.Yv)(tt)){var dt=(0,u.qf)(tt),ct=(0,p.Z)(dt,4),St=ct[0],Pt=ct[1],mt=ct[2],Nt=ct[3],Xt=T._.getBoundTextElementPosition(tt,m);Ie=(mt-St)/2-(Xt.x-St),Ge=(Nt-Pt)/2-(Xt.y-Pt),ue=ue+Xt.x-m.x,ie=ie+Xt.y-m.y}}var Zt=180*m.angle/Math.PI,Dt=G;if(m.link){var on=G.ownerDocument.createElementNS(L.hR,"a");on.setAttribute("href",(0,b.$u)(m.link)),Dt.appendChild(on),Dt=on}var an=function(Xo,ke){(0,E.h2)()&&Xo.setAttribute("data-id",ke.id),Dt.appendChild(Xo)},st=((Pe=(Me=(0,D.$Z)(m))===null||Me===void 0?void 0:Me.opacity)!==null&&Pe!==void 0?Pe:100)*m.opacity/1e4;switch(m.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var At=v.R.generateElementShape(m),bt=He(_,At,L.zK);st!==1&&(bt.setAttribute("stroke-opacity","".concat(st)),bt.setAttribute("fill-opacity","".concat(st))),bt.setAttribute("stroke-linecap","round"),bt.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),an(Le(m,Dt,[bt],pe.frameRendering)||bt,m);break;case"embeddable":var jt=v.R.generateElementShape(m,!0),Et=He(_,jt,L.zK),Vt=m.opacity/100;Vt!==1&&(Et.setAttribute("stroke-opacity","".concat(Vt)),Et.setAttribute("fill-opacity","".concat(Vt))),Et.setAttribute("stroke-linecap","round"),Et.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),an(Et,m);var Kt=(0,s.g0)(m);h(Kt,_,Dt,$,Kt.x+$e-m.x,Kt.y+Ke-m.y,pe);var cn=He(_,jt,L.zK);for(cn.setAttribute("stroke-linecap","round"),cn.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")"));cn.firstChild;)cn.removeChild(cn.firstChild);var Wt=(0,R.yW)(Math.min(m.width,m.height),m),Mn=(0,s.LM)((0,b.ye)(m.link||""));if(pe.renderEmbeddables===!1||(Mn==null?void 0:Mn.type)==="document"){var wn=G.ownerDocument.createElementNS(L.hR,"a");wn.setAttribute("href",(0,b.$u)(m.link||"")),wn.setAttribute("target","_blank"),wn.setAttribute("rel","noopener noreferrer"),wn.style.borderRadius="".concat(Wt,"px"),cn.appendChild(wn)}else{var Jn,yt=G.ownerDocument.createElementNS(L.hR,"foreignObject");yt.style.width="".concat(m.width,"px"),yt.style.height="".concat(m.height,"px"),yt.style.border="none";var Qt=yt.ownerDocument.createElementNS(L.hR,"div");Qt.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Qt.style.width="100%",Qt.style.height="100%";var Ut=Qt.ownerDocument.createElement("iframe");Ut.src=(Jn=Mn==null?void 0:Mn.link)!==null&&Jn!==void 0?Jn:"",Ut.style.width="100%",Ut.style.height="100%",Ut.style.border="none",Ut.style.borderRadius="".concat(Wt,"px"),Ut.style.top="0",Ut.style.left="0",Ut.allowFullscreen=!0,Qt.appendChild(Ut),yt.appendChild(Qt),cn.appendChild(yt)}an(cn,m);break;case"line":case"arrow":var Yt=(0,y.WJ)(m),Bn=G.ownerDocument.createElementNS(L.hR,"mask");if(Yt){Bn.setAttribute("id","mask-".concat(m.id));var Fn=G.ownerDocument.createElementNS(L.hR,"rect");ue=ue||0,ie=ie||0,Fn.setAttribute("x","0"),Fn.setAttribute("y","0"),Fn.setAttribute("fill","#fff"),Fn.setAttribute("width","".concat(m.width+100+ue)),Fn.setAttribute("height","".concat(m.height+100+ie)),Bn.appendChild(Fn);var Hn=G.ownerDocument.createElementNS(L.hR,"rect"),rr=T._.getBoundTextElementPosition(m,Yt),In=ue+rr.x-m.x,_t=ie+rr.y-m.y;Hn.setAttribute("x",In.toString()),Hn.setAttribute("y",_t.toString()),Hn.setAttribute("fill","#000"),Hn.setAttribute("width","".concat(Yt.width)),Hn.setAttribute("height","".concat(Yt.height)),Hn.setAttribute("opacity","1"),Bn.appendChild(Hn)}var Ct=G.ownerDocument.createElementNS(L.hR,"g");Yt&&Ct.setAttribute("mask","url(#mask-".concat(m.id,")")),Ct.setAttribute("stroke-linecap","round"),v.R.generateElementShape(m).forEach(function(Xo){var ke=He(_,Xo,L.zK);st!==1&&(ke.setAttribute("stroke-opacity","".concat(st)),ke.setAttribute("fill-opacity","".concat(st))),ke.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),m.type==="line"&&(0,R.g6)(m.points)&&m.backgroundColor!=="transparent"&&ke.setAttribute("fill-rule","evenodd"),Ct.appendChild(ke)});var It=Le(m,Dt,[Ct,Bn],pe.frameRendering);It?(an(It,m),Dt.appendChild(It)):(an(Ct,m),Dt.append(Bn));break;case"freedraw":var Bt=v.R.generateElementShape(m),yn=Bt?He(_,Bt,L.zK):G.ownerDocument.createElementNS(L.hR,"g");st!==1&&(yn.setAttribute("stroke-opacity","".concat(st)),yn.setAttribute("fill-opacity","".concat(st))),yn.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),yn.setAttribute("stroke","none");var _n=G.ownerDocument.createElementNS(L.hR,"path");_n.setAttribute("fill",m.strokeColor),_n.setAttribute("d",ye(m)),yn.appendChild(_n),an(Le(m,Dt,[yn],pe.frameRendering)||yn,m);break;case"image":var vn=Math.round(m.width),$n=Math.round(m.height),jn=(0,f.wi)(m)&&$[m.fileId];if(jn){var Ln="image-".concat(jn.id),ir=G.querySelector("#".concat(Ln));if(!ir){(ir=G.ownerDocument.createElementNS(L.hR,"symbol")).id=Ln;var Sn=G.ownerDocument.createElementNS(L.hR,"image");Sn.setAttribute("width","100%"),Sn.setAttribute("height","100%"),Sn.setAttribute("href",jn.dataURL),ir.appendChild(Sn),Dt.prepend(ir)}var Cn=G.ownerDocument.createElementNS(L.hR,"use");if(Cn.setAttribute("href","#".concat(Ln)),pe.exportWithDarkMode&&jn.mimeType!==L.LO.svg&&Cn.setAttribute("filter",te),Cn.setAttribute("width","".concat(vn)),Cn.setAttribute("height","".concat($n)),Cn.setAttribute("opacity","".concat(st)),m.scale[0]!==1||m.scale[1]!==1){var Nn=m.scale[0]!==1?-vn:0,On=m.scale[1]!==1?-$n:0;Cn.setAttribute("transform","scale(".concat(m.scale[0],", ").concat(m.scale[1],") translate(").concat(Nn," ").concat(On,")"))}var ur=G.ownerDocument.createElementNS(L.hR,"g");ur.appendChild(Cn),ur.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),an(Le(m,Dt,[ur],pe.frameRendering)||ur,m)}break;case"frame":if(pe.frameRendering.enabled&&pe.frameRendering.outline){var zn=document.createElementNS(L.hR,"rect");zn.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")")),zn.setAttribute("width","".concat(m.width,"px")),zn.setAttribute("height","".concat(m.height,"px")),zn.setAttribute("rx",L.iG.radius.toString()),zn.setAttribute("ry",L.iG.radius.toString()),zn.setAttribute("fill","none"),zn.setAttribute("stroke",L.iG.strokeColor),zn.setAttribute("stroke-width",L.iG.strokeWidth.toString()),an(zn,m)}break;default:if(!(0,f.iB)(m))throw new Error("Unimplemented type ".concat(m.type));var ar=G.ownerDocument.createElementNS(L.hR,"g");st!==1&&(ar.setAttribute("stroke-opacity","".concat(st)),ar.setAttribute("fill-opacity","".concat(st))),ar.setAttribute("transform","translate(".concat(ue||0," ").concat(ie||0,") rotate(").concat(Zt," ").concat(Ie," ").concat(Ge,")"));for(var jr=m.text.replace(/\r\n?/g,`
`).split(`
`),no=(0,y.Rg)(m.fontSize,m.lineHeight),go=m.textAlign==="center"?m.width/2:m.textAlign==="right"?m.width:0,Oo=(0,E.dZ)(m.text)?"rtl":"ltr",Po=m.textAlign==="center"?"middle":m.textAlign==="right"||Oo==="rtl"?"end":"start",Gr=0;Gr<jr.length;Gr++){var Yr=G.ownerDocument.createElementNS(L.hR,"text");Yr.textContent=jr[Gr],Yr.setAttribute("x","".concat(go)),Yr.setAttribute("y","".concat(Gr*no)),Yr.setAttribute("font-family",(0,E.$g)(m)),Yr.setAttribute("font-size","".concat(m.fontSize,"px")),Yr.setAttribute("fill",m.strokeColor),Yr.setAttribute("text-anchor",Po),Yr.setAttribute("style","white-space: pre;"),Yr.setAttribute("direction",Oo),Yr.setAttribute("dominant-baseline","text-before-edge"),ar.appendChild(Yr)}an(Le(m,Dt,[ar],pe.frameRendering)||ar,m)}},Be=new WeakMap([]);function Ze(h){var m=ye(h),_=new Path2D(m);return Be.set(h,_),_}function ye(h){return function(m){if(!m.length)return"";var _=m.length-1;return m.reduce(function(G,$,ue,ie){return ue===_?G.push($,be($,ie[0]),"L",ie[0],"Z"):G.push($,be($,ie[ue+1])),G},["M",m[0],"Q"]).join(" ").replace(X,"$1")}(U(h.simulatePressure?h.points:h.points.length?h.points.map(function(m,_){var G=(0,p.Z)(m,2);return[G[0],G[1],h.pressures[_]]}):[[0,0,.5]],{simulatePressure:h.simulatePressure,size:4.25*h.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(m){return Math.sin(m*Math.PI/2)},last:!!h.lastCommittedPoint}))}function be(h,m){return[(h[0]+m[0])/2,(h[1]+m[1])/2]}var X=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(Q,z,o){o.d(z,{Lu:function(){return x},n_:function(){return Ue},tp:function(){return J},M_:function(){return X},AW:function(){return je}});var M,p=o(1930),f=o(2577),u=o(5284),E=o(7651),R=function(h,m,_,G,$,ue,ie){h.beginPath(),h.moveTo(m+ue,_),h.lineTo(m+G-ue,_),h.quadraticCurveTo(m+G,_,m+G,_+ue),h.lineTo(m+G,_+$-ue),h.quadraticCurveTo(m+G,_+$,m+G-ue,_+$),h.lineTo(m+ue,_+$),h.quadraticCurveTo(m,_+$,m,_+$-ue),h.lineTo(m,_+ue),h.quadraticCurveTo(m,_,m+ue,_),h.closePath(),h.fill(),ie&&(h.strokeStyle=ie),h.stroke()},k=o(4726),d=o(9660),L=o(957),W=o(7422),Y=o(9215),ee=o(3528),S=o(4048),B=o(9827);(function(h){h.ACTIVE="active",h.AWAY="away",h.IDLE="idle"})(M||(M={}));var he=o(9937),ge=o(5992);function ve(h,m){var _=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!_){if(Array.isArray(h)||(_=function(Pe,Me){if(Pe){if(typeof Pe=="string")return me(Pe,Me);var $e=Object.prototype.toString.call(Pe).slice(8,-1);if($e==="Object"&&Pe.constructor&&($e=Pe.constructor.name),$e==="Map"||$e==="Set")return Array.from(Pe);if($e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return me(Pe,Me)}}(h))||m&&h&&typeof h.length=="number"){_&&(h=_);var G=0,$=function(){};return{s:$,n:function(){return G>=h.length?{done:!0}:{done:!1,value:h[G++]}},e:function(Pe){throw Pe},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue,ie=!0,pe=!1;return{s:function(){_=_.call(h)},n:function(){var Pe=_.next();return ie=Pe.done,Pe},e:function(Pe){pe=!0,ue=Pe},f:function(){try{ie||_.return==null||_.return()}finally{if(pe)throw ue}}}}function me(h,m){(m==null||m>h.length)&&(m=h.length);for(var _=0,G=new Array(m);_<m;_++)G[_]=h[_];return G}var le=function(h,m,_){if(!_.zenModeEnabled){var G=h.points[0],$=h.points[h.points.length-1];O(G,$,m)}var ue,ie=ve(h.points);try{for(ie.s();!(ue=ie.n()).done;){var pe=ue.value;oe(pe,_,m)}}catch(Pe){ie.e(Pe)}finally{ie.f()}},N=function(h,m,_){oe(h.points[0],_,m),_.zenModeEnabled||O(h.points[0],h.points[1],m)},oe=function(h,m,_){var G=(0,f.Z)(h,2),$=G[0],ue=G[1];_.save();var ie=(m.zenModeEnabled?3:2)/m.zoom.value;_.beginPath(),_.moveTo($-ie,ue-ie),_.lineTo($+ie,ue+ie),_.moveTo($+ie,ue-ie),_.lineTo($-ie,ue+ie),_.stroke(),_.restore()},O=function(h,m,_){_.beginPath(),_.lineTo.apply(_,(0,p.Z)(h)),_.lineTo.apply(_,(0,p.Z)(m)),_.stroke()},I=function(h,m,_,G,$){var ue=8/G.zoom.value,ie=ue/2,pe=ue/4;if(_==="horizontal"){var Pe=[(h[0]+m[0])/2,h[1]];G.zenModeEnabled||O([h[0],h[1]-ue],[h[0],h[1]+ue],$),O([Pe[0]-pe,Pe[1]-ie],[Pe[0]-pe,Pe[1]+ie],$),O([Pe[0]+pe,Pe[1]-ie],[Pe[0]+pe,Pe[1]+ie],$),G.zenModeEnabled||(O([m[0],m[1]-ue],[m[0],m[1]+ue],$),O(h,m,$))}else{var Me=[h[0],(h[1]+m[1])/2];G.zenModeEnabled||O([h[0]-ue,h[1]],[h[0]+ue,h[1]],$),O([Me[0]-ie,Me[1]-pe],[Me[0]+ie,Me[1]-pe],$),O([Me[0]-ie,Me[1]+pe],[Me[0]+ie,Me[1]+pe],$),G.zenModeEnabled||(O([m[0]-ue,m[1]],[m[0]+ue,m[1]],$),O(h,m,$))}},A=o(4183),C=o(761),U=o(4682),y=o(6655);function T(h,m){var _=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!_){if(Array.isArray(h)||(_=function(Pe,Me){if(Pe){if(typeof Pe=="string")return s(Pe,Me);var $e=Object.prototype.toString.call(Pe).slice(8,-1);if($e==="Object"&&Pe.constructor&&($e=Pe.constructor.name),$e==="Map"||$e==="Set")return Array.from(Pe);if($e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return s(Pe,Me)}}(h))||m&&h&&typeof h.length=="number"){_&&(h=_);var G=0,$=function(){};return{s:$,n:function(){return G>=h.length?{done:!0}:{done:!1,value:h[G++]}},e:function(Pe){throw Pe},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue,ie=!0,pe=!1;return{s:function(){_=_.call(h)},n:function(){var Pe=_.next();return ie=Pe.done,Pe},e:function(Pe){pe=!0,ue=Pe},f:function(){try{ie||_.return==null||_.return()}finally{if(pe)throw ue}}}}function s(h,m){(m==null||m>h.length)&&(m=h.length);for(var _=0,G=new Array(m);_<m;_++)G[_]=h[_];return G}function D(h,m){var _=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!_){if(Array.isArray(h)||(_=function(Pe,Me){if(Pe){if(typeof Pe=="string")return b(Pe,Me);var $e=Object.prototype.toString.call(Pe).slice(8,-1);if($e==="Object"&&Pe.constructor&&($e=Pe.constructor.name),$e==="Map"||$e==="Set")return Array.from(Pe);if($e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e))return b(Pe,Me)}}(h))||m&&h&&typeof h.length=="number"){_&&(h=_);var G=0,$=function(){};return{s:$,n:function(){return G>=h.length?{done:!0}:{done:!1,value:h[G++]}},e:function(Pe){throw Pe},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ue,ie=!0,pe=!1;return{s:function(){_=_.call(h)},n:function(){var Pe=_.next();return ie=Pe.done,Pe},e:function(Pe){pe=!0,ue=Pe},f:function(){try{ie||_.return==null||_.return()}finally{if(pe)throw ue}}}}function b(h,m){(m==null||m>h.length)&&(m=h.length);for(var _=0,G=new Array(m);_<m;_++)G[_]=h[_];return G}(function(){var h,m,_,G,$,ue;(m=(h=Path2D.prototype).roundRect)!==null&&m!==void 0||(h.roundRect=ie),globalThis.CanvasRenderingContext2D&&((G=(_=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&G!==void 0||(_.roundRect=ie)),globalThis.OffscreenCanvasRenderingContext2D&&((ue=($=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&ue!==void 0||($.roundRect=ie));function ie(Pe,Me,$e,Ke,qe){if([Pe,Me,$e,Ke].every(function(ct){return Number.isFinite(ct)})){var Fe,ot,it,ht;if((qe=function(ct){var St=(0,y.Z)(ct);return St==="undefined"||ct===null?[0]:St==="function"?[NaN]:St==="object"?typeof ct[Symbol.iterator]=="function"?(0,p.Z)(ct).map(function(Pt){var mt=(0,y.Z)(Pt);return mt==="undefined"||Pt===null?0:mt==="function"?NaN:mt==="object"?Ge(Pt):tt(Pt)}):[Ge(ct)]:[tt(ct)]}(qe)).length===4)Fe=dt(qe[0]),ot=dt(qe[1]),it=dt(qe[2]),ht=dt(qe[3]);else if(qe.length===3)Fe=dt(qe[0]),ot=dt(qe[1]),ht=dt(qe[1]),it=dt(qe[2]);else if(qe.length===2)Fe=dt(qe[0]),it=dt(qe[0]),ot=dt(qe[1]),ht=dt(qe[1]);else{if(qe.length!==1)throw new RangeError("".concat(pe(this)," ").concat(qe.length," is not a valid size for radii sequence."));Fe=dt(qe[0]),ot=dt(qe[0]),it=dt(qe[0]),ht=dt(qe[0])}var Te=[Fe,ot,it,ht],Ie=Te.find(function(ct){var St=ct.x,Pt=ct.y;return St<0||Pt<0});if((Ie==null?void 0:Ie.x)<0?Ie.x:Ie==null||Ie.y,!Te.some(function(ct){var St=ct.x,Pt=ct.y;return!Number.isFinite(St)||!Number.isFinite(Pt)})){if(Ie)throw new RangeError("".concat(pe(this)," Radius value ").concat(Ie," is negative."));(function(ct){var St=(0,f.Z)(ct,4),Pt=St[0],mt=St[1],Nt=St[2],Xt=St[3],Zt=[Math.abs($e)/(Pt.x+mt.x),Math.abs(Ke)/(mt.y+Nt.y),Math.abs($e)/(Nt.x+Xt.x),Math.abs(Ke)/(Pt.y+Xt.y)],Dt=Math.min.apply(Math,Zt);if(Dt<=1){var on,an=T(ct);try{for(an.s();!(on=an.n()).done;){var st=on.value;st.x*=Dt,st.y*=Dt}}catch(At){an.e(At)}finally{an.f()}}})(Te),$e<0&&Ke<0?(this.moveTo(Pe-Fe.x,Me),this.ellipse(Pe+$e+ot.x,Me-ot.y,ot.x,ot.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(Pe+$e+it.x,Me+Ke+it.y,it.x,it.y,0,-Math.PI,-Math.PI/2),this.ellipse(Pe-ht.x,Me+Ke+ht.y,ht.x,ht.y,0,-Math.PI/2,0),this.ellipse(Pe-Fe.x,Me-Fe.y,Fe.x,Fe.y,0,0,-Math.PI/2)):$e<0?(this.moveTo(Pe-Fe.x,Me),this.ellipse(Pe+$e+ot.x,Me+ot.y,ot.x,ot.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Pe+$e+it.x,Me+Ke-it.y,it.x,it.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(Pe-ht.x,Me+Ke-ht.y,ht.x,ht.y,0,Math.PI/2,0,1),this.ellipse(Pe-Fe.x,Me+Fe.y,Fe.x,Fe.y,0,0,-Math.PI/2,1)):Ke<0?(this.moveTo(Pe+Fe.x,Me),this.ellipse(Pe+$e-ot.x,Me-ot.y,ot.x,ot.y,0,Math.PI/2,0,1),this.ellipse(Pe+$e-it.x,Me+Ke+it.y,it.x,it.y,0,0,-Math.PI/2,1),this.ellipse(Pe+ht.x,Me+Ke+ht.y,ht.x,ht.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(Pe+Fe.x,Me-Fe.y,Fe.x,Fe.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(Pe+Fe.x,Me),this.ellipse(Pe+$e-ot.x,Me+ot.y,ot.x,ot.y,0,-Math.PI/2,0),this.ellipse(Pe+$e-it.x,Me+Ke-it.y,it.x,it.y,0,0,Math.PI/2),this.ellipse(Pe+ht.x,Me+Ke-ht.y,ht.x,ht.y,0,Math.PI/2,Math.PI),this.ellipse(Pe+Fe.x,Me+Fe.y,Fe.x,Fe.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(Pe,Me)}}function Ge(ct){return{x:ct.x,y:ct.y,z:ct.z,w:ct.w}}function tt(ct){return+ct}function dt(ct){var St,Pt,mt=tt(ct);return Number.isFinite(mt)?{x:mt,y:mt}:Object(ct)===ct?{x:tt((St=ct.x)!==null&&St!==void 0?St:0),y:tt((Pt=ct.y)!==null&&Pt!==void 0?Pt:0)}:{x:NaN,y:NaN}}}function pe(Pe){return"Failed to execute 'roundRect' on '".concat(function(Me){return Object(Me)===Me&&Me instanceof Path2D?"Path2D":Me instanceof(globalThis==null?void 0:globalThis.CanvasRenderingContext2D)?"CanvasRenderingContext2D":Me instanceof(globalThis==null?void 0:globalThis.OffscreenCanvasRenderingContext2D)?"OffscreenCanvasRenderingContext2D":(Me==null?void 0:Me.constructor.name)||Me}(Pe),"':")}})();var v,x=2,j=function(h,m,_,G,$,ue,ie,pe){var Pe=arguments.length>8&&arguments[8]!==void 0&&arguments[8],Me=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;h.save(),h.translate(ue,ie),h.rotate(pe),Pe&&h.fillRect(m-ue,_-ie,G,$),Me&&h.roundRect?(h.beginPath(),h.roundRect(m-ue,_-ie,G,$,Me),h.stroke(),h.closePath()):h.strokeRect(m-ue,_-ie,G,$),h.restore()},te=function(h,m,_,G){var $=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];h.beginPath(),h.arc(m,_,G,0,2*Math.PI),h.fill(),$&&h.stroke()},V=function(h,m,_,G,$){var ue=arguments.length>5&&arguments[5]!==void 0&&arguments[5];h.strokeStyle="#5e5ad8",h.setLineDash([]),h.fillStyle="rgba(255, 255, 255, 0.9)",$?h.fillStyle="rgba(134, 131, 226, 0.9)":ue&&(h.fillStyle="rgba(177, 151, 252, 0.7)"),te(h,_[0],_[1],G/m.zoom.value,!ue)},F=function(h,m,_){if(m.selectedLinearElement){h.save(),h.translate(m.scrollX,m.scrollY),h.lineWidth=1/m.zoom.value;var G=W._.getPointsGlobalCoordinates(_),$=W._.POINT_HANDLE_SIZE,ue=m.editingLinearElement?$:$/2;G.forEach(function(ie,pe){var Pe,Me,$e=!((Pe=m.editingLinearElement)===null||Pe===void 0||(Me=Pe.selectedPointsIndices)===null||Me===void 0||!Me.includes(pe));V(h,m,ie,ue,$e)}),W._.getEditorMidPoints(_,m).filter(function(ie){return ie!==null}).forEach(function(ie){var pe;m!=null&&(pe=m.selectedLinearElement)!==null&&pe!==void 0&&pe.segmentMidPointHoveredCoords&&W._.arePointsEqual(ie,m.selectedLinearElement.segmentMidPointHoveredCoords)?m.editingLinearElement?(V(h,m,ie,ue,!1),Z(ie,h,m)):(Z(ie,h,m),V(h,m,ie,ue,!1)):(m.editingLinearElement||G.length===2)&&V(h,m,ie,$/2,!1,!0)}),h.restore()}},Z=function(h,m,_){m.fillStyle="rgba(105, 101, 219, 0.4)",te(m,h[0],h[1],W._.POINT_HANDLE_SIZE/_.zoom.value,!1)},ne=function(h,m,_,G){m.translate(h.x+G.scrollX,h.y+G.scrollY),m.beginPath(),m.roundRect?m.roundRect(0,0,h.width,h.height,he.iG.radius/G.zoom.value):m.rect(0,0,h.width,h.height),m.clip(),m.translate(-(h.x+G.scrollX),-(h.y+G.scrollY))},ce=function(h,m){return[h.width/m,h.height/m]},Se=function(h){var m=h.canvas,_=h.scale,G=h.normalizedWidth,$=h.normalizedHeight,ue=h.theme,ie=h.isExporting,pe=h.viewBackgroundColor,Pe=m.getContext("2d");return Pe.setTransform(1,0,0,1,0,0),Pe.scale(_,_),ie&&ue==="dark"&&(Pe.filter=he.ZF),typeof pe=="string"?((pe==="transparent"||pe.length===5||pe.length===9||/(hsla|rgba)\(/.test(pe))&&Pe.clearRect(0,0,G,$),Pe.save(),Pe.fillStyle=pe,Pe.fillRect(0,0,G,$),Pe.restore()):Pe.clearRect(0,0,G,$),Pe},de=function(h){var m,_=h.canvas,G=h.elements,$=h.visibleElements,ue=h.selectedElements,ie=h.scale,pe=h.appState,Pe=h.renderConfig;if(_===null)return{atLeastOneVisibleElement:!1,elements:G};var Me=ce(_,ie),$e=(0,f.Z)(Me,2),Ke=$e[0],qe=$e[1],Fe=Se({canvas:_,scale:ie,normalizedWidth:Ke,normalizedHeight:qe});Fe.save(),Fe.scale(pe.zoom.value,pe.zoom.value);var ot=void 0;if($.forEach(function(Ct){var It;((It=pe.editingLinearElement)===null||It===void 0?void 0:It.elementId)===Ct.id&&Ct&&(ot=Ct)}),ot&&F(Fe,pe,ot),pe.selectionElement)try{(0,d.uI)(pe.selectionElement,Fe,pe)}catch(Ct){console.error(Ct)}pe.isBindingEnabled&&pe.suggestedBindings.filter(function(Ct){return Ct!=null}).forEach(function(Ct){Le(Fe,pe,Ct)}),pe.frameToHighlight&&Be(Fe,pe,pe.frameToHighlight),pe.elementsToHighlight&&Ze(Fe,pe,pe.elementsToHighlight);var it,ht=ue.some(function(Ct){return(0,A.He)(Ct)});if(ue.length===1&&((m=pe.editingLinearElement)===null||m===void 0?void 0:m.elementId)===ue[0].id&&F(Fe,pe,ue[0]),pe.selectedLinearElement&&pe.selectedLinearElement.hoverPointIndex>=0&&function(Ct,It){var Bt,yn,_n=It.selectedLinearElement,vn=_n.elementId,$n=_n.hoverPointIndex;if((Bt=It.editingLinearElement)===null||Bt===void 0||(yn=Bt.selectedPointsIndices)===null||yn===void 0||!yn.includes($n)){var jn=W._.getElement(vn);if(jn){var Ln=W._.getPointAtIndexGlobalCoordinates(jn,$n);Ct.save(),Ct.translate(It.scrollX,It.scrollY),Z(Ln,Ct,It),Ct.restore()}}}(Fe,pe),!pe.multiElement&&!pe.editingLinearElement){var Te,Ie=(0,S.oY)(ue,pe);ue.length===1&&(0,A.bt)(ue[0])&&((Te=pe.selectedLinearElement)===null||Te===void 0?void 0:Te.elementId)===ue[0].id&&!ue[0].locked&&F(Fe,pe,ue[0]);var Ge=Pe.selectionColor||u.black;if(Ie){var tt,dt=ue.reduce(function(Ct,It){return Ct[It.id]=!0,Ct},{}),ct=G.reduce(function(Ct,It){var Bt=[];if(dt[It.id]&&!(0,Y.zq)(pe,It)&&Bt.push(Ge),Pe.remoteSelectedElementIds[It.id]&&Bt.push.apply(Bt,(0,p.Z)(Pe.remoteSelectedElementIds[It.id].map(function(Nn){return(0,L.G)(Nn)}))),Bt.length){var yn,_n=(0,E.qf)(It,!0),vn=(0,f.Z)(_n,6),$n=vn[0],jn=vn[1],Ln=vn[2],ir=vn[3],Sn=vn[4],Cn=vn[5];Ct.push({angle:It.angle,elementX1:$n,elementY1:jn,elementX2:Ln,elementY2:ir,selectionColors:Bt,dashed:!!Pe.remoteSelectedElementIds[It.id],cx:Sn,cy:Cn,activeEmbeddable:((yn=pe.activeEmbeddable)===null||yn===void 0?void 0:yn.element)===It&&pe.activeEmbeddable.state==="active"})}return Ct},[]),St=function(Ct){var It=(0,Y.Fb)(G,Ct),Bt=(0,E.KP)(It),yn=(0,f.Z)(Bt,4),_n=yn[0],vn=yn[1],$n=yn[2],jn=yn[3];ct.push({angle:0,elementX1:_n,elementX2:$n,elementY1:vn,elementY2:jn,selectionColors:[u.black],dashed:!0,cx:_n+($n-_n)/2,cy:vn+(jn-vn)/2,activeEmbeddable:!1})},Pt=D((0,Y.iJ)(pe));try{for(Pt.s();!(tt=Pt.n()).done;)St(tt.value)}catch(Ct){Pt.e(Ct)}finally{Pt.f()}pe.editingGroupId&&St(pe.editingGroupId),ct.forEach(function(Ct){return He(Fe,pe,Ct)})}if(Fe.save(),Fe.translate(pe.scrollX,pe.scrollY),ue.length===1){Fe.fillStyle=u.white;var mt=(0,E.PC)(ue[0],pe.zoom,"mouse");!pe.viewModeEnabled&&Ie&&et(Fe,Pe,pe,mt,ue[0].angle)}else if(ue.length>1&&!pe.isRotating){var Nt=2*x/pe.zoom.value;Fe.fillStyle=u.white;var Xt=(0,E.KP)(ue),Zt=(0,f.Z)(Xt,4),Dt=Zt[0],on=Zt[1],an=Zt[2],st=Zt[3],At=Fe.getLineDash();Fe.setLineDash([2/pe.zoom.value]);var bt=Fe.lineWidth;Fe.lineWidth=1/pe.zoom.value,Fe.strokeStyle=Ge,j(Fe,Dt-Nt,on-Nt,an-Dt+2*Nt,st-on+2*Nt,(Dt+an)/2,(on+st)/2,0),Fe.lineWidth=bt,Fe.setLineDash(At);var jt=(0,E.kK)([Dt,on,an,st,(Dt+an)/2,(on+st)/2],0,pe.zoom,"mouse",ht?S.Fn:E.ox);ue.some(function(Ct){return!Ct.locked})&&et(Fe,Pe,pe,jt,0)}Fe.restore()}for(var Et in function(Ct,It){if(It.snapLines.length){var Bt=It.theme==="light"||It.zenModeEnabled?"#ff6b6b":"#ff0000",yn=(It.zenModeEnabled?1.5:1)/It.zoom.value;Ct.save(),Ct.translate(It.scrollX,It.scrollY);var _n,vn=ve(It.snapLines);try{for(vn.s();!(_n=vn.n()).done;){var $n=_n.value;$n.type==="pointer"?(Ct.lineWidth=yn,Ct.strokeStyle=Bt,N($n,Ct,It)):$n.type==="gap"?(Ct.lineWidth=yn,Ct.strokeStyle=Bt,I($n.points[0],$n.points[1],$n.direction,It,Ct)):$n.type==="points"&&(Ct.lineWidth=yn,Ct.strokeStyle=Bt,le($n,Ct,It))}}catch(jn){vn.e(jn)}finally{vn.f()}Ct.restore()}}(Fe,pe),Fe.restore(),Pe.remotePointerViewportCoords){var Vt=Pe.remotePointerViewportCoords[Et],Kt=Vt.x,cn=Vt.y;Kt-=pe.offsetLeft,cn-=pe.offsetTop;var Wt=Kt<0||Kt>Ke-11||cn<0||cn>qe-14;Kt=Math.max(Kt,0),Kt=Math.min(Kt,Ke-11),cn=Math.max(cn,0),cn=Math.min(cn,qe-14);var Mn=(0,L.G)(Et);Fe.save(),Fe.strokeStyle=Mn,Fe.fillStyle=Mn;var wn=Pe.remotePointerUserStates[Et],Jn=Wt||wn===M.IDLE||wn===M.AWAY;Jn&&(Fe.globalAlpha=.3),Pe.remotePointerButton&&Pe.remotePointerButton[Et]==="down"&&(Fe.beginPath(),Fe.arc(Kt,cn,15,0,2*Math.PI,!1),Fe.lineWidth=3,Fe.strokeStyle="#ffffff88",Fe.stroke(),Fe.closePath(),Fe.beginPath(),Fe.arc(Kt,cn,15,0,2*Math.PI,!1),Fe.lineWidth=1,Fe.strokeStyle=Mn,Fe.stroke(),Fe.closePath()),Fe.fillStyle=u.white,Fe.strokeStyle=u.white,Fe.lineWidth=6,Fe.lineJoin="round",Fe.beginPath(),Fe.moveTo(Kt,cn),Fe.lineTo(Kt+0,cn+14),Fe.lineTo(Kt+4,cn+9),Fe.lineTo(Kt+11,cn+8),Fe.closePath(),Fe.stroke(),Fe.fill(),Fe.fillStyle=Mn,Fe.strokeStyle=Mn,Fe.lineWidth=2,Fe.lineJoin="round",Fe.beginPath(),Jn?(Fe.moveTo(Kt-1,cn-1),Fe.lineTo(Kt-1,cn+15),Fe.lineTo(Kt+5,cn+10),Fe.lineTo(Kt+12,cn+9),Fe.closePath(),Fe.fill()):(Fe.moveTo(Kt,cn),Fe.lineTo(Kt+0,cn+14),Fe.lineTo(Kt+4,cn+9),Fe.lineTo(Kt+11,cn+8),Fe.closePath(),Fe.fill(),Fe.stroke());var yt=Pe.remotePointerUsernames[Et]||"";if(!Wt&&yt){Fe.font="600 12px sans-serif";var Qt=Kt+5.5,Ut=cn+14+2,Yt=Fe.measureText(yt),Bn=Yt.actualBoundingBoxDescent+Yt.actualBoundingBoxAscent,Fn=Math.max(Bn,12),Hn=Qt-1,rr=Ut-1,In=Yt.width+2+10+2,_t=Fn+2+6+2;Fe.roundRect?(Fe.beginPath(),Fe.roundRect(Hn,rr,In,_t,8),Fe.fillStyle=Mn,Fe.fill(),Fe.strokeStyle=u.white,Fe.stroke()):R(Fe,Hn,rr,In,_t,8,u.white),Fe.fillStyle=u.black,Fe.fillText(yt,Qt+5+1,Ut+3+Yt.actualBoundingBoxAscent+Math.floor((Fn-Bn)/2)+2)}Fe.restore(),Fe.closePath()}return Pe.renderScrollbars&&(it=(0,k.tJ)(G,Ke,qe,pe),Fe.save(),Fe.fillStyle=k.w1,Fe.strokeStyle="rgba(255,255,255,0.8)",[it.horizontal,it.vertical].forEach(function(Ct){Ct&&R(Fe,Ct.x,Ct.y,Ct.width,Ct.height,k.nn/2)}),Fe.restore()),{scrollBars:it,atLeastOneVisibleElement:$.length>0,elements:G}},_e=function(h){var m=h.canvas,_=h.rc,G=h.elements,$=h.visibleElements,ue=h.scale,ie=h.appState,pe=h.renderConfig;if(m!==null){var Pe=pe.renderGrid,Me=Pe===void 0||Pe,$e=pe.isExporting,Ke=ce(m,ue),qe=(0,f.Z)(Ke,2),Fe=qe[0],ot=qe[1],it=Se({canvas:m,scale:ue,normalizedWidth:Fe,normalizedHeight:ot,theme:ie.theme,isExporting:$e,viewBackgroundColor:ie.viewBackgroundColor});it.scale(ie.zoom.value,ie.zoom.value),Me&&ie.gridSize&&function(Te,Ie,Ge,tt,dt,ct,St){var Pt;(function(bt){bt.Bold="#cccccc",bt.Regular="#e5e5e5"})(Pt||(Pt={}));var mt=-Math.round(dt.value/Ie)*Ie+Ge%Ie,Nt=-Math.round(dt.value/Ie)*Ie+tt%Ie,Xt=Math.min(1/dt.value,1),Zt=1/dt.value,Dt=[3*Xt,Zt+(Xt+Zt)];Te.save(),Te.lineWidth=Xt;for(var on=mt;on<mt+ct+2*Ie;on+=Ie){var an=Math.round(on-Ge)%(5*Ie)==0;Te.beginPath(),Te.setLineDash(an?[]:Dt),Te.strokeStyle=an?Pt.Bold:Pt.Regular,Te.moveTo(on,Nt-Ie),Te.lineTo(on,Nt+St+2*Ie),Te.stroke()}for(var st=Nt;st<Nt+St+2*Ie;st+=Ie){var At=Math.round(st-tt)%(5*Ie)==0;Te.beginPath(),Te.setLineDash(At?[]:Dt),Te.strokeStyle=At?Pt.Bold:Pt.Regular,Te.moveTo(mt-Ie,st),Te.lineTo(mt+ct+2*Ie,st),Te.stroke()}Te.restore()}(it,ie.gridSize,ie.scrollX,ie.scrollY,ie.zoom,Fe/ie.zoom.value,ot/ie.zoom.value);var ht=new Set;$.forEach(function(Te){Te.groupIds.length>0&&ie.frameToHighlight&&ie.selectedElementIds[Te.id]&&((0,U.cO)(Te,ie.frameToHighlight)||Te.groupIds.find(function(Ie){return ht.has(Ie)}))&&Te.groupIds.forEach(function(Ie){return ht.add(Ie)})}),$.filter(function(Te){return!(0,C.uU)(Te)}).forEach(function(Te){try{var Ie;if((Te.frameId||!((Ie=ie.frameToHighlight)===null||Ie===void 0)&&Ie.id)&&ie.frameRendering.enabled&&ie.frameRendering.clip){it.save();var Ge=(0,U.cH)(Te,ie);Ge&&(0,U.Qs)(Te,G,ie)&&ne(Ge,it,0,ie),(0,d.lw)(Te,_,it,pe,ie),it.restore()}else(0,d.lw)(Te,_,it,pe,ie);$e||be(Te,it,ie)}catch(tt){console.error(tt)}}),$.filter(function(Te){return(0,C.uU)(Te)}).forEach(function(Te){try{var Ie,Ge=function(){if((0,d.lw)(Te,_,it,pe,ie),(0,A.gs)(Te)&&($e||!Te.validated)&&Te.width&&Te.height){var dt=(0,C.g0)(Te);(0,d.lw)(dt,_,it,pe,ie)}$e||be(Te,it,ie)};if((Te.frameId||!((Ie=ie.frameToHighlight)===null||Ie===void 0)&&Ie.id)&&ie.frameRendering.enabled&&ie.frameRendering.clip){it.save();var tt=(0,U.cH)(Te,ie);tt&&(0,U.Qs)(Te,G,ie)&&ne(tt,it,0,ie),Ge(),it.restore()}else Ge()}catch(dt){console.error(dt)}})}},we=(0,B.hR)(function(h){var m,_=de(h);(m=h.callback)===null||m===void 0||m.call(h,_)},{trailing:!0}),J=function(h,m){if(!m){var _=de(h);return h.callback(_),_}we(h)},xe=(0,B.hR)(function(h){_e(h)},{trailing:!0}),je=function(h,m){m?xe(h):_e(h)},Ue=function(){we.cancel(),xe.cancel()},et=function(h,m,_,G,$){Object.keys(G).forEach(function(ue){var ie=G[ue];if(ie!==void 0){var pe=(0,f.Z)(ie,4),Pe=pe[0],Me=pe[1],$e=pe[2],Ke=pe[3];h.save(),h.lineWidth=1/_.zoom.value,m.selectionColor&&(h.strokeStyle=m.selectionColor),ue==="rotation"?te(h,Pe+$e/2,Me+Ke/2,$e/2):h.roundRect?(h.beginPath(),h.roundRect(Pe,Me,$e,Ke,2/_.zoom.value),h.fill(),h.stroke()):j(h,Pe,Me,$e,Ke,Pe+$e/2,Me+Ke/2,$,!0),h.restore()}})},He=function(h,m,_){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*x,$=_.angle,ue=_.elementX1,ie=_.elementY1,pe=_.elementX2,Pe=_.elementY2,Me=_.selectionColors,$e=_.cx,Ke=_.cy,qe=_.dashed,Fe=_.activeEmbeddable,ot=pe-ue,it=Pe-ie,ht=G/m.zoom.value,Te=8/m.zoom.value,Ie=4/m.zoom.value;h.save(),h.translate(m.scrollX,m.scrollY),h.lineWidth=(Fe?4:1)/m.zoom.value;for(var Ge=Me.length,tt=0;tt<Ge;++tt)h.strokeStyle=Me[tt],qe&&h.setLineDash([Te,Ie+(Te+Ie)*(Ge-1)]),h.lineDashOffset=(Te+Ie)*tt,j(h,ue-ht,ie-ht,ot+2*ht,it+2*ht,$e,Ke,$);h.restore()},Le=function(h,m,_){var G=Array.isArray(_)?ye:De;h.save(),h.translate(m.scrollX,m.scrollY),G(h,_),h.restore()},De=function(h,m){var _=(0,E.qf)(m),G=(0,f.Z)(_,4),$=G[0],ue=G[1],ie=G[2]-$,pe=G[3]-ue,Pe=(0,ee.fb)(m,ie,pe);h.strokeStyle="rgba(0,0,0,.05)",h.lineWidth=Pe-4;var Me=2+Pe/2;switch(m.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":j(h,$-Me,ue-Me,ie+2*Me,pe+2*Me,$+ie/2,ue+pe/2,m.angle);break;case"diamond":var $e=Math.hypot(ie,pe);(function(Ke,qe,Fe,ot,it,ht){Ke.save(),Ke.translate(ot,it),Ke.rotate(ht),Ke.beginPath(),Ke.moveTo(0,Fe/2),Ke.lineTo(qe/2,0),Ke.lineTo(0,-Fe/2),Ke.lineTo(-qe/2,0),Ke.closePath(),Ke.stroke(),Ke.restore()})(h,ie+2*(Me*$e/pe),pe+2*(Me*$e/ie),$+ie/2,ue+pe/2,m.angle);break;case"ellipse":(function(Ke,qe,Fe,ot,it,ht){Ke.beginPath(),Ke.ellipse(ot,it,qe/2,Fe/2,ht,0,2*Math.PI),Ke.stroke()})(h,ie+2*Me,pe+2*Me,$+ie/2,ue+pe/2,m.angle)}},Be=function(h,m,_){var G=(0,E.qf)(_),$=(0,f.Z)(G,4),ue=$[0],ie=$[1],pe=$[2]-ue,Pe=$[3]-ie;h.strokeStyle="rgb(0,118,255)",h.lineWidth=he.iG.strokeWidth/m.zoom.value,h.save(),h.translate(m.scrollX,m.scrollY),j(h,ue,ie,pe,Pe,ue+pe/2,ie+Pe/2,_.angle,!1,he.iG.radius/m.zoom.value),h.restore()},Ze=function(h,m,_){var G=_.filter(function(ie){return ie.groupIds.length===0}),$=_.filter(function(ie){return ie.groupIds.length>0}),ue=function(ie){var pe=(0,E.KP)(ie),Pe=(0,f.Z)(pe,4),Me=Pe[0],$e=Pe[1],Ke=Pe[2],qe=Pe[3];return{angle:0,elementX1:Me,elementX2:Ke,elementY1:$e,elementY2:qe,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:Me+(Ke-Me)/2,cy:$e+(qe-$e)/2,activeEmbeddable:!1}};Object.entries((0,Y.yR)($,m)).filter(function(ie){var pe=(0,f.Z)(ie,2);return pe[0],pe[1]}).map(function(ie){var pe=(0,f.Z)(ie,2),Pe=pe[0];return pe[1],Pe}).map(function(ie){return function(pe){var Pe=(0,Y.Fb)(_,pe);return ue(Pe)}(ie)}).concat(G.map(function(ie){return ue([ie])})).forEach(function(ie){return He(h,m,ie)})},ye=function(h,m){var _=(0,f.Z)(m,3),G=_[0],$=_[1],ue=_[2],ie=(0,ee.fb)(ue,ue.width,ue.height);h.strokeStyle="rgba(0,0,0,0)",h.fillStyle="rgba(0,0,0,.05)",($==="both"?[0,-1]:$==="start"?[0]:[-1]).forEach(function(pe){var Pe=W._.getPointAtIndexGlobalCoordinates(G,pe),Me=(0,f.Z)(Pe,2),$e=Me[0],Ke=Me[1];te(h,$e,Ke,ie)})},be=function(h,m,_){if(h.link&&!_.selectedElementIds[h.id]){var G=(0,E.qf)(h),$=(0,f.Z)(G,4),ue=$[0],ie=$[1],pe=$[2],Pe=$[3],Me=(0,ge.sw)([ue,ie,pe,Pe],h.angle,_),$e=(0,f.Z)(Me,4),Ke=$e[0],qe=$e[1],Fe=$e[2],ot=$e[3],it=Ke+Fe/2,ht=qe+ot/2;if(m.save(),m.translate(_.scrollX+it,_.scrollY+ht),m.rotate(h.angle),v&&v.zoom===_.zoom.value)m.drawImage(v,Ke-it,qe-ht,Fe,ot);else{(v=document.createElement("canvas")).zoom=_.zoom.value,v.width=Fe*window.devicePixelRatio*_.zoom.value,v.height=ot*window.devicePixelRatio*_.zoom.value;var Te=v.getContext("2d");Te.scale(window.devicePixelRatio*_.zoom.value,window.devicePixelRatio*_.zoom.value),Te.fillStyle="#fff",Te.fillRect(0,0,Fe,ot),Te.drawImage(ge.rj,0,0,Fe,ot),Te.restore(),m.drawImage(v,Ke-it,qe-ht,Fe,ot)}m.restore()}},X=function(h,m,_,G,$){var ue=$.offsetX,ie=ue===void 0?0:ue,pe=$.offsetY,Pe=pe===void 0?0:pe,Me=$.exportWithDarkMode,$e=$.renderEmbeddables,Ke=$.frameRendering;if(_){var qe={exportWithDarkMode:Me,renderEmbeddables:$e,frameRendering:Ke};h.filter(function(Fe){return!(0,C.uU)(Fe)}).forEach(function(Fe){if(!Fe.isDeleted)try{(0,d.Rg)(Fe,m,_,G,Fe.x+ie,Fe.y+Pe,qe)}catch(ot){console.error(ot)}}),h.filter(function(Fe){return(0,A.gs)(Fe)}).forEach(function(Fe){if(!Fe.isDeleted)try{(0,d.Rg)(Fe,m,_,G,Fe.x+ie,Fe.y+Pe,qe)}catch(ot){console.error(ot)}})}}},457:function(Q,z,o){var M=o(1930),p=o(8821),f=o(5169),u=o(7651),E=o(4183),R=o(6264),k=o(4643),d=function(W){return typeof W=="string"},L=function(){function W(){var Y=this;(0,p.Z)(this,W),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(ee){ee.frameId?Y.insertElementAtIndex(ee,Y.getElementIndex(ee.frameId)):Y.replaceAllElements([].concat((0,M.Z)(Y.elements),[ee]))}}return(0,f.Z)(W,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(Y){var ee=function(ge){for(var ve="",me=0,le=["includeBoundTextElement","includeElementsInFrames"];me<le.length;me++){var N=le[me];ve+="".concat(N,":").concat(ge[N]?"1":"0")}return ve}(Y),S=(Y==null?void 0:Y.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===S&&this.selectedElementsCache.selectedElementIds===Y.selectedElementIds){var B=this.selectedElementsCache.cache.get(ee);if(B)return B}else(Y==null?void 0:Y.elements)==null&&this.selectedElementsCache.cache.clear();var he=(0,R.eD)(S,{selectedElementIds:Y.selectedElementIds},Y);return(Y==null?void 0:Y.elements)==null&&(this.selectedElementsCache.selectedElementIds=Y.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(ee,he)),he}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(Y){return this.elementsMap.get(Y)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(Y){var ee=this.getElement(Y);return ee&&(0,u.qP)(ee)?ee:null}},{key:"mapElements",value:function(Y){var ee=!1,S=this.elements.map(function(B){var he=Y(B);return he!==B&&(ee=!0),he});return ee&&this.replaceAllElements(S),ee}},{key:"replaceAllElements",value:function(Y){var ee=this;this.elements=Y;var S=[];this.elementsMap.clear(),Y.forEach(function(B){(0,E.He)(B)&&S.push(B),ee.elementsMap.set(B.id,B),W.mapElementToScene(B,ee)}),this.nonDeletedElements=(0,u.Lm)(this.elements),this.frames=S,this.nonDeletedFrames=(0,u.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,k.LU)();for(var Y=0,ee=Array.from(this.callbacks);Y<ee.length;Y++)(0,ee[Y])()}},{key:"addCallback",value:function(Y){var ee=this;if(this.callbacks.has(Y))throw new Error;return this.callbacks.add(Y),function(){if(!ee.callbacks.has(Y))throw new Error;ee.callbacks.delete(Y)}}},{key:"destroy",value:function(){var Y=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),W.sceneMapById.forEach(function(ee,S){ee===Y&&W.sceneMapById.delete(S)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(Y,ee){if(!Number.isFinite(ee)||ee<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var S=[].concat((0,M.Z)(this.elements.slice(0,ee)),[Y],(0,M.Z)(this.elements.slice(ee)));this.replaceAllElements(S)}},{key:"insertElementsAtIndex",value:function(Y,ee){if(!Number.isFinite(ee)||ee<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var S=[].concat((0,M.Z)(this.elements.slice(0,ee)),(0,M.Z)(Y),(0,M.Z)(this.elements.slice(ee)));this.replaceAllElements(S)}},{key:"getElementIndex",value:function(Y){return this.elements.findIndex(function(ee){return ee.id===Y})}}],[{key:"mapElementToScene",value:function(Y,ee){var S=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(d(Y)){if(!S)return;this.sceneMapById.set(Y,ee)}else this.sceneMapByElement.set(Y,ee),S||this.sceneMapById.set(Y.id,ee)}},{key:"getScene",value:function(Y){return d(Y)?this.sceneMapById.get(Y)||null:this.sceneMapByElement.get(Y)||null}}]),W}();L.sceneMapByElement=new WeakMap,L.sceneMapById=new Map,z.Z=L},6049:function(Q,z,o){o.d(z,{Z:function(){return ve},i:function(){return le}});var M=o(1930),p=o(2577),f=o(7169),u=o(7651),E=o(2361),R=o(9660),k=o(9827),d=o(1493),L=o(9937),W=o(4183),Y=o(1648);function ee(N,oe){var O=Object.keys(N);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(N);oe&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(N,A).enumerable})),O.push.apply(O,I)}return O}function S(N){for(var oe=1;oe<arguments.length;oe++){var O=arguments[oe]!=null?arguments[oe]:{};oe%2?ee(Object(O),!0).forEach(function(I){(0,f.Z)(N,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(O)):ee(Object(O)).forEach(function(I){Object.defineProperty(N,I,Object.getOwnPropertyDescriptor(O,I))})}return N}var B=function(N){return[8,8+N]},he=function(N){return[1.5,6+N]};function ge(N){var oe=N.roughness,O=Math.max(N.width,N.height),I=Math.min(N.width,N.height);return I>=20&&O>=50||I>=15&&N.roundness&&(0,Y.sh)(N.type)||(0,W.bt)(N)&&O>=50?oe:Math.min(oe/(O<10?3:2),2.5)}var ve=function(N){var oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],O={seed:N.seed,strokeLineDash:N.strokeStyle==="dashed"?B(N.strokeWidth):N.strokeStyle==="dotted"?he(N.strokeWidth):void 0,disableMultiStroke:N.strokeStyle!=="solid",strokeWidth:N.strokeStyle!=="solid"?N.strokeWidth+.5:N.strokeWidth,fillWeight:N.strokeWidth/2,hachureGap:4*N.strokeWidth,roughness:ge(N),stroke:N.strokeColor,preserveVertices:oe||N.roughness<L.$h.cartoonist};switch(N.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return O.fillStyle=N.fillStyle,O.fill=(0,k.Qm)(N.backgroundColor)?void 0:N.backgroundColor,N.type==="ellipse"&&(O.curveFitting=1),O;case"line":case"freedraw":return(0,E.g6)(N.points)&&(O.fillStyle=N.fillStyle,O.fill=N.backgroundColor==="transparent"?void 0:N.backgroundColor),O;case"arrow":return O;default:throw new Error("Unimplemented type ".concat(N.type))}},me=function(N,oe){return N.type==="embeddable"&&(oe||!N.validated)&&(0,k.Qm)(N.backgroundColor)&&(0,k.Qm)(N.strokeColor)?S(S({},N),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):N},le=function(N,oe){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(N.type){case"rectangle":case"embeddable":var I;if(N.roundness){var A=N.width,C=N.height,U=(0,E.yW)(Math.min(A,C),N);I=oe.path("M ".concat(U," 0 L ").concat(A-U," 0 Q ").concat(A," 0, ").concat(A," ").concat(U," L ").concat(A," ").concat(C-U," Q ").concat(A," ").concat(C,", ").concat(A-U," ").concat(C," L ").concat(U," ").concat(C," Q 0 ").concat(C,", 0 ").concat(C-U," L 0 ").concat(U," Q 0 0, ").concat(U," 0"),ve(me(N,O),!0))}else I=oe.rectangle(0,0,N.width,N.height,ve(me(N,O),!1));return I;case"diamond":var y,T=(0,u.UC)(N),s=(0,p.Z)(T,8),D=s[0],b=s[1],v=s[2],x=s[3],j=s[4],te=s[5],V=s[6],F=s[7];if(N.roundness){var Z=(0,E.yW)(Math.abs(D-V),N),ne=(0,E.yW)(Math.abs(x-b),N);y=oe.path("M ".concat(D+Z," ").concat(b+ne," L ").concat(v-Z," ").concat(x-ne,`
            C `).concat(v," ").concat(x,", ").concat(v," ").concat(x,", ").concat(v-Z," ").concat(x+ne,`
            L `).concat(j+Z," ").concat(te-ne,`
            C `).concat(j," ").concat(te,", ").concat(j," ").concat(te,", ").concat(j-Z," ").concat(te-ne,`
            L `).concat(V+Z," ").concat(F+ne,`
            C `).concat(V," ").concat(F,", ").concat(V," ").concat(F,", ").concat(V+Z," ").concat(F-ne,`
            L `).concat(D-Z," ").concat(b+ne,`
            C `).concat(D," ").concat(b,", ").concat(D," ").concat(b,", ").concat(D+Z," ").concat(b+ne),ve(N,!0))}else y=oe.polygon([[D,b],[v,x],[j,te],[V,F]],ve(N));return y;case"ellipse":var ce=oe.ellipse(N.width/2,N.height/2,N.width,N.height,ve(N));return ce;case"line":case"arrow":var Se,de=ve(N),_e=N.points.length?N.points:[[0,0]];if(Se=N.roundness?[oe.curve(_e,de)]:de.fill?[oe.polygon(_e,de)]:[oe.linearPath(_e,de)],N.type==="arrow"){var we=N.startArrowhead,J=we===void 0?null:we,xe=N.endArrowhead,je=xe===void 0?"arrow":xe,Ue=function(be,X,h,m){var _=(0,u.Y5)(be,X,h,m);if(_===null)return[];if(m==="dot"){var G=(0,p.Z)(_,3),$=G[0],ue=G[1],ie=G[2];return[oe.circle($,ue,ie,S(S({},de),{},{fill:be.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(m==="triangle"){var pe=(0,p.Z)(_,6),Pe=pe[0],Me=pe[1],$e=pe[2],Ke=pe[3],qe=pe[4],Fe=pe[5];return delete de.strokeLineDash,[oe.polygon([[Pe,Me],[$e,Ke],[qe,Fe],[Pe,Me]],S(S({},de),{},{fill:be.strokeColor,fillStyle:"solid"}))]}var ot=(0,p.Z)(_,6),it=ot[0],ht=ot[1],Te=ot[2],Ie=ot[3],Ge=ot[4],tt=ot[5];if(be.strokeStyle==="dotted"){var dt=he(be.strokeWidth-1);de.strokeLineDash=[dt[0],dt[1]-1]}else delete de.strokeLineDash;return[oe.line(Te,Ie,it,ht,de),oe.line(Ge,tt,it,ht,de)]};if(J!==null){var et,He=Ue(N,Se,"start",J);(et=Se).push.apply(et,(0,M.Z)(He))}if(je!==null){var Le,De=Ue(N,Se,"end",je);(Le=Se).push.apply(Le,(0,M.Z)(De))}}return Se;case"freedraw":var Be;if((0,R.Lc)(N),(0,E.g6)(N.points)){var Ze=(0,d.og)(N.points,.75);Be=oe.curve(Ze,S(S({},ve(N)),{},{stroke:"none"}))}else Be=null;return Be;case"frame":case"text":case"image":var ye=null;return ye;default:return(0,k.vE)(N,"generateElementShape(): Unimplemented type ".concat(N==null?void 0:N.type)),null}}},2921:function(Q,z,o){o.d(z,{R:function(){return R}});var M=o(5169),p=o(8821),f=o(8128),u=o(9660),E=o(6049),R=(0,M.Z)(function k(){(0,p.Z)(this,k)});R.rg=new f.V,R.cache=new WeakMap,R.get=function(k){return R.cache.get(k)},R.set=function(k,d){return R.cache.set(k,d)},R.delete=function(k){return R.cache.delete(k)},R.destroy=function(){R.cache=new WeakMap},R.generateElementShape=function(k){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],L=d?void 0:R.get(k);if(L!==void 0)return L;u.Xx.delete(k);var W=(0,E.i)(k,R.rg,d);return R.cache.set(k,W),W}},1648:function(Q,z,o){o.d(z,{$b:function(){return p},CJ:function(){return L},M9:function(){return E},PD:function(){return f},QG:function(){return d},Un:function(){return k},Zd:function(){return u},sh:function(){return R}});var M=o(4183),p=function(W){return W==="rectangle"||W==="embeddable"||W==="ellipse"||W==="diamond"||W==="line"||W==="freedraw"},f=function(W){return W!=="image"&&W!=="frame"},u=function(W){return W==="rectangle"||W==="embeddable"||W==="ellipse"||W==="diamond"||W==="freedraw"||W==="arrow"||W==="line"},E=function(W){return W==="rectangle"||W==="embeddable"||W==="ellipse"||W==="diamond"||W==="arrow"||W==="line"},R=function(W){return W==="rectangle"||W==="embeddable"||W==="arrow"||W==="line"||W==="diamond"},k=function(W){return W==="arrow"},d=function(W,Y){for(var ee=null,S=W.length-1;S>=0;--S){var B=W[S];if(!B.isDeleted&&Y(B)){ee=B;break}}return ee},L=function(W,Y){var ee=[];return W.filter(function(S){return!(S.isDeleted||!Y(S))&&(!(0,M.gs)(S)||(ee.push(S),!1))}).concat(ee)}},3668:function(Q,z,o){o.d(z,{$D:function(){return T},Cg:function(){return D},NL:function(){return y}});var M=o(7169),p=o(2577),f=o(8950),u=o(2975),E=o.n(u),R=o(9845),k=o(4949),d=o(7766),L=o(9827),W=o(9937),Y=o(6853),ee=o(4419),S=o(4178),B=o(6013),he=o(4682),ge=o(7651),ve=o(583),me=o(457);function le(b,v){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);v&&(j=j.filter(function(te){return Object.getOwnPropertyDescriptor(b,te).enumerable})),x.push.apply(x,j)}return x}function N(b){for(var v=1;v<arguments.length;v++){var x=arguments[v]!=null?arguments[v]:{};v%2?le(Object(x),!0).forEach(function(j){(0,M.Z)(b,j,x[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):le(Object(x)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(x,j))})}return b}function oe(b,v){var x=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!x){if(Array.isArray(b)||(x=function(ne,ce){if(ne){if(typeof ne=="string")return O(ne,ce);var Se=Object.prototype.toString.call(ne).slice(8,-1);if(Se==="Object"&&ne.constructor&&(Se=ne.constructor.name),Se==="Map"||Se==="Set")return Array.from(ne);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return O(ne,ce)}}(b))||v&&b&&typeof b.length=="number"){x&&(b=x);var j=0,te=function(){};return{s:te,n:function(){return j>=b.length?{done:!0}:{done:!1,value:b[j++]}},e:function(ne){throw ne},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,F=!0,Z=!1;return{s:function(){x=x.call(b)},n:function(){var ne=x.next();return F=ne.done,ne},e:function(ne){Z=!0,V=ne},f:function(){try{F||x.return==null||x.return()}finally{if(Z)throw V}}}}function O(b,v){(v==null||v>b.length)&&(v=b.length);for(var x=0,j=new Array(v);x<v;x++)j[x]=b[x];return j}var I=function(b){var v=new me.Z;return v.replaceAllElements((0,L.xU)(b),!1),v},A=function(b,v){if(b.width<=v)return b;var x=document.createElement("canvas").getContext("2d");x.font=(0,L.mO)({fontFamily:b.fontFamily,fontSize:b.fontSize});var j=b.text;if(x.measureText(j).width>v)for(var te=j.length;te>0;te--){var V="".concat(j.slice(0,te),"...");if(x.measureText(V).width<=v){j=V;break}}return(0,ve.BE)(b,{text:j,width:v})},C=function(b,v){return v=v||(0,Y.im)().frameRendering,{enabled:!!b||v.enabled,outline:!b&&v.outline,name:!b&&v.name,clip:!!b||v.clip}},U=function(b){var v=b.elements,x=b.exportingFrame,j=b.frameRendering,te=b.exportWithDarkMode;return x?(0,B.Xs)({elements:v,bounds:x,type:"overlap"}):j.enabled&&j.name?function(V,F){var Z,ne=[],ce=0,Se=oe(V);try{for(Se.s();!(Z=Se.n()).done;){var de=Z.value;if((0,ge.He)(de)){ce++;var _e=(0,ge.VL)({x:de.x,y:de.y-W.iG.nameOffsetY,fontFamily:W.ut.Assistant,fontSize:W.iG.nameFontSize,lineHeight:W.iG.nameLineHeight,strokeColor:F.exportWithDarkMode?W.iG.nameColorDarkTheme:W.iG.nameColorLightTheme,text:de.name||"Frame ".concat(ce)});_e.y-=_e.height,_e=A(_e,de.width),ne.push(_e)}ne.push(de)}}catch(we){Se.e(we)}finally{Se.f()}return ne}(v,{exportWithDarkMode:te}):v},y=function(){var b=(0,f.Z)(E().mark(function v(x,j,te,V){var F,Z,ne,ce,Se,de,_e,we,J,xe,je,Ue,et,He,Le,De,Be,Ze,ye,be,X,h,m,_=arguments;return E().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Z=V.exportBackground,ne=V.exportPadding,ce=ne===void 0?W.qy:ne,Se=V.viewBackgroundColor,de=V.exportingFrame,_e=_.length>4&&_[4]!==void 0?_[4]:function($,ue){var ie=document.createElement("canvas");return ie.width=$*j.exportScale,ie.height=ue*j.exportScale,{canvas:ie,scale:j.exportScale}},we=I(x),x=we.getNonDeletedElements(),J=C(de??null,(F=j.frameRendering)!==null&&F!==void 0?F:null),xe=U({elements:x,exportingFrame:de,exportWithDarkMode:j.exportWithDarkMode,frameRendering:J}),de&&(ce=0),je=s(de?[de]:(0,he._h)(xe),ce),Ue=(0,p.Z)(je,4),et=Ue[0],He=Ue[1],Le=Ue[2],De=Ue[3],Be=_e(Le,De),Ze=Be.canvas,ye=Be.scale,be=ye===void 0?1:ye,X=(0,Y.im)(),G.next=12,(0,S.Xx)({imageCache:new Map,fileIds:(0,S.oA)(xe).map(function($){return $.fileId}),files:te});case 12:return h=G.sent,m=h.imageCache,(0,d.AW)({canvas:Ze,rc:R.Z.canvas(Ze),elements:xe,visibleElements:xe,scale:be,appState:N(N({},j),{},{frameRendering:J,viewBackgroundColor:Z?Se:null,scrollX:-et+ce,scrollY:-He+ce,zoom:X.zoom,shouldCacheIgnoreZoom:!1,theme:j.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:m,renderGrid:!1,isExporting:!0}}),we.destroy(),G.abrupt("return",Ze);case 17:case"end":return G.stop()}},v)}));return function(v,x,j,te){return b.apply(this,arguments)}}(),T=function(){var b=(0,f.Z)(E().mark(function v(x,j,te,V){var F,Z,ne,ce,Se,de,_e,we,J,xe,je,Ue,et,He,Le,De,Be,Ze,ye,be,X,h,m,_,G,$,ue,ie,pe,Pe,Me,$e,Ke,qe,Fe,ot,it,ht,Te,Ie,Ge,tt,dt;return E().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(ce=I(x),x=ce.getNonDeletedElements(),Se=C((F=V==null?void 0:V.exportingFrame)!==null&&F!==void 0?F:null,(Z=j.frameRendering)!==null&&Z!==void 0?Z:null),de=j.exportPadding,_e=de===void 0?W.qy:de,we=j.exportWithDarkMode,J=we!==void 0&&we,xe=j.viewBackgroundColor,je=j.exportScale,Ue=je===void 0?1:je,et=j.exportEmbedScene,He=(V||{}).exportingFrame,De=U({elements:x,exportingFrame:Le=He===void 0?null:He,exportWithDarkMode:J,frameRendering:Se}),Le&&(_e=0),Be="",!et){ct.next=20;break}return ct.prev=9,ct.next=12,Promise.resolve().then(o.bind(o,250));case 12:return ct.next=14,ct.sent.encodeSvgMetadata({text:(0,ee.I_)(x,j,te||{},"local")});case 14:Be=ct.sent,ct.next=20;break;case 17:ct.prev=17,ct.t0=ct.catch(9),console.error(ct.t0);case 20:Ze=s(Le?[Le]:(0,he._h)(De),_e),ye=(0,p.Z)(Ze,4),be=ye[0],X=ye[1],h=ye[2],m=ye[3],(_=document.createElementNS(W.hR,"svg")).setAttribute("version","1.1"),_.setAttribute("xmlns",W.hR),_.setAttribute("viewBox","0 0 ".concat(h," ").concat(m)),_.setAttribute("width","".concat(h*Ue)),_.setAttribute("height","".concat(m*Ue)),J&&_.setAttribute("filter",W.ZF),G="https://excalidraw.com/",G=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.3",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.PKG_VERSION),($=G)!==null&&$!==void 0&&$.startsWith("/")&&(G=G.replace("/","".concat(window.location.origin,"/"))),G="".concat(G,"/dist/excalidraw-assets/"),ue=-be+_e,ie=-X+_e,pe=(0,he.wO)(x),Pe="",Me=oe(pe);try{for(Me.s();!($e=Me.n()).done;)Ke=$e.value,qe=(0,k.qf)(Ke),Fe=(0,p.Z)(qe,4),ot=Fe[0],it=Fe[1],ht=Fe[2],Te=Fe[3],Ie=(ht-ot)/2-(Ke.x-ot),Ge=(Te-it)/2-(Ke.y-it),Pe+="<clipPath id=".concat(Ke.id,`>
            <rect transform="translate(`).concat(Ke.x+ue," ").concat(Ke.y+ie,") rotate(").concat(Ke.angle," ").concat(Ie," ").concat(Ge,`)"
          width="`).concat(Ke.width,`"
          height="`).concat(Ke.height,`"
          >
          </rect>
        </clipPath>`)}catch(St){Me.e(St)}finally{Me.f()}return _.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Be,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(G,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(G,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(G,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(Pe,`
  </defs>
  `),j.exportBackground&&xe&&((tt=_.ownerDocument.createElementNS(W.hR,"rect")).setAttribute("x","0"),tt.setAttribute("y","0"),tt.setAttribute("width","".concat(h)),tt.setAttribute("height","".concat(m)),tt.setAttribute("fill",xe),_.appendChild(tt)),dt=R.Z.svg(_),(0,d.M_)(De,dt,_,te||{},{offsetX:ue,offsetY:ie,exportWithDarkMode:J,renderEmbeddables:(ne=V==null?void 0:V.renderEmbeddables)!==null&&ne!==void 0&&ne,frameRendering:Se}),ce.destroy(),ct.abrupt("return",_);case 42:case"end":return ct.stop()}},v,null,[[9,17]])}));return function(v,x,j,te){return b.apply(this,arguments)}}(),s=function(b,v){var x=(0,k.KP)(b),j=(0,p.Z)(x,4),te=j[0],V=j[1],F=j[2],Z=j[3];return[te,V,(0,L.TE)(te,F)+2*v,(0,L.TE)(V,Z)+2*v]},D=function(b,v,x){var j=s(b,v).map(function(V){return Math.trunc(V*x)}),te=(0,p.Z)(j,4);return[te[2],te[3]]}},4105:function(Q,z,o){o.d(z,{$b:function(){return u.$b},CJ:function(){return u.CJ},M9:function(){return u.M9},N:function(){return p.N},PR:function(){return p.PR},QG:function(){return u.QG},Un:function(){return u.Un},W:function(){return f.W},Yp:function(){return p.Yp},Zd:function(){return u.Zd},Zs:function(){return p.Zs},_4:function(){return M._4},eD:function(){return p.eD},j:function(){return E.j},sh:function(){return u.sh}});var M=o(4726),p=o(6264),f=o(2382),u=o(1648),E=o(4116)},2382:function(Q,z,o){o.d(z,{W:function(){return E},s:function(){return u}});var M=o(2577),p=o(7651),f=o(9827),u=function(R){var k=R.scenePoint,d=R.viewportDimensions,L=R.zoom;return{scrollX:d.width/2/L.value-k.x,scrollY:d.height/2/L.value-k.y}},E=function(R,k){if(!(R=(0,p.n_)(R)).length)return{scrollX:0,scrollY:0};var d=(0,p.KP)(R),L=(0,M.Z)(d,4),W=L[0],Y=L[1],ee=L[2],S=L[3];if(function(ge,ve){var me=(0,M.Z)(ve,4),le=me[0],N=me[1],oe=me[2],O=me[3],I=(0,f._i)({sceneX:le,sceneY:N},ge),A=I.x,C=I.y,U=(0,f._i)({sceneX:oe,sceneY:O},ge),y=U.x,T=U.y;return y-A>ge.width||T-C>ge.height}(k,[W,Y,ee,S])){var B=(0,p.os)(R,(0,f.dE)({clientX:k.scrollX,clientY:k.scrollY},k)),he=(0,M.Z)(B,4);W=he[0],Y=he[1],ee=he[2],S=he[3]}return u({scenePoint:{x:(W+ee)/2,y:(Y+S)/2},viewportDimensions:{width:k.width,height:k.height},zoom:k.zoom})}},4726:function(Q,z,o){o.d(z,{WM:function(){return E},_4:function(){return L},nn:function(){return R},tJ:function(){return d},w1:function(){return k}});var M=o(2577),p=o(7651),f=o(9827),u=o(8227),E=4,R=6,k="rgba(0,0,0,0.3)",d=function(W,Y,ee,S){if(W.length===0)return{horizontal:null,vertical:null};var B=(0,p.KP)(W),he=(0,M.Z)(B,4),ge=he[0],ve=he[1],me=he[2],le=he[3],N=Y/S.zoom.value,oe=ee/S.zoom.value,O=Y-N,I=ee-oe,A={top:parseInt((0,f.IH)("sat"))||0,bottom:parseInt((0,f.IH)("sab"))||0,left:parseInt((0,f.IH)("sal"))||0,right:parseInt((0,f.IH)("sar"))||0},C=(0,u.G3)().rtl,U=-S.scrollX+O/2+A.left,y=-S.scrollY+I/2+A.top,T=U+N-A.right,s=y+oe-A.bottom,D=Math.min(ge,U),b=Math.min(ve,y),v=Math.max(me,T),x=Math.max(le,s);return{horizontal:U===D&&T===v?null:{x:Math.max(A.left,E)+(U-D)/(v-D)*Y,y:ee-R-Math.max(E,A.bottom),width:(T-U)/(v-D)*Y-Math.max(2*E,A.left+A.right),height:R},vertical:y===b&&s===x?null:{x:C?Math.max(A.left,E):Y-R-Math.max(A.right,E),y:(y-b)/(x-b)*ee+Math.max(A.top,E),width:R,height:(s-y)/(x-b)*ee-Math.max(2*E,A.top+A.bottom)}}},L=function(W,Y,ee){var S=[W.horizontal,W.vertical].map(function(ve){return ve!=null&&ve.x<=Y&&Y<=ve.x+ve.width&&ve.y<=ee&&ee<=ve.y+ve.height}),B=(0,M.Z)(S,2),he=B[0],ge=B[1];return{isOverEither:he||ge,isOverHorizontal:he,isOverVertical:ge}}},6264:function(Q,z,o){o.d(z,{CF:function(){return S},N:function(){return B},Oh:function(){return me},PR:function(){return he},Yp:function(){return ee},Zs:function(){return ve},aI:function(){return Y},eD:function(){return ge}});var M,p,f,u,E=o(2577),R=o(7651),k=o(4183),d=o(4682),L=o(9827),W=o(7935),Y=function(le){var N=new Set;return le.forEach(function(oe){oe.type==="frame"&&N.add(oe.id)}),le.filter(function(oe){return!oe.frameId||!N.has(oe.frameId)})},ee=function(le,N){var oe=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],O=(0,R.qf)(N),I=(0,E.Z)(O,4),A=I[0],C=I[1],U=I[2],y=I[3],T=le.filter(function(s){var D=(0,R.Pi)(s),b=(0,E.Z)(D,4),v=b[0],x=b[1],j=b[2],te=b[3],V=(0,d.$Z)(s);if(V){var F=(0,R.Pi)(V),Z=(0,E.Z)(F,4),ne=Z[0],ce=Z[1],Se=Z[2],de=Z[3];v=Math.max(ne,v),x=Math.max(ce,x),j=Math.min(Se,j),te=Math.min(de,te)}return s.locked===!1&&s.type!=="selection"&&!(0,k.Xh)(s)&&A<=v&&C<=x&&U>=j&&y>=te});return T=(T=oe?Y(T):T).filter(function(s){var D=(0,d.$Z)(s);return!D||(0,d.cO)(s,D)})},S=function(le,N,oe){var O=new Set(N.map(function(I){return I.id}));return le.filter(function(I){var A=(0,W.PZ)(I,oe.width,oe.height,oe);return!O.has(I.id)&&A})},B=(M=null,p=null,f=null,(u=function(le,N){return f!=null&&le===M&&N.selectedElementIds===p||(f=le.some(function(oe){return N.selectedElementIds[oe.id]}),M=le,p=N.selectedElementIds),f}).clearCache=function(){M=null,p=null,f=null},u),he=function(le,N,oe){var O=Array.from(new Set(ge(le,N).map(function(I){return oe(I)})));return O.length===1?O[0]:null},ge=function(le,N,oe){var O=le.filter(function(A){return N.selectedElementIds[A.id]||oe!=null&&oe.includeBoundTextElement&&(0,k.Xh)(A)&&N.selectedElementIds[A==null?void 0:A.containerId]?A:null});if(oe!=null&&oe.includeElementsInFrames){var I=[];return O.forEach(function(A){A.type==="frame"&&(0,d.zD)(le,A.id).forEach(function(C){return I.push(C)}),I.push(A)}),I}return O},ve=function(le,N){return N.editingElement?[N.editingElement]:ge(le,N,{includeBoundTextElement:!0})},me=function(le,N){return(0,L.w8)(N.selectedElementIds,le)?N.selectedElementIds:le}},4116:function(Q,z,o){o.d(z,{E:function(){return f},j:function(){return p}});var M=o(9937),p=function(u){return Math.max(M.Zj,Math.min(u,30))},f=function(u,E){var R=u.viewportX,k=u.viewportY,d=u.nextZoom,L=R-E.offsetLeft,W=k-E.offsetTop,Y=E.zoom.value;return{scrollX:E.scrollX+(L-L/Y)+-(L-L/d),scrollY:E.scrollY+(W-W/Y)+-(W-W/d),zoom:{value:d}}}},9827:function(Q,z,o){o.d(z,{$9:function(){return de},$g:function(){return N},$h:function(){return De},AK:function(){return V},B4:function(){return U},C3:function(){return xe},Ds:function(){return O},FG:function(){return F},Fc:function(){return B},G3:function(){return J},G9:function(){return m},HP:function(){return h},I4:function(){return Ue},IH:function(){return x},Ip:function(){return _e},Mj:function(){return be},Om:function(){return s},Oo:function(){return he},Qm:function(){return ce},TE:function(){return T},Vv:function(){return A},XF:function(){return _},_Z:function(){return ve},_i:function(){return v},ag:function(){return He},cx:function(){return Z},dE:function(){return b},dZ:function(){return te},h2:function(){return et},hR:function(){return I},mO:function(){return oe},qr:function(){return ne},qz:function(){return we},s:function(){return le},tH:function(){return Se},uY:function(){return D},v4:function(){return Le},vE:function(){return X},w8:function(){return ye},wO:function(){return ge},xU:function(){return G},xn:function(){return je},xp:function(){return Ze},y1:function(){return me},y8:function(){return Be},yo:function(){return y}});var M=o(6655),p=o(7169),f=o(1930),u=o(2577),E=o(9240),R=o(9937),k=o(5156),d=o(9787),L=o.n(d);function W($,ue){var ie=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!ie){if(Array.isArray($)||(ie=function(qe,Fe){if(qe){if(typeof qe=="string")return Y(qe,Fe);var ot=Object.prototype.toString.call(qe).slice(8,-1);if(ot==="Object"&&qe.constructor&&(ot=qe.constructor.name),ot==="Map"||ot==="Set")return Array.from(qe);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return Y(qe,Fe)}}($))||ue&&$&&typeof $.length=="number"){ie&&($=ie);var pe=0,Pe=function(){};return{s:Pe,n:function(){return pe>=$.length?{done:!0}:{done:!1,value:$[pe++]}},e:function(qe){throw qe},f:Pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Me,$e=!0,Ke=!1;return{s:function(){ie=ie.call($)},n:function(){var qe=ie.next();return $e=qe.done,qe},e:function(qe){Ke=!0,Me=qe},f:function(){try{$e||ie.return==null||ie.return()}finally{if(Ke)throw Me}}}}function Y($,ue){(ue==null||ue>$.length)&&(ue=$.length);for(var ie=0,pe=new Array(ue);ie<ue;ie++)pe[ie]=$[ie];return pe}function ee($,ue){var ie=Object.keys($);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols($);ue&&(pe=pe.filter(function(Pe){return Object.getOwnPropertyDescriptor($,Pe).enumerable})),ie.push.apply(ie,pe)}return ie}function S($){for(var ue=1;ue<arguments.length;ue++){var ie=arguments[ue]!=null?arguments[ue]:{};ue%2?ee(Object(ie),!0).forEach(function(pe){(0,p.Z)($,pe,ie[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(ie)):ee(Object(ie)).forEach(function(pe){Object.defineProperty($,pe,Object.getOwnPropertyDescriptor(ie,pe))})}return $}var B=function(){var $=new Date,ue=$.getFullYear(),ie="".concat($.getMonth()+1).padStart(2,"0"),pe="".concat($.getDate()).padStart(2,"0"),Pe="".concat($.getHours()).padStart(2,"0"),Me="".concat($.getMinutes()).padStart(2,"0");return"".concat(ue,"-").concat(ie,"-").concat(pe,"-").concat(Pe).concat(Me)},he=function($){return $.charAt(0).toUpperCase()+$.slice(1)},ge=function($){return $ instanceof HTMLElement&&$.className.includes("ToolIcon")},ve=function($){return $ instanceof HTMLElement&&$.dataset.type==="wysiwyg"||$ instanceof HTMLBRElement||$ instanceof HTMLInputElement||$ instanceof HTMLTextAreaElement||$ instanceof HTMLSelectElement},me=function($){return ve($)||$ instanceof Element&&!!$.closest("label, button")},le=function($){return $ instanceof HTMLElement&&$.dataset.type==="wysiwyg"||$ instanceof HTMLBRElement||$ instanceof HTMLTextAreaElement||$ instanceof HTMLInputElement&&($.type==="text"||$.type==="number")},N=function($){for(var ue=$.fontFamily,ie=0,pe=Object.entries(R.ut);ie<pe.length;ie++){var Pe=(0,u.Z)(pe[ie],2),Me=Pe[0];if(Pe[1]===ue)return"".concat(Me,", ").concat(R._D)}return R._D},oe=function($){var ue=$.fontSize,ie=$.fontFamily;return"".concat(ue,"px ").concat(N({fontFamily:ie}))},O=function($,ue){var ie=0,pe=null,Pe=function(){for(var Me=arguments.length,$e=new Array(Me),Ke=0;Ke<Me;Ke++)$e[Ke]=arguments[Ke];pe=$e,clearTimeout(ie),ie=window.setTimeout(function(){pe=null,$.apply(void 0,$e)},ue)};return Pe.flush=function(){if(clearTimeout(ie),pe){var Me=pe;pe=null,$.apply(void 0,(0,f.Z)(Me))}},Pe.cancel=function(){pe=null,clearTimeout(ie)},Pe},I=function($,ue){var ie=null,pe=null,Pe=null,Me=function Ke(qe){ie=window.requestAnimationFrame(function(){ie=null,$.apply(void 0,(0,f.Z)(qe)),pe=null,Pe&&(pe=Pe,Pe=null,Ke(pe))})},$e=function(){for(var Ke=arguments.length,qe=new Array(Ke),Fe=0;Fe<Ke;Fe++)qe[Fe]=arguments[Fe];pe=qe,ie===null?Me(pe):ue!=null&&ue.trailing&&(Pe=qe)};return $e.flush=function(){ie!==null&&(cancelAnimationFrame(ie),ie=null),pe&&($.apply(void 0,(0,f.Z)(Pe||pe)),pe=Pe=null)},$e.cancel=function(){pe=Pe=null,ie!==null&&(cancelAnimationFrame(ie),ie=null)},$e},A=function($){return 1-Math.pow(1-$,4)},C=function($,ue,ie){return(ue-$)*A(ie)+$},U=function($){var ue,ie=$.fromValues,pe=$.toValues,Pe=$.onStep,Me=$.duration,$e=Me===void 0?250:Me,Ke=$.interpolateValue,qe=$.onStart,Fe=$.onEnd,ot=$.onCancel,it=!1,ht=0;return ht=window.requestAnimationFrame(function Te(Ie){if(!it){ue===void 0&&(ue=Ie,qe==null||qe());var Ge=Math.min(Ie-ue,$e),tt=A(Ge/$e),dt={};if(Object.keys(ie).forEach(function(Pt){var mt=Pt,Nt=(pe[mt]-ie[mt])*tt+ie[mt];dt[mt]=Nt}),Pe(dt),Ge<$e){var ct=Ge/$e,St={};Object.keys(ie).forEach(function(Pt){var mt,Nt=Pt,Xt=ie[Nt],Zt=pe[Nt];(mt=Ke?Ke(Xt,Zt,ct,Nt):C(Xt,Zt,ct))==null&&(mt=C(Xt,Zt,ct)),St[Nt]=mt}),Pe(St),ht=window.requestAnimationFrame(Te)}else Pe(pe),Fe==null||Fe()}}),function(){ot==null||ot(),it=!0,window.cancelAnimationFrame(ht)}},y=function($,ue){if(!$.length||ue<1)return[];for(var ie=0,pe=0,Pe=Array(Math.ceil($.length/ue));ie<$.length;)Pe[pe++]=$.slice(ie,ie+=ue);return Pe},T=function($,ue){return Math.abs($-ue)},s=function($,ue){var ie,pe;return ue.type==="custom"?S(S({},$.activeTool),{},{type:"custom",customType:ue.customType,locked:(pe=ue.locked)!==null&&pe!==void 0?pe:$.activeTool.locked}):S(S({},$.activeTool),{},{lastActiveTool:ue.lastActiveToolBeforeEraser===void 0?$.activeTool.lastActiveTool:ue.lastActiveToolBeforeEraser,type:ue.type,customType:null,locked:(ie=ue.locked)!==null&&ie!==void 0?ie:$.activeTool.locked})},D=function($){return $=$.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),R.Um?$.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):$.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},b=function($,ue){var ie=$.clientX,pe=$.clientY,Pe=ue.zoom,Me=ue.offsetLeft,$e=ue.offsetTop,Ke=ue.scrollX,qe=ue.scrollY;return{x:(ie-Me)/Pe.value-Ke,y:(pe-$e)/Pe.value-qe}},v=function($,ue){var ie=$.sceneX,pe=$.sceneY,Pe=ue.zoom,Me=ue.offsetLeft,$e=ue.offsetTop,Ke=ue.scrollX,qe=ue.scrollY;return{x:(ie+Ke)*Pe.value+Me,y:(pe+qe)*Pe.value+$e}},x=function($){return getComputedStyle(document.documentElement).getPropertyValue("--".concat($))},j=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),te=function($){return j.test($)},V=function($){var ue=(0,u.Z)($,2);return{x:ue[0],y:ue[1]}},F=function($){if(($==null?void 0:$.name)!=="AbortError")throw $;console.warn($)},Z=function($,ue){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ie<0&&(ie=$.length+ie);for(var pe=(ie=Math.min($.length,Math.max(ie,0)))-1;++pe<$.length;)if(ue($[pe],pe,$))return pe;return-1},ne=function($,ue){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$.length-1;ie<0&&(ie=$.length+ie);for(var pe=(ie=Math.min($.length-1,Math.max(ie,0)))+1;--pe>-1;)if(ue($[pe],pe,$))return pe;return-1},ce=function($){var ue=$.length===5&&$.substr(4,1)==="0",ie=$.length===9&&$.substr(7,2)==="00";return ue||ie||$===E.HO.transparent},Se=function($){return function(ue){(0,k.unstable_batchedUpdates)($,ue)}},de=function($){return I(function(ue){(0,k.unstable_batchedUpdates)($,ue)})},_e=function($){for(var ue=$.parentElement;ue;){if(ue===document.body)return document;var ie=window.getComputedStyle(ue).overflowY;if(ue.scrollHeight>ue.clientHeight&&(ie==="auto"||ie==="scroll"||ie==="overlay"))return ue;ue=ue.parentElement}return document},we=function($){for(var ue=$.parentElement;ue;){if(ue.tabIndex>-1)return void ue.focus();ue=ue.parentElement}},J=function($){return Array.from($).map(function(ue){return"0".concat(ue.toString(16)).slice(-2)}).join("")},xe=function(){return et()?1:Date.now()},je=function($){return $.reduce(function(ue,ie){return ue.set(typeof ie=="string"?ie:ie.id,ie),ue},new Map)},Ue=function($){return $.reduce(function(ue,ie,pe){return ue.set(ie.id,[ie,pe]),ue},new Map)},et=function(){return!1},He=function($,ue){return new CustomEvent($,{detail:{nativeEvent:ue},cancelable:!0})},Le=function($,ue){var ie=!1;for(var pe in ue){var Pe=ue[pe];if(Pe!==void 0){if($[pe]===Pe&&((0,M.Z)(Pe)!=="object"||Pe===null))continue;ie=!0}}return ie?S(S({},$),ue):$},De=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Be=function($){return!!$&&(0,M.Z)($)==="object"&&"then"in $&&"catch"in $&&"finally"in $},Ze=function($){var ue=$==null?void 0:$.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return ue?Array.from(ue).filter(function(ie){return ie.tabIndex>-1&&!ie.disabled}):[]},ye=function($,ue,ie){var pe=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Pe=Object.keys($),Me=Object.keys(ue);return Pe.length===Me.length&&Pe.every(function($e){var Ke=ie==null?void 0:ie[$e],qe=Ke?Ke($[$e],ue[$e]):$[$e]===ue[$e];return!qe&&pe&&console.info("%cisShallowEqual: ".concat($e," not equal ->"),"color: #8B4000",$[$e],ue[$e]),qe})},be=function($,ue){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=ie.checkForDefaultPrevented,Pe=pe===void 0||pe;return function(Me){if($==null||$(Me),!Pe||!Me.defaultPrevented)return ue==null?void 0:ue(Me)}},X=function($,ue,ie){if(!ue)return $;if(ie)return console.error(ue),$;throw new Error(ue)},h=function($){var ue,ie,pe=function(Pe){var Me=Object.entries(Pe);if(ue){var $e,Ke=!0,qe=W(Me);try{for(qe.s();!($e=qe.n()).done;){var Fe=(0,u.Z)($e.value,2),ot=Fe[0],it=Fe[1];if(ue.get(ot)!==it){Ke=!1;break}}}catch(Te){qe.e(Te)}finally{qe.f()}if(Ke)return ie}var ht=$(Pe);return ue=new Map(Me),ie=ht,ht};return pe.clear=function(){ue=void 0,ie=void 0},pe},m=function(){var $;try{var ue=L().version.split(".");$=Number(ue[0])>17}catch{$=!1}var ie=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!$||(ie||(ie=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),_=function($,ue){return $ instanceof Set||$ instanceof Map?$.has(ue):"includes"in $?$.includes(ue):$.hasOwnProperty(ue)},G=function($){return JSON.parse(JSON.stringify($))}},3041:function(Q,z,o){var M=o(3379),p=o.n(M),f=o(7795),u=o.n(f),E=o(569),R=o.n(E),k=o(3565),d=o.n(k),L=o(9216),W=o.n(L),Y=o(4589),ee=o.n(Y),S=o(2044),B={};B.styleTagTransform=ee(),B.setAttributes=d(),B.insert=R().bind(null,"head"),B.domAPI=u(),B.insertStyleElement=W(),p()(S.Z,B),S.Z&&S.Z.locals&&S.Z.locals},3379:function(Q){var z=[];function o(f){for(var u=-1,E=0;E<z.length;E++)if(z[E].identifier===f){u=E;break}return u}function M(f,u){for(var E={},R=[],k=0;k<f.length;k++){var d=f[k],L=u.base?d[0]+u.base:d[0],W=E[L]||0,Y="".concat(L," ").concat(W);E[L]=W+1;var ee=o(Y),S={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(ee!==-1)z[ee].references++,z[ee].updater(S);else{var B=p(S,u);u.byIndex=k,z.splice(k,0,{identifier:Y,updater:B,references:1})}R.push(Y)}return R}function p(f,u){var E=u.domAPI(u);return E.update(f),function(R){if(R){if(R.css===f.css&&R.media===f.media&&R.sourceMap===f.sourceMap&&R.supports===f.supports&&R.layer===f.layer)return;E.update(f=R)}else E.remove()}}Q.exports=function(f,u){var E=M(f=f||[],u=u||{});return function(R){R=R||[];for(var k=0;k<E.length;k++){var d=o(E[k]);z[d].references--}for(var L=M(R,u),W=0;W<E.length;W++){var Y=o(E[W]);z[Y].references===0&&(z[Y].updater(),z.splice(Y,1))}E=L}}},569:function(Q){var z={};Q.exports=function(o,M){var p=function(f){if(z[f]===void 0){var u=document.querySelector(f);if(window.HTMLIFrameElement&&u instanceof window.HTMLIFrameElement)try{u=u.contentDocument.head}catch{u=null}z[f]=u}return z[f]}(o);if(!p)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");p.appendChild(M)}},9216:function(Q){Q.exports=function(z){var o=document.createElement("style");return z.setAttributes(o,z.attributes),z.insert(o,z.options),o}},3565:function(Q,z,o){Q.exports=function(M){var p=o.nc;p&&M.setAttribute("nonce",p)}},7795:function(Q){Q.exports=function(z){if(typeof document>"u")return{update:function(){},remove:function(){}};var o=z.insertStyleElement(z);return{update:function(M){(function(p,f,u){var E="";u.supports&&(E+="@supports (".concat(u.supports,") {")),u.media&&(E+="@media ".concat(u.media," {"));var R=u.layer!==void 0;R&&(E+="@layer".concat(u.layer.length>0?" ".concat(u.layer):""," {")),E+=u.css,R&&(E+="}"),u.media&&(E+="}"),u.supports&&(E+="}");var k=u.sourceMap;k&&typeof btoa<"u"&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),f.styleTagTransform(E,p,f.options)})(o,z,M)},remove:function(){(function(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M)})(o)}}}},4589:function(Q){Q.exports=function(z,o){if(o.styleSheet)o.styleSheet.cssText=z;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(z))}}},9669:function(Q){Q.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(Q){Q.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(Q){Q.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Cascadia.woff2"},3940:function(Q,z,o){Q.exports=o.p+"excalidraw-assets/Virgil.woff2"},9787:function(Q){Q.exports=n},5156:function(Q){Q.exports=i},1020:function(Q){Q.exports=r},9649:function(Q,z,o){var M=o(8114).default;function p(){Q.exports=p=function(){return f},Q.exports.__esModule=!0,Q.exports.default=Q.exports;var f={},u=Object.prototype,E=u.hasOwnProperty,R=Object.defineProperty||function(b,v,x){b[v]=x.value},k=typeof Symbol=="function"?Symbol:{},d=k.iterator||"@@iterator",L=k.asyncIterator||"@@asyncIterator",W=k.toStringTag||"@@toStringTag";function Y(b,v,x){return Object.defineProperty(b,v,{value:x,enumerable:!0,configurable:!0,writable:!0}),b[v]}try{Y({},"")}catch{Y=function(v,x,j){return v[x]=j}}function ee(b,v,x,j){var te=v&&v.prototype instanceof he?v:he,V=Object.create(te.prototype),F=new T(j||[]);return R(V,"_invoke",{value:A(b,x,F)}),V}function S(b,v,x){try{return{type:"normal",arg:b.call(v,x)}}catch(j){return{type:"throw",arg:j}}}f.wrap=ee;var B={};function he(){}function ge(){}function ve(){}var me={};Y(me,d,function(){return this});var le=Object.getPrototypeOf,N=le&&le(le(s([])));N&&N!==u&&E.call(N,d)&&(me=N);var oe=ve.prototype=he.prototype=Object.create(me);function O(b){["next","throw","return"].forEach(function(v){Y(b,v,function(x){return this._invoke(v,x)})})}function I(b,v){function x(te,V,F,Z){var ne=S(b[te],b,V);if(ne.type!=="throw"){var ce=ne.arg,Se=ce.value;return Se&&M(Se)=="object"&&E.call(Se,"__await")?v.resolve(Se.__await).then(function(de){x("next",de,F,Z)},function(de){x("throw",de,F,Z)}):v.resolve(Se).then(function(de){ce.value=de,F(ce)},function(de){return x("throw",de,F,Z)})}Z(ne.arg)}var j;R(this,"_invoke",{value:function(te,V){function F(){return new v(function(Z,ne){x(te,V,Z,ne)})}return j=j?j.then(F,F):F()}})}function A(b,v,x){var j="suspendedStart";return function(te,V){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(te==="throw")throw V;return D()}for(x.method=te,x.arg=V;;){var F=x.delegate;if(F){var Z=C(F,x);if(Z){if(Z===B)continue;return Z}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(j==="suspendedStart")throw j="completed",x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);j="executing";var ne=S(b,v,x);if(ne.type==="normal"){if(j=x.done?"completed":"suspendedYield",ne.arg===B)continue;return{value:ne.arg,done:x.done}}ne.type==="throw"&&(j="completed",x.method="throw",x.arg=ne.arg)}}}function C(b,v){var x=v.method,j=b.iterator[x];if(j===void 0)return v.delegate=null,x==="throw"&&b.iterator.return&&(v.method="return",v.arg=void 0,C(b,v),v.method==="throw")||x!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+x+"' method")),B;var te=S(j,b.iterator,v.arg);if(te.type==="throw")return v.method="throw",v.arg=te.arg,v.delegate=null,B;var V=te.arg;return V?V.done?(v[b.resultName]=V.value,v.next=b.nextLoc,v.method!=="return"&&(v.method="next",v.arg=void 0),v.delegate=null,B):V:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,B)}function U(b){var v={tryLoc:b[0]};1 in b&&(v.catchLoc=b[1]),2 in b&&(v.finallyLoc=b[2],v.afterLoc=b[3]),this.tryEntries.push(v)}function y(b){var v=b.completion||{};v.type="normal",delete v.arg,b.completion=v}function T(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(U,this),this.reset(!0)}function s(b){if(b){var v=b[d];if(v)return v.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var x=-1,j=function te(){for(;++x<b.length;)if(E.call(b,x))return te.value=b[x],te.done=!1,te;return te.value=void 0,te.done=!0,te};return j.next=j}}return{next:D}}function D(){return{value:void 0,done:!0}}return ge.prototype=ve,R(oe,"constructor",{value:ve,configurable:!0}),R(ve,"constructor",{value:ge,configurable:!0}),ge.displayName=Y(ve,W,"GeneratorFunction"),f.isGeneratorFunction=function(b){var v=typeof b=="function"&&b.constructor;return!!v&&(v===ge||(v.displayName||v.name)==="GeneratorFunction")},f.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,ve):(b.__proto__=ve,Y(b,W,"GeneratorFunction")),b.prototype=Object.create(oe),b},f.awrap=function(b){return{__await:b}},O(I.prototype),Y(I.prototype,L,function(){return this}),f.AsyncIterator=I,f.async=function(b,v,x,j,te){te===void 0&&(te=Promise);var V=new I(ee(b,v,x,j),te);return f.isGeneratorFunction(v)?V:V.next().then(function(F){return F.done?F.value:V.next()})},O(oe),Y(oe,W,"Generator"),Y(oe,d,function(){return this}),Y(oe,"toString",function(){return"[object Generator]"}),f.keys=function(b){var v=Object(b),x=[];for(var j in v)x.push(j);return x.reverse(),function te(){for(;x.length;){var V=x.pop();if(V in v)return te.value=V,te.done=!1,te}return te.done=!0,te}},f.values=s,T.prototype={constructor:T,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!b)for(var v in this)v.charAt(0)==="t"&&E.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=void 0)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var v=this;function x(ne,ce){return V.type="throw",V.arg=b,v.next=ne,ce&&(v.method="next",v.arg=void 0),!!ce}for(var j=this.tryEntries.length-1;j>=0;--j){var te=this.tryEntries[j],V=te.completion;if(te.tryLoc==="root")return x("end");if(te.tryLoc<=this.prev){var F=E.call(te,"catchLoc"),Z=E.call(te,"finallyLoc");if(F&&Z){if(this.prev<te.catchLoc)return x(te.catchLoc,!0);if(this.prev<te.finallyLoc)return x(te.finallyLoc)}else if(F){if(this.prev<te.catchLoc)return x(te.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return x(te.finallyLoc)}}}},abrupt:function(b,v){for(var x=this.tryEntries.length-1;x>=0;--x){var j=this.tryEntries[x];if(j.tryLoc<=this.prev&&E.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var te=j;break}}te&&(b==="break"||b==="continue")&&te.tryLoc<=v&&v<=te.finallyLoc&&(te=null);var V=te?te.completion:{};return V.type=b,V.arg=v,te?(this.method="next",this.next=te.finallyLoc,B):this.complete(V)},complete:function(b,v){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&v&&(this.next=v),B},finish:function(b){for(var v=this.tryEntries.length-1;v>=0;--v){var x=this.tryEntries[v];if(x.finallyLoc===b)return this.complete(x.completion,x.afterLoc),y(x),B}},catch:function(b){for(var v=this.tryEntries.length-1;v>=0;--v){var x=this.tryEntries[v];if(x.tryLoc===b){var j=x.completion;if(j.type==="throw"){var te=j.arg;y(x)}return te}}throw new Error("illegal catch attempt")},delegateYield:function(b,v,x){return this.delegate={iterator:s(b),resultName:v,nextLoc:x},this.method==="next"&&(this.arg=void 0),B}},f}Q.exports=p,Q.exports.__esModule=!0,Q.exports.default=Q.exports},8114:function(Q){function z(o){return Q.exports=z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},Q.exports.__esModule=!0,Q.exports.default=Q.exports,z(o)}Q.exports=z,Q.exports.__esModule=!0,Q.exports.default=Q.exports},2975:function(Q,z,o){var M=o(9649)();Q.exports=M;try{regeneratorRuntime=M}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=M:Function("r","regeneratorRuntime = r")(M)}},7017:function(Q,z,o){function M(p,f){(f==null||f>p.length)&&(f=p.length);for(var u=0,E=new Array(f);u<f;u++)E[u]=p[u];return E}o.d(z,{Z:function(){return M}})},3173:function(Q,z,o){function M(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}o.d(z,{Z:function(){return M}})},8950:function(Q,z,o){function M(f,u,E,R,k,d,L){try{var W=f[d](L),Y=W.value}catch(ee){return void E(ee)}W.done?u(Y):Promise.resolve(Y).then(R,k)}function p(f){return function(){var u=this,E=arguments;return new Promise(function(R,k){var d=f.apply(u,E);function L(Y){M(d,R,k,L,W,"next",Y)}function W(Y){M(d,R,k,L,W,"throw",Y)}L(void 0)})}}o.d(z,{Z:function(){return p}})},8821:function(Q,z,o){function M(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}o.d(z,{Z:function(){return M}})},5169:function(Q,z,o){o.d(z,{Z:function(){return f}});var M=o(3525);function p(u,E){for(var R=0;R<E.length;R++){var k=E[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(u,(0,M.Z)(k.key),k)}}function f(u,E,R){return E&&p(u.prototype,E),R&&p(u,R),Object.defineProperty(u,"prototype",{writable:!1}),u}},7169:function(Q,z,o){o.d(z,{Z:function(){return p}});var M=o(3525);function p(f,u,E){return(u=(0,M.Z)(u))in f?Object.defineProperty(f,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):f[u]=E,f}},11:function(Q,z,o){function M(){return M=Object.assign?Object.assign.bind():function(p){for(var f=1;f<arguments.length;f++){var u=arguments[f];for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(p[E]=u[E])}return p},M.apply(this,arguments)}o.d(z,{Z:function(){return M}})},2312:function(Q,z,o){function M(p){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)},M(p)}o.d(z,{Z:function(){return M}})},2248:function(Q,z,o){o.d(z,{Z:function(){return p}});var M=o(5901);function p(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),u&&(0,M.Z)(f,u)}},2726:function(Q,z,o){function M(p,f){if(p==null)return{};var u,E,R=function(d,L){if(d==null)return{};var W,Y,ee={},S=Object.keys(d);for(Y=0;Y<S.length;Y++)W=S[Y],L.indexOf(W)>=0||(ee[W]=d[W]);return ee}(p,f);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(p);for(E=0;E<k.length;E++)u=k[E],f.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(p,u)&&(R[u]=p[u])}return R}o.d(z,{Z:function(){return M}})},7245:function(Q,z,o){o.d(z,{Z:function(){return f}});var M=o(6655),p=o(3173);function f(u,E){if(E&&((0,M.Z)(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,p.Z)(u)}},5901:function(Q,z,o){function M(p,f){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,E){return u.__proto__=E,u},M(p,f)}o.d(z,{Z:function(){return M}})},2577:function(Q,z,o){o.d(z,{Z:function(){return p}});var M=o(9139);function p(f,u){return function(E){if(Array.isArray(E))return E}(f)||function(E,R){var k=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(k!=null){var d,L,W,Y,ee=[],S=!0,B=!1;try{if(W=(k=k.call(E)).next,R===0){if(Object(k)!==k)return;S=!1}else for(;!(S=(d=W.call(k)).done)&&(ee.push(d.value),ee.length!==R);S=!0);}catch(he){B=!0,L=he}finally{try{if(!S&&k.return!=null&&(Y=k.return(),Object(Y)!==Y))return}finally{if(B)throw L}}return ee}}(f,u)||(0,M.Z)(f,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(Q,z,o){o.d(z,{Z:function(){return f}});var M=o(7017),p=o(9139);function f(u){return function(E){if(Array.isArray(E))return(0,M.Z)(E)}(u)||function(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}(u)||(0,p.Z)(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(Q,z,o){o.d(z,{Z:function(){return p}});var M=o(6655);function p(f){var u=function(E,R){if((0,M.Z)(E)!=="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var d=k.call(E,R||"default");if((0,M.Z)(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(E)}(f,"string");return(0,M.Z)(u)==="symbol"?u:String(u)}},6655:function(Q,z,o){function M(p){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},M(p)}o.d(z,{Z:function(){return M}})},9139:function(Q,z,o){o.d(z,{Z:function(){return p}});var M=o(7017);function p(f,u){if(f){if(typeof f=="string")return(0,M.Z)(f,u);var E=Object.prototype.toString.call(f).slice(8,-1);return E==="Object"&&f.constructor&&(E=f.constructor.name),E==="Map"||E==="Set"?Array.from(f):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?(0,M.Z)(f,u):void 0}}},3607:function(Q,z,o){o.d(z,{zt:function(){return N},cn:function(){return oe},Vv:function(){return ge},KO:function(){return A},Dv:function(){return O},b9:function(){return I}});var M=o(9787);let p=0;const f=Symbol(),u=C=>!!C[f],E=C=>!C[f].c,R=C=>{var U;const{b:y,c:T}=C[f];T&&(T(),(U=L.get(y))==null||U())},k=(C,U)=>{const y=C[f].o,T=U[f].o;return y===T||C===T||u(y)&&k(y,U)},d=(C,U)=>{const y={b:C,o:U,c:null},T=new Promise(s=>{y.c=()=>{y.c=null,s()},U.finally(y.c)});return T[f]=y,T},L=new WeakMap,W=C=>"init"in C,Y="r",ee="w",S="c",B="s",he=C=>{const U=new WeakMap,y=new WeakMap,T=new Map;let s,D;if(s=new Set,D=new Set,C)for(const[Ze,ye]of C){const be={v:ye,r:0,y:!0,d:new Map};Object.freeze(be),W(Ze)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Ze),U.set(Ze,be)}const b=new WeakMap,v=new WeakMap,x=Ze=>{let ye=v.get(Ze);return ye||(ye=new Map,v.set(Ze,ye)),ye},j=(Ze,ye)=>{if(Ze){const be=x(Ze);let X=be.get(ye);return X||(X=j(Ze.p,ye),X&&"p"in X&&E(X.p)&&(X=void 0),X&&be.set(ye,X)),X}return U.get(ye)},te=(Ze,ye,be)=>{if(Object.freeze(be),Ze)x(Ze).set(ye,be);else{const X=U.get(ye);U.set(ye,be),T.has(ye)||T.set(ye,X)}},V=(Ze,ye=new Map,be)=>{if(!be)return ye;const X=new Map;let h=!1;return be.forEach(m=>{var _;const G=((_=j(Ze,m))==null?void 0:_.r)||0;X.set(m,G),ye.get(m)!==G&&(h=!0)}),ye.size!==X.size||h?X:ye},F=(Ze,ye,be,X,h)=>{const m=j(Ze,ye);if(m){if(h&&(!("p"in m)||!k(m.p,h)))return m;"p"in m&&R(m.p)}const _={v:be,r:(m==null?void 0:m.r)||0,y:!0,d:V(Ze,m==null?void 0:m.d,X)};let G=!(m!=null&&m.y);return m&&"v"in m&&Object.is(m.v,be)?_.d===m.d||_.d.size===m.d.size&&Array.from(_.d.keys()).every($=>m.d.has($))||(G=!0,Promise.resolve().then(()=>{He(Ze)})):(G=!0,++_.r,_.d.has(ye)&&(_.d=new Map(_.d).set(ye,_.r))),m&&!G?m:(te(Ze,ye,_),_)},Z=(Ze,ye,be,X,h)=>{const m=j(Ze,ye);if(m){if(h&&(!("p"in m)||!k(m.p,h)))return m;"p"in m&&R(m.p)}const _={e:be,r:((m==null?void 0:m.r)||0)+1,y:!0,d:V(Ze,m==null?void 0:m.d,X)};return te(Ze,ye,_),_},ne=(Ze,ye,be,X)=>{const h=j(Ze,ye);if(h&&"p"in h){if(k(h.p,be)&&!E(h.p))return h.y?h:{...h,y:!0};R(h.p)}((_,G,$)=>{let ue=b.get(G);ue||(ue=new Map,b.set(G,ue)),$.then(()=>{ue.get(_)===$&&(ue.delete(_),ue.size||b.delete(G))}),ue.set(_,$)})(Ze,ye,be);const m={p:be,r:((h==null?void 0:h.r)||0)+1,y:!0,d:V(Ze,h==null?void 0:h.d,X)};return te(Ze,ye,m),m},ce=(Ze,ye,be,X)=>{if(be instanceof Promise){const h=d(be,be.then(m=>{F(Ze,ye,m,X,h)}).catch(m=>{if(m instanceof Promise)return u(m)?m.then(()=>{Se(Ze,ye,!0)}):m;Z(Ze,ye,m,X,h)}));return ne(Ze,ye,h,X)}return F(Ze,ye,be,X)},Se=(Ze,ye,be)=>{if(!be){const h=j(Ze,ye);if(h){if(h.y&&"p"in h&&!E(h.p))return h;if(h.d.forEach((m,_)=>{if(_!==ye)if(y.has(_)){const G=j(Ze,_);G&&!G.y&&Se(Ze,_)}else Se(Ze,_)}),Array.from(h.d).every(([m,_])=>{const G=j(Ze,m);return G&&!("p"in G)&&G.r===_}))return h.y?h:{...h,y:!0}}}const X=new Set;try{const h=ye.read(m=>{X.add(m);const _=m===ye?j(Ze,m):Se(Ze,m);if(_){if("e"in _)throw _.e;if("p"in _)throw _.p;return _.v}if(W(m))return m.init;throw new Error("no atom init")});return ce(Ze,ye,h,X)}catch(h){if(h instanceof Promise){const m=u(h)&&E(h)?(_=>d(_[f].b,_[f].o))(h):d(h,h);return ne(Ze,ye,m,X)}return Z(Ze,ye,h,X)}},de=(Ze,ye)=>Se(ye,Ze),_e=(Ze,ye)=>!ye.l.size&&(!ye.t.size||ye.t.size===1&&ye.t.has(Ze)),we=(Ze,ye)=>{const be=y.get(ye);be==null||be.t.forEach(X=>{X!==ye&&(((h,m)=>{const _=j(h,m);if(_){const G={..._,y:!1};te(h,m,G)}else console.warn("[Bug] could not invalidate non existing atom",m)})(Ze,X),we(Ze,X))})},J=(Ze,ye,be)=>{let X=!0;const h=(_,G)=>{const $=Se(Ze,_);if("e"in $)throw $.e;if("p"in $){if(G!=null&&G.unstable_promise)return $.p.then(()=>{const ue=j(Ze,_);return ue&&"p"in ue&&ue.p===$.p?new Promise(ie=>setTimeout(ie)).then(()=>h(_,G)):h(_,G)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",_),$.p}if("v"in $)return $.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",_),new Error("no value found")},m=ye.write(h,(_,G)=>{let $;if(_===ye){if(!W(_))throw new Error("atom not writable");(ie=>{const pe=new Set,Pe=b.get(ie);return Pe&&(b.delete(ie),Pe.forEach((Me,$e)=>{R(Me),pe.add($e)})),pe})(_).forEach(ie=>{ie!==Ze&&ce(ie,_,G)}),j(Ze,_)!==ce(Ze,_,G)&&we(Ze,_)}else $=J(Ze,_,G);return X||He(Ze),$},be);return X=!1,m},xe=(Ze,ye,be)=>{const X=J(be,Ze,ye);return He(be),X},je=(Ze,ye,be)=>{const X={t:new Set(be&&[be]),l:new Set};if(y.set(ye,X),D.add(ye),Se(void 0,ye).d.forEach((h,m)=>{const _=y.get(m);_?_.t.add(ye):m!==ye&&je(Ze,m,ye)}),(h=>!!h.write)(ye)&&ye.onMount){const h=_=>xe(ye,_,Ze),m=ye.onMount(h);Ze=void 0,m&&(X.u=m)}return X},Ue=(Ze,ye)=>{var be;const X=(be=y.get(ye))==null?void 0:be.u;X&&X(),y.delete(ye),D.delete(ye);const h=j(Ze,ye);h?("p"in h&&R(h.p),h.d.forEach((m,_)=>{if(_!==ye){const G=y.get(_);G&&(G.t.delete(ye),_e(_,G)&&Ue(Ze,_))}})):console.warn("[Bug] could not find atom state to unmount",ye)},et=(Ze,ye,be,X)=>{const h=new Set(be.d.keys());X==null||X.forEach((m,_)=>{if(h.has(_))return void h.delete(_);const G=y.get(_);G&&(G.t.delete(ye),_e(_,G)&&Ue(Ze,_))}),h.forEach(m=>{const _=y.get(m);_?_.t.add(ye):y.has(ye)&&je(Ze,m,ye)})},He=Ze=>{if(Ze)x(Ze).forEach((ye,be)=>{if(ye!==U.get(be)){const X=y.get(be);X==null||X.l.forEach(h=>h(Ze))}});else{for(;T.size;){const ye=Array.from(T);T.clear(),ye.forEach(([be,X])=>{const h=j(void 0,be);if(h&&h.d!==(X==null?void 0:X.d)&&et(void 0,be,h,X==null?void 0:X.d),X&&!X.y&&(h==null?void 0:h.y))return;const m=y.get(be);m==null||m.l.forEach(_=>_())})}s.forEach(ye=>ye())}},Le=(Ze,ye)=>{ye&&(be=>{x(be).forEach((X,h)=>{const m=U.get(h);(!m||X.r>m.r||X.y!==m.y||X.r===m.r&&X.d!==m.d)&&(U.set(h,X),X.d!==(m==null?void 0:m.d)&&et(be,h,X,m==null?void 0:m.d))})})(ye),He(void 0)},De=(Ze,ye,be)=>{const X=((m,_)=>{let G=y.get(_);return G||(G=je(m,_)),G})(be,Ze),h=X.l;return h.add(ye),()=>{h.delete(ye),((m,_)=>{const G=y.get(_);G&&_e(_,G)&&Ue(m,_)})(be,Ze)}},Be=(Ze,ye)=>{for(const[be,X]of Ze)W(be)&&(ce(ye,be,X),we(ye,be));He(ye)};return{[Y]:de,[ee]:xe,[S]:Le,[B]:De,h:Be,n:Ze=>(s.add(Ze),()=>{s.delete(Ze)}),l:()=>D.values(),a:Ze=>U.get(Ze),m:Ze=>y.get(Ze)}},ge=C=>{const U=he(C),y=T=>new Promise((s,D)=>{const b=U.r(T);"e"in b?D(b.e):s("p"in b?b.p.then(()=>y(T)):b.v)});return{get:T=>{const s=U.r(T);if("e"in s)throw s.e;if(!("p"in s))return s.v},asyncGet:y,set:(T,s)=>U.w(T,s),sub:(T,s)=>U.s(T,s),SECRET_INTERNAL_store:U}},ve=(C,U)=>({s:U?U(C).SECRET_INTERNAL_store:he(C)}),me=new Map,le=C=>(me.has(C)||me.set(C,(0,M.createContext)(ve())),me.get(C)),N=({children:C,initialValues:U,scope:y,unstable_createStore:T,unstable_enableVersionedWrite:s})=>{const[D,b]=(0,M.useState)({});(0,M.useEffect)(()=>{const j=v.current;j.w&&(j.s.c(null,D),delete D.p,j.v=D)},[D]);const v=(0,M.useRef)();if(!v.current){const j=ve(U,T);if(s){let te=0;j.w=V=>{b(F=>{const Z=te?F:{p:F};return V(Z),Z})},j.v=D,j.r=V=>{++te,V(),--te}}v.current=j}const x=le(y);return(0,M.createElement)(x.Provider,{value:v.current},C)};function oe(C,U){return function(y,T){const s="atom"+ ++p,D={toString:()=>s};return typeof y=="function"?D.read=y:(D.init=y,D.read=b=>b(D),D.write=(b,v,x)=>v(D,typeof x=="function"?x(b(D)):x)),T&&(D.write=T),D}(C,U)}function O(C,U){const y=le(U),T=(0,M.useContext)(y),{s,v:D}=T,b=F=>{const Z=s.r(C,F);if(!Z.y)throw new Error("should not be invalidated");if("e"in Z)throw Z.e;if("p"in Z)throw Z.p;if("v"in Z)return Z.v;throw new Error("no atom value")},[[v,x,j],te]=(0,M.useReducer)((F,Z)=>{const ne=b(Z);return Object.is(F[1],ne)&&F[2]===C?F:[Z,ne,C]},D,F=>[F,b(F),C]);let V=x;return j!==C&&(te(v),V=b(v)),(0,M.useEffect)(()=>{const{v:F}=T;F&&s.c(C,F);const Z=s.s(C,te,F);return te(F),Z},[s,C,T]),(0,M.useEffect)(()=>{s.c(C,v)}),(0,M.useDebugValue)(V),V}function I(C,U){const y=le(U),{s:T,w:s}=(0,M.useContext)(y);return(0,M.useCallback)(D=>{if(!("write"in C))throw new Error("not writable atom");const b=v=>T.w(C,D,v);return s?s(b):b()},[T,s,C])}function A(C,U){return"scope"in C&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),U=C.scope),[O(C,U),I(C,U)]}},5605:function(Q,z,o){o.d(z,{x0:function(){return M}});let M=(p=21)=>crypto.getRandomValues(new Uint8Array(p)).reduce((f,u)=>f+=(u&=63)<36?u.toString(36):u<62?(u-26).toString(36).toUpperCase():u>62?"-":"_","")},5284:function(Q){Q.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(Q){Q.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(Q){Q.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},se={};function fe(Q){var z=se[Q];if(z!==void 0)return z.exports;var o=se[Q]={id:Q,exports:{}};return K[Q].call(o.exports,o,o.exports,fe),o.exports}fe.m=K,fe.n=function(Q){var z=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return fe.d(z,{a:z}),z},c=Object.getPrototypeOf?function(Q){return Object.getPrototypeOf(Q)}:function(Q){return Q.__proto__},fe.t=function(Q,z){if(1&z&&(Q=this(Q)),8&z||typeof Q=="object"&&Q&&(4&z&&Q.__esModule||16&z&&typeof Q.then=="function"))return Q;var o=Object.create(null);fe.r(o);var M={};a=a||[null,c({}),c([]),c(c)];for(var p=2&z&&Q;typeof p=="object"&&!~a.indexOf(p);p=c(p))Object.getOwnPropertyNames(p).forEach(function(f){M[f]=function(){return Q[f]}});return M.default=function(){return Q},fe.d(o,M),o},fe.d=function(Q,z){for(var o in z)fe.o(z,o)&&!fe.o(Q,o)&&Object.defineProperty(Q,o,{enumerable:!0,get:z[o]})},fe.f={},fe.e=function(Q){return Promise.all(Object.keys(fe.f).reduce(function(z,o){return fe.f[o](Q,z),z},[]))},fe.u=function(Q){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[Q]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[Q]+".js"},fe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),fe.o=function(Q,z){return Object.prototype.hasOwnProperty.call(Q,z)},g={},w="ExcalidrawLib:",fe.l=function(Q,z,o,M){if(g[Q])g[Q].push(z);else{var p,f;if(o!==void 0)for(var u=document.getElementsByTagName("script"),E=0;E<u.length;E++){var R=u[E];if(R.getAttribute("src")==Q||R.getAttribute("data-webpack")==w+o){p=R;break}}p||(f=!0,(p=document.createElement("script")).charset="utf-8",p.timeout=120,fe.nc&&p.setAttribute("nonce",fe.nc),p.setAttribute("data-webpack",w+o),p.src=Q),g[Q]=[z];var k=function(L,W){p.onerror=p.onload=null,clearTimeout(d);var Y=g[Q];if(delete g[Q],p.parentNode&&p.parentNode.removeChild(p),Y&&Y.forEach(function(ee){return ee(W)}),L)return L(W)},d=setTimeout(k.bind(null,void 0,{type:"timeout",target:p}),12e4);p.onerror=k.bind(null,p.onerror),p.onload=k.bind(null,p.onload),f&&document.head.appendChild(p)}},fe.r=function(Q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},fe.p="",function(){fe.b=document.baseURI||self.location.href;var Q={2848:0};fe.f.j=function(M,p){var f=fe.o(Q,M)?Q[M]:void 0;if(f!==0)if(f)p.push(f[2]);else{var u=new Promise(function(k,d){f=Q[M]=[k,d]});p.push(f[2]=u);var E=fe.p+fe.u(M),R=new Error;fe.l(E,function(k){if(fe.o(Q,M)&&((f=Q[M])!==0&&(Q[M]=void 0),f)){var d=k&&(k.type==="load"?"missing":k.type),L=k&&k.target&&k.target.src;R.message="Loading chunk "+M+` failed.
(`+d+": "+L+")",R.name="ChunkLoadError",R.type=d,R.request=L,f[1](R)}},"chunk-"+M,M)}};var z=function(M,p){var f,u,E=p[0],R=p[1],k=p[2],d=0;if(E.some(function(L){return Q[L]!==0})){for(f in R)fe.o(R,f)&&(fe.m[f]=R[f]);k&&k(fe)}for(M&&M(p);d<E.length;d++)u=E[d],fe.o(Q,u)&&Q[u]&&Q[u][0](),Q[u]=0},o=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];o.forEach(z.bind(null,0)),o.push=z.bind(null,o.push.bind(o))}(),fe.nc=void 0;var Re={};return function(){fe.r(Re),fe.d(Re,{Button:function(){return S.zx},DefaultSidebar:function(){return S.Or},Excalidraw:function(){return S.Eb},FONT_FAMILY:function(){return S.ut},Footer:function(){return S.$_},LiveCollaborationTrigger:function(){return S.vO},MIME_TYPES:function(){return S.LO},MainMenu:function(){return S.lb},Sidebar:function(){return S.YE},THEME:function(){return S.C6},WelcomeScreen:function(){return S.B4},bumpVersion:function(){return S.ZP},convertToExcalidrawElements:function(){return S.wc},defaultLang:function(){return S.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return S.sQ},elementsOverlappingBBox:function(){return S.Xs},exportToBlob:function(){return S.Fl},exportToCanvas:function(){return S.NL},exportToClipboard:function(){return S.i1},exportToSvg:function(){return S.$D},getCommonBounds:function(){return S.KP},getFreeDrawSvgPath:function(){return S.N7},getNonDeletedElements:function(){return S.Lm},getSceneVersion:function(){return S.Uo},isElementInsideBBox:function(){return S.Ne},isInvisiblySmallElement:function(){return S.QD},isLinearElement:function(){return S.bt},languages:function(){return S.Mj},loadFromBlob:function(){return S.cT},loadLibraryFromBlob:function(){return S.lV},loadSceneOrLibraryFromBlob:function(){return S.ZY},mergeLibraryItems:function(){return S.zh},mutateElement:function(){return S.DR},newElementWith:function(){return S.BE},normalizeLink:function(){return S.$u},parseLibraryTokensFromUrl:function(){return S.Di},restore:function(){return S.nu},restoreAppState:function(){return S.lY},restoreElements:function(){return S.ET},restoreLibraryItems:function(){return S.wJ},sceneCoordsToViewportCoords:function(){return S._i},serializeAsJSON:function(){return S.I_},serializeLibraryAsJSON:function(){return S.NI},useDevice:function(){return S.Fy},useHandleLibrary:function(){return S.xS},useI18n:function(){return S.QT},viewportCoordsToSceneCoords:function(){return S.dE}}),fe(9937).Vi.TEST!=="production"&&(fe.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.3","/dist/"));var Q=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(B){if((B=Math.trunc(B)||0)<0&&(B+=this.length),!(B<0||B>=this.length))return this[B]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},z=fe(3379),o=fe.n(z),M=fe(7795),p=fe.n(M),f=fe(569),u=fe.n(f),E=fe(3565),R=fe.n(E),k=fe(9216),d=fe.n(k),L=fe(4589),W=fe.n(L),Y=fe(4295),ee={};ee.styleTagTransform=W(),ee.setAttributes=R(),ee.insert=u().bind(null,"head"),ee.domAPI=p(),ee.insertStyleElement=d(),o()(Y.Z,ee),Y.Z&&Y.Z.locals&&Y.Z.locals;var S=fe(4864);Q()}(),Re}()})})(DE);var Qz=DE.exports;AE.exports=Qz;var fa=AE.exports;function Ma(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $l(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const LE=6048e5,eB=864e5;let tB={};function zp(){return tB}function Xd(e,t){var g,w,K,se;const n=zp(),r=(t==null?void 0:t.weekStartsOn)??((w=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((se=(K=n.locale)==null?void 0:K.options)==null?void 0:se.weekStartsOn)??0,i=Ma(e),a=i.getDay(),c=(a<r?7:0)+a-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function U0(e){return Xd(e,{weekStartsOn:1})}function NE(e){const t=Ma(e),n=t.getFullYear(),r=$l(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=U0(r),a=$l(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const c=U0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function e3(e){const t=Ma(e);return t.setHours(0,0,0,0),t}function t3(e){const t=Ma(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function nB(e,t){const n=e3(e),r=e3(t),i=+n-t3(n),a=+r-t3(r);return Math.round((i-a)/eB)}function rB(e){const t=NE(e),n=$l(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),U0(n)}function oB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function iB(e){if(!oB(e)&&typeof e!="number")return!1;const t=Ma(e);return!isNaN(Number(t))}function aB(e){const t=Ma(e),n=$l(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lB=(e,t,n)=>{let r;const i=sB[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Tg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fB={date:Tg({formats:cB,defaultWidth:"full"}),time:Tg({formats:uB,defaultWidth:"full"}),dateTime:Tg({formats:dB,defaultWidth:"full"})},hB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pB=(e,t,n,r)=>hB[e];function $u(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,g=n!=null&&n.width?String(n.width):c;i=e.formattingValues[g]||e.formattingValues[c]}else{const c=e.defaultWidth,g=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[g]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const mB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kB={ordinalNumber:wB,era:$u({values:mB,defaultWidth:"wide"}),quarter:$u({values:gB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$u({values:vB,defaultWidth:"wide"}),day:$u({values:yB,defaultWidth:"wide"}),dayPeriod:$u({values:bB,defaultWidth:"wide",formattingValues:xB,defaultFormattingWidth:"wide"})};function Ku(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const c=a[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],w=Array.isArray(g)?EB(g,fe=>fe.test(c)):SB(g,fe=>fe.test(c));let K;K=e.valueCallback?e.valueCallback(w):w,K=n.valueCallback?n.valueCallback(K):K;const se=t.slice(c.length);return{value:K,rest:se}}}function SB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function EB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _B(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=n.valueCallback?n.valueCallback(c):c;const g=t.slice(i.length);return{value:c,rest:g}}}const CB=/^(\d+)(th|st|nd|rd)?/i,TB=/\d+/i,OB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PB={any:[/^b/i,/^(a|c)/i]},jB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MB={any:[/1/i,/2/i,/3/i,/4/i]},IB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zB={ordinalNumber:_B({matchPattern:CB,parsePattern:TB,valueCallback:e=>parseInt(e,10)}),era:Ku({matchPatterns:OB,defaultMatchWidth:"wide",parsePatterns:PB,defaultParseWidth:"any"}),quarter:Ku({matchPatterns:jB,defaultMatchWidth:"wide",parsePatterns:MB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ku({matchPatterns:IB,defaultMatchWidth:"wide",parsePatterns:RB,defaultParseWidth:"any"}),day:Ku({matchPatterns:AB,defaultMatchWidth:"wide",parsePatterns:DB,defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:LB,defaultMatchWidth:"any",parsePatterns:NB,defaultParseWidth:"any"})},BB={code:"en-US",formatDistance:lB,formatLong:fB,formatRelative:pB,localize:kB,match:zB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZB(e){const t=Ma(e);return nB(t,aB(t))+1}function FB(e){const t=Ma(e),n=+U0(t)-+rB(t);return Math.round(n/LE)+1}function zE(e,t){var se,fe,Re,Q;const n=Ma(e),r=n.getFullYear(),i=zp(),a=(t==null?void 0:t.firstWeekContainsDate)??((fe=(se=t==null?void 0:t.locale)==null?void 0:se.options)==null?void 0:fe.firstWeekContainsDate)??i.firstWeekContainsDate??((Q=(Re=i.locale)==null?void 0:Re.options)==null?void 0:Q.firstWeekContainsDate)??1,c=$l(e,0);c.setFullYear(r+1,0,a),c.setHours(0,0,0,0);const g=Xd(c,t),w=$l(e,0);w.setFullYear(r,0,a),w.setHours(0,0,0,0);const K=Xd(w,t);return n.getTime()>=g.getTime()?r+1:n.getTime()>=K.getTime()?r:r-1}function UB(e,t){var g,w,K,se;const n=zp(),r=(t==null?void 0:t.firstWeekContainsDate)??((w=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??n.firstWeekContainsDate??((se=(K=n.locale)==null?void 0:K.options)==null?void 0:se.firstWeekContainsDate)??1,i=zE(e,t),a=$l(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Xd(a,t)}function VB(e,t){const n=Ma(e),r=+Xd(n,t)-+UB(n,t);return Math.round(r/LE)+1}function Jr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Is={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Jr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Jr(n+1,2)},d(e,t){return Jr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Jr(e.getHours()%12||12,t.length)},H(e,t){return Jr(e.getHours(),t.length)},m(e,t){return Jr(e.getMinutes(),t.length)},s(e,t){return Jr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Jr(i,t.length)}},kc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Is.y(e,t)},Y:function(e,t,n,r){const i=zE(e,r),a=i>0?i:1-i;if(t==="YY"){const c=a%100;return Jr(c,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Jr(a,t.length)},R:function(e,t){const n=NE(e);return Jr(n,t.length)},u:function(e,t){const n=e.getFullYear();return Jr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Is.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Jr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=VB(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Jr(i,t.length)},I:function(e,t,n){const r=FB(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Jr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Is.d(e,t)},D:function(e,t,n){const r=ZB(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Jr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Jr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Jr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Jr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=kc.noon:r===0?i=kc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=kc.evening:r>=12?i=kc.afternoon:r>=4?i=kc.morning:i=kc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Is.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Is.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Jr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Jr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Is.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Is.s(e,t)},S:function(e,t){return Is.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return o3(r);case"XXXX":case"XX":return _l(r);case"XXXXX":case"XXX":default:return _l(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return o3(r);case"xxxx":case"xx":return _l(r);case"xxxxx":case"xxx":default:return _l(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+r3(r,":");case"OOOO":default:return"GMT"+_l(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+r3(r,":");case"zzzz":default:return"GMT"+_l(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Jr(r,t.length)},T:function(e,t,n){const r=e.getTime();return Jr(r,t.length)}};function r3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Jr(a,2)}function o3(e,t){return e%60===0?(e>0?"-":"+")+Jr(Math.abs(e)/60,2):_l(e,t)}function _l(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Jr(Math.trunc(r/60),2),a=Jr(r%60,2);return n+i+t+a}const i3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},BE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},WB=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return i3(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",i3(r,t)).replace("{{time}}",BE(i,t))},HB={p:BE,P:WB},$B=/^D+$/,KB=/^Y+$/,GB=["D","DD","YY","YYYY"];function YB(e){return $B.test(e)}function XB(e){return KB.test(e)}function qB(e,t,n){const r=JB(e,t,n);if(console.warn(r),GB.includes(e))throw new RangeError(r)}function JB(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tZ=/^'([^]*?)'?$/,nZ=/''/g,rZ=/[a-zA-Z]/;function oZ(e,t,n){var se,fe,Re,Q,z,o,M,p;const r=zp(),i=(n==null?void 0:n.locale)??r.locale??BB,a=(n==null?void 0:n.firstWeekContainsDate)??((fe=(se=n==null?void 0:n.locale)==null?void 0:se.options)==null?void 0:fe.firstWeekContainsDate)??r.firstWeekContainsDate??((Q=(Re=r.locale)==null?void 0:Re.options)==null?void 0:Q.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((o=(z=n==null?void 0:n.locale)==null?void 0:z.options)==null?void 0:o.weekStartsOn)??r.weekStartsOn??((p=(M=r.locale)==null?void 0:M.options)==null?void 0:p.weekStartsOn)??0,g=Ma(e);if(!iB(g))throw new RangeError("Invalid time value");let w=t.match(eZ).map(f=>{const u=f[0];if(u==="p"||u==="P"){const E=HB[u];return E(f,i.formatLong)}return f}).join("").match(QB).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const u=f[0];if(u==="'")return{isToken:!1,value:iZ(f)};if(n3[u])return{isToken:!0,value:f};if(u.match(rZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(w=i.localize.preprocessor(g,w));const K={firstWeekContainsDate:a,weekStartsOn:c,locale:i};return w.map(f=>{if(!f.isToken)return f.value;const u=f.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XB(u)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&YB(u))&&qB(u,t,String(e));const E=n3[u[0]];return E(g,u,i.localize,K)}).join("")}function iZ(e){const t=e.match(tZ);return t?t[1].replace(nZ,"'"):e}const aZ=({messages:e,userId:t,collaborators:n})=>xn.jsx("div",{className:"flex-grow overflow-y-auto p-4 flex flex-col gap-5 border-b border-contrast-dark",children:e.map((r,i)=>{var a;return xn.jsx(sZ,{userId:t,name:((a=n==null?void 0:n.find(c=>(c==null?void 0:c.socketId)===r.socketId))==null?void 0:a.name)??"",...r},i)})}),sZ=({socketId:e,content:t,name:n,userId:r,timestamp:i})=>xn.jsx("div",{className:`flex items-start ${e===r?"justify-end":"justify-start"}`,children:xn.jsxs("div",{className:`border-2 border-contrast-dark text-primary-dark px-3 py-2 rounded-2xl text-sm ${e===r?"rounded-br-none translate-x-2 bg-primary-light text-contrast-dark":"rounded-bl-none -translate-x-2 bg-accent-dark text-white"}`,children:[xn.jsx("p",{className:`mb-0 ${e===r?"text-contrast-dark":"text-white"} font-medium`,children:t}),xn.jsxs("div",{className:"w-full flex justify-between items-center gap-5 mt-2",children:[xn.jsx("p",{className:`${e===r?"text-right text-contrast-dark":"text-right text-white"} text-xs`,children:oZ(new Date(i),"hh:mm a")}),xn.jsx("p",{className:`${e===r?"text-right text-contrast-dark":"text-right text-white"} text-xs`,children:e===r?"You":n})]})]})});function lZ(e){return bs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}const cZ=e=>{const{handleSubmitMessage:t}=e,[n,r]=zr.useState(""),i=a=>{a.preventDefault(),t(n),r("")};return xn.jsxs("form",{className:"p-3 pt-5 m-2 rounded-2xl flex gap-2",onSubmit:i,children:[xn.jsx("input",{className:"flex-grow p-2 px-4 rounded-3xl text-black bg-white",placeholder:"Say Hi...",value:n,onChange:a=>{var c;return r((c=a==null?void 0:a.target)==null?void 0:c.value)}}),xn.jsx("button",{type:"submit",className:"text-contrast bg-accent hover:text-contrast-light transition duration-300 active:outline active:outline-primary rounded-full p-2 px-3",children:xn.jsx(lZ,{className:"h-4 w-4"})})]})};function uZ(e){return bs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"},child:[]}]})(e)}const dZ=e=>{const{open:t,onDock:n,title:r,openConferenceModal:i}=e;return xn.jsxs(fa.Sidebar,{name:"chat",docked:t,onDock:n,children:[xn.jsxs(fa.Sidebar.Header,{className:"flex justify-center gap-2",children:[xn.jsx("h3",{className:"text-lg font-bold flex-grow",children:r}),xn.jsx("button",{className:"bg-accent text-contrast-dark p-2 rounded-full",onClick:i,children:xn.jsx(uZ,{})})]}),xn.jsx(aZ,{...e}),xn.jsx(cZ,{...e})]})},fZ=()=>{const{chatDrawerAtom:e,conferenceModalAtom:t}=mu(),[n,r]=Zd(e),i=Y4(t),{user:a,collaborators:c}=ff(),{socket:g}=Pp(),w=Tt.useMemo(()=>_I("chat-history"),[]),[K,se]=Tt.useState(w?JSON.parse(w):[]);return{isChatDrawerDocked:n,socket:g,user:a,messages:K,collaborators:c,setIsChatDrawerDocked:r,setMessages:se,setModalState:i}},hZ=({socket:e,setMessages:t,setIsChatDrawerDocked:n})=>{const r=Tt.useCallback(a=>{const c={message:a};e==null||e.emit("message",c)},[e]),i=Tt.useCallback(()=>{n(a=>!a)},[n]);return Tt.useEffect(()=>(e==null||e.on("message-received",a=>{t(c=>[...c,a])}),()=>{e==null||e.off("message-received")}),[e,t]),{handleSubmitMessage:r,dockSidebar:i}};function pZ(e){return bs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h3v3.767L13.277 18H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14h-7.277L9 18.233V16H4V4h16v12z"},child:[]},{tag:"path",attr:{d:"M7 7h10v2H7zm0 4h7v2H7z"},child:[]}]})(e)}const mZ=()=>xn.jsx(xn.Fragment,{children:xn.jsx(fa.Sidebar.Trigger,{name:"chat",className:"flex gap-2 items-center bg-accent text-contrast-dark rounded-lg p-3",title:"Open Chat",icon:xn.jsx(pZ,{}),style:{backgroundColor:"rgb(168, 165, 255)",color:"black"},children:"Chats"})}),gZ=()=>{const{isChatDrawerDocked:e,socket:t,user:n,messages:r,collaborators:i,setIsChatDrawerDocked:a,setMessages:c,setModalState:g}=fZ(),{handleSubmitMessage:w,dockSidebar:K}=hZ({socket:t,setIsChatDrawerDocked:a,setMessages:c});return xn.jsx(dZ,{open:e,onDock:K,messages:r,userId:n==null?void 0:n.socketId,collaborators:i,title:"Chats",openConferenceModal:()=>g(se=>({...se,open:!0})),handleSubmitMessage:w})},vZ=e=>xn.jsxs(fa.Excalidraw,{...e,children:[xn.jsx(gZ,{}),xn.jsx(fa.WelcomeScreen,{})]}),yZ=({isCollaborating:e})=>xn.jsxs("div",{className:"flex gap-2",children:[xn.jsx(fa.LiveCollaborationTrigger,{isCollaborating:e,onSelect:()=>{window.alert("You clicked on collab button")}}),xn.jsx(Q4,{className:"w-9 h-9 flex justify-center items-center"}),xn.jsx(mZ,{})]}),bZ=()=>{const{themeAtom:e}=mu(),t=sI(e),{collaborators:n}=ff(),{socket:r}=Pp(),[i,a]=Tt.useState();return{activeTheme:t,collaborators:n,excalidrawAPI:i,socket:r,setExcalidrawAPI:a}};let Og=0;const xZ=({excalidrawAPI:e,activeTheme:t,socket:n,collaborators:r})=>{const i=Tt.useCallback(w=>{const K=fa.getSceneVersion(w);K>Og&&(n==null||n.emit("board-update",w),Og=K)},[n]),a=Tt.useCallback(w=>{Og=fa.getSceneVersion(w),e==null||e.updateScene({elements:w,commitToHistory:!1})},[e]),c=Tt.useCallback(w=>{n==null||n.emit("pointer-update",w==null?void 0:w.pointer)},[n]),g=Tt.useCallback(w=>{var fe;const K=(fe=e==null?void 0:e.getAppState())==null?void 0:fe.collaborators,se=K==null?void 0:K.get(w==null?void 0:w.socketId);se&&(K==null||K.set(w==null?void 0:w.socketId,{...se,pointer:w==null?void 0:w.pointer}),e==null||e.updateScene({collaborators:K}))},[e]);return Tt.useEffect(()=>(n==null||n.on("board-change",a),n==null||n.on("pointer-update",g),()=>{n==null||n.off("board-change",a),n==null||n.off("pointer-update",g)}),[n,a,g]),Tt.useEffect(()=>{e&&e.updateScene({appState:{theme:t==="dark"?fa.THEME.DARK:fa.THEME.LIGHT}})},[t,e]),Tt.useEffect(()=>{var K;if(!(r!=null&&r.length)){e==null||e.updateScene({collaborators:new Map});return}const w=new Map((K=e==null?void 0:e.getAppState())==null?void 0:K.collaborators);w.forEach((se,fe)=>{r.some(Q=>Q.socketId===fe)||w.delete(fe)}),r.forEach(se=>{w.has(se.socketId)||w.set(se.socketId,{id:se.socketId,username:se.name,color:{background:D1[Math.floor(Math.random()*D1.length-1)],stroke:"#FFFFFF"}})}),e==null||e.updateScene({collaborators:w})},[r,e]),{handleChange:i,handleEmitPointerState:c}},wZ=()=>{const{collaborators:e,activeTheme:t,excalidrawAPI:n,socket:r,setExcalidrawAPI:i}=bZ(),{handleChange:a,handleEmitPointerState:c}=xZ({excalidrawAPI:n,activeTheme:t,socket:r,collaborators:e}),g=Tt.useCallback(()=>xn.jsx(yZ,{isCollaborating:(e==null?void 0:e.length)>0}),[e==null?void 0:e.length]);return xn.jsx("main",{className:"h-screen w-screen",children:xn.jsx(vZ,{initialData:{appState:{theme:t==="dark"?fa.THEME.DARK:fa.THEME.LIGHT,defaultSidebarDockedPreference:!1}},renderTopRightUI:g,excalidrawAPI:i,onChange:a,onPointerUpdate:c})})};function kZ(){return xn.jsxs(xn.Fragment,{children:[xn.jsx(wZ,{}),xn.jsx(Jz,{})]})}const SZ=({children:e})=>{const{user:t}=ff(),{roomId:n}=YC(),r=xy();return Tt.useEffect(()=>{t||r(`/?roomId=${n}`,{replace:!0})},[t,r,n]),t&&e};function EZ(){return xn.jsxs(u7,{children:[xn.jsx(S1,{path:"/",element:xn.jsx(bR,{})}),xn.jsx(S1,{path:"/:roomId",element:xn.jsx(SZ,{children:xn.jsx(kZ,{})})})]})}function _Z(){return xn.jsx(p7,{children:xn.jsx(aI,{children:xn.jsx(gR,{children:xn.jsx(vR,{children:xn.jsx(EZ,{})})})})})}Pg.createRoot(document.getElementById("root")).render(xn.jsx(_Z,{}));
